{"version":3,"file":"app.bundle.js","mappings":"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G;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA8G;AAC9G;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,qFAAO;;;;AAIwD;AAChF,OAAO,iEAAe,qFAAO,IAAI,qFAAO,UAAU,qFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;ACxBH;AACnE,wBAAwB,kFAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACdA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACyC;AACrB;AAC8C;AACzB;AACF;AACwB;AAC3B;AACyB;AAC7D;AACA;AACA;AACA,8BAA8B,uEAAa;AAC3C,+BAA+B;AAC/B,4CAA4C,iBAAiB,iBAAiB;AAC9E;AACA,6BAA6B,gDAAQ;AACrC,8BAA8B,kDAAS;AACvC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,wBAAwB,0EAAc;AACtC,2BAA2B,+DAAU;AACrC,2GAA2G,4CAAI;AAC/G;AACA,eAAe,+DAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACgB;;;;;;;;;;;;;;;;;;;;;;ACpHwD;AACuD;AACjF;AACoB;AACG;AACrB;AACzC,uBAAuB,gFAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,uDAAU;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,uDAAU,KAAK,kDAAK,IAAI,sDAAS,WAAW,2DAAc;AACnH;AACA;AACA,gCAAgC,uDAAU,GAAG,yBAAyB;AACtE,+BAA+B,oDAAG;AAClC,4BAA4B,wDAAQ,GAAG,+EAA+E;AACtH,mCAAmC,0EAAc;AACjD;AACA;AACA;AACA,sBAAsB,CAAC,iDAAI;AAC3B,SAAS;AACT,6BAA6B,6EAAY;AACzC;AACA;AACA,sBAAsB,iDAAI;AAC1B;AACA,0BAA0B,CAAC,iDAAI;AAC/B,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,oDAAG;AACf;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,2CAA2C,6DAAgB;AAC3D;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA8G;AAC9G;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,qFAAO;;;;AAIwD;AAChF,OAAO,iEAAe,qFAAO,IAAI,qFAAO,UAAU,qFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;ACxB7E,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC6D;AACuB;AAC7E,wBAAwB,sFAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,+DAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACpHsD;AACO;AACD;AACrD,8BAA8B,yDAAY;AACjD;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA,QAAQ,+DAAU;AAClB;AACA,kBAAkB,oEAAQ;AAC1B,wCAAwC,kDAAK;AAC7C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA,aAAa,+DAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACoB;AACqB;AACA;AAC2B;AACoB;AACnC;AACI;AACJ;AACJ;AACY;AACtB;AACvC,uCAAuC,6DAAW;AAClD;AACA,4CAA4C,iBAAiB,iBAAiB;AAC9E;AACA;AACA;AACA;AACA,8BAA8B,kDAAS;AACvC;AACA,kCAAkC,8DAAe;AACjD,qCAAqC,6EAAuB;AAC5D,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,+EAA+E;AACvG;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAAW;AACpC,6BAA6B,+DAAU;AACvC,4GAA4G,iEAAW;AACvH;AACA,eAAe,+DAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,iDAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,gGAAgB,gBAAgB,sCAAsC;AACxG;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACgB;;;;;;;;;;;;;;;;;ACvK8D;AACvE,uBAAuB,sDAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,2BAA2B,oDAAG,GAAG,4BAA4B;AAC7D,8BAA8B,oDAAG,GAAG,yDAAyD;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,oDAAG,GAAG,uCAAuC,qDAAI,GAAG,sBAAsB,GAAG;AACvG,2BAA2B,oDAAG,GAAG,wCAAwC,qDAAI,GAAG,uBAAuB,GAAG;AAC1G;AACA;AACA;AACA;AACA,gCAAgC,6DAAgB;AAChD,gCAAgC,6DAAgB;AAChD,gCAAgC,6DAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC/DA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC4D;AACV;AAC3C,sCAAsC,4DAAe;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,oEAAY;AAC3D;AACA;AACA,+BAA+B;AAC/B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;;ACzDA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AAC3C,0CAA0C,4DAAe;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;ACnCA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC2D;AACM;AAC1B;AAChC,gCAAgC,mEAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0EAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI,GAAG,yBAAyB;AACpC;;;;;;;;;;;;;;;;;ACvEgF;AACzE,oCAAoC,kFAAa;AACxD;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+C;AACU;AACT;AACO;AACE;AAC0B;AACN;AACU;AACV;AACI;AACtC;AAC3C,8CAA8C,wDAAQ;AACtD,+BAA+B;AAC/B;AACA;AACA;AACA,6BAA6B,gEAAgB;AAC7C,8BAA8B,kEAAiB;AAC/C,qCAAqC,2FAAyB,EAAE,yFAAwB;AACxF,gBAAgB,sFAA2B,EAAE,gGAAgC,EAAE,sFAA2B;AAC1G;AACA,SAAS;AACT;AACA,6BAA6B,iEAAW,GAAG,2DAA2D;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yBAAyB,gEAAiB,SAAS,cAAc;AACjE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,uDAAM;AACV;AACwB;;;;;;;;;;;;;;;;ACxGjB;AACP;AACA;AACA;AACA;AACA,CAAC,wDAAwD;;;;;;;;;;;;;;;;;ACLzD,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+E;AACxE,0CAA0C,uFAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;AC7DyD;AACG;AACtB;AAC/B,+BAA+B,iEAAY;AAClD;AACA;AACA;AACA;AACA,2DAA2D,oEAAQ;AACnE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,0BAA0B,oDAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,MAAM,IAAI,UAAU,OAAO;AACvE;AACA;;;;;;;;;;;;;;;;;;ACpCA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC8D;AACK;AAC5D,+CAA+C,4DAAe;AACrE;AACA;AACA,4CAA4C,4DAAe;AAC3D,qBAAqB,uEAAsB,SAAS,uEAAsB,QAAQ,uEAAsB;AACxG;AACA,iBAAiB,uEAAsB;AACvC,iBAAiB,uEAAsB;AACvC,iBAAiB,uEAAsB;AACvC;AACA,SAAS;AACT,2CAA2C,4DAAe;AAC1D,qBAAqB,uEAAsB,SAAS,uEAAsB,QAAQ,uEAAsB;AACxG,wCAAwC,uEAAsB;AAC9D,SAAS;AACT,yCAAyC,4DAAe;AACxD,qBAAqB,uEAAsB,SAAS,uEAAsB,QAAQ,uEAAsB;AACxG,wCAAwC,uEAAsB;AAC9D,SAAS;AACT;AACA;AACA;AACA,oCAAoC,uEAAsB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;ACjD+C;AACxC,0BAA0B,yDAAY;AAC7C,+BAA+B;AAC/B;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACNA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACsD;AACA;AACO;AACP;AACK;AACpD,kCAAkC,yDAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sCAAsC;AAC1D,sBAAsB,kDAAK;AAC3B;AACA,kEAAkE,mEAAe;AACjF,qCAAqC,+DAAU,WAAW,8DAAU;AACpE,yBAAyB,mEAAe;AACxC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,mDAAmD,+DAAU,WAAW,8DAAU;AAClF,8BAA8B,mEAAe;AAC7C;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,gBAAgB;AAChB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mEAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AChJgF;AACzE,gCAAgC,kFAAa;AACpD;;;;;;;;;;;;;;;;;ACF+C;AACxC,kCAAkC,yDAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA8G;AAC9G;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,qFAAO;;;;AAIwD;AAChF,OAAO,iEAAe,qFAAO,IAAI,qFAAO,UAAU,qFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;ACxB9B;AACxC,sCAAsC,yDAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACvBoF;AAC3B;AACjB;AACS;AACY;AACtD,wBAAwB,sFAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,kDAAK;AAC1C,iCAAiC,kEAAiB;AAClD,6BAA6B,0DAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,+DAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACzE+C;AAC/C;AACO,gCAAgC,yDAAY;AACnD;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,YAAY;AACZ;AACA;AACA;;;;;;;;;;;;;;;;;AC5DgF;AACzE,4BAA4B,kFAAa;AAChD;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACyC;AACrB;AACmB;AACE;AACoB;AACJ;AACH;AACO;AACR;AACgB;AACR;AAChB;AAC7C;AACA;AACA;AACA,8BAA8B,6DAAW;AACzC,+BAA+B;AAC/B;AACA;AACA,6BAA6B,gDAAQ;AACrC,8BAA8B,kDAAS;AACvC,kCAAkC,sEAAmB,EAAE,kEAAiB,EAAE,sEAAmB,EAAE,8EAAuB;AACtH;AACA;AACA,SAAS;AACT,qDAAqD,8DAAU,GAAG,wBAAwB;AAC1F,kDAAkD,sDAAO,GAAG,iDAAiD;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,sFAAsF,8DAAU;AAChG,wBAAwB,gEAAU;AAClC,oBAAoB,gEAAU,mCAAmC,sDAAO;AACxE,eAAe,gEAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACgB;;;;;;;;;;;;;;;;;;AC9HhB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACmD;AAC1B;AAClB,uBAAuB,sDAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sCAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,kDAAK;AACpD,aAAa;AACb;AACA;AACA;AACA;AACA,YAAY,sCAAS;AACrB;AACA;AACA,qCAAqC,WAAW,GAAG,YAAY,EAAE,OAAO,EAAE,OAAO;AACjF,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;ACjD+C;AACxC,wCAAwC,yDAAY;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3B+C;AACiB;AACzD,0CAA0C,yDAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kEAAM;AACtC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACnC+C;AACe;AACkB;AAC7B;AAC5C,qCAAqC,yDAAY;AACxD;AACA;AACA,gCAAgC,kFAAa;AAC7C,iDAAiD,2DAAS;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2DAAS;AACxB;AACA;AACA,6BAA6B,2DAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gEAAI,oBAAoB,2DAAS;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;;AC7EsD;AAC/C,4CAA4C,yDAAY;AAC/D;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA,wBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kDAAK;AACxB;AACA,yBAAyB,kDAAK;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC9DA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoF;AACtC;AACe;AACtD,8BAA8B,sFAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,+DAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4MAA4M,kDAAK;AACjN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,qDAAI;AACR;;;;;;;;;;;;;;;;;AChHsD;AAC/C,qCAAqC,yDAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,wCAAwC;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4DAA4D;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yDAAyD;AAC/G;AACA;AACA;AACA,2BAA2B,kDAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kDAAK;AAC7B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;;ACpEsD;AAC/C,sCAAsC,yDAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iBAAiB;AACvE;AACA;AACA;AACA;AACA,iCAAiC,kDAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iCAAiC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrGqD;AACF;AACiB;AACC;AACA;AACF;AACA;AACM;AACQ;AACpB;AACV;AAC0B;AACtE,yBAAyB,gEAAmB;AACnD;AACA;AACA,gBAAgB,qBAAqB,yDAAY,EAAE;AACnD;AACA,6BAA6B,4DAAc;AAC3C,8BAA8B,8DAAe;AAC7C;AACA,kCAAkC,8EAAuB,EAAE,8EAAuB,EAAE,4EAAsB;AAC1G,gBAAgB,4EAAsB,EAAE,kFAAyB,EAAE,0FAA6B;AAChG,gBAAgB,uFAA2B;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+DAAU,wCAAwC,4DAAS;AAClF,iCAAiC,+DAAU;AAC3C,eAAe,+DAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC5J+C;AACxC,sCAAsC,yDAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACpD4C;AACnB;AAClB,6BAA6B,sDAAS;AAC7C;AACA;AACA,mCAAmC,sCAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,sCAAS;AACjB;AACA;AACA,QAAQ,sCAAS;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oCAAO;AACrC;AACA;AACA,mBAAmB,4CAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,uBAAuB;AAC/E;AACA;AACA;AACA;AACA,YAAY,sCAAS;AACrB;AACA;AACA,gDAAgD,QAAQ,IAAI,QAAQ,WAAW,MAAM;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3EoF;AAC5C;AACjC,6BAA6B,sFAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,kDAAK;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;;;;;;;;;;;;;;;;;;;AC5D8D;AACD;AACV;AACN;AACtC;AACP;AACA,4BAA4B,gEAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+DAAU;AACzB;AACA;AACA,uBAAuB,uDAAU;AACjC,8BAA8B,4DAAc;AAC5C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;;;;;;;;;;;;;;;;AClF+C;AACxC,uCAAuC,yDAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC/BoF;AACJ;AACzE,4BAA4B,sFAAe;AAClD;AACA;AACA,kCAAkC,kFAAa;AAC/C,gCAAgC,kFAAa;AAC7C,mEAAmE,QAAQ;AAC3E,4CAA4C,QAAQ;AACpD,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACtDA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC6D;AACZ;AACU;AACY;AACvE,sCAAsC,6DAAgB;AACtD;AACA;AACA;AACA;AACA;AACA,yBAAyB,+DAAU;AACnC,uBAAuB,+DAAU;AACjC,eAAe,+DAAU;AACzB;AACA;AACA;AACA;AACA,8BAA8B,0DAAa;AAC3C,kCAAkC,gFAAwB;AAC1D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,wGAAwG,QAAQ,yHAAyH;AACzO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFpB,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAiH;AACjH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,wFAAO;;;;AAI2D;AACnF,OAAO,iEAAe,wFAAO,IAAI,wFAAO,UAAU,wFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;ACxBf;AACsB;AACpC;AACgC;AACzE,2BAA2B,sFAAe;AACjD;AACA;AACA;AACA,8BAA8B,kFAAa;AAC3C;AACA;AACA,6BAA6B,wDAAQ,GAAG,8DAA8D;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,gEAAI;AACtC,uBAAuB,wDAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACvDA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACyC;AAClB;AAC8B;AACN;AACF;AACG;AACa;AAC7D,oCAAoC,6DAAW;AAC/C;AACA;AACA;AACA,6BAA6B,sDAAW;AACxC,8BAA8B,wDAAY;AAC1C;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,+DAAU,qCAAqC,wDAAQ;AAC5E,eAAe,+DAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACmB;;;;;;;;;;;;;;;;;;ACpDmF;AACtD;AACzC,0BAA0B,sDAAS;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,6DAAgB;AACzC,u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CAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AACmB;AAC9D,wCAAwC,4DAAe;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,mBAAmB;AACjE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,sBAAsB,8EAAuB;AAC7C;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;ACjDA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoF;AAC7C;AAChC,4BAA4B,sFAAe;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI,GAAG,0BAA0B;AACrC;;;;;;;;;;;;;;;;;;;;;;;;AC3CA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACwB;AACuB;AACE;AACsB;AACE;AACpB;AACgB;AAC5B;AACzC,sCAAsC,6DAAW;AACjD,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,6BAA6B,wDAAY;AACzC,8BAA8B,0DAAa;AAC3C,qCAAqC,kFAAyB,EAAE,gFAAwB,EAAE,8EAAuB;AACjH,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACoB;;;;;;;;;;;;;;;;;ACrEpB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AAC3C,sCAAsC,4DAAe;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;AC1DwF;AACjF,2BAA2B,sDAAS;AAC3C;AACA;AACA;AACA,4CAA4C,4DAAe;AAC3D,qBAAqB,kDAAK,UAAU,kDAAK;AACzC;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C,SAAS;AACT,0CAA0C,4DAAe;AACzD;AACA,sBAAsB,uBAAuB;AAC7C,qBAAqB,kDAAK,UAAU,kDAAK;AACzC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,kDAAK;AACjD;AACA;AACA,sBAAsB,uDAAM;AAC5B;AACA,wBAAwB,mCAAmC;AAC3D,6BAA6B,sDAAK;AAClC,iCAAiC,oDAAG,GAAG,gCAAgC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,kDAAK;AACjD;AACA,gDAAgD,kDAAK;AACrD,kIAAkI,kDAAK;AACvI,SAAS,mDAAmD,kDAAK;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,MAAM,IAAI,UAAU,OAAO;AACpE,mDAAmD,MAAM,IAAI,UAAU,OAAO;AAC9E,+DAA+D,MAAM,IAAI,UAAU,OAAO;AAC1F;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEA,MAA8G;AAC9G,MAAoG;AACpG,MAA2G;AAC3G,MAA8H;AAC9H,MAAuH;AACvH,MAAuH;AACvH,MAAyH;AACzH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,6FAAO;;;;AAImE;AAC3F,OAAO,iEAAe,6FAAO,IAAI,6FAAO,UAAU,6FAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACoD;AACxB;AACwD;AAC7C;AACvC,+DAA+D,+CAAQ;AACvE,+BAA+B;AAC/B,4CAA4C,iBAAiB,mBAAmB;AAChF;AACA;AACA,6CAA6C,yFAAmB,GAAG;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qDAAI,GAAG,iDAAiD;AAC5E,iCAAiC,oDAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CxB,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAkH;AAClH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,yFAAO;;;;AAI4D;AACpF,OAAO,iEAAe,yFAAO,IAAI,yFAAO,UAAU,yFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACgE;AACxC;AAC6B;AACrD,sCAAsC,6DAAW;AACjD,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6BAA6B,2DAAc;AAC3C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6BAA6B,2DAAc;AAC3C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,cAAc;AAC/D;AACA;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,uDAAM;AACV;AACoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DpB,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA6H;AAC7H;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,oGAAO;;;;AAIuE;AAC/F,OAAO,iEAAe,oGAAO,IAAI,oGAAO,UAAU,oGAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACmC;AAC0C;AAClB;AAC3D,4DAA4D,6DAAgB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT,0BAA0B,6DAAgB;AAC1C,mBAAmB,oEAAY;AAC/B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uDAAuD,oEAAY;AACnE,oFAAoF,oEAAY;AAChG,qCAAqC,oEAAY,WAAW,oEAAY,YAAY,oEAAY,SAAS,oEAAY,QAAQ,oEAAY,OAAO,oEAAY,OAAO,oEAAY;AAC/K;AACA,sBAAsB,oEAAY;AAClC,sBAAsB,oEAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AAC+B;;;;;;;;;;;;;;;;AC3FxB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXrC,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAqH;AACrH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,4FAAO;;;;AAI+D;AACvF,OAAO,iEAAe,4FAAO,IAAI,4FAAO,UAAU,4FAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;ACxBO;AAC7E,+BAA+B,sFAAe;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC1CA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC+C;AACN;AACd;AAC0B;AACE;AACF;AACQ;AAC7D,4CAA4C,6DAAW;AACvD,+BAA+B;AAC/B;AACA;AACA;AACA,6BAA6B,8DAAe;AAC5C,8BAA8B,gEAAgB;AAC9C;AACA,SAAS;AACT;AACA;AACA;AACA,qBAAqB,MAAM,wDAAQ;AACnC;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,wBAAwB,wDAAQ;AAChC,eAAe,+DAAU;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACuB;;;;;;;;;;;;;;;;ACrFhB;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;;;;;;;;;;;;;;;;;;;;;ACNkB;AACmB;AACL;AACW;AACD;AAChE,8BAA8B,sDAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,wDAAQ;AAC7B;AACA;AACA,qBAAqB,wDAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qGAAqG,6CAA6C;AAClJ,+BAA+B,8CAA8C;AAC7E;AACA;AACA;AACA,mCAAmC,wDAAQ;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,uBAAuB,qDAAI,GAAG,0CAA0C;AACxE;AACA,+BAA+B,qEAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,2DAAc;AACpD,qDAAqD,4EAAc;AACnE;AACA,0EAA0E,6EAAQ;AAClF;AACA;AACA;AACA,SAAS;AACT;AACA,mCAAmC,wDAAQ;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrEA,MAA8G;AAC9G,MAAoG;AACpG,MAA2G;AAC3G,MAA8H;AAC9H,MAAuH;AACvH,MAAuH;AACvH,MAAyH;AACzH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,6FAAO;;;;AAImE;AAC3F,OAAO,iEAAe,6FAAO,IAAI,6FAAO,UAAU,6FAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC+C;AACnB;AACW;AACS;AACO;AACvD,8CAA8C,+CAAQ;AACtD;AACA,4CAA4C,iBAAiB,iBAAiB,gEAAgB,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,iBAAiB,qDAAQ,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,uDAAM;AACV;AACwB;;;;;;;;;;;;;;;;;;;AC9C4B;AACJ;AACwB;AACjE,+BAA+B,wDAAY;AAClD;AACA;AACA,0BAA0B,wDAAW,GAAG,uBAAuB,iDAAI,QAAQ;AAC3E,4BAA4B,6EAAY,GAAG,2EAA2E;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACdwB;AACoD;AAC1B;AACsB;AACjE,qCAAqC,4DAAe;AAC3D;AACA;AACA;AACA;AACA,0EAA0E,6EAAQ;AAClF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,oFAAsB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC3CA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC6D;AACd;AACxC,kCAAkC,yDAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,+DAAU;AAC7B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAkH;AAClH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,yFAAO;;;;AAI4D;AACpF,OAAO,iEAAe,yFAAO,IAAI,yFAAO,UAAU,yFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC6C;AACmC;AACzE,4BAA4B,kFAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kFAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qDAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;;;;;;;;;;;;;;;;;AC/HA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkD;AAC3C,qCAAqC,4DAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;AClEkD;AAC3C,qCAAqC,4DAAe;AAC3D;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACxB+C;AACxC,kCAAkC,yDAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+C;AACX;AACZ;AACuB;AACE;AACkB;AACA;AACA;AACN;AACA;AACR;AACrD,sCAAsC,8DAAW;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,iBAAiB,oFAAoF,wDAAY,oBAAoB,0DAAa,2BAA2B,4EAAsB,EAAE,4EAAsB,EAAE,4EAAsB,yBAAyB,sEAAmB,EAAE,sEAAmB,6CAA6C;AACzZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA,yBAAyB,4CAAI,+BAA+B,qBAAqB,yCAAyC;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,4CAAI;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3EA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC6E;AAC3B;AACI;AACJ;AACuB;AACZ;AACW;AACM;AACT;AACG;AACvB;AACJ;AACE;AACc;AACtC;AACqC;AAC5D,oCAAoC,qEAAY;AAChD;AACA;AACA;AACA;AACA;AACA,iCAAiC,6EAAY;AAC7C,mCAAmC,mFAAc;AACjD,gCAAgC,0EAAW;AAC3C;AACA,8BAA8B,yDAAY;AAC1C,6BAA6B,uDAAW;AACxC;AACA;AACA,SAAS;AACT,sDAAsD,kFAAa;AACnE;AACA;AACA;AACA,SAAS;AACT,6CAA6C,uDAAI;AACjD;AACA;AACA;AACA,SAAS;AACT,6CAA6C,uDAAI;AACjD;AACA;AACA;AACA,SAAS;AACT;AACA,2BAA2B,2DAAc;AACzC,oCAAoC,8EAAa;AACjD;AACA;AACA,SAAS,GAAG,6EAAQ,QAAQ,2DAAc;AAC1C,oCAAoC,kEAAS;AAC7C;AACA;AACA,SAAS,GAAG,6EAAQ,OAAO,2DAAc;AACzC,4EAA4E,2DAAc;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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ACzH;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,wCAAwC;AAC3F;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,wBAAwB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kDAAkD,iCAAiC;AACnF;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjGqD;AACV;AACpC;AACP;AACA,qBAAqB,8DAAW;AAChC;AACA,mCAAmC,qDAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gDAAgD;AAC5F,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kDAAkD;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kDAAkD;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oDAAoD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5GO;AACP;AACA;AACA;AACA;AACA,CAAC,kCAAkC;;;;;;;;;;;;;;;;ACLnC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,CAAC,wBAAwB;;;;;;;;;;;;;;;;;;;;ACTzB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC8D;AACI;AACM;AAC7B;AACpC,4BAA4B,0EAAc;AACjD;AACA;AACA;AACA,mCAAmC,qDAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA,mCAAmC,gEAAI;AACvC;AACA;AACA;AACA;AACA,uCAAuC,eAAe,oBAAoB,OAAO,KAAK,wBAAwB;AAC9G;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe,uBAAuB,QAAQ,KAAK,yBAAyB;AACnH;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uCAAuC,eAAe;AACtD;AACA,2BAA2B,oCAAoC;AAC/D;AACA,uCAAuC,4BAA4B;AACnE,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uCAAuC,eAAe,eAAe,UAAU,KAAK,wBAAwB;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,YAAY;AACvD;AACA,qBAAqB,yBAAyB,gFAAgB,YAAY,YAAY;AACtF,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;AC3EA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACkE;AACrC;AACtB,2BAA2B,0EAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,2CAAM;AACjD;AACA;AACA,6DAA6D,eAAe;AAC5E;AACA,6DAA6D,eAAe;AAC5E;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,eAAe,wBAAwB;AAC5F;AACA;AACA,aAAa;AACb;AACA,qDAAqD,eAAe,YAAY;AAChF,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,WAAW,iBAAiB;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF,UAAU;AAChG;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,KAAK,GAAG,iCAAiC,GAAG,WAAW;AAChF;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;ACtFyF;AACzF;AACA;AACA;AACO;AACP;AACA;AACA,gCAAgC,kDAAK;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kDAAK;AACpC;AACA;AACA;AACA;AACA,kCAAkC,2DAAc;AAChD,kCAAkC,2DAAc;AAChD,kCAAkC,2DAAc;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAe;AACxC,sBAAsB,kDAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kDAAK;AACtC;AACA;AACA;AACA,yBAAyB,2DAAc;AACvC;AACA;AACA;AACA;AACA,yBAAyB,kDAAK;AAC9B;AACA,qDAAqD,kDAAK;AAC1D,gBAAgB,kDAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA,gDAAgD,kDAAK;AACrD;AACA;AACA;;;;;;;;;;;;;;;;AC7IO;AACP;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc,KAAK,cAAc,EAAE,UAAU;AACzE;AACA,wDAAwD,uBAAuB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC3BsE;AACtE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qDAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,sDAAS;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2DAAc;AAChD;AACA,kCAAkC,2DAAc,uCAAuC,sDAAS,QAAQ,eAAe;AACvH;AACA;AACA,kCAAkC,2DAAc,sBAAsB,QAAQ,2FAA2F;AACzK,kCAAkC,2DAAc,iBAAiB,QAAQ,4FAA4F;AACrK,kCAAkC,2DAAc,oBAAoB,QAAQ,yFAAyF;AACrK,kCAAkC,2DAAc,gBAAgB,QAAQ,2FAA2F;AACnK,kCAAkC,2DAAc,qBAAqB,QAAQ,0FAA0F;AACvK,kCAAkC,2DAAc,gBAAgB,QAAQ,2FAA2F;AACnK,kCAAkC,2DAAc,mBAAmB,QAAQ,wFAAwF;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sDAAS;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sDAAS;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sDAAS,QAAQ,eAAe;AAC3D;AACA;AACA;;;;;;;;;;;;;;;;ACnIO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;;;;;;;;;;;;;;;;;;;;ACTmB;AACL;AACH;AACE;AACnC;AACP;AACA;AACA,6BAA6B,qDAAQ;AACrC,gCAAgC,qDAAQ;AACxC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,YAAY;AAC5E,oEAAoE,YAAY;AAChF,iCAAiC,0DAAiB;AAClD,4BAA4B,0DAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS,KAAK,SAAS,EAAE,KAAK;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,UAAU;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,eAAe,UAAU,UAAU;AAC7E;AACA;AACA;AACA,4DAA4D,UAAU,YAAY,UAAU;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sDAAiB;AAC7D,iBAAiB;AACjB;AACA,SAAS;AACT;AACA,+CAA+C,aAAa,YAAY,qBAAqB;AAC7F,SAAS;AACT;AACA;AACA;AACA,uEAAuE,aAAa;AACpF;AACA,gCAAgC,wDAAsB;AACtD,oCAAoC,sDAAoB;AACxD;AACA;AACA;AACA;AACA,yDAAyD,0CAA0C,GAAG,YAAY;AAClH,yCAAyC;AACzC;AACA,qCAAqC,sDAAoB;AACzD,0DAA0D,SAAS;AACnE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;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AC,0FAAO;;;;AAI6D;AACrF,OAAO,iEAAe,0FAAO,IAAI,0FAAO,UAAU,0FAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;ACxBO;AAC7E,6BAA6B,sFAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACdA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACyB;AAC0B;AACF;AACG;AACoB;AACD;AACC;AACxE,wCAAwC,gFAAgB;AACxD;AACA;AACA;AACA,yCAAyC,4EAAW;AACpD;AACA,+CAA+C,6EAAQ;AACvD;AACA,wEAAwE,sDAAS;AACjF;AACA;AACA;AACA,6BAA6B,0DAAa;AAC1C,8BAA8B,4DAAc;AAC5C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yDAAyD,4EAAW;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,4EAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACqB;;;;;;;;;;;;;;;;;;ACvD2E;AACf;AAC1E,4BAA4B,yFAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,gCAAgC,gEAAmB;AACnD,qBAAqB,sDAAK,GAAG,iDAAiD;AAC9E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,gEAAmB;AACnD,qBAAqB,sDAAK,GAAG,iDAAiD;AAC9E;AACA;AACA;AACA;AACA,SAAS;AACT,iCAAiC,gEAAmB;AACpD,qBAAqB,sDAAK,GAAG,iDAAiD;AAC9E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,YAAY,wDAAO;AACnB,oCAAoC;AACpC,8CAA8C,uDAAM;AACpD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,sCAAsC,6DAAgB;AACtD;AACA;AACA,kCAAkC;AAClC,SAAS;AACT,sCAAsC,6DAAgB;AACtD;AACA;AACA,kCAAkC;AAClC,SAAS;AACT,uCAAuC,6DAAgB;AACvD;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAmH;AACnH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,0FAAO;;;;AAI6D;AACrF,OAAO,iEAAe,0FAAO,IAAI,0FAAO,UAAU,0FAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC4E;AACnD;AAC0C;AACI;AACvE,wCAAwC,wEAAW;AACnD,+BAA+B;AAC/B;AACA;AACA;AACA,kCAAkC,4DAAe;AACjD,qBAAqB,kDAAK,UAAU,kDAAK;AACzC,sBAAsB,CAAC,kDAAK,yBAAyB,kDAAK;AAC1D,SAAS;AACT;AACA,wBAAwB,sDAAS;AACjC;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4EAAc;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,sDAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACqB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvErB,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA0H;AAC1H;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,iGAAO;;;;AAIoE;AAC5F,OAAO,iEAAe,iGAAO,IAAI,iGAAO,UAAU,iGAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;ACxBV;AACnC;AACzB,+BAA+B,wEAAW;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AChBuD;AAChD,mCAAmC,sDAAS;AACnD;AACA;AACA,QAAQ;AACR;AACA;AACA,0BAA0B,qDAAI,GAAG,qBAAqB;AACtD,0BAA0B,qDAAI,GAAG,cAAc;AAC/C,4BAA4B,qDAAI,GAAG,gBAAgB;AACnD;AACA;AACA;AACA,8BAA8B,oDAAG;AACjC;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;AClBA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+C;AACxC,mCAAmC,yDAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,cAAc;AAClE;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,mCAAmC;AACnG;AACA,qCAAqC;AACrC,qBAAqB;AACrB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iCAAiC,qCAAqC;AACtE;AACA,qBAAqB;AACrB;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3GA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAgH;AAChH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,uFAAO;;;;AAI0D;AAClF,OAAO,iEAAe,uFAAO,IAAI,uFAAO,UAAU,uFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACmD;AAC5C,0BAA0B,uDAAU;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,qDAAI;AACR;;;;;;;;;;;;;;;;;AChDA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+C;AACxC,qCAAqC,yDAAY;AACxD;AACA;AACA;AACA;AACA;AACA,0EAA0E,6BAA6B;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,oBAAoB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC+C;AACzB;AACoE;AAC/C;AACE;AACsB;AACJ;AACI;AACjB;AACqB;AACvE,kCAAkC,wEAAW;AAC7C;AACA,gBAAgB,oBAAoB;AACpC;AACA,6BAA6B,oDAAU;AACvC,8BAA8B,sDAAW;AACzC,kCAAkC,4EAAsB,EAAE,wEAAoB;AAC9E,SAAS;AACT;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,oCAAoC,uDAAI,cAAc,uIAAuI;AAC7L,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,oCAAoC,4EAAc;AAClD;AACA;AACA;AACA;AACA;AACA,kDAAkD,+FAAsB,YAAY,+FAAsB;AAC1G,SAAS;AACT;AACA;AACA;AACA;AACA,8BAA8B,+FAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,+FAAsB;AAC5D,+BAA+B,+FAAsB,YAAY,+FAAsB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;AACA;AACA,IAAI,uDAAM;AACV;AACkB;;;;;;;;;;;;;;;;;;;;;;;AChHsC;AACkB;AACf;AACqB;AACR;AACV;AACqB;AAC5E,yBAAyB,sDAAS;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mEAAQ,GAAG;AAC7C,+BAA+B,kDAAkD;AACjF,gCAAgC,+EAAY,GAAG,oDAAoD,qBAAqB;AACxH;AACA,2BAA2B,gEAAO,GAAG,0DAA0D;AAC/F,kCAAkC,6EAAQ,YAAY,6EAAQ,QAAQ,6EAAQ,OAAO,6EAAQ;AAC7F,4BAA4B,wFAAY;AACxC;AACA,sBAAsB,iDAAI;AAC1B;AACA,0BAA0B,CAAC,iDAAI,YAAY;AAC3C;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,SAAS;AACT,kCAAkC,qFAAc;AAChD;AACA,kBAAkB,iDAAI;AACtB;AACA;AACA,sBAAsB,CAAC,iDAAI;AAC3B,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAAgH;AAChH;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,uFAAO;;;;AAI0D;AAClF,OAAO,iEAAe,uFAAO,IAAI,uFAAO,UAAU,uFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AAC8D;AACxC;AACqC;AACK;AACA;AACG;AACA;AAClB;AACG;AACG;AACgC;AACpB;AACI;AACvE;AACA;AACA;AACA,kCAAkC,yEAAW;AAC7C;AACA,gBAAgB,oBAAoB;AACpC,uBAAuB,oDAAG,GAAG,oCAAoC;AACjE;AACA,qCAAqC,6FAAiB;AACtD;AACA,2BAA2B,gEAAO,GAAG,kEAAkE;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qEAAa;AAClD,qCAAqC,qEAAa;AAClD,qCAAqC,wEAAc;AACnD,qCAAqC,wEAAc;AACnD,qCAAqC,sDAAQ;AAC7C,qCAAqC,yDAAS;AAC9C,qCAAqC,4DAAU;AAC/C;AACA,yEAAyE,sDAAS;AAClF,2EAA2E,sDAAS,WAAW,gCAAgC;AAC/H;AACA;AACA;AACA;AACA,oCAAoC,6EAAc;AAClD;AACA;AACA;AACA,0CAA0C,6EAAc;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oDAAG,gBAAgB,cAAc,MAAM,cAAc,iBAAiB,MAAM,IAAI,MAAM;AACjI;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtElB,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA8G;AAC9G;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,qFAAO;;;;AAIwD;AAChF,OAAO,iEAAe,qFAAO,IAAI,qFAAO,UAAU,qFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACmE;AAC1B;AACF;AACnB;AACpB,8BAA8B,wEAAW;AACzC;AACA;AACA;AACA,6BAA6B,gDAAQ;AACrC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACgB;;;;;;;;;;;;;;;;;;ACvBhB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC0G;AAC/C;AACpD,uBAAuB,sDAAS;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6DAAgB,GAAG,8CAA8C;AACnG;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,gCAAgC,wDAAW,GAAG,qBAAqB;AACnE,kCAAkC,wDAAW,GAAG;AAChD,2BAA2B,oDAAG,GAAG,oBAAoB;AACrD,yBAAyB,oDAAG;AAC5B,gCAAgC,uDAAM,GAAG,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,6DAAgB;AAC1D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6DAAgB,GAAG,kDAAkD;AACvG,kCAAkC,6DAAgB,6DAA6D,yCAAyC;AACxJ;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,sCAAsC,uBAAuB,WAAW,YAAY;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9EA,MAAwG;AACxG,MAA8F;AAC9F,MAAqG;AACrG,MAAwH;AACxH,MAAiH;AACjH,MAAiH;AACjH,MAA2G;AAC3G;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,qFAAO;;;;AAIqD;AAC7E,OAAO,iEAAe,qFAAO,IAAI,qFAAO,UAAU,qFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACoC;AACoB;AACgB;AACK;AAC7E;AACA;AACA;AACA,kDAAkD,4CAAI;AACtD;AACA,uBAAuB,6EAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kFAAa,QAAQ,0DAAa;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,sCAAsC,kFAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kFAAa,QAAQ,0DAAa;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AAC0B;;;;;;;;;;;;;;;;;;;;ACjJ1B,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoC;AACK;AACS;AACsB;AACxE;AACA;AACA;AACA,kDAAkD,4CAAI;AACtD;AACA,uBAAuB,6EAAQ;AAC/B;AACA;AACA;AACA;AACA,sBAAsB,uDAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AAC0B;;;;;;;;;;;;;;;;;;;;;;AC7B1B,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoC;AACK;AAC+B;AACtB;AACqB;AACM;AAC7E,0CAA0C,4CAAI;AAC9C;AACA,uBAAuB,6EAAQ;AAC/B;AACA;AACA,sBAAsB,4EAAW;AACjC,sBAAsB,4EAAW,4BAA4B,4EAAW;AACxE,2BAA2B,uDAAI;AAC/B,sBAAsB,uDAAI,4BAA4B,uDAAI;AAC1D,2BAA2B,kFAAa;AACxC,sBAAsB,kFAAa;AACnC;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACsB;;;;;;;;;;;;;;;;;;;;AC5BtB,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoC;AACgB;AACsB;AACF;AACxE;AACA;AACA;AACA,gDAAgD,4CAAI;AACpD;AACA,uBAAuB,6EAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,+EAAM;AAC1C;AACA;AACA;AACA,oCAAoC,+EAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sDAAS;AACpC,wCAAwC,+EAAM;AAC9C;AACA;AACA,wCAAwC,+EAAM;AAC9C;AACA;AACA;AACA,oCAAoC,+EAAM;AAC1C;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACyB;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDzB,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoC;AACyB;AACX;AACsB;AACD;AACU;AAC/B;AACY;AACe;AACN;AACvE;AACA;AACA;AACA,gDAAgD,4CAAI;AACpD;AACA,uBAAuB,6EAAQ;AAC/B;AACA,iCAAiC,oDAAG,GAAG,gCAAgC,YAAY,yBAAyB;AAC5G;AACA;AACA,sCAAsC,4EAAW;AACjD,sCAAsC,uDAAI;AAC1C,sCAAsC,uDAAI;AAC1C,uDAAuD,sFAAW;AAClE;AACA;AACA;AACA;AACA,qDAAqD,uDAAI;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,4EAAW;AACjD,sCAAsC,uDAAI;AAC1C,sCAAsC,kFAAa;AACnD;AACA,qDAAqD,uDAAI;AACzD;AACA;AACA;AACA;AACA;AACA,6CAA6C,4EAAc;AAC3D;AACA;AACA;AACA,6CAA6C,4EAAc;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4EAAc,yCAAyC,kFAAa;AACjH;AACA;AACA;AACA;AACA,6CAA6C,4EAAc,yCAAyC,4EAAW;AAC/G;AACA,6CAA6C,4EAAW;AACxD,uCAAuC,4EAAW;AAClD;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4EAAc;AAC3D,0BAA0B,uDAAI;AAC9B,4DAA4D,uDAAI;AAChE;AACA,6CAA6C,4EAAc,yCAAyC,4EAAW;AAC/G,wDAAwD,4EAAW;AACnE;AACA;AACA;AACA,0CAA0C,mEAAQ,QAAQ,0DAAa;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,mEAAQ,QAAQ,0DAAa;AACvE,kCAAkC,uDAAI,SAAS,0DAAa;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uDAAI;AAChC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACyB;;;;;;;;;;;;;;;;;;;;;;ACjJzB,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoC;AACK;AACS;AACA;AACsB;AACD;AACvE;AACA;AACA;AACA,wCAAwC,4CAAI;AAC5C;AACA,uBAAuB,6EAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uDAAI;AAC1C;AACA,+DAA+D,uDAAI,cAAc,uDAAI;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,4EAAc;AACjD;AACA;AACA,2CAA2C,6EAAQ;AACnD;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACqB;;;;;;;;;;;;;;;;;;;;;;;AC9Ce;AACc;AACwB;AAClC;AACgC;AACtB;AACqB;AAChE,uBAAuB,4CAAI;AAClC;AACA,uBAAuB,6EAAQ;AAC/B;AACA;AACA,wCAAwC,4EAAc;AACtD,0CAA0C,uDAAI;AAC9C;AACA;AACA;AACA;AACA;AACA,6CAA6C,4EAAc;AAC3D,8CAA8C,+EAAY;AAC1D;AACA;AACA;AACA,0CAA0C,uDAAI,cAAc,kDAAK;AACjE;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA,MAA2G;AAC3G,MAAiG;AACjG,MAAwG;AACxG,MAA2H;AAC3H,MAAoH;AACpH,MAAoH;AACpH,MAA8G;AAC9G;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,qFAAO;;;;AAIwD;AAChF,OAAO,iEAAe,qFAAO,IAAI,qFAAO,UAAU,qFAAO,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;ACxB7E,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACoB;AACkB;AACC;AACvC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+CAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;;;;;;;;;;;;;;;;;;ACzFA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACsD;AAClC;AACpB;AACA;AACA;AACA,sCAAsC,wDAAW;AACjD;AACA,gBAAgB,8DAA8D;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAM;AACV;AACoB;;;;;;;;;;;;;;;;;ACrCpB,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC1BO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACbO;AACP,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AChC8I;AAC1D;;;;;;;;;;;;;;;;;ACDjD;AACnC;AACA;AACA;AACA;AACA;AACA;AACO,8BAA8B,2CAAM;AAC3C;AACA;AACA;AACA;AACA,wDAAwD,IAAI;AAC5D;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;;;AClByE;AACtC;AACiC;AACpE;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,cAAc,eAAe;AAC7B,cAAc,0BAA0B;AACxC,cAAc,iBAAiB;AAC/B,cAAc,0DAA0D;AACxE;AACA;AACA;AACO,4BAA4B,2CAAM;AACzC;AACA;AACA;AACA,sCAAsC,yDAAY,wBAAwB,gEAAmB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA,6CAA6C,6CAA6C,sBAAsB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,sDAAM;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,8DAA8D,QAAQ,mGAAmG;AACzK;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,yDAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,kCAAkC,2DAAW;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA,oCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjLA,kBAAkB,SAAI,IAAI,SAAI;AAC9B;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACmE;AAChB;AACnD;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,cAAc,iBAAiB;AAC/B,cAAc,iBAAiB;AAC/B,cAAc,iBAAiB;AAC/B,cAAc,2BAA2B;AACzC;AACA;AACO,qBAAqB,uDAAU;AACtC;AACA;AACA,eAAe,UAAU;AACzB,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,6DAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,6BAA6B;AAC5C;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,4BAA4B,oDAAI;AAChC;AACA,4BAA4B,sDAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA,4BAA4B,oDAAI;AAChC;AACA,iCAAiC,sDAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,4BAA4B,oDAAI,oBAAoB,sDAAM;AAC1D,oCAAoC,sDAAM;AAC1C;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA,6CAA6C,mCAAmC,2DAA2D;AAC3I;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA,gCAAgC,oDAAI;AACpC;AACA,qCAAqC,sDAAM;AAC3C,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,6BAA6B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,qDAAI;AACR;;;;;;;;;;;;;;;;;;AC/KA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AAC2E;AACb;AAC9D;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA,wBAAwB,oDAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,iBAAiB,QAAQ;AACzB;AACA;AACA,0BAA0B,sDAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,oFAAoF,YAAY,aAAa,gEAAU,gMAAgM,8DAAQ,MAAM;AACrU;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,sEAAsE;AACrF;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,yDAAS;AACnD,0CAA0C,2DAAW,yBAAyB,oDAAI;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,gDAAgD;AAC/D,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,yDAAS;AACnD,0CAA0C,2DAAW,yBAAyB,oDAAI;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;;;;;;;;;ACjKoB;;AAEpB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gDAAS;AACpB,WAAW,2CAAI;AACf;AACA,WAAW,4CAAK;AAChB;AACA;AACA;AACA;AACA;AACA,WAAW,6CAAM;AACjB,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,WAAW,2CAAI;AACf;AACA,WAAW,6CAAM;AACjB,eAAe,eAAe;AAC9B;AACA;AACA,WAAW,0CAAG;AACd;AACA;AACA;AACA;AACA;AACA,WAAW,0CAAG;AACd;AACA;AACA;AACA;AACA;AACA,WAAW,4CAAK;AAChB,eAAe,eAAe;AAC9B;AACA;AACA,WAAW,6CAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;;AAEA;AACA;AACA,WAAW,UAAU;AACrB,aAAa;AACb;AACO;;;;;;;;;;;;;;;;;;;;ACpFsC;AACJ;;AAEzC;AACA,aAAa,mBAAmB;AAChC;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,kDAAkD,GAAG;AACjE;AACA;AACA,aAAa;AACb;AACA,iEAAe;AACf;AACA;AACA;AACA,MAAM,4DAAW,CAAC,wDAAS;AAC3B;AACA,oBAAoB,4DAAW,CAAC,wDAAS,eAAe,EAAC;AACzD;;AAEgC;;;;;;;;;;;;;;;;;ACnBZ;;AAEpB;;AAEA,OAAO,UAAU;AACjB,OAAO,MAAM;;AAEb;AACA;AACA;AACA,YAAY,gDAAS;;AAErB;AACA;AACA;AACA,cAAc,4CAAK;AACnB;AACA,cAAc,6CAAM;AACpB;AACA,cAAc,2CAAI;AAClB;AACA,cAAc,6CAAM;AACpB;AACA,cAAc,0CAAG;AACjB;AACA,cAAc,0CAAG;AACjB;AACA,cAAc,4CAAK;AACnB;;AAEA;AACA,YAAY,4CAAK;;AAEjB;AACA,YAAY,4CAAK;;AAEjB,UAAU,6CAAM;AAChB;;AAEA;AACA,WAAW,gDAAS;AACpB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gDAAS;AACpB;AACA;AACA;AACA,mBAAmB,6CAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2CAAI;AAC3B;AACA;AACA;AACA,WAAW,4CAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,6CAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,2CAAI;AACf;AACA,WAAW,6CAAM;AACjB,eAAe,eAAe;AAC9B,0BAA0B,cAAc;AACxC;AACA,WAAW,0CAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0CAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAAW,SAAS;AACpB,sBAAsB,oBAAoB;AAC1C;;AAEA;AACA;;AAEA;AACA,aAAa,mBAAmB;AAChC;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,gCAAgC,GAAG;AAC/C;AACA;AACA,aAAa;AACb;AACA,CAAQ,2BAA2B,aAAa,IAAI;AACpD;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC1KO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP;;;;;;;;;;;;;;;;;;;;ACVA;AACyH;AACjB;AACxG,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,OAAO,iLAAiL,UAAU,YAAY,WAAW,OAAO,KAAK,YAAY,WAAW,UAAU,kDAAkD,uBAAuB,2BAA2B,qBAAqB,KAAK,qCAAqC,yBAAyB,eAAe,gBAAgB,KA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,+BAA+B,mBAAmB,KAAK,6BAA6B,KAAK,0CAA0C,sBAAsB,4BAA4B,oCAAoC,oCAAoC,uBAAuB,qBAAqB,KAAK,2BAA2B,kBAAkB,mBAAmB,sCAAsC,qBAAqB,oBAAoB,KAAK,mBAAmB;AAC9zB;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;;;;;;AChCvC;AACmH;AACjB;AACY;AACM;AACL;AACA;AAC/G,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F,iIAAiI;AACjI,0BAA0B,sFAAiC;AAC3D,0BAA0B,4FAAiC;AAC3D,0BAA0B,uFAAiC;AAC3D,0BAA0B,uFAAiC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,sGAAsG,UAAU,WAAW,YAAY,aAAa,cAAc,cAAc,aAAa,aAAa,aAAa,OAAO,KAAK,UAAU,OAAO,KAAK,UAAU,UAAU,YAAY,OAAO,KAAK,YAAY,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;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sDAAsD,qBAAqB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpFa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzBa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfA;;AAEO;AACA;;;;;;;;;;;;;;;;ACHQ;AACf;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACFiC;AACA;AACI;AACJ;AACI;AACR;AACmB;AACH;;AAE9B;AACf,cAAc,oDAAQ;AACtB,eAAe,kDAAM;AACrB,kBAAkB,6DAAO;;AAEzB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB,kDAAM,aAAa,oDAAI;AAC5C,WAAW,qDAAK;;AAEhB;AACA;AACA;AACA,8BAA8B,wDAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kDAAM;AAC1C,uBAAuB,wDAAa;AACpC;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,QAAQ;AACR,oBAAoB,OAAO;AAC3B;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA,MAAM;AACN,kBAAkB,OAAO;AACzB;AACA,eAAe,sDAAM;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,qEAAqE,wDAAQ;AAC7E;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA,yEAAyE,wDAAQ,oBAAoB,4CAAK;AAC1G;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;AC5HuC;AACF;AACJ;;AAEjC,wBAAwB,wDAAQ,CAAC,qDAAS;AACnC;AACA;AACA,qBAAqB,wDAAQ,CAAC,kDAAM;AAC3C,iEAAe,WAAW,EAAC;;;;;;;;;;;;;;;;;;ACRY;AACE;;AAE1B;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qDAAS;AACxB,yBAAyB,yDAAS;AAClC;AACA,IAAI;AACJ,qBAAqB,qDAAS,UAAU,sDAAU;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,UAAU;AACV;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvDO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;;AAEA;;AAEP;AACA;AACA;AACA;AACA,SAAS,6BAA6B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,MAAM;AACnC;AACA;AACA;;AAEA;AACA,6BAA6B,OAAO;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO,+BAA+B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,4CAA4C;AAC5C;AACA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC,4CAA4C;AAC5C;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AClHe;AACf;AACA;;;;;;;;;;;;;;;;ACFe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChCe;AACf;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACLe;AACf;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACNqC;;AAEtB;AACf,YAAY,wDAAQ;AACpB;AACA;;;;;;;;;;;;;;;;;ACLoC;;AAErB;AACf,eAAe,gDAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACVoC;;AAErB;AACf,uDAAuD,gDAAS;AAChE;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACde;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACTe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5Be;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACVA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACpEuC;;AAExB,oCAAoC,qDAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yDAAS;AACrB,YAAY,yDAAS;AACrB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC5BuC;AACF;;AAEtB,yCAAyC,qDAAS;AACjE,mCAAmC,wDAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AClBoC;AACC;;AAEtB;AACf,sBAAsB,oDAAQ,EAAE,oDAAQ;AACxC;;AAEO;AACP,kCAAkC,oDAAQ;AAC1C;;AAEA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP,sBAAsB,oDAAQ;AAC9B;;AAEO;AACP;AACA;;AAEO;AACP,sBAAsB,oDAAQ;AAC9B;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,gDAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;;;;AChEuC;AACE;AACZ;;AAEd;AACf;AACA,MAAM,oDAAI,CAAC,iDAAM,gDAAgD,yDAAS,YAAY,yDAAS;AAC/F,MAAM,oDAAI,CAAC,qDAAK,0DAA0D,yDAAS;AACnF;AACA;;;;;;;;;;;;;;;;ACTe;AACf;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFqF;AACjC;AACF;AACD;AACL;AACA;AACE;AACQ;AACF;AACN;AACC;AAC6D;AACxD;AACU,CAAC,eAAe;AACO;AACtB;AACI;AAC3B;AACU;AACR;AACiB;AACf;AACJ;AACU;AACR;AACA;AACE;AACI;AACiC;AACzB;AACZ;AACF;AACE;AACU;AACJ;AACU;AAClB,CAAC,eAAe;AACA;AAClB;AAC6B;AACjB;AACF;AACV;AACI;AACF;AACI;AACN;AACM;AACE;AACN;AACY;AACJ;AACQ;AACZ;AACI;AACN;AACG;;;;;;;;;;;;;;;;;ACxDX;;AAErB;AACf,eAAe,gDAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,gDAAS,gBAAgB,gDAAS;AAC7D;;;;;;;;;;;;;;;;;AClBuC;;AAExB,iCAAiC,qDAAS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yDAAS;AACrB,YAAY,yDAAS;AACrB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC5BuC;AACF;;AAEtB,sCAAsC,qDAAS;AAC9D,mCAAmC,wDAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AClBe;AACf;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACJe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnBe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrBe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AClBsD;;AAEvC;AACf,SAAS,wDAAQ;AACjB;;AAEO;AACP,SAAS,2DAAa;AACtB;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;;;;;;;;;;;;;;;;ACRe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnBe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACrBoC;;AAErB;AACf,qBAAqB,gDAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC3ByC;;AAE1B;AACf;AACA;AACA,iBAAiB,wDAAa;AAC9B;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACjBe;AACf;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACnBe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACde;AACf;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACF2B;AACU;AACV;AACU;AACM;AACC;AACD;AACN;;AAEtB;AACf,6BAA6B,mDAAO;AACpC;AACA,8BAA8B,mDAAG;AACjC,qBAAqB,mDAAG;AACxB;AACA;AACA;AACA,eAAe,mDAAG,CAAC,2DAAW;AAC9B,eAAe,mDAAG;AAClB;AACA;;AAEO,6CAA6C,kDAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,4CAA4C,kDAAM;AACzD;AACA,gDAAgD,sDAAM;AACtD,qBAAqB,wDAAQ;AAC7B,qBAAqB,wDAAQ;AAC7B;AACA;AACA;AACA;AACA,EAAE,2DAAW,2BAA2B,0DAAgB;AACxD,MAAM,wDAAQ;AACd;AACA;;;;;;;;;;;;;;;;;AC9C2D;;AAE3D;AACA;AACe;AACf;AACA;AACA;;AAEA;;AAEA,oCAAoC,sDAAgB,GAAG,wDAAc;;AAErE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpDe;AACf;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;ACZuC;AACoB;;AAE5C,gCAAgC,qDAAS;AACxD;AACA;AACA;AACA,0DAA0D,qDAAS;AACnE;AACA;AACA;AACA;AACA,0BAA0B,qDAAS,aAAa,0DAAgB,eAAe,wDAAc;AAC7F;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;ACvBe;AACf;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACbe;AACf;AACA;AACA;;;;;;;;;;;;;;;;;ACHyC;;AAE1B;AACf,gBAAgB,0DAAU;AAC1B;AACA;;;;;;;;;;;;;;;;;ACLA,iEAAe,qBAAqB,EAAC;;AAE9B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACZe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACTuC;AACJ;;AAEpB;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA,WAAW,uDAAO;AAClB;AACA;AACA;;AAEO,kCAAkC,qDAAS;AAClD,kBAAkB,qDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;ACtCqC;;AAEtB;AACf,SAAS,wDAAQ;AACjB;;;;;;;;;;;;;;;;ACJe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjBe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AClBgC;AACM;;AAEvB;AACf,YAAY,qDAAK,cAAc,wDAAQ,iBAAiB,wDAAQ;AAChE;AACA;;;;;;;;;;;;;;;;;;ACNgC;AACQ;;AAEzB;AACf,YAAY,qDAAK,cAAc,yDAAS;AACxC;AACA;;;;;;;;;;;;;;;;;ACNgC;;AAEjB;AACf,wCAAwC,qDAAK;AAC7C;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC,yBAAyB,OAAO;AAChC,IAAI;AACJ,iCAAiC,OAAO;AACxC,yBAAyB,OAAO;AAChC;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACtD2B;;AAEZ;AACf;AACA,uBAAuB,mDAAG,4CAA4C,QAAQ;AAC9E,2DAA2D,QAAQ;AACnE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;ACdoC;;AAErB;AACf,kBAAkB,gDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACVe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACxBuC;;AAExB;AACf,SAAS,yDAAS;AAClB;;;;;;;;;;;;;;;;;;;;ACJqC;;AAErC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yGAAyG,oDAAQ;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C,4FAA4F;;AAEvI;AACA;AACA,2CAA2C,gCAAgC,yEAAyE;AACpJ;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,yCAAyC;;AAElF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,yBAAyB;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;AC7KA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;;;;ACGmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLkB;AACW;AACL;AACE;AACL;AACH;AACD;AACgB;;AAEpD,iBAAiB,aAAa;AAC9B,kBAAkB,cAAc;AAChC,mBAAmB,eAAe;AAClC,mBAAmB;;AAEnB,OAAO,eAAe;;AAEtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,iEAAiE;AAC3F,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,0BAA0B,iEAAiE;AAC3F,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,wBAAwB,yCAAyC;AACjE,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,uDAAQ;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,wDAAM;AAChB;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;;AAEvD;;AAEA;AACA,qCAAqC,oCAAoC;AACzE,sCAAsC,yBAAyB;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+CAA+C,sDAAsD;AACrG,6DAA6D,sCAAsC;AACnG;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,0DAAW;;AAE/B;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW;AACX,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAY,wDAAS;AACrB;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,wDAAM;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,iHAAiH;AACpJ,mCAAmC,iGAAiG;AACpI,uCAAuC,wGAAwG;AAC/I,wCAAwC,wGAAwG;AAChJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,cAAc,wDAAM;AACpB;AACA;AACA;AACA,YAAY,iDAAU;AACtB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,wDAAO;AACrB;AACA;AACA;AACA,SAAS;;AAET,IAAI,wDAAS;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,wDAAM;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN,iBAAiB,wDAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA,MAAM,oDAAW;AACjB;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD,wDAAO;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uDAAO;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wDAAwD;AACxD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,0DAAa;AACnB;AACA;AACA;AACA,8CAA8C,qBAAqB,QAAQ;AAC3E,QAAQ;AACR,QAAQ,gDAAU;AAClB;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA,yCAAyC;AACzC,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uDAAO;AACb;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,oCAAoC;AACpC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,sCAAsC;AACtC,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uDAAO;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA,yEAAyE,wDAAQ;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AC5mBA,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;ACAb;AACf;AACA;AACA;AACA;AA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G,IAAI;AACnE,0CAA0C,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;AACnE,wCAAwC,IAAI,GAAG,IAAI,GAAG,IAAI;AAC1D,0CAA0C,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;;AAEnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAM;AACN;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,sDAAM,WAAW,kDAAM;AACvB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa,YAAY,EAAE,YAAY,EAAE,YAAY;AACrD;;AAEA;AACA,aAAa,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,oDAAoD;AAC3G;;AAEA;AACA;AACA,YAAY,2BAA2B,EAAE,eAAe,IAAI,eAAe,IAAI,eAAe,EAAE,qBAAqB,EAAE,GAAG;AAC1H;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sDAAM,WAAW,kDAAM;AACvB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,cAAc,2BAA2B,EAAE,eAAe,IAAI,qBAAqB,KAAK,qBAAqB,GAAG,qBAAqB,EAAE,GAAG;AAC1I;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC3Y2C;AACyB;AACzB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,0CAAG,OAAO,qDAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6CAAO;AACzC;AACA;;AAEe;AACf;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,sDAAM,uBAAuB,kDAAM,CAAC,4CAAK;AACzC;AACA,oBAAoB,+CAAQ,YAAY,+CAAQ;AAChD;AACA,GAAG;AACH;AACA,oBAAoB,6CAAM,YAAY,6CAAM;AAC5C;AACA,GAAG;AACH;AACA,iDAAiD,6CAAO;AACxD;AACA;AACA;AACA;AACA,eAAe,0CAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;AC5DD,6BAAe,oCAAS;AACxB;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACTsD;AACE;AACJ;;;;;;;;;;;;;;;;;;;;;;;;ACFT;AACO;AACP;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,0CAAG,OAAO,qDAAU;AACzC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEe;AACf;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA,sDAAM,WAAW,kDAAM,CAAC,4CAAK;AAC7B;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,0CAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,6CAAO;AACxC;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,6CAAO;AACvB;AACA;;AAEA,sDAAM,WAAW,kDAAM,CAAC,4CAAK;AAC7B;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;;;;;AC1HM;AACA;;;;;;;;;;;;;;;;ACDP,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACJA;;AAEO;;;;;;;;;;;;;;;;ACFP,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;ACFA,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;ACA5B,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C,OAAO;AACrD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC1B+D;AAC9B;AACM;AACV;AACQ;AACA;AACR;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA,kBAAkB,gDAAgB;AAClC;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,oDAAM;AACtB,WAAW,oDAAK,IAAI,oDAAI;AACxB;AACA;AACA,MAAM;AACN,2BAA2B,qDAAS;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD,MAAM;;AAE1D;AACA;;AAEA;AACA;AACA,UAAU,oDAAI;AACd;AACA,KAAK;;AAEL;AACA,oDAAoD,OAAO;AAC3D,YAAY,wDAAQ;AACpB;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,+DAA+D;AAC/D;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,+DAA+D;AAC/D;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR,iEAAiE;AACjE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4FAA4F,wDAAQ,CAAC,4CAAK,YAAY,wDAAQ;AAC9H;;AAEA;AACA,2DAA2D,gDAAI;AAC/D;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AChO2C;AACV;AACI;AACA;;AAErC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wDAAQ;;AAE1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,+CAAK,EAAE,kCAAkC;AAC7C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,oDAAK,mBAAmB,oDAAG;AACtC;;AAEA,WAAW,wDAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,wDAAQ;AAC3B;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA,2CAA2C,WAAW,oDAAG,iBAAiB;AAC1E;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAiE,wDAAQ;AACzE;;AAEA;AACA,iEAAiE,wDAAQ;AACzE;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,4FAA4F,wDAAQ,CAAC,4CAAK,YAAY,wDAAQ;AAC9H;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;ACpJkD;AACK;;;;;;;;;;;;;;;;ACDvD,6BAAe,sCAAW;;;;;;;;;;;;;;;;;;;;ACAU;AACP;AACM;AACA;;AAEnC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS,mBAAmB;AAC5B,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kDAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,wBAAwB;AAChE,iGAAiG;AACjG;AACA;AACA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA,6BAA6B,kDAAU;AACvC,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sDAAsD;AACtD;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mDAAO;AACtB;AACA;AACA,WAAW,4DAA4D;;AAEvE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yDAAyD;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD,WAAW,8BAA8B;AACzC,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD,WAAW,QAAQ;AACnB,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD,WAAW,cAAc;AACzB;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mDAAO;AAC/B;AACA;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,8CAA8C,OAAO;AACrD;AACA;AACA;AACA;AACA,wBAAwB,mDAAO;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACvPkD;AACF;;;;;;;;;;;;;;;;ACDhD;;AAEe;AACf;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA,kBAAkB,yBAAyB,GAAG,yBAAyB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc,GAAG,cAAc;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,GAAG,GAAG,GAAG;AAClD;AACA;AACA,kBAAkB,EAAE,GAAG,EAAE,SAAS,MAAM,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,cAAc,GAAG,cAAc;AAC/F;AACA;AACA,kBAAkB,yBAAyB,GAAG,yBAAyB,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG;AACzF;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpCe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AChB6B;AACM;;AAEpB;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW,wBAAwB,WAAW;AACzD,gBAAgB;;AAEhB;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD,WAAW,WAAW,yBAAyB,0BAA0B;AACzE;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD;AACA;AACA;AACA;AACA,mDAAmD,gDAAI;AACvD;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW,SAAS;AAC/B,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA,wBAAwB,mDAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,SAAS;AAC9D,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B,gCAAgC;AACrE;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,OAAO;AACxF;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,UAAU;AAC5C,gEAAgE,OAAO;AACvE,kCAAkC,UAAU;AAC5C,gEAAgE,OAAO;AACvE,kCAAkC,UAAU;AAC5C,gEAAgE,OAAO;AACvE,kCAAkC,UAAU;AAC5C,gEAAgE,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,MAAM,mBAAmB;AACzB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,MAAM,mBAAmB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC3UA,YAAY;;AAEZ;AACA,8CAA8C,KAAK,OAAO;AAC1D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,iBAAiB;AACjB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A;AACA;AACA,uCAAuC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,cAAc,EAAE,IAAI,EAAE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;ACnB2B;;AAE3B,UAAU,mDAAG;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACVP,YAAY;AACZ,YAAY;AACZ;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA,GAAG,gBAAgB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnK8C;AACyE;AACA;AACrE;;;;;;;;;;;;;;;;;;;;;;;ACHvB;;AAE3B,UAAU,mDAAG;;AAEN;AACA;AACA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6CAA6C,wDAAQ;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,gBAAgB;AACpC,aAAa,uDAAQ;AACrB,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,sDAAM;AACnC,6BAA6B,sDAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA;;;;;;;;;;;;;;;;ACnGA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJmD;AACE;AACN;AACQ;AACJ;AACQ;AAClB;AACA;;;;;;;;;;;;;;;;ACPzC,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA,sBAAsB;;AAEtB,6BAAe,sCAAW;AAC1B;AACA;AACA;;;;;;;;;;;;;;;;;;ACRqC;AACJ;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA,iBAAiB,wDAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,sCAAsC,gBAAgB;AACtD,wDAAwD,OAAO;AAC/D;AACA,2DAA2D,sDAAM;AACjE,2DAA2D,sDAAM;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC,OAAO;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,sCAAsC,OAAO;AAC7C;AACA;AACA;;AAEA;AACA;;AAEA,sCAAsC,OAAO;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wEAAwE,wDAAQ;AAChF;;AAEA;AACA,wEAAwE,wDAAQ;AAChF;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;ACpHqC;AACA;AACJ;AACI;;AAErC,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;AACA,iBAAiB,wDAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,uDAAQ,QAAQ,6CAAC,EAAE,6CAAC;AACxD,2BAA2B,OAAO;AAClC;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;AACA,yBAAyB,sDAAM;AAC/B,yBAAyB,sDAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C;AAC1C;AACA,uBAAuB,sDAAM;AAC7B,uBAAuB,sDAAM;AAC7B;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,wEAAwE,wDAAQ;AAChF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACnHqC;;AAErC,6BAAe,oCAAS;AACxB;AACA,iBAAiB,wDAAQ;AACzB;AACA;;AAEA,6CAA6C,wDAAQ;AACrD;AACA;;AAEA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wEAAwE,wDAAQ;AAChF;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;ACxDqC;AACN;AACJ;;AAEpB;AACP;AACA;;AAEO;AACP;AACA;;AAEA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+CAAK;AACrB,cAAc,uDAAQ;AACtB,eAAe,mDAAG;;AAElB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,oBAAoB,gBAAgB;AACpC;;AAEA;AACA;AACA,OAAO;;AAEP,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC3JqC;;AAErC,6BAAe,oCAAS;AACxB,iBAAiB,wDAAQ;AACzB;AACA;AACA;;AAEA,mCAAmC,wDAAQ;;AAE3C;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wEAAwE,wDAAQ;AAChF;;AAEA;AACA,iEAAiE,wDAAQ;AACzE;;AAEA;AACA;;;;;;;;;;;;;;;;;ACxCqC;;AAErC,6BAAe,oCAAS;AACxB,iBAAiB,wDAAQ;AACzB;AACA;AACA;;AAEA,mCAAmC,wDAAQ;;AAE3C;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wEAAwE,wDAAQ;AAChF;;AAEA;AACA,iEAAiE,wDAAQ;AACzE;;AAEA;AACA;;;;;;;;;;;;;;;;;;;ACxCuC;;AAEvC;AACO;AACA;;AAEP;AACA;AACA;AACA;AACA,CAAC;;AAEc;AACf,WAAW,sDAAY;AACvB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACjBsD;;AAEtD,6BAAe,oCAAS;AACxB,aAAa,qEAAkB;AAC/B;;;;;;;;;;;;;;;;;ACJA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO;AACP,gGAAgG;AAChG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnBA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACjBA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;;ACNsD;;AAE/C;;AAEP,6BAAe,oCAAS;AACxB,UAAU,qEAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,qEAAkB,gCAAgC;AAC9F;;;;;;;;;;;;;;;;;ACfsD;;AAEtD,6BAAe,oCAAS;AACxB,UAAU,qEAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACVA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,uDAAuD;;AAEhD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9CA;AACA,6BAAe,oCAAS;AACxB,kDAAkD,OAAO;AACzD;AACA,6BAA6B;AAC7B,sCAAsC,QAAQ;AAC9C,sCAAsC,oBAAoB;AAC1D;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACV+C;AACM;AACN;;AAE/C,iEAAe;AACf;AACA;AACA;AACA,OAAO,yDAAa;AACpB;AACA;AACA;AACA;AACA,iBAAiB,6DAAa;AAC9B,OAAO,yDAAa;AACpB,OAAO,4DAAgB;AACvB;AACA;AACA,CAAC,EAAC;;;;;;;;;;;;;;;;AClBF,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFwF;AACpC;AAC6B;AACnB;AACE;AACF;;;;;;;;;;;;;;;;;;;;;;;;ACLzB;AACM;AACM;AACE;AACV;AACE;AACU;AAChB;;AAErC;AACA;;AAEA,6BAAe,oCAAS;AACxB,gFAAgF,oDAAQ,GAAG,2DAAW;AACtG;AACA;AACA;AACA,iDAAiD,oDAAQ,GAAG,8DAAc;AAC1E;AACA;AACA;;AAEA;AACA,gBAAgB,+DAAe;;AAE/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,uDAAW;;AAEzB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,uDAAW;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B,0DAAU;;AAEpC;AACA;;AAEA;AACA;AACA,mDAAmD,gEAAc;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uEAAuE;AACvE,uEAAuE;AACvE,sIAAsI;AACtI,sEAAsE;AACtE;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC,+DAAe;AAClD,gDAAgD,wDAAQ;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACnJqC;;AAErC,6BAAe,oCAAS;AACxB,sBAAsB,wDAAQ;AAC9B;;;;;;;;;;;;;;;;;ACJqC;;AAErC,6BAAe,oCAAS;AACxB,yDAAyD,wDAAQ,qBAAqB,wDAAQ;AAC9F;;;;;;;;;;;;;;;;;ACJqC;;AAErC,6BAAe,oCAAS;AACxB;AACA,qBAAqB,wDAAQ,QAAQ,wDAAQ;AAC7C;;;;;;;;;;;;;;;;;;;;;;ACL+B;AACoC;AACtC;AACI;;AAE1B,sBAAsB,2CAAK;;AAElC;;AAEA,kBAAkB,2CAAK;AACvB;AACA;AACA;AACA;AACA;;AAEO;AACP,SAAS,gDAAI;AACb,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf;AACA,sBAAsB,2CAAK;AAC3B;AACA;AACA,GAAG;AACH;AACA;AACA,+BAA+B,yCAAG;AAClC,iDAAiD,gDAAI;AACrD,GAAG;AACH;AACA,gBAAgB,yCAAG;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,6CAAO,SAAS,6CAAO;AACnC,8BAA8B,6CAAG,iBAAiB,+CAAS,aAAa,6CAAG;AAC3E;;AAEA;AACA,YAAY,6CAAO,SAAS,6CAAO;AACnC,kBAAkB,+CAAS,EAAE;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6CAAG;AAClB,eAAe,6CAAG;AAClB;AACA,iCAAiC,6CAAG;AACpC,yBAAyB,6CAAG;AAC5B,kBAAkB,+CAAK;;AAEvB;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB,gBAAgB,2CAAK;AACrB,EAAE,sDAAM;AACR;AACA;;;;;;;;;;;;;;;;;;;;;AC3E+B;AACmB;AAC6C;AACtC;AACxB;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAK;AACxB,IAAI,gDAAU;AACd,GAAG;AACH;AACA,IAAI,gDAAU;AACd;AACA;AACA;AACA,QAAQ,iDAAW;AACnB,wBAAwB,6CAAO;AAC/B,yBAAyB,6CAAO;AAChC;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU,wDAAS,WAAW,6CAAO,QAAQ,6CAAO;AACpD;AACA,iBAAiB,6DAAc;AAC/B;AACA,qBAAqB,6DAAc;AACnC,IAAI,wEAAyB;AAC7B,iBAAiB,wDAAS;AAC1B;AACA;AACA,kCAAkC,6CAAO;AACzC;AACA,uBAAuB,6CAAG;AAC1B;AACA,6BAA6B,6CAAO;AACpC;AACA,MAAM;AACN,8BAA8B,6CAAO;AACrC;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,6CAAG;AACpB,IAAI;AACJ;AACA;AACA,EAAE,gDAAU;AACZ;AACA;;AAEA;AACA,EAAE,gDAAU;AACZ;;AAEA;AACA;AACA,EAAE,gDAAU;AACZ,MAAM,6CAAG,aAAa,6CAAO;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA,EAAE,sDAAM;;AAER;AACA;AACA;;AAEA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA,4EAA4E,QAAQ;AACpF;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AClLsD;;AAE/C;AACP,UAAU,+CAAK,8BAA8B,8CAAI;AACjD;;AAEO;AACP,0DA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AW,6CAAG,WAAW,6CAAG;AAC5B;;AAEA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,wCAAE,IAAI,wCAAE;AACxD;AACA;AACA;AACA,yBAAyB,0DAAU,oBAAoB,0DAAU;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0DAAU;AACxC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,wDAAS;AACtB,aAAa,wDAAS;;AAEtB;AACA;AACA;AACA,aAAa,6DAAc;AAC3B,eAAe,2DAAY;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,6DAAc;AAC9B,YAAY,6DAAc;AAC1B,YAAY,6DAAc;AAC1B,IAAI,kEAAmB;;AAEvB;AACA;AACA,YAAY,2DAAY;AACxB,aAAa,2DAAY;AACzB,2BAA2B,2DAAY;;AAEvC;;AAEA,YAAY,8CAAI;AAChB,YAAY,6DAAc;AAC1B,IAAI,kEAAmB;AACvB,QAAQ,wDAAS;;AAEjB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gBAAgB,6CAAG,SAAS,wCAAE,IAAI,6CAAO;AACzC,oCAAoC,6CAAO;;AAE3C;;AAEA;AACA;AACA;AACA,sCAAsC,6CAAG,mBAAmB,6CAAO;AACnE;AACA,kBAAkB,wCAAE;AACpB,eAAe,6DAAc;AAC7B,MAAM,kEAAmB;AACzB,iBAAiB,wDAAS;AAC1B;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,wCAAE;AACrC;AACA,gCAAgC;AAChC,oCAAoC;AACpC,6BAA6B;AAC7B,iCAAiC;AACjC;AACA;;AAEA,SAAS,qDAAI,gEAAgE,wCAAE,WAAW,wCAAE;AAC5F;;;;;;;;;;;;;;;;;AChL2C;;AAE3C,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+DAA+D,yDAAa;AAC5E,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACnBqC;AACA;AACM;AACS;AACrB;;AAE/B,6BAAe,oCAAS;AACxB;AACA;AACA,qBAAqB,sDAAU;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,mBAAmB,oDAAK;AACxB,0BAA0B,+DAAe;AACzC;AACA;AACA,UAAU,sDAAU;AACpB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,4CAAM,GAAG,6CAAO,GAAG,4CAAM;AAC7D,oCAAoC,4CAAM,GAAG,6CAAO,GAAG,4CAAM;AAC7D;;;;;;;;;;;;;;;;AClIA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC1DwC;AACH;AACJ;AACI;AACN;;AAE/B;;AAEA;AACA;;AAEe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,WAAW,6CAAG,cAAc,6CAAO;AACnC,UAAU,6CAAG,cAAc,6CAAO;AAClC,UAAU,6CAAG,cAAc,6CAAO;AAClC,iCAAiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,sDAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,0CAA0C,OAAO;AACjD,mHAAmH,OAAO;AAC1H;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,oDAAK;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,sDAAU;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,cAAc,oDAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvK0C;AACP;;AAEnC;AACA;AACA;AACA,kBAAkB;AAClB,kBAAkB;AAClB,kBAAkB;AAClB,0BAA0B;AAC1B;;AAEA;AACA;AACA;AACA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,0DAAU;AAClB;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,mBAAmB,6CAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;;AAEA,+BAA+B,OAAO;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD,UAAU;AACV;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,sCAAsC,QAAQ;AAC9C,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACtGA,6BAAe,oCAAS;;AAExB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACXA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACJgE;AACd;AACN;;AAE5C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,wDAAQ;AACjB;;AAEA;AACA;AACA,0CAA0C,OAAO;AACjD,SAAS,wDAAQ;AACjB;AACA;AACA,WAAW,wDAAQ;AACnB;AACA;AACA;AACA;AACA,6DAA6D,8CAAQ;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,+DAAe;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,6C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AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACnCe;;;;;;;;;;;;;;;;;;;ACAgB;AACA;AACD;;AAE9B,kBAAkB,2CAAK;AACvB,sBAAsB,2CAAK;AAC3B;AACA;AACA;AACA;;AAEA;AACA,SAAS,gDAAI;AACb,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf;AACA;AACA;AACA,GAAG;AACH;AACA,mEAAmE,gDAAI;AACvE,gBAAgB,6CAAG;AACnB,sBAAsB,2CAAK;AAC3B,GAAG;AACH;AACA;AACA,kBAAkB,2CAAK;AACvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iEAAe,UAAU,EAAC;;;;;;;;;;;;;;;;;ACjDI;;AAE9B;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf,gBAAgB,gDAAI;AACpB,cAAc,gDAAI;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;;AC3BI;;AAEhC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,8CAAI;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU,8CAAI;;AAEd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe,cAAc,EAAC;;;;;;;;;;;;;;;;;;ACnGC;AACD;;AAEf;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,yCAAG;AACpD;AACA;AACA;AACA,GAAG;AACH,UAAU,gDAAI;AACd;;;;;;;;;;;;;;;;;;;;;;;;AC5CsC;AACJ;AACD;AACI;AACI;AACF;AACA;AACF;;AAErC,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,sDAAM;AACZ;AACA;AACA;;AAEA;AACA,IAAI,sDAAM,0BAA0B,gDAAQ;AAC5C,WAAW,gDAAQ;AACnB;;AAEA;AACA,IAAI,sDAAM,0BAA0B,mDAAW;AAC/C,WAAW,mDAAW;AACtB;;AAEA;AACA,IAAI,sDAAM,0BAA0B,kDAAU;AAC9C,WAAW,kDAAU;AACrB;;AAEA;AACA,IAAI,sDAAM,0BAA0B,oDAAY;AAChD,WAAW,oDAAY;AACvB;;AAEA;AACA;AACA,uDAAuD,oDAAQ;AAC/D;AACA;;AAEA;AACA;AACA,qDAAqD,kDAAU,gBAAgB,mDAAW;AAC1F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6DAA6D,EAAE;AAC/D;AACA;AACA,8CAA8C,kDAAU;AACxD;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;AC3E+B;AACC;AACF;;AAE9B,oBAAoB,2CAAK;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,gDAAI;AACb;AACA;AACA,GAAG;AACH;AACA;AACA,yBAAyB,gDAAI;AAC7B,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,oBAAoB,2CAAK;AACzB;A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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,oDAAQ,IAAI,8DAAa;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,6CAAO,OAAO,6CAAG,cAAc,6CAAG,4BAA4B,6CAAO;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kDAAS;AACpB;AACA;AACA,WAAW,gDAAO;AAClB;AACA;AACA,WAAW,iDAAQ;AACnB;AACA;AACA,WAAW,kDAAS;AACpB;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFuD;AACZ;AACM;AACb;AACE;AACsB;AACf;AACD;AACqB;AAC5B;;AAErC,uBAAuB,0DAAW;AAClC;AACA,0BAA0B,6CAAO,MAAM,6CAAO;AAC9C;AACA,CAAC;;AAED;AACA,SAAS,0DAAW;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,6CAAG;AACpB,iBAAiB,6CAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,wCAAwC,iBAAiB;AACzD;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,6DAAgB;AAC9C,wCAAwC,oDAAQ;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,6CAAO,aAAa,6CAAO;AACxE;;AAEA;AACA;AACA,gCAAgC,6CAAO,aAAa,6CAAO;AAC3D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8CAA8C,2DAAU,aAAa,6CAAO,mBAAmB,6DAAgB,sBAAsB,6CAAO;AAC5I;;AAEA;AACA,iFAAiF,oDAAQ,IAAI,8DAAa;AAC1G;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qDAAqD,6CAAO,qBAAqB,6CAAO,0BAA0B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6BAAe,oCAAS;AACxB;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;;ACpEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,0BAA0B,0BAA0B;AACpD,uBAAuB,uBAAuB;AAC9C,0BAA0B,0BAA0B;AACpD,wBAAwB,wBAAwB;AAChD,6BAA6B,6BAA6B;AAC1D,2BAA2B;AAC3B;;;;;;;;;;;;;;;;;ACzBO;AACP;AACA;;AAEO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;ACPA,6BAAe,oCAAS;AACxB;AACA;AACA,qBAAqB;AACrB;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACnFO;AACP;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACRA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;;;;;;;;;;;;;;;;ACXA,6BAAe,sCAAW;AAC1B;AACA;;;;;;;;;;;;;;;;ACFA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACNA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACdA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPoC;AACF;AACY;AACF;AACV;AACF;AACE;AACA;AACU;AACI;AACV;AACF;AACM;;AAE3B;AACf;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,iDAAU;AACnB,QAAQ,gDAAS;AACjB,aAAa,qDAAc;AAC3B,cAAc,sDAAe;AAC7B,QAAQ,gDAAS;AACjB,OAAO,+CAAQ;AACf,QAAQ,gDAAS;AACjB,QAAQ,gDAAS;AACjB,aAAa,qDAAc;AAC3B,eAAe,uDAAgB;AAC/B,UAAU,mDAAW;AACrB,SAAS,kDAAU;AACnB;AACA,qBAAqB,qDAAa;AAClC;;;;;;;;;;;;;;;;AC1FA,6BAAe,uCAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA,IAAI;AACJ;;;;;;;;;;;;;;;;ACbA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;;;;ACRA,6BAAe,sCAAW;AAC1B;AACA;AACA,yBAAyB;AACzB,kBAAkB,kCAAkC;AACpD;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;;;;ACRA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7BA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;ACNA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRgD;AACgB;AAChB;AACW;AACF;AACL;AACF;AACR;AACY;AACO;AACJ;AACE;AACQ;AACF;AACI;;;;;;;;;;;;;;;;ACdrE;AACA;AACA;AACA,sBAAsB;;AAEtB,6BAAe,sCAAW;AAC1B;AACA;AACA;;;;;;;;;;;;;;;;;;;ACRoC;AACR;;AAE5B,6BAAe,oCAAS;AACxB,oCAAoC,mDAAG;AACvC;;AAEO;AACP,4BAA4B,kDAAO;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,kBAAkB;AAChC,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC1HyC;AACa;AAC1B;AACqB;;AAEjD;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA,gBAAgB,sDAAY;;AAE5B;AACA,mBAAmB,mDAAG;AACtB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,wCAAwC,sDAAY;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA,wCAAwC,uDAAQ;AAChD;;AAEA;AACA;AACA;;AAEA;AACA,uEAAuE,wDAAQ;AAC/E;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yBAAyB,OAAO;AAChC,UAAU,gEAAkB;AAC5B,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AChFgC;AACJ;AACmB;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEO;AACP,uBAAuB,qDAAK;;AAE5B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,OAAO;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB,wCAAwC,IAAI,8DAAiB;;AAEjF;AACA,cAAc,OAAO;;AAErB;AACA;;AAEA,6BAAe,oCAAS;AACxB,8BAA8B,mDAAG;AACjC;AACA;;;;;;;;;;;;;;;;;;ACvH2C;AACC;;AAE5C,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yDAAS;AACxC;AACA;;AAEA;AACA;AACA;AACA,QAAQ,4DAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;ACnDwC;AACiB;;AAEzD,eAAe,UAAU;AACzB,kBAAkB;AAClB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kCAAkC,OAAO;AACzC,0CAA0C,qDAAI;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,oCAAoC,MAAM,aAAa,8DAAa;AACzG;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC,uDAAQ;AAC5C;;AAEA;AACA,0CAA0C,uDAAQ;AAClD;;AAEA;AACA,sCAAsC,uDAAQ;AAC9C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,KAAK;AACjB;AACA;AACA,sCAAsC,KAAK;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AChJ0C;;AAE1C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,iBAAiB;AACjB,cAAc;AACd;;AAEA,mCAAmC,qDAAI;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AC5OA,6BAAe,oCAAS;AACxB;AACA;AACA;;AAEA,8BAA8B,OAAO;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7CA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACXmC;AACE;AACI;AACa;;AAEtD,6BAAe,sCAAW;AAC1B,aAAa,oDAAQ;AACrB;AACA;AACA;AACA;AACA,qBAAqB,sDAAY;AACjC,mBAAmB,sDAAY;AAC/B,qBAAqB,sDAAY;AACjC,sBAAsB,sDAAY;AAClC,oBAAoB,sDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iDAAS;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sCAAsC,uDAAQ;AAC9C;;AAEA;AACA;AACA;;AAEA;AACA,4EAA4E,wDAAQ;AACpF;;AAEA;AACA;AACA;;AAEA;AACA,0EAA0E,wDAAQ;AAClF;;AAEA;AACA,4EAA4E,wDAAQ;AACpF;;AAEA;AACA,6EAA6E,wDAAQ;AACrF;;AAEA;AACA,2EAA2E,wDAAQ;AACnF;;AAEA;AACA;;;;;;;;;;;;;;;;;;;AC7FoC;AACE;AACW;;AAEjD,iEAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,OAAO;AACzD,sBAAsB,oDAAW;AACjC,aAAa,qDAAY;AACzB;AACA;AACA,MAAM;AACN,gCAAgC,2DAAa;AAC7C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,EAAE,6CAAG,CAAC,EAAC;;;;;;;;;;;;;;;;ACnCR,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AAC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,qDAAK;AACf,gBAAgB,qDAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACJA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;ACb+B;;AAE/B,6BAAe,oCAAS;AACxB,YAAY;AACZ,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA,aAAa,qDAAK;AAClB,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACtB4C;;AAE7B;AACf,gEAAgE,iDAAK;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACVA,6BAAe,oCAAS;AACxB;AACA,kBAAkB,OAAO;AACzB;AACA;;;;;;;;;;;;;;;;;;;;;;ACJyC;AACV;AACY;AACD;;AAE1C,iEAAe;AACf,cAAc,gDAAK;;AAEnB;AACA,2BAA2B,6CAAQ,mBAAmB,6CAAQ;AAC9D;AACA;AACA,kBAAkB,qDAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,CAAC,IAAI,EAAC;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,cAAc,6CAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,yBAAyB,iDAAK;AAC9B,+BAA+B,uDAAW;;;;;;;;;;;;;;;;ACtDjD,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACJiC;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,4BAA4B;AAC5B;AACA;AACA,yCAAyC;AACzC,4BAA4B;AAC5B;AACA,MAAM,OAAO;AACb;AACA,cAAc,SAAS,sDAAM,SAAS;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,OAAO;AACpC;AACA,SAAS;AACT;;;;;;;;;;;;;;;;;AC/DA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACzBkC;AACY;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,aAAa,sDAAM,SAAS,GAAG,aAAa,sDAAM,SAAS;AACzE,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,gCAAgC;AACjE,cAAc,sDAAsD,sDAAM,OAAO;AACjF,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,cAAc,qDAAqD,sDAAM,OAAO;AAChF,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,aAAa,sDAAM,SAAS,GAAG,aAAa,sDAAM,SAAS;AACzE,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,mDAAmD,+CAAQ;AAC3D,mDAAmD,+CAAQ;;;;;;;;;;;;;;;;;;AC9Df;;AAEnD;;AAEA;AACO;AACP;AACA,wBAAwB,mDAAQ,GAAG,yDAAS;AAC5C;;AAEO;AACP,4BAA4B,mDAAQ;AACpC;AACA;AACA,iEAAiE,mDAAQ;AACzE;AACA,SAAS,yDAAS;AAClB;;;;;;;;;;;;;;;;;;;;;;;;;ACjB+B;AACJ;AACa;AACX;AACI;AACA;AACA;AACI;AACuB;;AAE5D,6BAAe,oCAAS;AACxB;AACA,wCAAwC,wDAAQ;AAChD,0BAA0B,kDAAM;AAChC,+BAA+B,oDAAK,eAAe,+CAAG,IAAI,kDAAM;AAChE,qBAAqB,gDAAK,GAAG,+CAAG;AAChC,4BAA4B,gDAAI;AAChC,QAAQ,8DAAa,MAAM,uDAAW;AACtC,2BAA2B,mDAAY;AACvC,0FAA0F,kDAAM;AAChG,QAAQ,kDAAM;AACd;;;;;;;;;;;;;;;;ACrBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC,mBAAmB,EAAC;;;;;;;;;;;;;;;;;;;ACtE2B;;;;;;;;;;;;;;;;;;ACAhD;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,OAAO;AAC7C;AACA;AACA;;AAEA;AACA;AACA,oDAAoD,OAAO;AAC3D;AACA;AACA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB,GAAG,yBAAyB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc,GAAG,cAAc;AACnD;AACA;AACA,oBAAoB,IAAI,GAAG,IAAI,GAAG,cAAc,GAAG,cAAc;AACjE;AACA;AACA,oBAAoB,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,cAAc,GAAG,cAAc;AAC/E;AACA;AACA;;AAEA;AACA,mDAAmD,EAAE;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,cAAc,GAAG,cAAc;AACrD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,cAAc,GAAG,cAAc;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,eAAe,GAAG,eAAe;AACzD;;AAEA,sBAAsB,EAAE,GAAG,EAAE,OAAO,yBAAyB,GAAG,0BAA0B,GAAG,0BAA0B;AACvH;AACA;AACA;AACA;;AAEA;AACA,mDAAmD,EAAE;;AAErD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,GAAG,GAAG,GAAG;AAC/B;;AAEA;AACA;AACA,sBAAsB,GAAG,GAAG,GAAG;AAC/B;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAsB,EAAE,GAAG,EAAE,OAAO,GAAG,GAAG,OAAO,GAAG,OAAO,GAAG,EAAE,GAAG,EAAE,OAAO,GAAG,GAAG,cAAc,GAAG,cAAc;AACjH;;AAEA;AACA;AACA,sBAAsB,EAAE,GAAG,EAAE,KAAK,YAAY,GAAG,GAAG,GAAG,gCAAgC,GAAG,gCAAgC;AAC1H;AACA;AACA;AACA,oBAAoB,yBAAyB,GAAG,yBAAyB,GAAG,OAAO,GAAG,GAAG,GAAG,GAAG;AAC/F;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;AC3JA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACdA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACnBA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;ACN+B;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,OAAO;AACrB,uBAAuB,qDAAK;AAC5B;AACA;;AAEA,iCAAiC;AACjC;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA;AACA;;AAEA,cAAc,OAAO;AACrB;AACA,cAAc,OAAO;;AAErB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,QAAQ;AAC5C,sBAAsB,qCAAqC;;AAE3D;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AChDiD;AACQ;AACR;AACQ;AACJ;;;;;;;;;;;;;;;;ACJrD,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACtBA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA,yCAAyC;;AAEzC;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oDAAoD;AACpD,qDAAqD;AACrD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oDAAoD;AACpD,qDAAqD;AACrD,IAAI;AACJ;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,OAAO;AACrB;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACnFA,6BAAe,oCAAS;AACxB,mDAAmD;;AAEnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,0CAA0C;AAC1C,0CAA0C;AAC1C,0CAA0C;AAC1C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC1CA,6BAAe,sCAAW;AAC1B;AACA;AACA,+CAA+C;AAC/C,GAAG;AACH;AACA;;;;;;;;;;;;;;;;ACNA,6BAAe,oC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;AAEZ,iEAAe,oDAAI,QAAQ,EAAC;;;;;;;;;;;;;;;;;;;ACbM;AACJ;;AAEvB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kDAAM;;AAEZ,iEAAe,oDAAI,QAAQ,EAAC;;;;;;;;;;;;;;;;;;;;ACbe;AACP;AACD;;AAEpB;AACf,cAAc,uDAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oDAAQ,sBAAsB,0BAA0B;AACzE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,+CAAS;AAClB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACpGe;AACf;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACJgC;AACoE;AAC/D;AACJ;;AAEjC;;AAEO;AACP;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,QAAQ,wDAAQ;AAChB;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,YAAY,oDAAM;AAClB;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,oBAAoB,sDAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wFAAwF,sDAAiB;AACzG;;AAEA;AACA,sDAAsD,kDAAM;AAC5D;;AAEA;AACA;AACA;;AAEA;AACA,gDAAgD,sDAAgB;AAChE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HwE;AAC/B;AACE;AACL;AACL;AACI;AACC;AACN;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oDAAQ;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kEAAkE,0DAAS;AAC3E;AACA;;AAEA,sBAAsB,sDAAW;;AAEjC,2BAA2B,sDAAgB;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe;AACf,cAAc,qDAAS,eAAe,oDAAQ;;AAE9C;AACA,WAAW,oDAAI;AACf;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP,cAAc,gDAAO;;AAErB;AACA,WAAW,oDAAI;AACf;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP,cAAc,qDAAS;;AAEvB;AACA,WAAW,oDAAI;AACf;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP,cAAc,+CAAM;;AAEpB;AACA,WAAW,oDAAI;AACf;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;ACvGsC;AACL;;AAElB;AACf;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,sDAAsD,kDAAM;AAC5D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iDAAiD,kDAAM;;AAEvD,SAAS,qDAAS;AAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBmB;;AAII;;AAIF;;AAIH;;AAIG;;AAKC;;AAKJ;;AAIG;;AAIE;;AAIA;;AAIC;;AAIL;;AAIG;;AAQG;;AAIQ;;AAQT;;AAIC;;;;;;;;;;;;;;;;;AC7ElB;AACP;AACA;AACA,gCAAgC;AAChC,+CAA+C;AAC/C;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACzB8C;AACG;AACb;AACK;;AAElC;AACP;;AAEA;AACA;AACA,WAAW,oDAAK;AAChB;;AAEA;AACA;AACA,WAAW,0DAAU;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uDAAa;AAC1B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEe;AACf,cAAc,0DAAU;;AAExB;AACA,WAAW,oDAAI;AACf;;AAEA,EAAE,+CAAS;;AAEX;AACA;;;;;;;;;;;;;;;;;;;;;;;ACrE+B;AACmB;AACrB;AACqB;AACd;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,QAAQ;AAChC,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA,QAAQ,YAAY,QAAQ;AAC5B,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oDAAK;AACrC,MAAM;AACN,UAAU,oDAAK;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,qDAAe;AACrD,kBAAkB,iDAAM;AACxB;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,oDAAI;AACtB;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEe;AACf,wBAAwB,2DAAW;AACnC,qBAAqB,oDAAI;AACzB,EAAE,+CAAS;AACX;AACA;;;;;;;;;;;;;;;;AC3Ie;AACf;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjBe;AACf;AACA;;;;;;;;;;;;;;;;;;;ACFmC;AACC;;AAE7B;;AAEQ;AACf,kBAAkB,+CAAS;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,+CAAS;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE,+CAAS;;AAEX;AACA;;;;;;;;;;;;;;;;;;;;;AC7CsC;AACsB;AACxB;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACP,wBAAwB,oDAAQ,EAAE,oDAAQ;AAC1C;;AAEA;AACA,sCAAsC,oDAAQ,EAAE,oDAAQ;AACxD;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS,qDAAS;AAClB;;AAEe;AACf,qBAAqB,2DAAW;;AAEhC;AACA,WAAW,oDAAI;AACf;;AAEA,EAAE,+CAAS;;AAEX;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;;;ACjDwE;AACpC;;AAErB;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,wDAAS;AACjD;AACA;;AAEA;AACA,wDAAwD,oDAAM;AAC9D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,gDAAS;AACzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,+CAAS;AAClB;;;;;;;;;;;;;;;;;;;ACxDgC;AACM;AACF;;AAErB;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,oDAAM;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,+CAAS,OAAO,qDAAS;AAClC;;;;;;;;;;;;;;;;;;;;ACvDyC;AACL;AACE;AACL;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;;AAEe;AACf,gBAAgB,0DAAU;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oEAAoE,kDAAM;AAC1E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE,+CAAS;;AAEX,SAAS,qDAAS;AAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9D6D;AACpB;AACE;AACL;AACL;AACK;AACN;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oDAAQ;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,sDAAW;;AAEjC,2BAA2B,sDAAgB;;AAE3C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf,cAAc,qDAAS,eAAe,oDAAQ;;AAE9C;AACA;AACA;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP,cAAc,gDAAO;;AAErB;AACA;AACA;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP,cAAc,qDAAS;;AAEvB;AACA;AACA;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP,cAAc,+CAAM;;AAEpB;AACA;AACA;;AAEA,SAAS,sDAAgB;AACzB;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;AC1GqD;AACZ;AACE;;AAE5B;AACf;AACA,qBAAqB,oDAAQ;;AAE7B;AACA,0DAA0D,oDAAM;AAChE;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,gDAAS;AACzB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB,cAAc,YAAY,oDAAQ;AACzD;;AAEA;AACA;AACA;;AAEA,SAAS,sDAAgB;AACzB;;;;;;;;;;;;;;;;;;;;ACrCsC;AACY;AACd;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA,SAAS,qDAAS;AAClB;;AAEe;AACf,wBAAwB,2DAAW;;AAEnC;AACA,WAAW,oDAAI;AACf;;AAEA,SAAS,+CAAS;AAClB;;;;;;;;;;;;;;;;;;AClCgC;AACI;;AAErB;AACf;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,oDAAM;AAC7C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,+CAAS;AAClB;;;;;;;;;;;;;;;;;;;;;;ACtCkC;AAC+E;;AAElG;AACf,aAAa,kDAAQ;AACrB;AACA,cAAc,qDAAe;AAC7B;AACA;AACA;AACA,4DAA4D,qDAAe;AAC3E,aAAa,uDAAY;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,qDAAc;AAC1E;AACA;AACA;AACA;AACA,4DAA4D,qDAAc;AAC1E;AACA;AACA;AACA,SAAS,iDAAM;AACf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5B8H;AACpF;AACO;AACb;AACP;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;;AAEO;AACP,cAAc,0DAAU;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;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;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC1EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;;;ACZqC;AACA;AACC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA,MAAM;AACN,qBAAqB,gDAAS;AAC9B;AACA;;AAEA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,qBAAqB,gDAAS;AAC9B;AACA;;AAEA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA;;AAEA,2CAA2C,wDAAQ;;AAEnD,uGAAuG,OAAO;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,gDAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,wBAAwB;AACxB;;;;;;;;;;;;;;;;AC/HA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;;;;;;;;;;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BA,6BAAe,sCAAW;;AAE1B,4DAA4D,OAAO;AACnE,yDAAyD,OAAO;AAChE;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACVA,6BAAe,sCAAW;AAC1B;AACA;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,OAAO;AACrD;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA,8CAA8C,OAAO;AACrD,6BAA6B,OAAO;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,OAAO;AACrB;AACA;;;;;;;;;;;;;;;;AClEA,6BAAe,sCAAW;;AAE1B,6DAA6D,QAAQ;AACrE,6EAA6E,SAAS;AACtF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;;;;;;;;;;;;;;;;;;ACPqC;AACC;;AAEtC,6BAAe,oCAAS;AACxB,6CAA6C,wDAAQ;;AAErD,sFAAsF,OAAO;AAC7F,gHAAgH,OAAO;AACvH;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,gDAAS;AACtB;;;;;;;;;;;;;;;;;;;AChBqC;AACL;AACY;;AAE5C;AACA;AACA,WAAW,qDAAK;AAChB;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA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+CAA+C;AAC/C,wDAAwD;AACxD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,+BAA+B,oFAAoF;AACnH,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;;AClD8B;AACG;;AAEjC;AACA;AACA;;AAEA;AACA,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,4BAA4B;AAC3D,+BAA+B,4BAA4B;AAC3D,+BAA+B,4BAA4B,4FAA4F;AACvJ,eAAe,gDAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;ACnDiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B,oFAAoF,0EAA0E;AAC7L,+BAA+B;AAC/B,eAAe,gDAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;;;ACtC4C;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,iBAAiB,2DAAW;AAC5B,iBAAiB,2DAAW;AAC5B,iBAAiB,2DAAW;AAC5B,iBAAiB,2DAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;AC1EiC;;AAEjC;AACA,oBAAoB,4CAAK;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,4BAA4B,4CAAK;AACjC;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,OAAO,EAAC;;;;;;;;;;;;;;;;;;ACvDF;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wDAAwD;AACxD,+CAA+C;AAC/C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B,4BAA4B;AAC3D,+BAA+B;AAC/B,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,IAAI,EAAC;;;;;;;;;;;;;;;;;;;AC5DwB;AACM;;AAE7B;AACP;AACA;AACA;;AAEA;AACA,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,4BAA4B;AAC3D,+BAA+B,kDAAkD;AACjF,+BAA+B,4BAA4B;AAC3D,eAAe,mDAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,IAAI,EAAC;;;;;;;;;;;;;;;;;;AC5D8B;;AAE7B;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B,kGAAkG;AACjI,+BAA+B;AAC/B,eAAe,mDAAK,cAAc;AAClC;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,IAAI,EAAC;;;;;;;;;;;;;;;;;;;AChD6B;AACI;;AAEhC;AACP;AACA;AACA;AACA;;AAEA,oBAAoB,6CAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,6CAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wDAAwD;AACxD,8CAA8C;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,+BAA+B;AAC/B,kCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,wDAAwD,kDAAQ;AAChE;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,MAAM,EAAC;;;;;;;;;;;;;;;;;;;ACvF2C;AACrB;AACQ;;AAEtC;AACA;AACA;AACA;;AAEA;AACA,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,4BAA4B;AAC3D,+BAA+B,kDAAkD;AACjF,+BAA+B,4BAA4B;AAC3D,eAAe,qDAAK,cAAc;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,8DAA8D,8DAAc;AAC5E;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,MAAM,EAAC;;;;;;;;;;;;;;;;;;ACzEuC;AACT;;AAEtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B,+BAA+B,kGAAkG;AACjI,+BAA+B;AAC/B,eAAe,qDAAK,cAAc;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iEAAe;;AAEf;AACA,4DAA4D,0DAAY;AACxE;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,MAAM,EAAC;;;;;;;;;;;;;;;;AC7DR;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,2CAA2C;AAC3C;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;AC9B8B;;AAE9B;AACA;AACA;;AAEA;AACA,aAAa,gDAAI;AACjB,WAAW,gDAAI;AACf;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,wDAAwD;AACxD,6DAA6D;AAC7D;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA,+BAA+B,sEAAsE;AACrG,+BAA+B;AAC/B,+BAA+B,wDAAwD;AACvF,+DAA+D;AAC/D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2BAA2B,6BAA6B;AACxD,0BAA0B,4BAA4B;AACtD,2BAA2B,6BAA6B;AACxD,kDAAkD;AAClD;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACvGA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,WAAW;AACzB;AACA,cAAc,OAAO;AACrB;AACA,kBAAkB,QAAQ;AAC1B;AACA,cAAc,WAAW;AACzB;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;;;;;;;;;;;;;;;;;AChEsC;;AAE/B,oCAAoC,kDAAW;;AAEtD;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEe;;AAEf;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA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DP;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,8CAAS,cAAc,kDAAS;AACxE,iBAAiB,2CAAM;AACvB;AACA;AACA;AACA,UAAU;AACV;AACA,wCAAwC,+CAAU,cAAc,mDAAU;AAC1E,iBAAiB,4CAAO;AACxB;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA,YAAY,4BAA4B;AACxC;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE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;;;;;;;AChBiC;;AAEjC,6BAAe,oCAAS;AACxB,cAAc,4CAAK;AACnB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sIAAsI;;AAE/H;AACP;AACA;;AAEA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP,SAAS;AACT,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC7GiD;AACE;;AAEnD;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C,8DAAS;AACrD,mBAAmB,4DAAU;AAC7B;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;ACpB8B;AAC8B;AACd;AACM;;;;;;;;;;;;;;;;;ACHa;;AAEjE,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,mDAAmD,eAAe;AAClE,8BAA8B,6DAAQ,qBAAqB,2DAAM;AACjE,qBAAqB,0DAAK;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACvBuC;AACU;AACE;;AAEnD,oDAAS,uBAAuB,qDAAmB;AACnD,oDAAS,wBAAwB,sDAAoB;;;;;;;;;;;;;;;;;ACLb;;AAExC,6BAAe,oCAAS;AACxB;AACA,IAAI,yDAAS;AACb,GAAG;AACH;;;;;;;;;;;;;;;;;;;;ACNyD;AACR;AACV;AACV;;AAE7B;AACA;AACA;AACA;AACA,QAAQ,+CAAc;AACtB;;AAEA;AACA;AACA;AACA;AACA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;;AAEA,sBAAsB,4DAAU;AAChC;AACA,IAAI;AACJ,SAAS,2DAAK,oCAAoC,6CAAG;AACrD;;AAEA,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA,QAAQ,mEAAQ;AAChB;AACA;AACA;;AAEA,aAAa,4DAAU;AACvB;;;;;;;;;;;;;;;;;;;;ACzC+E;AACxC;AACD;AACK;;AAE3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB,iBAAiB,wDAAS,uCAAuC,mEAAoB,GAAG,uDAAW;AACnG;AACA,sEAAsE,qDAAU;AAChF;AACA;AACA;;;;;;;;;;;;;;;;;AC7EuC;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA,iBAAiB,wDAAS;AAC1B;AACA;;;;;;;;;;;;;;;;;AC3CwC;;AAExC;AACA;AACA,IAAI,kDAAI;AACR;AACA;;AAEA;AACA;AACA,IAAI,kDAAI;AACR;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;AACA;AACA;AACA;AACA,QAA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EA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C,sCAAsC,oDAAO;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yDAAyD;AACzD;AACA,2DAA2D;AAC3D;AACA,IAAI,oDAAO;AACX;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;;;;;;;;;;;;;;;;;;;ACxJsC;AACA;AACM;;AAE5C,6BAAe,oCAAS;AACxB;AACA;;AAEA,6CAA6C,wDAAQ;;AAErD,sFAAsF,OAAO;AAC7F,gHAAgH,OAAO;AACvH;AACA;AACA;AACA,QAAQ,wDAAQ,qCAAqC,iDAAG;AACxD;AACA;AACA;;AAEA,aAAa,iDAAU;AACvB;;;;;;;;;;;;;;;;;;;ACrByC;AACH;AACM;;AAE5C,6BAAe,oCAAS;AACxB;AACA;;AAEA,6CAA6C,wDAAW;;AAExD,0FAA0F,OAAO;AACjG,+DAA+D,OAAO;AACtE;AACA,yFAAyF,iDAAG,wCAAwC,OAAO;AAC3I;AACA,YAAY,wDAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,iDAAU;AACvB;;;;;;;;;;;;;;;;;ACzBuC;;AAEvC,gBAAgB,oDAAS;;AAEzB,6BAAe,sCAAW;AAC1B;AACA;;;;;;;;;;;;;;;;;;;;;ACN+E;AAC5C;AACD;AACI;AACK;;AAE3C;AACA;AACA;AACA;AACA;AACA,kBAAkB,wDAAK;AACvB,oDAAoD,wDAAK;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wDAAK;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,wDAAK;AACvB;AACA;AACA,6EAA6E,wDAAK;AAClF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,iDAAG;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB,yCAAyC,mEAAoB,GAAG,uDAAW;AAC3E;AACA;AACA;AACA;AACA,+CAA+C,qDAAU;AACzD;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC/EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACvBsC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA,qBAAqB,qDAAU;AAC/B;AACA;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvB6C;AACD;;AAE5C,6BAAe,sCAAW;AAC1B;AACA;AACA,YAAY,gDAAK;;AAEjB,4DAA4D,OAAO;AACnE,+DAA+D,OAAO;AACtE;AACA,sBAAsB,iDAAG;AACzB,QAAQ,wDAAQ;AAChB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA,aAAa,iDAAU;AACvB;;;;;;;;;;;;;;;;;;ACvBuC;;AAEvC;AACA;AACA;AACA,mBAAmB,iDAAG;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iDAAG;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB,4BAA4B,OAAO;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6BAAe,oCAAS;AACxB;;AAEA;;AAEA;AACA,gBAAgB,iDAAG;AACnB,yCAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;;AAEA;AACA,mBAAmB,iDAAG;AACtB,2CAA2C;AAC3C,GAAG;;AAEH;AACA,WAAW,iDAAG;AACd;AACA;;;;;;;;;;;;;;;;AChFA,iEAAe,YAAY,EAAC;;;;;;;;;;;;;;;;ACAb;AACf;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,WAAW,kDAAkD;AAC7D,kBAAkB,yDAAyD;AAC3E,aAAa,oDAAoD;AACjE,gBAAgB,uDAAuD;AACvE,QAAQ;AACR,GAAG;AACH;;;;;;;;;;;;;;;;;;;;;ACb0C;AACoE;;;;;;;;;;;;;;;;;ACDvG;AACP;AACA;;AAEA,6BAAe,oCAAS;AACxB;AACA;AACA;;;;;;;;;;;;;;;;;;ACPO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEO;;AAEP;;AAEe;AACf;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AClDqC;AACW;AACD;AACF;AACL;AACH;AACF;AACgB;AACC;;AAEpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,mDAAQ;AAChC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAAe,sCAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sDAAe;AACnC,kBAAkB,uDAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mDAAQ;AAC/B;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,+CAA+C,oDAAS;AACxD;;AAEA;AACA;AACA,oEAAoE,oDAAS;AAC7E;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC,gDAAgD;AACvF,oDAAoD,8CAA8C;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,mBAAmB,4BAA4B,QAAQ,oDAAS;AAChE;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,cAAc,wDAAM;AACpB;AACA;AACA;AACA,YAAY,iDAAS;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,wDAAO;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM,wDAAS;AACf;AACA;;AAEA,IAAI,uDAAO;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,wDAAM;AAClB,YAAY,wDAAO;AACnB;AACA;;AAEA,IAAI,mDAAW;AACf,IAAI,0DAAa;AACjB;AACA,IAAI,wDAAS;AACb;;AAEA;AACA,MAAM,uDAAO;AACb;AACA;AACA;AACA;AACA;AACA,sEAAsE,wDAAO;AAC7E;;AAEA;AACA;AACA,MAAM,gDAAU;AAChB,MAAM,uDAAO;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,wDAAO;AACpB;AACA;AACA;;AAEA,IAAI,uDAAO;AACX,sBAAsB,wDAAM;AAC5B,SAAS,wDAAM;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,0DAAa;AACjB,gBAAgB,OAAO;AACvB,0BAA0B,wDAAO;AACjC;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iFAAiF,uBAAuB;AACxG,MAAM,wDAAS;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAI,uDAAO;AACX,gBAAgB,OAAO;AACvB,0BAA0B,wDAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAI,0DAAa;AACjB;AACA,0CAA0C,qBAAqB;AAC/D,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wDAAO;AACnB;AACA,kBAAkB,wDAAM;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA,0EAA0E,wDAAQ;AAClF;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA,yEAAyE,wDAAQ;AACjF;;AAEA;AACA,sEAAsE,wDAAQ;AAC9E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9byB;AACD;AACC;AACA;AACA;AACE;AACC;AACA;AACJ;AACD;AACC;AACC;AACA;AACC;AACH;AACM;AACE;AACP;AACG;AACC;AACF;AACD;AACU;AACN;AACJ;AACD;AACO;AACN;AACK;AACN;;;;;;;;;;;;;;;;;;AC5BxB;AACA;;AAE2C;;AAE5B;;AAEf;AACA;AACA;;AAEA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C,6CAA6C;AAC7C,4CAA4C;AAC5C,yDAAyD;;AAEzD;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe,0FAA0F;AACzG;;AAEA,+CAA+C;AAC/C;AACA;AACA;AACA;;AAEA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB,OAAO;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B,OAAO;AACnC;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,2DAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wBAAwB,OAAO;AAC/B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gCAAgC,sBAAsB;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uDAAuD,oBAAoB;AAC3E;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,2DAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kCAAkC;;AAEtE;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;;AAEA;AACA;AACA,oCAAoC,2DAAQ;AAC5C;AACA;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA,wCAAwC,2DAAQ;AAChD;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,cAAc;AAC3D;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAe,sDAAsD;;AAErE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,sEAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/dA;AACA,KAAK,YAAY,QAAQ,OAAO,mBAAmB,4BAA4B,sBAAsB,uBAAuB,gCAAgC,0BAA0B,2CAA2C,YAAY,EAAE,kCAAkC,oEAAoE,YAAY,IAAI,yBAAyB,gBAAgB,iBAAiB,GAAG,MAAM,0BAA0B,4HAA4H,sDAAsD,0BAA0B,uCAAuC,iBAAiB,EAAE,OAAO,mBAAmB,0BAA0B,gIAAgI,sDAAsD,mCAAmC,wEAAwE,EAAE,sBAAsB,KAAK,qBAAqB,uBAAuB,YAAY,8BAA8B,wBAAwB,uBAAuB,EAAE,yCAAyC,uUAAuU,iFAAiF,qDAAqD,KAAK,SAAS,6CAA6C,u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AAsG,EAAE,WAAW,cAAc,uCAAuC,MAAM,+GAA+G,EAAE,cAAc,sCAAsC,SAAS,EAAE,sBAAsB,gDAAgD,sGAAsG,SAAS,GAAG,mBAAmB,gBAAgB,kCAAkC,sBAAsB,SAAS,OAAO,oBAAoB,WAAW,aAAa,GAAG,mCAAmC,qBAAqB,kBAAkB,2BAA2B,WAAW,4BAA4B,sEAAsE,WAAW,EAAE,eAAe,uLAAuL,mCAAmC,IAAI,sEAAsE,EAAE,WAAW,EAAE,sDAAsD,UAAU,qCAAqC,4BAA4B,IAAI,4GAA4G,kDAAkD,UAAU,uFAAuF,cAAc,MAAM,yEAAyE,4BAA4B,QAAQ,yBAAyB,wCAAwC,4DAA4D,IAAI,OAAO,QAAQ,GAAG,sBAAsB,+BAA+B,6BAA6B,eAAe,SAAS,WAAW,iCAAiC,sEAAsE,2OAA2O,EAAE,eAAe,4RAA4R;AACrmgB;;;;;;;;;;;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yCAAyC,IAAI;AAC9E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,CAAC;;AAEyC;;;;;;;;;;;;;;;;;AChTnC;AACP;AACA;AACA,mCAAmC,UAAU,iBAAiB,SAAS,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,mCAAmC,UAAU,iBAAiB,SAAS,YAAY;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;;AAE+B;;AAE/B;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY;AACZ;AACO;;AAEP;AACA;AACA,YAAY;AACZ;AACO,gCAAgC,UAAU;;AAEjD;AACA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACO,6BAA6B,UAAU;;AAE9C;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB;AACO;AACP,kBAAkB,gBAAgB;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA,WAAW,KAAK;AAChB,WAAW,qCAAqC;AAChD,YAAY;AACZ;AACO;AACP,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B,WAAW,KAAK;AAChB,WAAW,kCAAkC;AAC7C,YAAY;AACZ;AACO;AACP,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,iBAAiB;AAC5B,YAAY;AACZ;AACO;;AAEP;AACA;AACA,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACO,4CAA4C,aAAa;;AAEhE;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,8BAA8B;AACzC,YAAY;AACZ;AACO;AACP;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,oCAAoC;AAC/C;AACO;;AAEA;;AAEP;AACA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACO,2BAA2B,yCAAQ;;AAE1C;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,eAAe;AAC1B,YAAY;AACZ;AACO;AACP;AACA,YAAY;AACZ;AACA,mBAAmB,2CAAU;AAC7B;AACA,YAAY;AACZ;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,gBAAgB;AAC9B,cAAc,uEAAuE;AACrF,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA,YAAY;AACZ;AACA;AACA,kBAAkB,gBAAgB;AAClC,+BAA+B,KAAK,2BAA2B,KAAK;AACpE;AACA,oBAAoB,KAAK;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,qBAAqB;AAChC;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3NA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP;AACA;AACA;AACA,UAAU;AACV;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP;AACA,UAAU;AACV;AACO;AACP;AACA,UAAU;AACV;AACO;;;;;;;;;;;;;;;;;;;;;;ACzFP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAE+B;AACA;AACM;AACE;;AAEvC;AACA,aAAa,QAAQ;AACrB,cAAc,6BAA6B;AAC3C,cAAc,KAAK;AACnB;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,cAAc,eAAe,iBAAiB;AAC9C;AACA;AACA;AACA,eAAe,KAAK;AACpB;AACA,wFAAwF,MAAM,kDAAiB,oBAAoB;AACnI,IAAI,iDAAgB;AACpB;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA,IAAI,mDAAkB,oBAAoB,gDAAe,CAAC,uEAAsC;AAChG;;AAEA;AACA,IAAI,kDAAiB;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA,EAAE,mDAAkB;AACpB,iBAAiB,2CAAU;AAC3B;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,wBAAwB;AACnC;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,wBAAwB;AACnC;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB;AACO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjIA;AACA;AACA;AACA;AACA;;AAEqC;AACE;AACJ;AACF;AACQ;AACA;;AAEzC;AACA,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA;AACA;AACA,WAAW,aAAa;AACxB;AACO;;AAEP;AACA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC,SAAS,oDAAmB;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACO,iBAAiB,sDAAa;;AAErC;AACO,mBAAmB,sDAAa;;AAEvC;AACA;AACA,WAAW,YAAY;AACvB;AACO;;AAEP;AACA,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACO,2BAA2B,0CAAS;;AAE3C;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACO;AACP;AACA,6BAA6B,0CAAS;AACtC,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACO;AACP,EAAE,gDAAe,YAAY,kDAAiB;;AAE9C;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACO,yBAAyB,iDAAgB,CAAC,uDAAsB;;AAEvE;AACA,qBAAqB,GAAG;AACxB;AACA,WAAW,YAAY;AACvB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA,kBAAkB,eAAe;AACjC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AClKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,kBAAkB;AAC7B,YAAY;AACZ;AACA;AACO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEqC;AACJ;AACI;AACA;AACF;AACM;;AAEzC,kCAAkC,6CAAY;AAC9C,+BAA+B,6CAAY;;AAE3C;AACA;AACA;AACO;AACP;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACO;;AAEP;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;;AAEP;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;;AAEP;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;;AAEP;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6CAAY;AACjC;AACA,YAAY,4CAAW;AACvB;AACA;AACA;AACA,cAAc,wDAAuB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP;AACA,gBAAgB,6CAAY;AAC5B;AACA,oBAAoB,4CAAW;AAC/B,WAAW,4CAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6CAAY;AACjC;AACA,YAAY,4CAAW;AACvB;AACA;AACA;AACA,cAAc,wDAAuB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;AACO;AACP;AACA;AACA;AACA,IAAI;AACJ;AACA,gCAAgC;AAChC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,KAAK;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACO;AACP,oBAAoB,uDAAsB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,QAAQ;AACpB;AACA;AACA;AACO,sBAAsB,uDAAsB;;AAEnD;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;AACP,kBAAkB,uDAAsB;AACxC;AACA;AACA;AACA;AACA,aAAa,sDAAqB;AAClC;AACA;AACA;AACA;AACA,IAAI,+CAAc;AAClB;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO,wCAAwC,kDAAiB;;AAEhE;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACO;;AAEP;AACA,WAAW,SAAS;AACpB;AACO;;AAEP;AACA,WAAW,SAAS;AACpB;AACO,2CAA2C,KAAK;;AAEvD;AACA,WAAW,SAAS;AACpB;AACO,4CAA4C,KAAK;;AAExD;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,cAAc;AACd;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA,GAAG;AACH,eAAe;AACf;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACO;;AAEP;AACA;AACA;AACA;AACA;AACO;AACP;AACA,aAAa,YAAY;AACzB,aAAa,qBAAqB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,sBAAsB,GAAG;AACzB;AACA;;AAEO;AACP;AACA,aAAa,YAAY;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,aAAa,YAAY;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;;AAEO;AACP;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,oDAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;;AAEO;AACP;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,oDAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;;AAEO;AACP;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,2CAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjsBA;;AAEA;AACA;AACA;AACA;AACA;;AAEiC;AACF;;AAE/B;AACA;AACA,UAAU;AACV;AACO,uBAAuB,UAAU,mDAAmD;;AAE3F;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEP;AACA,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEA,6BAA6B,WAAW;;AAE/C;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA,WAAW,SAAS;AACpB,WAAW,yCAAyC;AACpD,YAAY;AACZ;AACO;AACP,EAAE,6CAAY;AACd;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,qBAAqB;AAChC,YAAY;AACZ;AACO;AACP,kCAAkC,6BAA6B;AAC/D;AACA;;AAEA;AACA,WAAW,4BAA4B;AACvC,YAAY;AACZ;AACO;AACP;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,aAAa;AACxB,YAAY;AACZ;AACO;AACP;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB;AACO;;AAEP;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,eAAe;AAC1B;AACO;;AAEP;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,WAAW,eAAe;AAC1B;AACO;;AAEP;AACA,WAAW,MAAM;AACjB,WAAW,wCAAwC;AACnD,YAAY;AACZ;AACO;AACP,EAAE,6CAAY;AACd;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,wCAAwC;AACnD,YAAY;AACZ;AACO;AACP,EAAE,6CAAY;AACd;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,2DAA2D;AACtE,WAAW,aAAa;AACxB,YAAY;AACZ;AACO;AACP;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,0BAA0B;AACrC;AACO,qCAAqC,UAAU,GAAG,YAAY;;AAErE;AACA,WAAW,iCAAiC;AAC5C,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACO,8BAA8B,wCAAO,uBAAuB,IAAI,GAAG,OAAO;;AAEjF;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,wBAAwB;AACnC,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO,wCAAwC,aAAa;;AAE5D;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA,gEAAgE,KAAK;;AAErE;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO,kDAAkD,KAAK;;AAE9D;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,aAAa;AACxB,WAAW,8BAA8B;AACzC;AACO;;AAEP;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,WAAW,WAAW;AACtB,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,YAAY;AACZ;AACO;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA,WAAW,MAAM;AACjB,WAAW,aAAa;AACxB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEiC;AACI;AACA;AACA;AACF;;AAEnC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,wBAAwB;AACnC;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;AACP;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,YAAY,YAAY;AACxB;AACO;AACP;AACA;AACA,kBAAkB,yBAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA,kCAAkC,yCAAQ;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA,kBAAkB,4CAA4C;AAC9D;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP,uBAAuB,6CAAY;AACnC,+BAA+B,6CAAY;AAC3C;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP,0BAA0B,6CAAY;AACtC,sCAAsC,6CAAY;AAClD;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP,kBAAkB,OAAO;AACzB,yBAAyB,6CAAY;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP,kBAAkB,QAAQ;AAC1B,uCAAuC,6CAAY;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP,kBAAkB,OAAO;AACzB,gCAAgC,6CAAY;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP,eAAe,6CAAY;AAC3B,mBAAmB,4CAAW,IAAI,6CAAY;AAC9C,UAAU,2CAAU;AACpB;AACA,iBAAiB,6CAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP,qBAAqB,oDAAmB;AACxC;AACA;AACA;AACA;AACA,wBAAwB,6CAAY,GAAG,4CAAW,sBAAsB,4CAAW,SAAS,6CAAY;AACxG,QAAQ,2CAAU;AAClB;AACA;AACA;AACA,0BAA0B,6CAAY,GAAG,4CAAW,SAAS,6CAAY;AACzE,UAAU,2CAAU;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA,oBAAoB,uDAAsB;AAC1C;AACA,oBAAoB,aAAa;AACjC;AACA;AACA,IAAI;AACJ,gCAAgC,kDAAiB;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B,8BAA8B,QAAQ;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACO,wBAAwB,uDAAsB,eAAe,KAAK,IAAI,uDAAsB;;AAEnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;AACP,qCAAqC,kDAAiB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,YAAY;AACvB;AACO;AACP,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACO;;AAEP;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,YAAY;AACvB;AACO;AACP;AACA;AACA,sBAAsB,yCAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,yCAAQ;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,YAAY;AACvB;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO;;AAEP;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO,mDAAmD,KAAK;;AAE/D;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACO,oDAAoD,KAAK;;AAEhE;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,QAAQ,MAAM,QAAQ;AACzF,mEAAmE,QAAQ,MAAM,QAAQ;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,sFAAsF;AACjG;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,iDAAgB,UAAU,yCAAQ,UAAU,8CAAa;AACnE;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,SAAS,8CAAa;AAC9B;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,aAAa,2BAA2B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACj6BA;AACA;AACA;AACA;AACA;;AAE+B;AACM;AACQ;AACN;AACL;;AAElC;AACA;AACO;;AAEP;AACO;AACP;AACO;AACP;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,2CAAU;AACzB;AACA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,eAAe,2CAAU,IAAI;AAC7B;AACA;AACA;AACA,0BAA0B,qDAAoB,WAAW;AACzD,yBAAyB,qDAAoB,WAAW;AACxD;AACA,OAAO;AACP,MAAM;AACN,eAAe,2CAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;;AAEP;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;AACP;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;AACP;AACA,MAAM,2DAA0B;AAChC,MAAM,2DAA0B,CAAC,mDAAkB;;AAEnD;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;AACP;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;AACP;AACA,4DAA4D,wCAAwC;AACpG;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;AACP;;AAEA;AACO;;AAEP;AACA;AACA,EAAE,iDAAS;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACvJA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACO;;AAEP;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACO;AACP;AACA;;AAEA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;AC7BA;;AAEiC;;AAEjC;AACA;AACA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;;AAEA;AACA,WAAW,iBAAiB;AAC5B;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,UAAU;AACxB;;AAEA;AACA,WAAW,uBAAuB;AAClC;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;;AAEP;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;;AAEP;AACO;;AAEP;AACA,WAAW,uBAAuB;AAClC,YAAY;AACZ;AACA;AACO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACO;;AAEP;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACO;AACP;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iDAAgB;AACpC;AACA;AACA;AACA,6BAA6B,KAAK;AAClC;AACA;AACA;AACA,yBAAyB,KAAK,uBAAuB,iBAAiB,MAAM;AAC5E,MAAM;AACN;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HA;AACA;AACA;AACA;AACA;;AAEmC;AACE;AACA;;AAErC;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,YAAY;AACvB;AACO;AACP;AACA,WAAW,eAAe;AAC1B;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEO;;AAEP;AACA;AACA,WAAW,cAAc;AACzB,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA,WAAW,GAAG;AACd,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,iBAAiB;AAC5B,YAAY;AACZ;AACO,0GAA0G,8CAAa,OAAO,gDAAe,eAAe,UAAU,sCAAsC,iDAAgB;;AAEnO;;AAEA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,2DAA0B;AAClC,aAAa,2DAA0B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,8CAAa,QAAQ,8CAAa;AAC5C;AACA;AACA;AACA,aAAa,mDAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,GAAG;AACjB;AACA,WAAW,GAAG;AACd,WAAW,aAAa;AACxB;AACA;AACO;AACP;;AAEO,gBAAgB,8CAAa;;AAEpC;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACO;;AAEP;AACA,cAAc,oCAAoC;AAClD,WAAW,KAAK;AAChB,WAAW,MAAM;AACjB,YAAY;AACZ;AACO;;AAEP;AACA,cAAc,oCAAoC;AAClD,WAAW,MAAM;AACjB;AACO;AACP;AACA,aAAa,KAAK;AAClB,cAAc;AACd;AACA;;;;;;;;;;;;;;;;;;;AC1LA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,eAAe;AAC1B,YAAY;AACZ;AACO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,aAAa;AACb;AACA,CAAC;;AAED;AACA;AACA,WAAW,8BAA8B;AACzC,YAAY;AACZ;AACO;AACP;AACA,cAAc;AACd;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;AACA;AACA,WAAW,aAAa;AACxB,WAAW,qBAAqB;AAChC;AACO;AACP;AACA;AACA;AACA,IAAI;AACJ;AACA,CAAC;;AAED;AACA;AACA,WAAW,aAAa;AACxB,WAAW,eAAe;AAC1B;AACO;AACP,UAAU,cAAc;AACxB,WAAW;AACX,CAAC;;;;;;;;;;;;;;;;;AC5DD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB8B;AACJ;AACM;AACF;AACJ;;AAE1B,aAAa,8CAAa;AAC1B,eAAe,8CAAa;AAC5B,aAAa,8CAAa;AAC1B,aAAa,8CAAa;AAC1B,cAAc,8CAAa;AAC3B,YAAY,8CAAa;AACzB,eAAe,8CAAa;AAC5B,eAAe,8CAAa;AAC5B,gBAAgB,8CAAa;;AAEpC;AACA;AACA,WAAW,6DAA6D;AACxE,YAAY;AACZ;AACO;AACP;AACA,sBAAsB,oCAAoC,eAAe,YAAY;AACrF;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,iDAAgB;;AAEtC;AACA;AACA,WAAW,uBAAuB;AAClC,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;AACP;AACA,wBAAwB,wDAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,6CAAQ;AACd;AACA;AACA;AACA;AACA,wBAAwB,iDAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+CAAc;AACrC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxGA;AACA;AACA;AACA;AACA;;AAEuC;AACR;AACE;AACF;AACE;AACF;AACY;AACV;AACY;;AAEsD;;AAEnG;AACA,UAAU;AACV;AACA;AACA,GAAG,oDAAW,GAAG,4CAAW;AAC5B,GAAG,sDAAa,GAAG,4CAAW;AAC9B,GAAG,oDAAW,GAAG,4CAAW;AAC5B,GAAG,qDAAY,GAAG,4CAAW;AAC7B,GAAG,oDAAW,GAAG,4CAAW;AAC5B,GAAG,mDAAU,GAAG,4CAAW;AAC3B,GAAG,sDAAa,GAAG,4CAAW;AAC9B,GAAG,sDAAa,GAAG,4CAAW;AAC9B,GAAG,uDAAc,GAAG,4CAAW;AAC/B;;AAEA;AACA,WAAW,mDAAmD;AAC9D,YAAY;AACZ;AACA;AACA;AACA;AACA,sBAAsB,oCAAoC,eAAe,YAAY;AACrF;AACA;AACA;AACA,uBAAuB,2CAAU;AACjC;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,sBAAsB,qDAAoB;AAC1C;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,0DAAiB;AAC5C;AACA,IAAI,yEAAgC;AACpC;;AAEA;AACA,WAAW,oCAAoC;AAC/C;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,oCAAoC;AAC/C;AACO;AACP;AACA,eAAe,sDAAa;AAC5B;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB;AACA;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACO;AACP,MAAM,sDAAa;AACnB;AACA;AACA,oBAAoB,OAAO,IAAI,0BAA0B,8BAA8B,wBAAwB,IAAI;AACnH;AACA,uDAAuD,OAAO,GAAG,kBAAkB,IAAI,YAAY;AACnG;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACO;AACP,2BAA2B,SAAS,OAAO;;AAE3C;AACA,WAAW,oCAAoC;AAC/C;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,oCAAoC;AAC/C;AACO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA,WAAW,iBAAiB;AAC5B;AACA;AACO;AACP;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB;AACA;AACO;AACP;;AAEO,kBAAkB,2CAAU;;AAEnC;AACA,WAAW,oCAAoC;AAC/C,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,qBAAqB,4CAAW;AAChC,UAAU,4CAAW,UAAU,qDAAoB;AACnD,YAAY,yCAAQ;AACpB;AACA,kCAAkC;AAClC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAS,iBAAiB;AAC1B;AACA;AACA;AACA,wBAAwB,+CAAc;AACtC;AACA;AACA,QAAQ,4CAAW,cAAc,yCAAQ,YAAY,QAAQ;AAC7D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,gCAAgC,YAAY;;AAErE;AACO;AACP;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,oCAAoC;AACjD,aAAa,SAAS;AACtB;AACA;AACA,IAAI,kDAAiB;AACrB,2BAA2B,4CAAW;AACtC,QAAQ,4CAAW;AACnB,QAAQ,4CAAW,sBAAsB,eAAe;AACxD,UAAU,yCAAQ;AAClB,4BAA4B,4CAAW;AACvC,QAAQ,4CAAW;AACnB,QAAQ,4CAAW,sBAAsB,eAAe;AACxD,UAAU,yCAAQ;AAClB,sBAAsB,4CAAW;AACjC;AACA,SAAS,4CAAW;AACpB;AACA,aAAa,WAAW,eAAe,gBAAgB;AACvD;AACA,sCAAsC,yCAAQ;AAC9C;AACA;AACA;AACA,4BAA4B,4CAAW;AACvC,QAAQ,4CAAW;AACnB;AACA,uBAAuB,4CAAW;AAClC,MAAM,2CAAU;AAChB;AACA;AACA;AACA,MAAM,qDAAoB;AAC1B;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,aAAa,oCAAoC;AACjD;AACA;AACA;AACA;;AAEA;AACA,IAAI,kDAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,oCAAoC;AACjD;AACA;AACA,IAAI,kDAAiB;AACrB,MAAM,2CAAU;AAChB,QAAQ,4CAAW;AACnB,UAAU,4CAAW;AACrB;AACA,eAAe,WAAW,eAAe,gBAAgB;AACzD;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,OAAO;AACpB;AACA;AACA,gBAAgB,mDAAU,EAAE,oDAAW;AACvC;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,IAAI,kDAAiB;AACrB,MAAM,2CAAU;AAChB,QAAQ,4CAAW;AACnB,UAAU,4CAAW;AACrB,UAAU,4CAAW,cAAc,2CAAU,eAAe;AAC5D;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,MAAM;AACnB;AACA;AACA,IAAI,kDAAiB;AACrB,MAAM,2CAAU;AAChB,KAAK;AACL;;AAEA;AACA,IAAI,kDAAiB;AACrB;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,WAAW,SAAS;AACpB;AACA;AACO;;AAEP;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO,2CAA2C,kEAAyB;;;;;;;;;;;;;;;;;;;;;AC9X3E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACO;;AAEP;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACO;AACP;AACA,wBAAwB,aAAa;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B,cAAc,uDAAuD;AACrE,WAAW,KAAK;AAChB,WAAW,4CAA4C;AACvD,WAAW,IAAI;AACf,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,iBAAiB;AAC5B,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,uBAAuB;AAClC,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,uBAAuB;AAClC,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/GA;AACA;AACA;AACA;AACA;;AAEO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACO;;AAEP;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACO;;AAEP;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACO;;AAEA;;AAEA;AACP;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;AACO;;AAEA;;AAEP;AACA,WAAW,QAAQ;AACnB,YAAY,SAAS;AACrB;AACO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzDP;AACA;AACA;AACA;AACA;;AAEiC;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEP;AACA;;AAEA;AACA,4EAA4E,mBAAmB;AAC/F;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,aAAa;AACb;AACO;AACP,6BAA6B,2CAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,2CAAU,iBAAiB,2CAAU,iBAAiB,2CAAU;AACvE;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;;AAEiC;AACI;;AAE9B;AACA;;AAEA;AACA,sBAAsB,8CAAa;AACnC,uBAAuB,8CAAa;;AAE3C;AACO,0FAA0F,2CAAU;AACpG;AACA;;AAEP;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACO;AACP,OAAO,8CAAa;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY,oBAAoB;AAChC;AACO;;AAEP;AACA;AACA;AACO;;AAEP;AACA,WAAW,oBAAoB;AAC/B;AACO;;AAEP;AACA;AACA,YAAY,eAAe;AAC3B,WAAW,wBAAwB;AACnC;AACO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,wBAAwB;AACnC,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,oBAAoB;AAC/B,WAAW,8BAA8B;AACzC,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,uBAAuB;AAClC;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,oBAAoB;AAC/B,WAAW,8BAA8B;AACzC,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,eAAe;AAC1B,YAAY;AACZ;AACO;;AAEP;AACA,WAAW,oBAAoB;AAC/B,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACO;;AAEP;AACA;AACA;AACA;AACO;;AAEP;AACA;AACA;AACA;AACA,cAAc,KAAK;AACnB,WAAW,GAAG;AACd,YAAY;AACZ;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC1IA;AACA;AACA;AACA;AACA;;AAE+B;AACA;AACI;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+CAA+C;AAC9D;AACO;AACP;AACA;AACA;AACA,cAAc;AACd;AACA,sBAAsB,2CAAU;AAChC;;AAEA;AACA,gBAAgB,uBAAuB;AACvC,aAAa,MAAM;AACnB,aAAa,cAAc;AAC3B;AACA;AACA,IAAI,mDAAkB,6BAA6B,QAAQ,WAAW,2CAAU;AAChF;AACA;;AAEA;AACA,gBAAgB,uBAAuB;AACvC,aAAa,MAAM;AACnB,aAAa,cAAc;AAC3B;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,gCAAgC,KAAK;AACrC;AACA;AACA,6BAA6B,KAAK;AAClC;;AAEA;AACA,gBAAgB,uBAAuB;AACvC,aAAa,MAAM;AACnB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uBAAuB;AACvC,aAAa,MAAM;AACnB,aAAa,0BAA0B;AACvC;AACA;AACA;AACA,WAAW,2CAAU,+BAA+B,2CAAU;AAC9D;;AAEA;AACA,sBAAsB,2CAAU;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,cAAc;AACd;AACA,sBAAsB,2CAAU;AAChC;;AAEA;AACA,aAAa,GAAG;AAChB,aAAa,UAAU;AACvB;AACA;AACA,IAAI,mDAAkB,wBAAwB,2CAAU;AACxD;;AAEA;AACA,aAAa,GAAG;AAChB,aAAa,UAAU;AACvB;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,GAAG;AAChB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,GAAG;AAChB,aAAa,YAAY;AACzB;AACA;AACA;AACA,WAAW,2CAAU,+BAA+B,2CAAU;AAC9D;;AAEA;AACA,sBAAsB,2CAAU;AAChC;AACA;AACA;;;;;;;;;;;;;;;;;;;;AChKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA,aAAa,GAAG;AAChB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,YAAY;AACZ;AACO;;AAEP;AACA;AACA,WAAW,GAAG;AACd,WAAW,GAAG;AACd,YAAY;AACZ;AACO;;AAEP;AACA;AACA,WAAW,kBAAkB;AAC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A;;AAEA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,6CAAG;AAChB,QAAQ,6CAAG;AACX,YAAY,6CAAG;AACf,gBAAgB,+CAAK,CAAC,+CAAK;AAC3B,gBAAgB,+CAAK,CAAC,+CAAK;AAC3B,YAAY,6CAAG;AACf,gBAAgB,+CAAK,CAAC,+CAAK;AAC3B,gBAAgB,+CAAK,CAAC,+CAAK;AAC3B,QAAQ,6CAAG;AACX,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;;AAEvB,cAAc,kDAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,oDAAc;AACxD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,+CAAK;AACxB,gCAAgC,mDAAS;AACzC,YAAY,+CAAK;AACjB,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;AACvB;AACA;AACA,mBAAmB,+CAAK;AACxB,gCAAgC,mDAAS;AACzC,YAAY,+CAAK;AACjB,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;AACvB;AACA;AACA,mBAAmB,+CAAK;AACxB,gCAAgC,mDAAS;AACzC,YAAY,+CAAK;AACjB,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;AACvB;AACA;AACA,mBAAmB,+CAAK;AACxB,gCAAgC,mDAAS;AACzC,YAAY,+CAAK;AACjB,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;AACvB;AACA;AACA,mBAAmB,+CAAK;AACxB,gCAAgC,mDAAS;AACzC,YAAY,+CAAK;AACjB,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;AACvB;AACA;AACA,mBAAmB,+CAAK;AACxB,gCAAgC,mDAAS;AACzC,YAAY,+CAAK;AACjB,YAAY,+CAAK,CAAC,+CAAK;AACvB,YAAY,+CAAK,CAAC,+CAAK;AACvB;;AAEA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6CAAG;AACxB;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,oCAAoC,6CAAG;AACvC,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;;AAErB,yBAAyB,+CAAK;AAC9B,oCAAoC,mDAAS;AAC7C,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;;AAErB;AACA,wCAAwC,+CAAK,CAAC,+CAAK;AACnD;AACA;AACA,wCAAwC,+CAAK,CAAC,+CAAK;AACnD;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,oCAAoC,6CAAG;AACvC,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;;AAErB,yBAAyB,+CAAK;AAC9B,oCAAoC,mDAAS;AAC7C,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;AACrB;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6CAAG;AACxB;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,oCAAoC,6CAAG;AACvC,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;;AAErB,yBAAyB,+CAAK;AAC9B,oCAAoC,mDAAS;AAC7C,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;;AAErB;AACA,wCAAwC,+CAAK,CAAC,+CAAK;AACnD;AACA;AACA,wCAAwC,+CAAK,CAAC,+CAAK;AACnD;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,oCAAoC,6CAAG;AACvC,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;;AAErB,yBAAyB,+CAAK;AAC9B,oCAAoC,mDAAS;AAC7C,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;AACrB,gBAAgB,+CAAK;AACrB;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AAC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;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,mDAAS;AAC9B;AACA;AACA,QAAQ,mDAAS;AACjB;AACA;AACA;;AAEA;AACA;;AAEA,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,YAAY,6CAAG;;AAEf;AACA;AACA,WAAW,mDAAS;AACpB,QAAQ,+CAAK,CAAC,+CAAK;AACnB,QAAQ,+CAAK,CAAC,+CAAK;AACnB,QAAQ,+CAAK,CAAC,+CAAK;AACnB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,6CAAG;AACtB,QAAQ,6CAAG;AACX,YAAY,gDAAM;AAClB;AACA,QAAQ,6CAAG;AACX,YAAY,gDAAM;AAClB;;AAEA,cAAc,kDAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,oDAAc;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;AC7vBgF;;AAEhF,+BAA+B,6CAAO,IAAI,6CAAO;AACjD,+BAA+B,6CAAO,IAAI,6CAAO;AACjD,+BAA+B,6CAAO,IAAI,6CAAO,GAAG,6CAAO;;AAE3D,UAAU,6CAAG;AACb,WAAW,6CAAG;AACd,WAAW,6CAAG;AACd,UAAU,6CAAG;AACb,UAAU,6CAAG;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc,kDAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,uCAAuC,oDAAc;AACrD;AACA;;AAEA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6CAAG;;AAErB;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,6CAAG;;AAErB;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,6CAAG;;AAEpB;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;ACvLuF;;AAEvF,+BAA+B,6CAAO,IAAI,6CAAO;AACjD,+BAA+B,6CAAO,IAAI,6CAAO;AACjD,iCAAiC,6CAAO,IAAI,6CAAO,GAAG,6CAAO;;AAE7D,WAAW,6CAAG;AACd,WAAW,6CAAG;AACd,WAAW,6CAAG;AACd,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,aAAa,6CAAG;AAChB,YAAY,6CAAG;AACf,YAAY,6CAAG;AACf,YAAY,6CAAG;AACf,UAAU,6CAAG;;AAEb,WAAW,6CAAG;AACd,YAAY,6CAAG;AACf,YAAY,6CAAG;AACf,YAAY,6CAAG;;AAEf,UAAU,6CAAG;AACb,WAAW,6CAAG;;AAEd;AACA,aAAa,6CAAG;AAChB,qBAAqB,YAAY;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA,gBAAgB,8CAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA,YAAY,8CAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA,QAAQ,8CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,6CAAG;AAChB,QAAQ,6CAAG;AACX,YAAY,+CAAK;AACjB,YAAY,+CAAK;AACjB,QAAQ,+CAAK;;AAEb,cAAc,kDAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,oDAAc;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,6CAAG;AACtB,4BAA4B,+CAAK;;AAEjC,mBAAmB,6CAAG;AACtB,4BAA4B,+CAAK;;AAEjC,mBAAmB,6CAAG;AACtB,4BAA4B,+CAAK;;AAEjC;AACA,gCAAgC,+CAAK;AACrC,gCAAgC,+CAAK;AACrC;AACA;AACA,gCAAgC,+CAAK;AACrC,gCAAgC,+CAAK;AACrC;AACA;AACA,gCAAgC,+CAAK;AACrC,gCAAgC,+CAAK;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC7cO;AACA;AACA;;AAEP;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,UAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,oBAAoB,UAAU;AAC9B;AACA;;AAEO;AACP;AACA,oBAAoB,UAAU;AAC9B;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxIyD;AACA;AACA;AACA;;;;;;;;;;;;ACJ5C;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;AACA,cAAc,UAAU;AACxB;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc,mBAAmB;AACjC;AACA,cAAc,mBAAmB;AACjC;AACA,cAAc,mBAAmB;AACjC;AACA,cAAc,mBAAmB;AACjC;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc,UAAU;AACxB;AACA,cAAc,UAAU;AACxB;AACA;AACA,cAAc,mBAAmB;AACjC,cAAc,mBAAmB;AACjC,cAAc,mBAAmB;AACjC,cAAc,mBAAmB;AACjC;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,cAAc,iEAAiE;AAC/E,uBAAuB,cAAc,eAAe,mBAAmB;AACvE,IAAI,SAAS,oBAAoB;AACjC;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,oBAAoB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,WAAW,oBAAoB;AAC/B;AACA,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA,qCAAqC,aAAa;AAClD,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,eAAe,sCAAsC,QAAQ;AACxE;AACA,aAAa,UAAU;AACvB;AACA,wEAAwE,QAAQ;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc,WAAW;AACpC,aAAa,UAAU;AACvB;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;AACA,4CAA4C,YAAY;AACxD,mDAAmD,YAAY;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,WAAW,kBAAkB;AAC7B,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,WAAW,cAAc;AACzB,WAAW,KAAK;AAChB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA,kCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA,iEAAiE,UAAU;AAC3E;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,IAAI;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,kCAAkC,IAAI;AACtC;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,YAAY;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,mBAAmB;AAChC;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,mBAAmB;AAChC;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,yBAAyB,yBAAyB;AAClD;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,mBAAmB;AAChC;AACA,0BAA0B;AAC1B,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA,WAAW,2BAA2B;AACtC,aAAa,wBAAwB;AACrC;AACA,+BAA+B;AAC/B,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,aAAa,qBAAqB;AAClC;AACA,4BAA4B;AAC5B,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,aAAa,sBAAsB;AACnC;AACA,6BAA6B;AAC7B,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,oBAAoB;AACjC;AACA,2BAA2B;AAC3B,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,oBAAoB;AACjC;AACA,2BAA2B;AAC3B,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,oBAAoB;AACjC;AACA,2BAA2B;AAC3B,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,oBAAoB;AACjC;AACA,2BAA2B;AAC3B,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,oBAAoB;AACjC;AACA,2BAA2B;AAC3B,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,WAAW,uBAAuB;AAClC,aAAa,oBAAoB;AACjC;AACA,2BAA2B;AAC3B,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,aAAa,qBAAqB;AAClC;AACA,4BAA4B;AAC5B,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,aAAa,uBAAuB;AACpC;AACA,8BAA8B;AAC9B,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,aAAa,sBAAsB;AACnC;AACA,6BAA6B;AAC7B,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,mBAAmB;AAChC;AACA,0BAA0B;AAC1B,qBAAqB,yBAAyB;AAC9C;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,aAAa,sBAAsB;AACnC;AACA,6BAA6B;AAC7B,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,aAAa,uBAAuB;AACpC;AACA,8BAA8B;AAC9B,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA,WAAW,6BAA6B;AACxC,aAAa,0BAA0B;AACvC;AACA,iCAAiC;AACjC,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,aAAa,uBAAuB;AACpC;AACA,8BAA8B;AAC9B,qBAAqB,6BAA6B;AAClD;;AAEA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,uBAAuB;AACpC,cAAc,SAAS;AACvB;AACA;AACA;AACA,mBAAmB,0CAA0C;AAC7D;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,uBAAuB;AACpC,cAAc,SAAS;AACvB;AACA;AACA;AACA,mBAAmB,gDAAgD;AACnE;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,uBAAuB;AACpC,cAAc,SAAS;AACvB;AACA;AACA;AACA,mBAAmB,uCAAuC;AAC1D;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,uBAAuB;AACpC,cAAc,SAAS;AACvB;AACA;AACA;AACA,mBAAmB,gDAAgD;AACnE;AACA;AACA;AACA;AACA,WAAW,sBAAsB;AACjC,aAAa,uBAAuB;AACpC,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA,+BAA+B,mBAAmB;AAClD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,iBAAiB,2CAA2C;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,iBAAiB;AAChC,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,iBAAiB;AAChC,iBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,iBAAiB;AAChC,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,iBAAiB;AAChC,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,0BAA0B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,iBAAiB;AAChC,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,WAAW;AACzB,cAAc,QAAQ;AACtB,cAAc,sBAAsB;AACpC,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qEAAqE;AACpF;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,WAAW;AACzB,cAAc,YAAY;AAC1B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,cAAc,0BAA0B;AACxC,cAAc,iBAAiB;AAC/B,cAAc,gCAAgC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,6BAA6B;AAC5C;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C;AACA,gBAAgB,WAAW;AAC3B;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,gBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,6BAA6B;AAC5C,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,eAAe,6BAA6B;AAC5C,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6BAA6B;AAC5C,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,cAAc;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,YAAY;AAC1B,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,wDAAwD;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,WAAW;AACzB,cAAc,QAAQ;AACtB,cAAc,sBAAsB;AACpC,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,+BAA+B;AAC/B;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA,oCAAoC,8BAA8B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM,oCAAoC;AACzD,eAAe,QAAQ;AACvB;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,WAAW;AACzB,cAAc,QAAQ;AACtB,cAAc,sBAAsB;AACpC,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,oCAAoC,8BAA8B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM,oCAAoC;AACzD,eAAe,QAAQ;AACvB;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,WAAW;AACzB,cAAc,QAAQ;AACtB,cAAc,sBAAsB;AACpC,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,wCAAwC,cAAc;AACtD,oCAAoC,8BAA8B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM,oCAAoC;AACzD,eAAe,QAAQ;AACvB;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,2BAA2B;AAC1C;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,QAAQ;AACvB;AACA,eAAe,2BAA2B;AAC1C;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,eAAe,MAAM;AACrB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,2BAA2B;AAC1C;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAA2B;AAC1C;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,4BAA4B,0BAA0B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,2BAA2B;AAC1C;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,uCAAuC;AACtD;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,8CAA8C;AAC7D;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,sBAAsB;AACrC,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,mEAAmE;AAClF;AACA,eAAe,MAAM;AACrB,eAAe,mCAAmC;AAClD;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,mEAAmE;AAClF;AACA,eAAe,gCAAgC;AAC/C;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,2BAA2B;AAC1C,eAAe,iBAAiB;AAChC,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,2BAA2B;AAC1C,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA,eAAe,SAAS;AACxB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AAC/B;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oBAAoB;AACrB;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA,CAAC,oBAAoB;AACrB;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;AACnC;AACA;AACA;AACA;AACA,CAAC,sBAAsB;;AAEvB;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD,eAAe,OAAO;AACtB,eAAe,yCAAyC;AACxD;AACA,iBAAiB,MAAM;AACvB,kBAAkB,0BAA0B;AAC5C,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD,eAAe,OAAO;AACtB,eAAe,yCAAyC;AACxD;AACA,iBAAiB,MAAM;AACvB,kBAAkB,0BAA0B;AAC5C,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mCAAmC;AAClD,eAAe,yCAAyC;AACxD;AACA,iBAAiB,MAAM;AACvB,kBAAkB,0BAA0B;AAC5C,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,2BAA2B;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,0BAA0B;AACxC,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,6CAA6C;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,yEAAyE;AACxF;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA,eAAe,gBAAgB;AAC/B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB;AACA,eAAe,yEAAyE;AACxF;AACA;AACA;AACA;AACA;AACA,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAqC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,qCAAqC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAqC;AACpD,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,gCAAgC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,uBAAuB,QAAQ,YAAY;AAC3C,QAAQ,YAAY,MAAM;AAC1B,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C,uBAAuB,QAAQ,qBAAqB;AACpD,QAAQ,YAAY,MAAM;AAC1B,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qCAAqC;AACpD;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,OAAO,KAAK,MAAM,IAAI,UAAU;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,UAAU;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kGAAkG;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mCAAmC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,MAAM;AAChD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,SAAS;AACxB,eAAe,8BAA8B,UAAU,qBAAqB;AAC5E;AACA,iBAAiB,MAAM;AACvB;AACA,wDAAwD,sBAAsB;AAC9E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,sCAAsC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mDAAmD;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,iCAAiC,IAAI;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F,mDAAmD;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,mDAAmD;AACtI;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,mDAAmD;AAC3I;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,gBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,gBAAgB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,gBAAgB;AAClG,iFAAiF,gBAAgB;AACjG,8EAA8E,gBAAgB;AAC9F,iFAAiF,gBAAgB;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iDAAiD;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA,+BAA+B,mBAAmB,yBAAyB,sBAAsB,mBAAmB,WAAW,oBAAoB,mBAAmB,SAAS,kBAAkB,qBAAqB,gBAAgB,YAAY;AAClP;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,yCAAyC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,MAAM;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,UAAU;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA,gBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C,eAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mCAAmC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,0EAA0E;AACrF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,sBAAsB;AACtB;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,qEAAqE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,kCAAkC;AACjD;AACA;AACA,gBAAgB,eAAe;AAC/B;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC;AACA;AACA,WAAW,yBAAyB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,0CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA,qDAAqD,uCAAuC;AAC5F;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,6DAA6D;AAC7D,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,yCAAyC;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,gEAAgE;AAC/E;AACA,gBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,mBAAmB,oBAAoB,gFAAgF,sBAAsB,sFAAsF,8BAA8B,kFAAkF,mBAAmB,oFAAoF,2BAA2B,8BAA8B,sBAAsB,qBAAqB,kBAAkB,+BAA+B,mBAAmB,aAAa,kBAAkB,4CAA4C,sBAAsB,cAAc;AACjvB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA,eAAe,uCAAuC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C,mEAAmE,WAAW;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,mBAAmB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C;;AAE/C,+BAA+B,cAAc,eAAe;AAC5D;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C,+BAA+B,cAAc;AAC7C;AACA,mCAAmC;AACnC;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,iGAAiG;AACjG,oGAAoG;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,gBAAgB;AACtD,qCAAqC,eAAe;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wBAAwB;AACpC;AACA;AACA,YAAY,wBAAwB;AACpC;AACA;AACA,YAAY,wBAAwB;AACpC;AACA;AACA,YAAY,wBAAwB;AACpC;AACA;AACA;AACA;;AAEA,+BAA+B,qBAAqB,kBAAkB,4BAA4B,sBAAsB,0BAA0B,mBAAmB,aAAa,sBAAsB,gBAAgB,+CAA+C,aAAa,gEAAgE,iCAAiC,kCAAkC,kBAAkB,WAAW,wCAAwC,yBAAyB,mDAAmD,iCAAiC;AACzkB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA,oGAAoG;AACpG,sGAAsG;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA,yBAAyB,oCAAoC;AAC7D;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,eAAe,KAAK,eAAe;AACrF;AACA,iBAAiB;AACjB,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,WAAW,MAAM,WAAW;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW,4CAA4C;AACvD;AACA;AACA,WAAW,4CAA4C;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,kCAAkC;AAChD;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,wCAAwC;AAC3D,mBAAmB,uCAAuC;AAC1D,yBAAyB,WAAW,IAAI,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gEAAgE;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,0BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uCAAuC;AAClD;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,4CAA4C;AACvD,WAAW,oDAAoD;AAC/D,WAAW,0CAA0C;AACrD,WAAW,kDAAkD;AAC7D,WAAW,8CAA8C;AACzD,WAAW,yCAAyC;AACpD,WAAW,4CAA4C;AACvD,WAAW,sDAAsD;AACjE,WAAW,0CAA0C;AACrD;AACA;AACA;AACA;AACA,4BAA4B,KAAK;AACjC,wBAAwB,KAAK,aAAa,OAAO;AACjD,mBAAmB,KAAK;AACxB,mBAAmB,KAAK;AACxB,2BAA2B;AAC3B,2BAA2B,MAAM;AACjC,SAAS;AACT;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,qBAAqB,GAAG,UAAU,GAAG,WAAW,EAAE,eAAe;AAChK,KAAK;AACL;;AAE60D;;;;;;;;;;;;;;;;;;;;;AC16PrzD;AACiB;AACA;;AAElC;;AAEP;AACA,WAAW,kBAAkB;AAC7B,WAAW,QAAQ;AACnB;AACO;AACP,EAAE,uDAAqB;AACvB,EAAE,yDAAuB;AACzB;;AAEA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,QAAQ;AACnB;;AAEA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,WAAW,yBAAyB;AACpC;AACO;AACP,UAAU,sDAAoB;AAC9B,6DAA6D,wDAAsB;AACnF;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;;AAEyC;AACA;AACR;AACA;AACW;AACV;AACV;;AAEjB;;AAEP;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,8DAA8D;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACO,wBAAwB,uDAAU;AACzC;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,qCAAqC,KAAK;AAC1C,kBAAkB,kDAAgB;AAClC,qFAAqF,qBAAqB;AAC1G;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK,EAAE,4CAAU;AACjB;AACA;AACA,KAAK;AACL,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,yBAAyB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,mBAAmB,kDAAgB;AACnC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,MAAM;AACN;AACA,WAAW,uDAAc;AACzB;AACA;AACA;AACA;AACA,6BAA6B,0CAA0C;AACvE;AACA,2BAA2B,yBAAyB;AACpD;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,eAAe;AAC1B,WAAW,KAAK;AAChB;AACO;AACP;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA,uBAAuB,kDAAgB;AACvC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gCAAgC,iCAAiC;AACjE,gCAAgC,iCAAiC;AACjE;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,eAAe;AAC1B,YAAY;AACZ;AACO;AACP;AACA,kBAAkB,wDAAsB;AACxC,EAAE,uDAAqB;AACvB,kBAAkB,SAAS;AAC3B;AACA;AACA,6BAA6B,iBAAiB;AAC9C,IAAI,uDAAqB;AACzB,IAAI,uDAAqB;AACzB,IAAI,yDAAuB;AAC3B;AACA,SAAS,uDAAqB;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACO;AACP,kBAAkB,wDAAsB;AACxC,kBAAkB,wDAAsB;AACxC,cAAc,sDAAoB;AAClC,EAAE,uDAAqB;AACvB,kBAAkB,SAAS;AAC3B,qBAAqB,sDAAoB;AACzC,kBAAkB,sDAAoB;AACtC,6BAA6B,wDAAsB;AACnD;AACA,IAAI,uDAAqB;AACzB,IAAI,uDAAqB;AACzB,IAAI,yDAAuB;AAC3B;AACA,SAAS,uDAAqB;AAC9B;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,YAAY;AACvB,WAAW,KAAK;AAChB;AACO;AACP,kBAAkB,wDAAsB;AACxC,oBAAoB,kDAAgB;AACpC;AACA;AACA;AACA;AACA,cAAc,sDAAoB;AAClC,kBAAkB,SAAS;AAC3B,qBAAqB,sDAAoB;AACzC,gBAAgB,sDAAoB;AACpC,6BAA6B,wDAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR,aAAa,uDAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtSA;AACA;AACA;;AAEyC;AACA;AACjB;;AAExB;AACA,aAAa,qBAAqB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACA;AACA;;AAEP;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB;AACO;AACP,EAAE,uDAAqB;AACvB,aAAa,kDAAmB;AAChC,EAAE,6DAA2B;AAC7B;;AAEA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB;AACO;AACP,EAAE,uDAAqB;AACvB,EAAE,6DAA2B,UAAU,oDAAqB;AAC5D;;AAEA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB;AACO;AACP,+BAA+B,4DAA0B;;AAEzD;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB;AACO;AACP;AACA,IAAI,4CAAa,MAAM,4DAA0B;AACjD,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,WAAW,YAAY;AACvB;AACO;AACP,EAAE,uDAAqB;AACvB,EAAE,6DAA2B;AAC7B;;AAEA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB;AACO;;AAEP;AACA,WAAW,kBAAkB;AAC7B,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB,WAAW,KAAK;AAChB;AACO;AACP,sBAAsB,sDAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjIA;AACA;AACA;;AAEA;;AAEwB;AACmB;AACV;AACQ;AACA;AACO;AACA;AACU;AACZ;AACb;AACF;AACQ;;AAEhC;AACA;AACA;AACA;;AAEP;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,uDAAqB;AACvB,0BAA0B,6DAA4B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iEAAgC;AACtE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,uDAAqB;AACvB,EAAE,6DAA2B;AAC7B;AACA,IAAI,wEAAuC;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,uEAAsC;AACxC;AACA,IAAI,4DAA0B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,6DAA4B;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB;AACA;AACA,8CAA8C,aAAa,KAAK,OAAO;;AAEvE;AACA,WAAW,mBAAmB;AAC9B,WAAW,YAAY;AACvB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA,kBAAkB,wDAAsB;AACxC,kBAAkB,wDAAsB;AACxC,sBAAsB,sDAAoB;AAC1C;AACA,iBAAiB,KAAK;AACtB;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,WAAW;AACtB,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,wEAAuC;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,0CAAQ;AACd,QAAQ,0CAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAuC,kDAAgB;AACvD;AACA,UAAU,iDAAe;AACzB,uBAAuB,uDAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kDAAgB;AACvD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,sBAAsB,wDAAsB;AAC5C,MAAM,uDAAqB;AAC3B,MAAM,4DAA2B;AACjC,qBAAqB,uDAAqB;AAC1C;AACA;AACA,sCAAsC,wDAAsB;AAC5D,QAAQ,uDAAqB;AAC7B,QAAQ,6DAA2B;AACnC;AACA,UAAU,wEAAuC;AACjD;AACA;AACA;AACA,uBAAuB,uDAAqB;AAC5C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,0DAAU;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,oBAAoB;AAClC;AACA;AACA;AACA,aAAa,eAAe,yGAAyG,qDAAqD,mHAAmH;AAC7S;AACO,gCAAgC,yDAAY;AACnD;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB,aAAa,6BAA6B;AAC1C,aAAa,uBAAuB;AACpC,aAAa,eAAe;AAC5B,aAAa,kBAAkB;AAC/B,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,SAAS;AACtB;AACA;AACA;AACA,oBAAoB,4DAA2B;AAC/C,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,IAAI,IAAI;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA,wCAAwC,KAAK;AAC7C;AACA;AACA,0BAA0B,wDAAsB;AAChD,UAAU,uDAAqB;AAC/B,UAAU,4DAA2B;AACrC,uBAAuB,uDAAqB;AAC5C;AACA,OAAO;AACP;;AAEA;AACA,eAAe,aAAa;AAC5B,eAAe,KAAK;AACpB;AACA;AACA;AACA;AACA,YAAY,iDAAe;AAC3B,UAAU,0DAAU,iBAAiB,uDAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,KAAK;AACpB;AACA;AACA;AACA,wBAAwB,wDAAsB;AAC9C,QAAQ,uDAAqB;AAC7B,QAAQ,yDAAwB;AAChC,+BAA+B,uDAAqB;AACpD;AACA;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,KAAK;AACpB;AACA,sCAAsC,yBAAyB;AAC/D;AACA,sBAAsB,wDAAsB;AAC5C,MAAM,uDAAqB;AAC3B,MAAM,6DAA2B;AACjC;AACA,QAAQ,wEAAuC;AAC/C;AACA,6BAA6B,uDAAqB;AAClD;AACA;AACA,MAAM,wEAAuC;AAC7C;AACA;AACA;AACA;AACA;AACA,QAAQ,oDAAU;AAClB;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA,UAAU,kDAAgB;AAC1B;AACA;AACA;AACA,kDAAkD,WAAW;AAC7D;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,wDAAqB;AAC/C;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,oDAAU;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,4DAAY;AAClB;AACA;AACA;AACA;AACA,wBAAwB,wDAAsB;AAC9C,IAAI,uDAAqB;AACzB,IAAI,4DAA2B;AAC/B,IAAI,0DAAU,iBAAiB,uDAAqB;AACpD;AACA,yBAAyB,wDAAsB;AAC/C,IAAI,uDAAqB;AACzB,IAAI,4DAA2B;AAC/B,IAAI,0DAAU,iBAAiB,uDAAqB;AACpD;AACA,kCAAkC,wDAAsB;AACxD,IAAI,uDAAqB;AACzB,IAAI,0DAAU;AACd;AACA,MAAM,uDAAqB;AAC3B;AACA;AACA;AACA,kCAAkC,wDAAsB;AACxD,IAAI,uDAAqB;AACzB,IAAI,6DAA2B;AAC/B;AACA,MAAM,wEAAuC;AAC7C;AACA;AACA;AACA,IAAI,0DAAU;AACd;AACA,MAAM,uDAAqB;AAC3B;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,wDAAsB;AAC1C,IAAI,uDAAqB;AACzB,IAAI,6DAA2B;AAC/B;AACA,MAAM,wEAAuC;AAC7C;AACA;AACA;AACA,2BAA2B,uDAAqB;AAChD;AACA,MAAM,8DAAc;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjgB+C;AACX;AACF;AACF;AACU;AACA;AACJ;AACE;AACF;AACF;AACE;AACH;AACK;AACR;AACQ;AACN;AACI;AACI;AACJ;AACE;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gCAAgC,yDAAY;AAC5C;AACA,aAAa,KAAK;AAClB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,WAAW;AACtB,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C;AACA;AACA;AACA,wCAAwC,8CAA8C;AACtF;AACA;AACA;AACA,GAAG;;AAEH;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4CAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,IAAI;AACf,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,mBAAmB,0CAAQ;AAC3B,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,kBAAkB;AAC7B,YAAY,WAAW;AACvB;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,+BAA+B,gBAAgB;AAC/C,UAAU,gDAAc;AACxB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,EAAE,oDAAkB,sCAAsC,mBAAmB;AAC7E;;AAEA;;AAEA;AACA,WAAW,aAAa;AACxB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,oBAAoB,oBAAoB;AACxC;AACA;AACA;AACA;AACA;AACA,0CAA0C,wCAAwC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,2BAA2B;AACtC,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA,EAAE,uDAAqB;;AAEvB;AACA,EAAE,4CAAU;AACZ;AACA;AACA;AACA,MAAM,uDAAqB;AAC3B;AACA,MAAM,uDAAqB;AAC3B,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,WAAW,2BAA2B;AACtC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sDAAoB;AACzC,kBAAkB,gBAAgB;AAClC;AACA,mBAAmB,sDAAoB;AACvC,4BAA4B,sDAAoB;AAChD;AACA,sBAAsB,oDAAkB,sCAAsC,mBAAmB;AACjG,sBAAsB,qBAAqB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,2BAA2B;AACtC,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,YAAY,iBAAiB,yEAAyE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sDAAoB;AACzC,kBAAkB,gBAAgB;AAClC;AACA,mBAAmB,sDAAoB;AACvC,4BAA4B,sDAAoB;AAChD;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAqB,qBAAqB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA,oCAAoC,6CAA6C;AACjF;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,4BAA4B,+CAAa;;AAEzC;AACA,aAAa,QAAQ;AACrB,cAAc,SAAS;AACvB,cAAc,wBAAwB;AACtC,cAAc,QAAQ;AACtB,cAAc,eAAe;AAC7B,cAAc,KAAK;AACnB,cAAc,SAAS;AACvB,cAAc,SAAS;AACvB;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,oBAAoB;AAClC,cAAc,oBAAoB;AAClC,cAAc,6BAA6B;AAC3C,cAAc,kDAAkD;AAChE,cAAc,kDAAkD;AAChE,cAAc,oBAAoB;AAClC,cAAc,iCAAiC;AAC/C,cAAc,iCAAiC;AAC/C,cAAc,iCAAiC;AAC/C,cAAc,iCAAiC;AAC/C,cAAc,wCAAwC;AACtD,cAAc,WAAW,sDAAsD,0BAA0B;AACzG;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,yDAAY;AAC9B;AACA,aAAa,SAAS;AACtB;AACA,iBAAiB,OAAO,+CAAa,8GAA8G,IAAI;AACvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gDAAc;AACpC;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,uCAAuC,gDAAc;AACrD;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,KAAK;AAC/B;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,4CAAU;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,yBAAyB;AACtC,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,MAAM;AACnB,cAAc,oBAAoB;AAClC;AACA;AACA;AACA,0CAA0C,KAAK;AAC/C,iBAAiB,oDAAkB;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,OAAO;AAC7C,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA,SAAS;AACT;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA;AACA,0BAA0B,oBAAoB;AAC9C,QAAQ;AACR,8CAA8C,MAAM;AACpD;AACA;AACA,sBAAsB,oBAAoB;AAC1C;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA,sBAAsB,aAAa,oBAAoB,GAAG;AAC1D;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,4CAAU;AACd;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C,8BAA8B,qDAAqD;AACnF;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,WAAW,sDAAoB;AAC/B;;AAEA;AACA,cAAc;AACd;AACA;AACA,WAAW,sDAAoB;AAC/B;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA,oBAAoB,sDAAoB,oBAAoB,sDAAoB;AAChF;;AAEA;AACA,cAAc;AACd;AACA;AACA,oBAAoB,sDAAoB,oBAAoB,sDAAoB;AAChF;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,sDAAoB;AAC/B;;AAEA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,WAAW,oDAAkB;AAC7B;;AAEA;AACA,cAAc;AACd;AACA;AACA,WAAW,wDAAsB;AACjC;;AAEA;AACA,cAAc,SAAS;AACvB;AACA;AACA,WAAW,sDAAoB;AAC/B;;AAEA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,WAAW,sDAAoB;AAC/B;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA,WAAW,sDAAoB;AAC/B;;AAEA;AACA,cAAc;AACd;AACA;AACA,WAAW,kDAAgB;AAC3B;;AAEA;AACA,cAAc;AACd;AACA;AACA,WAAW,uDAAqB,CAAC,4DAA0B;AAC3D;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,sBAAsB,wDAAsB;AAC5C;;AAEA;AACA,cAAc;AACd;AACA;AACA,WAAW,wDAAsB;AACjC;AACA;;AAEA;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,sBAAsB,sDAAoB;AAC1C;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,iBAAiB,sDAAoB;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AAC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AChD;AACA;AACA,EAAE,uDAAqB;AACvB;AACA,EAAE,uDAAqB;AACvB;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,WAAW,aAAa;AACxB,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,EAAE,uDAAqB;AACvB;AACA;AACA,EAAE,4CAAU;AACZ,qCAAqC,gBAAgB;AACrD,GAAG;AACH;;AAEA;AACA,WAAW,mCAAmC;AAC9C,WAAW,KAAK;AAChB,YAAY,cAAc,mCAAmC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,cAAc,mCAAmC;AAC7D;AACA,qBAAqB,4CAAU;AAC/B,4BAA4B,sDAAoB;AAChD,kBAAkB,uBAAuB;AACzC,4BAA4B,sDAAoB;AAChD;AACA,cAAc;AACd;AACA;AACA;AACA,gBAAgB,sDAAoB;AACpC;AACA,6BAA6B,YAAY;AACzC,oBAAoB,qBAAqB;AACzC;AACA,cAAc,+CAAY;AAC1B,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,sBAAsB,sDAAoB;AAC1C;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,8CAA8C,8CAAW,GAAG,8CAAW;AACvE;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB,8CAAW,MAAM,8CAAW;AAChD;AACA,oBAAoB,8CAAW,MAAM,8CAAW;AAChD;AACA,0CAA0C,8CAAW,MAAM,8CAAW;AACtE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,WAAW,cAAc,gCAAgC,GAAG;AAC5D,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,6BAA6B,4CAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+BAA+B;AACvE;AACA;AACA;AACA,wCAAwC,+BAA+B;AACvE,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,6BAA6B,KAAK,sCAAsC,KAAK;AAC7E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,oDAAkB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,8DAA8D,QAAQ,mBAAmB;AACzF;AACA;AACA,uCAAuC,QAAQ;AAC/C;AACA,YAAY;AACZ;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS;AACtC,MAAM;AACN,6BAA6B,SAAS;AACtC,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR,+BAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAqB,0BAA0B;AACnD,aAAa;AACb;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,WAAW,mCAAmC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,wDAAsB;AACxE,MAAM,sDAAoB,+BAA+B;AACzD;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,YAAY;AACvB,WAAW,KAAK;AAChB,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA;AACA,kBAAkB,wDAAsB;AACxC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,YAAY;AACvB,WAAW,KAAK;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,WAAW,KAAK;AAChB,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,YAAY;AACvB,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,YAAY;AACvB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA,mBAAmB,sDAAoB;AACvC,kBAAkB,cAAc;AAChC,mBAAmB,sDAAoB;AACvC,kBAAkB,sDAAoB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,oBAAoB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,YAAY;AACvB,YAAY,oBAAoB;AAChC;AACA;AACA;AACA,0EAA0E,wDAAsB;;AAEhG;AACA,WAAW,2BAA2B;AACtC,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA,EAAE,uDAAqB;AACvB,EAAE,4CAAU;AACZ,IAAI,uDAAqB,+BAA+B;AACxD,IAAI,uDAAqB;AACzB,GAAG;AACH;AACA;;AAEA;AACA,WAAW,2BAA2B;AACtC,WAAW,KAAK;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,WAAW,2BAA2B;AACtC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,wBAAwB;AACnC,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,uCAAuC;AAC3C;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,0BAA0B;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,0BAA0B;AACrC,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,oCAAoC;AACxC;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mDAAS;;AAEX;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;AACA,EAAE,uDAAqB;AACvB,EAAE,uDAAqB;AACvB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,WAAW,sDAAoB,WAAW,sDAAoB;;AAE9D;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,sDAAoB;AAC5B;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,WAAW;AACtB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,WAAW;AACxB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B,eAAe,QAAQ;AACvB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,sCAAsC,QAAQ;AAC9C,6BAA6B,kBAAkB;AAC/C;AACA;AACA;AACA,+IAA+I,wDAAsB;AACrK;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP,sGAAsG,wDAAsB;AAC5H,8BAA8B,kBAAkB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,0CAA0C;AACvD;AACA,oDAAoD,sBAAsB,IAAI;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,2CAA2C,aAAa;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,IAAI;AACjB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,mBAAmB;AAChC,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA,UAAU,2BAA2B;AACrC;AACA,IAAI,uDAAqB;AACzB;AACA,IAAI;AACJ;AACA,IAAI,qDAAmB;AACvB,IAAI,yDAAuB;AAC3B,IAAI;AACJ;AACA,IAAI,qDAAmB;AACvB;AACA,IAAI;AACJ,UAAU,sDAAoB;AAC9B;AACA,EAAE,sDAAoB;AACtB;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,YAAY;AACZ;AACA;AACA,kBAAkB,wDAAsB;AACxC;AACA,SAAS,uDAAqB;AAC9B;;AAEA;AACA,WAAW,kBAAkB;AAC7B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,sDAAoB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,wDAAsB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qDAAmB,YAAY,qDAAmB;AAClE;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACA,kEAAkE,wDAAsB;;AAExF;AACA,WAAW,aAAa;AACxB,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,KAAK;AAChB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA,2FAA2F;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,cAAc,OAAO,0DAA0D;AAC/E;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN,YAAY,sDAAoB;AAChC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,uBAAuB;AAClC,WAAW,uBAAuB;AAClC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,oBAAoB;AACjC;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,WAAW,2BAA2B;AACtC,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,2BAA2B;AACtC,YAAY;AACZ;AACA,yDAAyD,wDAAsB;AAC/E;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACA,oEAAoE,wDAAsB;;AAE1F;AACA,WAAW,WAAW;AACtB,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACA;;AAEA;;AAEA;AACA,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,MAAM;AACjB,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,UAAU;AACrB;AACA;AACA,eAAe,oDAAkB,iDAAiD,6CAAU;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,+DAA+D;AAC/D;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,WAAW;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,UAAU;AACrB,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,SAAS;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,uDAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uDAAqB;AAC3B;AACA;AACA,MAAM,uDAAqB;AAC3B,sBAAsB,sBAAsB;AAC5C;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,WAAW,YAAY;AACvB,WAAW,iDAAiD;AAC5D;AACA;AACA,qCAAqC,wDAAsB;AAC3D;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,WAAW,YAAY;AACvB;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,YAAY,sDAAoB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4CAAU,iDAAiD;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,eAAe,4CAAU;AACzB;AACA;AACA;AACA,QAAQ,sDAAoB;AAC5B;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,IAAI;AACf,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+BAA+B;;AAE1D;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,IAAI;AACf,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,WAAW,IAAI;AACf,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA,6BAA6B,gBAAgB;AAC7C;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,KAAK;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,WAAW,aAAa;AACxB,YAAY,SAAS;AACrB;AACA;AACA,mDAAmD,yCAAO;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,2BAA2B;AACtC,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA,IAAI,oDAAkB,4BAA4B,6CAAU;AAC5D;AACA;;AAEA;AACA,WAAW,uBAAuB;AAClC,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO;AAChB;AACA;AACA,4EAA4E,mBAAmB;AAC/F,qBAAqB,mBAAmB,uDAAuD,MAAM;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,aAAa;AACxB,WAAW,wBAAwB;AACnC;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C,0CAA0C,SAAS;AACnD;AACA;AACA,oCAAoC,0CAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,WAAW;AACtB,WAAW,aAAa;AACxB,WAAW,wBAAwB;AACnC;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,oBAAoB;AAC/B,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,MAAM,uDAAO;AACb;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA,iCAAiC,0CAAQ;AACzC,2CAA2C,oBAAoB;AAC/D;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD,gBAAgB,gBAAgB;AAChC,mCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,gDAAa,CAAC,iDAAc,EAAE,+CAAY,YAAY,iDAAc,EAAE,8CAAW;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,8CAA8C;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,+BAA+B,qEAAqE;AACpG;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAoD,GAAG;AACvD;AACA;AACA,WAAW,KAAK;AAChB,WAAW,yBAAyB;AACpC,WAAW,KAAK;AAChB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,WAAW;AACxB,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB,WAAW,WAAW;AACtB;AACA;AACA;AACA,+FAA+F,mBAAmB;AAClH;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,kBAAkB;AAC7B,WAAW,eAAe;AAC1B,YAAY;AACZ;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,WAAW;AAC9C;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA,sGAAsG,mBAAmB,sBAAsB,MAAM;AACrJ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,+EAA+E,mBAAmB;AAClG;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,6CAA6C,0EAA0E;AACvH;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,QAAQ;AACtB,cAAc,+BAA+B;AAC7C,cAAc,wBAAwB;AACtC;AACA;AACA;AACA,cAAc,UAAU;AACxB,cAAc,SAAS;AACvB,cAAc,KAAK;AACnB;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,WAAW;AACzB,cAAc,KAAK;AACnB,cAAc,eAAe;AAC7B,cAAc,mDAAmD;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc,4JAA4J,sDAAsD,0EAA0E;AACvT;AACA,0BAA0B,yDAAY;AACtC;AACA,aAAa,gDAAgD;AAC7D,aAAa,oBAAoB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,KAAK,IAAI,+CAAa;AAC3C,IAAI,IAAI;AACR;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA,+EAA+E,mBAAmB;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,kBAAkB,mDAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,SAAS;AACrF,8GAA8G,mBAAmB;AACjI;AACA;AACA,OAAO;AACP;AACA,gBAAgB;AAChB;AACA,6BAA6B,qJAAqJ;AAClL;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,0DAA0D;AACvE;AACA;AACA;AACA,aAAa,+CAAa;AAC1B;AACA;AACA;AACA,yFAAyF,+CAAY,8BAA8B;AACnI;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,oEAAoE;AAC1G,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C;AACA;AACA,4BAA4B,sDAAoB;AAChD,kBAAkB,uBAAuB;AACzC,4BAA4B,sDAAoB;AAChD;AACA,gBAAgB,sDAAoB;AACpC,oBAAoB,qBAAqB;AACzC;AACA;AACA;AACA,oBAAoB,sDAAoB;AACxC;AACA;AACA,QAAQ,UAAU,+CAAY;AAC9B,4CAA4C,8CAAW,GAAG,8CAAW;AACrE;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB,8CAAW,MAAM,8CAAW;AAC9C;AACA,kBAAkB,8CAAW,MAAM,8CAAW;AAC9C;AACA;AACA,wCAAwC,8CAAW,MAAM,8CAAW;AACpE;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA;AACA,qCAAqC,wDAAsB;AAC3D;AACA,oCAAoC,eAAe;AACnD;AACA;AACA,EAAE,gDAAa;AACf;AACA,EAAE,gDAAa;AACf;;AAEA;AACA,WAAW,YAAY;AACvB;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA;AACA,qCAAqC,wDAAsB;AAC3D;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ,0CAA0C;AAChE;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,yCAAyC;AACpD,WAAW,iDAAiD;AAC5D,YAAY;AACZ;AACA;AACA;AACA,0DAA0D,wDAAsB;AAChF;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA,UAAU,uDAAqB;AAC/B,UAAU,uDAAqB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,uDAAqB;AAC3B,MAAM,uDAAqB;AAC3B;AACA;AACA,gBAAgB,wDAAsB;AACtC,IAAI,uDAAqB;AACzB,IAAI,6DAA2B;AAC/B;AACA;AACA,IAAI;AACJ,IAAI,uDAAqB;AACzB;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,iDAAiD;AAC5D,cAAc;AACd;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,0DAA0D,wDAAsB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA,WAAW,YAAY;AACvB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA,IAAI;AACJ,YAAY,gBAAgB;AAC5B;AACA,IAAI;AACJ,gCAAgC,MAAM;AACtC,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,iDAAiD;AAC5D,WAAW,iDAAiD;AAC5D,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,4DAA4D,wDAAsB;AAClF;;AAEA;AACA;AACA,YAAY,SAAS;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,WAAW;;AAE9C;AACA,4BAA4B,kBAAkB;AAC9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,0BAA0B;AAC1B;AACA,UAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,qDAAqD,KAAK;AAC1D;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,MAAM;AACN,oBAAoB,mBAAmB,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB,WAAW,iDAAiD;AAC5D,WAAW,iDAAiD;AAC5D;AACA;AACA;AACA;AACA;AACA,+BAA+B,wDAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,0CAAQ;AACpE;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA,oCAAoC,0CAA0C,uDAAqB,kCAAkC;AACrI,qCAAqC,wDAAsB;AAC3D;AACA;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,WAAW,WAAW;AACtB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE,uDAAqB;;AAEvB,kBAAkB,qCAAqC;AACvD;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAqB;AACzB;AACA,IAAI,0DAAwB;AAC5B;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,qCAAqC;AAChD,WAAW,iDAAiD;AAC5D,WAAW,kDAAkD;AAC7D;AACA;AACA,qCAAqC,wDAAsB;AAC3D;AACA;AACA;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc,SAAS;AACvB,cAAc,SAAS;AACvB,cAAc,SAAS;AACvB;;AAEA;AACA,WAAW,mBAAmB;AAC9B;AACA,4BAA4B,iDAAiD,IAAI;AACjF;AACA,sBAAsB,4CAAU;AAChC,wBAAwB,4CAAU;AAClC,6BAA6B,4CAAU;AACvC,+BAA+B,4CAAU;AACzC,wCAAwC;AACxC;AACA,aAAa,cAAc;AAC3B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,aAAa;AACnD;AACA,gCAAgC,oDAAkB;AAClD;AACA;AACA,gCAAgC,oDAAkB;AAClD;AACA;AACA;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA,iCAAiC,eAAe;AAChD;AACA;AACA;AACA;AACA,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA,iCAAiC,eAAe;AAChD;AACA,sBAAsB,oDAAkB;AACxC,wBAAwB,oDAAkB,yCAAyC,GAAG;AACtF;AACA;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA,iCAAiC,eAAe;AAChD,oBAAoB,gDAAa;AACjC;AACA;AACA;AACA;AACA,YAAY,sDAAoB;AAChC;AACA;AACA,2BAA2B,oDAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,sDAAoB;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,mBAAmB;AAC9B;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,WAAW,mBAAmB;AAC9B;AACA;;AAEA;AACA,WAAW,YAAY;AACvB;AACA,wEAAwE,8CAAI;;AAE5E;AACA,WAAW,YAAY;AACvB;AACA,wEAAwE,8CAAI;;AAE5E;;AAEA;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA,aAAa,GAAG;AAChB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc,qBAAqB,mEAAmE;AACtG;AACA;AACA;AACA,cAAc,eAAe,+HAA+H;AAC5J;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD,cAAc;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,YAAY,cAAc,mEAAmE;AAC7F;AACA;AACA;AACA;AACA,cAAc,8CAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,MAAM;AACxC;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,4CAAU;AACrC,gBAAgB;AAChB;AACA;AACA,cAAc;AACd;AACA;AACA,2BAA2B,4CAAU;AACrC,gBAAgB;AAChB;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,yBAAyB,4CAAU,YAAY,MAAM;AACrD,cAAc;AACd;AACA;AACA;AACA,0BAA0B,kBAAkB;AAC5C;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO,8HAA8H;AACjJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mDAAmD,4CAA4C,eAAe,0DAA0D;AACrL;AACA;AACA;AACA;AACA;AACA,cAAc,8CAAY;AAC1B;AACA;AACA,oBAAoB,6CAAU;AAC9B,sBAAsB,6CAAU;AAChC;AACA,gBAAgB,OAAO,kBAAkB,EAAE,cAAc,EAAE,cAAc;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,cAAc;AACd,YAAY;AACZ;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,mBAAmB;AAC9B,YAAY,sBAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAoC,+CAAY;;AAEhD;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B;AACA,2CAA2C;;AAE3C;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,0BAA0B;AACrC,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,kGAAkG,0CAAQ,oBAAoB,0CAAQ;AACtI;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0CAAQ,qCAAqC,mBAAmB;AACzF;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D,gBAAgB,0CAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,yBAAyB;AACpC,WAAW,aAAa;AACxB,WAAW,WAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,oDAAkB;AACtB;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,mCAAmC,mBAAmB;AACtD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,mCAAmC;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,uCAAuC;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,+CAA+C;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,sCAAsC;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,+CAA+C;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,+BAA+B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,wCAAwC;AACnD,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,OAAO;AAClB,WAAW,4EAA4E;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kMAAkM,YAAY;AAC9M;AACA;AACA;AACA,gLAAgL,KAAK;AACrL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,6BAA6B,8CAAY;;AAEzC;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,oEAAoE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,SAAS,YAAY;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,oEAAoE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,+IAA+I,4BAA4B;AAC3K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,yBAAyB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,mEAAmE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,YAAY;AAC3D;AACA;AACA,4CAA4C,KAAK;AACjD;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mBAAmB;AAC9B,WAAW,UAAU;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,WAAW,sBAAsB,2BAA2B;AAC5D,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0DAAuB,kCAAkC,KAAK;AACvE;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,6DAA6D;AAC7E,aAAa,UAAU;AACvB,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA,8BAA8B,YAAY;AAC1C;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA,oEAAoE,KAAK;AACzE,OAAO;AACP,MAAM;AACN,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,KAAK;AAChE,OAAO;AACP,MAAM;AACN,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,gCAAgC;AAC7C,cAAc,UAAU;AACxB;AACA;AACA;AACA,wCAAwC,KAAK;AAC7C;;AAEA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,aAAa;AAC1B,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA,KAAK,WAAW,kBAAkB;AAClC;AACA,KAAK;AACL;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,8DAA8D,cAAc;AAC5E,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW,uDAAoB,sCAAsC,KAAK;AAC1E;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW,uDAAoB,sCAAsC,KAAK;AAC1E;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW,uDAAoB,sCAAsC,KAAK,qBAAqB,KAAK;AACpG;;AAEA;AACA;AACA;AACA,aAAa,6CAA6C;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA,aAAa,QAAQ;AACrB,aAAa,KAAK;AAClB,cAAc;AACd;AACA;AACA;AACA;AACA,sDAAsD,KAAK;AAC3D,OAAO;AACP,MAAM;AACN,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,MAAM;AACN,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY;AACZ;AACA,qGAAqG,mDAAgB;;AAErH;AACA;AACA,aAAa,WAAW;AACxB,aAAa,WAAW;AACxB,aAAa,QAAQ;AACrB,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,sDAAoB;AAC1B;AACA;AACA;AACA;AACA,qEAAqE,eAAe;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,sBAAsB;AACjC,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,eAAe;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,sBAAsB;AACjC,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,eAAe,4CAA4C,eAAe;AAC9H;AACA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,iBAAiB;AAC5B,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA,UAAU,aAAa;AACvB;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA,WAAW,sBAAsB;AACjC,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,4HAA4H,eAAe,qDAAqD,eAAe,sCAAsC;AAC3P;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,sBAAsB;AACjC,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,cAAc;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,sBAAsB;AACjC,WAAW,iCAAiC;AAC5C,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,6EAA6E,QAAQ;AACrF,QAAQ,qBAAqB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,mBAAmB;AAC9B,WAAW,sBAAsB;AACjC,WAAW,QAAQ;AACnB,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa,aAAa,eAAe;AAC3D;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,MAAM;AACjB,WAAW,WAAW;AACtB,WAAW,iBAAiB;AAC5B,WAAW,iBAAiB;AAC5B,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,YAAY;AACZ;AACA,qBAAqB,4CAAU;AAC/B;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,aAAa,aAAa,eAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,+DAA+D,eAAe;AAC9E;AACA;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B;AACA;AACA;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,aAAa;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,eAAe;AAC5C;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B,2BAA2B,MAAM;AACjC;AACA,0BAA0B,4CAAU;AACpC,8BAA8B,0CAAQ;AACtC;AACA;AACA;AACA;AACA,kEAAkE,eAAe;AACjF;AACA;AACA;AACA,8BAA8B,0CAAQ;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,gBAAgB;AAC3D;AACA,oCAAoC,MAAM;AAC1C;AACA,uCAAuC,KAAK;AAC5C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6CAA6C,OAAO,mEAAmE,OAAO;AAC9H;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,WAAW,aAAa;AACxB,WAAW,sBAAsB;AACjC,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0CAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mBAAmB,eAAe,MAAM;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA,WAAW,iCAAiC,cAAc;AAC1D,WAAW,iBAAiB;AAC5B,WAAW,8BAA8B;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,aAAa;AAC1B,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA,aAAa,mDAAmD,4CAA4C,eAAe,0DAA0D;AACrL;AACA;AACA;AACA;AACA,iBAAiB,mDAAmD,4CAA4C,eAAe,mFAAmF;AAClN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA,QAAQ,kDAAkD;AAC1D;AACA,YAAY,OAAO,yGAAyG;AAC5H;AACA;AACA;AACA;AACA;AACA,2BAA2B,KAAK;AAChC;AACA,gBAAgB,OAAO,yGAAyG;AAChI;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB;AAClB;AACA,+BAA+B;AAC/B;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,uBAAuB,iDAAc;AACrC,oCAAoC,gDAAa,GAAG;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa,aAAa,eAAe;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,oBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,eAAe;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,sBAAsB,KAAK;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,KAAK;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,0BAA0B,eAAe;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,aAAa;AAC3B;AACA,aAAa,YAAY;AACzB,aAAa,SAAS;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB,IAAI;AAC7C;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA,YAAY;AACZ,iFAAiF;AACjF,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB,aAAa,uCAAuC;AACpD,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,2BAA2B,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kBAAkB;AAClB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wGAAwG,iBAAiB;AACzH;AACA,gBAAgB;AAChB;AACA;AACA,sGAAsG,eAAe;AACrH;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,yCAAyC,oBAAoB,MAAM;AACnE;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,eAAe;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,oBAAoB;AACxE;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,4BAA4B;AACzC,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB,6EAA6E;AAC/G;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,aAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,qBAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,KAAK;AAChB,YAAY,SAAS;AACrB;;AAEA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,aAAa,4BAA4B;AACzC,aAAa,qCAAqC;AAClD;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,mCAAmC,MAAM;AACzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,+CAA+C;AAC7D;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,4CAA4C,KAAK;AACjD,gFAAgF;AAChF;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,cAAc;AACd,6BAA6B,mBAAmB;AAChD;AACA;AACA;AACA,QAAQ,4DAA4D,aAAa;AACjF;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,aAAa,kBAAkB,KAAK;AACpC;AACA;;AAEA;AACA,yBAAyB,kBAAkB,MAAM,gBAAgB;AACjE,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA,8BAA8B,YAAY;AAC1C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,qCAAqC;AAClD;AACA;AACA,cAAc,gBAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,oCAAoC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA,aAAa,cAAc;AAC3B,cAAc,2CAA2C;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4CAAU;AACrB;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,aAAa,qBAAqB,SAAS;AAC3C;AACA,aAAa,KAAK;AAClB;AACA;AACA,cAAc,MAAM,KAAK;AACzB;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gCAAgC;AAC7C,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,4BAA4B,YAAY;AACxC;AACA;AACA,cAAc,8CAAY;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,yDAAyD;AACtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mEAAmE;AAChF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B,MAAM,uBAAuB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA,0BAA0B,sBAAsB,eAAe,aAAa;AAC5E;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA,0BAA0B,sBAAsB,eAAe,aAAa;AAC5E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA,KAAK,YAAY,kBAAkB;AACnC;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,IAAI,iDAAc;AAClB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS,EAAE,YAAY,GAAG,iBAAiB,IAAI,SAAS;AACvE;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA,aAAa,KAAK;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA,aAAa,KAAK;AAClB;AACA,cAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB,gBAAgB,8CAA8C;AAC9D;AACA;AACA;AACA;AACA,sBAAsB,KAAK;AAC3B;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,aAAa,qBAAqB,SAAS;AAC3C;AACA,aAAa,KAAK;AAClB;AACA;AACA,cAAc,MAAM,KAAK;AACzB;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,kBAAkB;AAC/B;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,aAAa,sBAAsB;AACnC;AACA,aAAa,KAAK;AAClB;AACA;AACA,cAAc,SAAS,KAAK;AAC5B;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,0BAA0B,sBAAsB,eAAe,aAAa;AAC5E;;AAEA;AACA,YAAY;AACZ;AACA;AACA;AACA,0BAA0B,sBAAsB,eAAe,aAAa;AAC5E;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB;AACA;AACA,aAAa,qBAAqB;AAClC;AACA,aAAa,KAAK;AAClB;AACA;AACA,cAAc,MAAM,KAAK;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6CAA6C;AACpE;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C;AACA,mBAAmB,cAAc;AACjC,wBAAwB,uBAAuB;AAC/C;AACA,qBAAqB,SAAS,IAAI,WAAW;AAC7C;AACA;AACA;AACA;AACA,2CAA2C,QAAQ;AACnD,oBAAoB,wBAAwB;AAC5C;AACA;AACA,KAAK;AACL;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,cAAc,SAAS;AACvB;AACA;AACA;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA,UAAU,2DAAyB;AACnC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,IAAI;AACjB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,eAAe;AAC5B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,oCAAoC;AAC/C,YAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,gBAAgB;AAC7B,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,oCAAoC;AAC/C,YAAY;AACZ;AACA;;AAEA;AACA,WAAW,QAAQ;AACnB,WAAW,qBAAqB;AAChC;AACA,oDAAoD,sEAAsE;;AAE1H;AACA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,YAAY;AACzB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,cAAc;AAC3B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,eAAe;AAC5B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,0DAAe;;AAEjC;AACA;AACA,aAAa,YAAY;AACzB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,iBAAiB,oDAAiB;AAClC;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,yBAAyB,SAAS;AAClC;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,eAAe;AAC5B,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAmB;AAChC;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA,UAAU,2DAAyB;AACnC;;AAEA;AACA,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,mCAAmC;AAC9C,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,IAAI;AACf,aAAa;AACb;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC;AACA;;AAEA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,mBAAmB;AAClC;AACA;AACA;AACA;;AAEA;AACA,WAAW,kBAAkB;AAC7B,WAAW,IAAI;AACf;AACA,4CAA4C,4CAAU,oBAAoB,WAAW;;AAErF;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,MAAM;AACjB,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB,WAAW,SAAS;AACpB,WAAW,+CAA+C;AAC1D;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD;AACA,YAAY;AACZ;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,mBAAmB,8BAA8B,aAAa;;AAEpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,8CAA8C,mBAAmB;AACjE;AACA;AACA,2CAA2C,mBAAmB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,+CAA+C,mBAAmB;AAClE;AACA;AACA,4CAA4C,mBAAmB;AAC/D;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB,aAAa,aAAa;AAC1B,aAAa,WAAW;AACxB,aAAa,aAAa;AAC1B,aAAa,WAAW;AACxB,aAAa,2BAA2B;AACxC,aAAa,eAAe;AAC5B,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA,6CAA6C,8CAAW;AACxD;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,sBAAsB,8CAAW;AACjC,mBAAmB,8CAAW;AAC9B;AACA;;AAEA;AACA,wBAAwB,8CAAW;AACnC;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,8CAAW;AACnC;;AAEA;AACA;AACA,mBAAmB,8CAAW;AAC9B;AACA;;AAEA;AACA,wBAAwB,8CAAW;AACnC;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA,wBAAwB,8CAAW;AACnC;;AAEA;AACA;AACA,mBAAmB,8CAAW;AAC9B;AACA;;AAEA;AACA,iBAAiB,8CAAW;AAC5B;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ;AACR,iCAAiC,aAAa;AAC9C;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA,UAAU;AACV,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,eAAe,OAAO,KAAK,MAAM,KAAK,KAAK,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,cAAc;AACd,YAAY,iGAAiG;AAC7G;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA,UAAU;AACV,yBAAyB,mBAAmB;AAC5C,WAAW,WAAW,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,0DAA0D,mBAAmB;AAC7E,sBAAsB,mBAAmB,8CAA8C,mBAAmB;AAC1G;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB;AACA;AACA;AACA,YAAY,sDAAoB;AAChC;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,0CAA0C,+CAAY;AACtD,6BAA6B,8CAAW;AACxC,kCAAkC,8CAAW;AAC7C,gCAAgC,8CAAW,GAAG;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,UAAU;AACV,0CAA0C;AAC1C;AACA;AACA,QAAQ,0CAA0C;AAClD,uCAAuC;AACvC;AACA,QAAQ;AACR,wCAAwC;AACxC;AACA,QAAQ;AACR,QAAQ,sDAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mCAAmC;AAC9C,WAAW,QAAQ;AACnB;AACA,8DAA8D,+CAAY;;AAE1E;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,UAAU,sDAAoB,KAAK;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,sDAAoB,MAAM;AACpC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,aAAa,MAAM;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,QAAQ;AACrB;AACA;AACA;AACA,IAAI,sDAAoB;AACxB;;AAEA;AACA,aAAa,mCAAmC;AAChD,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA,IAAI,uDAAqB;AACzB;;AAEA;AACA,aAAa,aAAa;AAC1B,aAAa,aAAa;AAC1B,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,uBAAuB,KAAK;AAC5B;AACA;AACA;AACA;AACA,iDAAiD;;AAEjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEwtD;AACxtD;;;;;;;UCljUA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;;;;WCrBA;;;;;;;;;;;;;;;;ACA2B;AACe;AACa;AACc;AACrE,8EAAY;AACZ,gBAAgB,mDAAG,GAAG,uBAAuB;AAC7C,kBAAkB,gEAAU","sources":["webpack://videoclipper-v2/./frontend/src/client/components/animationComponents/animatedContentSwitchingDiv/animatedContentSwitchingDiv.css?3ddd","webpack://videoclipper-v2/./frontend/src/client/components/animationComponents/animatedContentSwitchingDiv/animatedContentSwitchingDiv.ts","webpack://videoclipper-v2/./frontend/src/client/components/appBar/appBar.css?7c63","webpack://videoclipper-v2/./frontend/src/client/components/appBar/appBar.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/appBar/appBar.ts","webpack://videoclipper-v2/./frontend/src/client/components/appBar/appBar.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/backgroundSelector/backgroundSelector.css?37cb","webpack://videoclipper-v2/./frontend/src/client/components/backgroundSelector/backgroundSelector.ts","webpack://videoclipper-v2/./frontend/src/client/components/backgroundSelector/backgroundSelector.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/basicComponents/movableComponent/movableComponent.css?a0f7","webpack://videoclipper-v2/./frontend/src/client/components/basicComponents/movableComponent/movableComponent.ts","webpack://videoclipper-v2/./frontend/src/client/components/basicComponents/resizer/resizer.css?cf5f","webpack://videoclipper-v2/./frontend/src/client/components/basicComponents/resizer/resizer.ts","webpack://videoclipper-v2/./frontend/src/client/components/branchingNode/branchingNode.css?cf9b","webpack://videoclipper-v2/./frontend/src/client/components/branchingNode/branchingNode.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/branchingNode/branchingNode.ts","webpack://videoclipper-v2/./frontend/src/client/components/branchingNode/branchingNode.types.ts","webpack://videoclipper-v2/./frontend/src/client/components/branchingNode/branchingNode.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/captureButton/captureButton.css?ecee","webpack://videoclipper-v2/./frontend/src/client/components/captureButton/captureButton.ts","webpack://videoclipper-v2/./frontend/src/client/components/captureModeSlider/captureModeSlider.css?6133","webpack://videoclipper-v2/./frontend/src/client/components/captureModeSlider/captureModeSlider.ts","webpack://videoclipper-v2/./frontend/src/client/components/captureTimer/captureTimer.css?1c55","webpack://videoclipper-v2/./frontend/src/client/components/captureTimer/captureTimer.ts","webpack://videoclipper-v2/./frontend/src/client/components/card/card.css?74aa","webpack://videoclipper-v2/./frontend/src/client/components/card/card.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/card/card.ts","webpack://videoclipper-v2/./frontend/src/client/components/card/card.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/clip/clip.css?ef19","webpack://videoclipper-v2/./frontend/src/client/components/clip/clip.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/clip/clip.textHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/clip/clip.ts","webpack://videoclipper-v2/./frontend/src/client/components/clip/clip.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/clip/clipThumbnailController.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.frameController.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.textModel.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.types.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.videoController.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/clipRenderer/clipRenderer.visibilityController.ts","webpack://videoclipper-v2/./frontend/src/client/components/component/component.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.branchesHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.branchesModel.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.cleaningHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.css?d463","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.intersectionHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.searchHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.tagsModel.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.ts","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.cleaningHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.connectionHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.entryHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.intersectionHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.pointHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.searchHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.updateHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowBranch/flowBranch.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowEntry/flowEntry.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowEntry/flowEntry.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowPath/flowPath.entryCardHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowPath/flowPath.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowPath/flowPath.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowTag/flowTag.css?de14","webpack://videoclipper-v2/./frontend/src/client/components/flowTag/flowTag.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowTag/flowTag.ts","webpack://videoclipper-v2/./frontend/src/client/components/flowTag/flowTag.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/metadataDrawer/metadataDrawer.css?bec8","webpack://videoclipper-v2/./frontend/src/client/components/metadataDrawer/metadataDrawer.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/metadataDrawer/metadataDrawer.ts","webpack://videoclipper-v2/./frontend/src/client/components/metadataDrawer/metadataDrawer.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/playback/playback.css?1cbb","webpack://videoclipper-v2/./frontend/src/client/components/playback/playback.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/playback/playback.ts","webpack://videoclipper-v2/./frontend/src/client/components/playback/playback.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.canvasController.ts","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.css?0120","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.drawingController.ts","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.ts","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.videoController.ts","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/scrubber/clipScrubber/clipScrubber.css?a759","webpack://videoclipper-v2/./frontend/src/client/components/scrubber/clipScrubber/clipScrubber.ts","webpack://videoclipper-v2/./frontend/src/client/components/scrubber/scrubber.css?ba6c","webpack://videoclipper-v2/./frontend/src/client/components/scrubber/scrubber.ts","webpack://videoclipper-v2/./frontend/src/client/components/scrubberMarkingMenu/scrubberMarkingMenu.css?298f","webpack://videoclipper-v2/./frontend/src/client/components/scrubberMarkingMenu/scrubberMarkingMenu.ts","webpack://videoclipper-v2/./frontend/src/client/components/scrubberMarkingMenu/scrubberMarkingMenu.types.ts","webpack://videoclipper-v2/./frontend/src/client/components/textElement/textElement.css?0d66","webpack://videoclipper-v2/./frontend/src/client/components/textElement/textElement.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/textElement/textElement.ts","webpack://videoclipper-v2/./frontend/src/client/components/textElement/textElement.types.ts","webpack://videoclipper-v2/./frontend/src/client/components/textElement/textElement.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/clipTimeline/clipTimeline.css?85b0","webpack://videoclipper-v2/./frontend/src/client/components/timeline/clipTimeline/clipTimeline.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/clipTimeline/clipTimeline.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.clipController.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.clipHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.css?3308","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.model.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.playController.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.timeController.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.timeHandler.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.ts","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.view.ts","webpack://videoclipper-v2/./frontend/src/client/components/toolbar/toolbar.css?0063","webpack://videoclipper-v2/./frontend/src/client/components/toolbar/toolbar.ts","webpack://videoclipper-v2/./frontend/src/client/directors/app/app.ts","webpack://videoclipper-v2/./frontend/src/client/directors/app/app.types.ts","webpack://videoclipper-v2/./frontend/src/client/directors/director/director.css?5526","webpack://videoclipper-v2/./frontend/src/client/directors/director/director.ts","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.cardsModel.ts","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.css?3ade","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.flowsModel.ts","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.model.ts","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.ts","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.types.ts","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.view.ts","webpack://videoclipper-v2/./frontend/src/client/directors/rootDirector/rootDirector.css?c526","webpack://videoclipper-v2/./frontend/src/client/directors/rootDirector/rootDirector.ts","webpack://videoclipper-v2/./frontend/src/client/directors/rootDirector/rootDirector.view.ts","webpack://videoclipper-v2/./frontend/src/client/managers/authenticationManager/authenticationManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/contextManager/contextManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/contextManager/contextManager.types.ts","webpack://videoclipper-v2/./frontend/src/client/managers/cursorManager/cursorManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/cursorManager/cursorManager.types.ts","webpack://videoclipper-v2/./frontend/src/client/managers/groupsManager/groupsManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/mediaManager/mediaManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/navigationManager/navigationManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/requestManager/requestManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/toolManager/toolManager.ts","webpack://videoclipper-v2/./frontend/src/client/managers/toolManager/toolManager.types.ts","webpack://videoclipper-v2/./frontend/src/client/managers/websocketManager/websocketManager.ts","webpack://videoclipper-v2/./frontend/src/client/panels/shootingPanel/shootingPanel.css?7f01","webpack://videoclipper-v2/./frontend/src/client/panels/shootingPanel/shootingPanel.model.ts","webpack://videoclipper-v2/./frontend/src/client/panels/shootingPanel/shootingPanel.ts","webpack://videoclipper-v2/./frontend/src/client/panels/shootingPanel/shootingPanel.types.ts","webpack://videoclipper-v2/./frontend/src/client/panels/shootingPanel/shootingPanel.view.ts","webpack://videoclipper-v2/./frontend/src/client/panels/textPanel/textPanel.css?bd1b","webpack://videoclipper-v2/./frontend/src/client/panels/textPanel/textPanel.model.ts","webpack://videoclipper-v2/./frontend/src/client/panels/textPanel/textPanel.ts","webpack://videoclipper-v2/./frontend/src/client/panels/textPanel/textPanel.view.ts","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanel/toolPanel.css?04ab","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanel/toolPanel.ts","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanelContent/toolPanelContent.css?de1f","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanelContent/toolPanelContent.ts","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanelContent/toolPanelContent.view.ts","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.captureHandler.ts","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.css?cfb1","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.model.ts","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.recordingHandler.ts","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.ts","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.view.ts","webpack://videoclipper-v2/./frontend/src/client/screens/canvas/canvas.css?8cdb","webpack://videoclipper-v2/./frontend/src/client/screens/canvas/canvas.ts","webpack://videoclipper-v2/./frontend/src/client/screens/home/home.css?b995","webpack://videoclipper-v2/./frontend/src/client/screens/home/home.ts","webpack://videoclipper-v2/./frontend/src/client/screens/home/home.view.ts","webpack://videoclipper-v2/./frontend/src/client/styles/main.css?bf4e","webpack://videoclipper-v2/./frontend/src/client/tools/connection/connection.ts","webpack://videoclipper-v2/./frontend/src/client/tools/createCard/createCard.ts","webpack://videoclipper-v2/./frontend/src/client/tools/delete/delete.ts","webpack://videoclipper-v2/./frontend/src/client/tools/navigator/navigator.ts","webpack://videoclipper-v2/./frontend/src/client/tools/selection/selection.ts","webpack://videoclipper-v2/./frontend/src/client/tools/shoot/shoot.ts","webpack://videoclipper-v2/./frontend/src/client/tools/text/text.ts","webpack://videoclipper-v2/./frontend/src/client/tools/tool/tool.css?df7c","webpack://videoclipper-v2/./frontend/src/client/tools/tool/tool.ts","webpack://videoclipper-v2/./frontend/src/client/tools/tool/toolView.ts","webpack://videoclipper-v2/./frontend/src/client/utils/crypto.ts","webpack://videoclipper-v2/./frontend/src/client/utils/random.ts","webpack://videoclipper-v2/./frontend/src/client/utils/size.ts","webpack://videoclipper-v2/./frontend/src/client/utils/time.ts","webpack://videoclipper-v2/./frontend/src/yManagement/yManagement.types.ts","webpack://videoclipper-v2/./frontend/src/yManagement/yModel/types/yComponentModel.ts","webpack://videoclipper-v2/./frontend/src/yManagement/yModel/types/yManagerModel.ts","webpack://videoclipper-v2/./frontend/src/yManagement/yModel/yModel.ts","webpack://videoclipper-v2/./frontend/src/yManagement/yUtilities.ts","webpack://videoclipper-v2/./node_modules/@ungap/structured-clone/esm/deserialize.js","webpack://videoclipper-v2/./node_modules/@ungap/structured-clone/esm/index.js","webpack://videoclipper-v2/./node_modules/@ungap/structured-clone/esm/serialize.js","webpack://videoclipper-v2/./node_modules/@ungap/structured-clone/esm/types.js","webpack://videoclipper-v2/./frontend/src/client/components/animationComponents/animatedContentSwitchingDiv/animatedContentSwitchingDiv.css","webpack://videoclipper-v2/./frontend/src/client/components/appBar/appBar.css","webpack://videoclipper-v2/./frontend/src/client/components/backgroundSelector/backgroundSelector.css","webpack://videoclipper-v2/./frontend/src/client/components/basicComponents/movableComponent/movableComponent.css","webpack://videoclipper-v2/./frontend/src/client/components/basicComponents/resizer/resizer.css","webpack://videoclipper-v2/./frontend/src/client/components/branchingNode/branchingNode.css","webpack://videoclipper-v2/./frontend/src/client/components/captureButton/captureButton.css","webpack://videoclipper-v2/./frontend/src/client/components/captureModeSlider/captureModeSlider.css","webpack://videoclipper-v2/./frontend/src/client/components/captureTimer/captureTimer.css","webpack://videoclipper-v2/./frontend/src/client/components/card/card.css","webpack://videoclipper-v2/./frontend/src/client/components/clip/clip.css","webpack://videoclipper-v2/./frontend/src/client/components/flow/flow.css","webpack://videoclipper-v2/./frontend/src/client/components/flowTag/flowTag.css","webpack://videoclipper-v2/./frontend/src/client/components/metadataDrawer/metadataDrawer.css","webpack://videoclipper-v2/./frontend/src/client/components/playback/playback.css","webpack://videoclipper-v2/./frontend/src/client/components/renderer/renderer.css","webpack://videoclipper-v2/./frontend/src/client/components/scrubber/clipScrubber/clipScrubber.css","webpack://videoclipper-v2/./frontend/src/client/components/scrubber/scrubber.css","webpack://videoclipper-v2/./frontend/src/client/components/scrubberMarkingMenu/scrubberMarkingMenu.css","webpack://videoclipper-v2/./frontend/src/client/components/textElement/textElement.css","webpack://videoclipper-v2/./frontend/src/client/components/timeline/clipTimeline/clipTimeline.css","webpack://videoclipper-v2/./frontend/src/client/components/timeline/timeline.css","webpack://videoclipper-v2/./frontend/src/client/components/toolbar/toolbar.css","webpack://videoclipper-v2/./frontend/src/client/directors/director/director.css","webpack://videoclipper-v2/./frontend/src/client/directors/project/project.css","webpack://videoclipper-v2/./frontend/src/client/directors/rootDirector/rootDirector.css","webpack://videoclipper-v2/./frontend/src/client/panels/shootingPanel/shootingPanel.css","webpack://videoclipper-v2/./frontend/src/client/panels/textPanel/textPanel.css","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanel/toolPanel.css","webpack://videoclipper-v2/./frontend/src/client/panels/toolPanelContent/toolPanelContent.css","webpack://videoclipper-v2/./frontend/src/client/screens/camera/camera.css","webpack://videoclipper-v2/./frontend/src/client/screens/canvas/canvas.css","webpack://videoclipper-v2/./frontend/src/client/screens/home/home.css","webpack://videoclipper-v2/./frontend/src/client/styles/colors.css","webpack://videoclipper-v2/./frontend/src/client/styles/drawer.css","webpack://videoclipper-v2/./frontend/src/client/styles/input.css","webpack://videoclipper-v2/./frontend/src/client/styles/main.css","webpack://videoclipper-v2/./frontend/src/client/styles/markingMenu.css","webpack://videoclipper-v2/./frontend/src/client/tools/tool/tool.css","webpack://videoclipper-v2/./node_modules/css-loader/dist/runtime/api.js","webpack://videoclipper-v2/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://videoclipper-v2/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://videoclipper-v2/./node_modules/d3-array/src/array.js","webpack://videoclipper-v2/./node_modules/d3-array/src/ascending.js","webpack://videoclipper-v2/./node_modules/d3-array/src/bin.js","webpack://videoclipper-v2/./node_modules/d3-array/src/bisect.js","webpack://videoclipper-v2/./node_modules/d3-array/src/bisector.js","webpack://videoclipper-v2/./node_modules/d3-array/src/blur.js","webpack://videoclipper-v2/./node_modules/d3-array/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-array/src/count.js","webpack://videoclipper-v2/./node_modules/d3-array/src/cross.js","webpack://videoclipper-v2/./node_modules/d3-array/src/cumsum.js","webpack://videoclipper-v2/./node_modules/d3-array/src/descending.js","webpack://videoclipper-v2/./node_modules/d3-array/src/deviation.js","webpack://videoclipper-v2/./node_modules/d3-array/src/difference.js","webpack://videoclipper-v2/./node_modules/d3-array/src/disjoint.js","webpack://videoclipper-v2/./node_modules/d3-array/src/every.js","webpack://videoclipper-v2/./node_modules/d3-array/src/extent.js","webpack://videoclipper-v2/./node_modules/d3-array/src/filter.js","webpack://videoclipper-v2/./node_modules/d3-array/src/fsum.js","webpack://videoclipper-v2/./node_modules/d3-array/src/greatest.js","webpack://videoclipper-v2/./node_modules/d3-array/src/greatestIndex.js","webpack://videoclipper-v2/./node_modules/d3-array/src/group.js","webpack://videoclipper-v2/./node_modules/d3-array/src/groupSort.js","webpack://videoclipper-v2/./node_modules/d3-array/src/identity.js","webpack://videoclipper-v2/./node_modules/d3-array/src/index.js","webpack://videoclipper-v2/./node_modules/d3-array/src/intersection.js","webpack://videoclipper-v2/./node_modules/d3-array/src/least.js","webpack://videoclipper-v2/./node_modules/d3-array/src/leastIndex.js","webpack://videoclipper-v2/./node_modules/d3-array/src/map.js","webpack://videoclipper-v2/./node_modules/d3-array/src/max.js","webpack://videoclipper-v2/./node_modules/d3-array/src/maxIndex.js","webpack://videoclipper-v2/./node_modules/d3-array/src/mean.js","webpack://videoclipper-v2/./node_modules/d3-array/src/median.js","webpack://videoclipper-v2/./node_modules/d3-array/src/merge.js","webpack://videoclipper-v2/./node_modules/d3-array/src/min.js","webpack://videoclipper-v2/./node_modules/d3-array/src/minIndex.js","webpack://videoclipper-v2/./node_modules/d3-array/src/mode.js","webpack://videoclipper-v2/./node_modules/d3-array/src/nice.js","webpack://videoclipper-v2/./node_modules/d3-array/src/number.js","webpack://videoclipper-v2/./node_modules/d3-array/src/pairs.js","webpack://videoclipper-v2/./node_modules/d3-array/src/permute.js","webpack://videoclipper-v2/./node_modules/d3-array/src/quantile.js","webpack://videoclipper-v2/./node_modules/d3-array/src/quickselect.js","webpack://videoclipper-v2/./node_modules/d3-array/src/range.js","webpack://videoclipper-v2/./node_modules/d3-array/src/rank.js","webpack://videoclipper-v2/./node_modules/d3-array/src/reduce.js","webpack://videoclipper-v2/./node_modules/d3-array/src/reverse.js","webpack://videoclipper-v2/./node_modules/d3-array/src/scan.js","webpack://videoclipper-v2/./node_modules/d3-array/src/shuffle.js","webpack://videoclipper-v2/./node_modules/d3-array/src/some.js","webpack://videoclipper-v2/./node_modules/d3-array/src/sort.js","webpack://videoclipper-v2/./node_modules/d3-array/src/subset.js","webpack://videoclipper-v2/./node_modules/d3-array/src/sum.js","webpack://videoclipper-v2/./node_modules/d3-array/src/superset.js","webpack://videoclipper-v2/./node_modules/d3-array/src/threshold/freedmanDiaconis.js","webpack://videoclipper-v2/./node_modules/d3-array/src/threshold/scott.js","webpack://videoclipper-v2/./node_modules/d3-array/src/threshold/sturges.js","webpack://videoclipper-v2/./node_modules/d3-array/src/ticks.js","webpack://videoclipper-v2/./node_modules/d3-array/src/transpose.js","webpack://videoclipper-v2/./node_modules/d3-array/src/union.js","webpack://videoclipper-v2/./node_modules/d3-array/src/variance.js","webpack://videoclipper-v2/./node_modules/d3-array/src/zip.js","webpack://videoclipper-v2/./node_modules/d3-axis/src/axis.js","webpack://videoclipper-v2/./node_modules/d3-axis/src/identity.js","webpack://videoclipper-v2/./node_modules/d3-axis/src/index.js","webpack://videoclipper-v2/./node_modules/d3-brush/src/brush.js","webpack://videoclipper-v2/./node_modules/d3-brush/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-brush/src/event.js","webpack://videoclipper-v2/./node_modules/d3-brush/src/index.js","webpack://videoclipper-v2/./node_modules/d3-brush/src/noevent.js","webpack://videoclipper-v2/./node_modules/d3-chord/src/array.js","webpack://videoclipper-v2/./node_modules/d3-chord/src/chord.js","webpack://videoclipper-v2/./node_modules/d3-chord/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-chord/src/index.js","webpack://videoclipper-v2/./node_modules/d3-chord/src/math.js","webpack://videoclipper-v2/./node_modules/d3-chord/src/ribbon.js","webpack://videoclipper-v2/./node_modules/d3-color/src/color.js","webpack://videoclipper-v2/./node_modules/d3-color/src/cubehelix.js","webpack://videoclipper-v2/./node_modules/d3-color/src/define.js","webpack://videoclipper-v2/./node_modules/d3-color/src/index.js","webpack://videoclipper-v2/./node_modules/d3-color/src/lab.js","webpack://videoclipper-v2/./node_modules/d3-color/src/math.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/area.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/array.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/ascending.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/contains.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/contours.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/density.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/index.js","webpack://videoclipper-v2/./node_modules/d3-contour/src/noop.js","webpack://videoclipper-v2/./node_modules/d3-delaunay/src/delaunay.js","webpack://videoclipper-v2/./node_modules/d3-delaunay/src/index.js","webpack://videoclipper-v2/./node_modules/d3-delaunay/src/path.js","webpack://videoclipper-v2/./node_modules/d3-delaunay/src/polygon.js","webpack://videoclipper-v2/./node_modules/d3-delaunay/src/voronoi.js","webpack://videoclipper-v2/./node_modules/d3-dispatch/src/dispatch.js","webpack://videoclipper-v2/./node_modules/d3-dispatch/src/index.js","webpack://videoclipper-v2/./node_modules/d3-drag/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-drag/src/drag.js","webpack://videoclipper-v2/./node_modules/d3-drag/src/event.js","webpack://videoclipper-v2/./node_modules/d3-drag/src/index.js","webpack://videoclipper-v2/./node_modules/d3-drag/src/nodrag.js","webpack://videoclipper-v2/./node_modules/d3-drag/src/noevent.js","webpack://videoclipper-v2/./node_modules/d3-dsv/src/autoType.js","webpack://videoclipper-v2/./node_modules/d3-dsv/src/csv.js","webpack://videoclipper-v2/./node_modules/d3-dsv/src/dsv.js","webpack://videoclipper-v2/./node_modules/d3-dsv/src/index.js","webpack://videoclipper-v2/./node_modules/d3-dsv/src/tsv.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/back.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/bounce.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/circle.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/cubic.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/elastic.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/exp.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/index.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/linear.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/math.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/poly.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/quad.js","webpack://videoclipper-v2/./node_modules/d3-ease/src/sin.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/blob.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/buffer.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/dsv.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/image.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/index.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/json.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/text.js","webpack://videoclipper-v2/./node_modules/d3-fetch/src/xml.js","webpack://videoclipper-v2/./node_modules/d3-force/src/center.js","webpack://videoclipper-v2/./node_modules/d3-force/src/collide.js","webpack://videoclipper-v2/./node_modules/d3-force/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-force/src/index.js","webpack://videoclipper-v2/./node_modules/d3-force/src/jiggle.js","webpack://videoclipper-v2/./node_modules/d3-force/src/lcg.js","webpack://videoclipper-v2/./node_modules/d3-force/src/link.js","webpack://videoclipper-v2/./node_modules/d3-force/src/manyBody.js","webpack://videoclipper-v2/./node_modules/d3-force/src/radial.js","webpack://videoclipper-v2/./node_modules/d3-force/src/simulation.js","webpack://videoclipper-v2/./node_modules/d3-force/src/x.js","webpack://videoclipper-v2/./node_modules/d3-force/src/y.js","webpack://videoclipper-v2/./node_modules/d3-format/src/defaultLocale.js","webpack://videoclipper-v2/./node_modules/d3-format/src/exponent.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatDecimal.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatGroup.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatNumerals.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatRounded.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatSpecifier.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatTrim.js","webpack://videoclipper-v2/./node_modules/d3-format/src/formatTypes.js","webpack://videoclipper-v2/./node_modules/d3-format/src/identity.js","webpack://videoclipper-v2/./node_modules/d3-format/src/index.js","webpack://videoclipper-v2/./node_modules/d3-format/src/locale.js","webpack://videoclipper-v2/./node_modules/d3-format/src/precisionFixed.js","webpack://videoclipper-v2/./node_modules/d3-format/src/precisionPrefix.js","webpack://videoclipper-v2/./node_modules/d3-format/src/precisionRound.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/area.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/bounds.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/cartesian.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/centroid.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/circle.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/buffer.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/circle.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/extent.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/index.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/line.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/rectangle.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/clip/rejoin.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/compose.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/contains.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/distance.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/graticule.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/identity.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/index.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/interpolate.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/length.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/math.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/noop.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/area.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/bounds.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/centroid.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/context.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/index.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/measure.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/path/string.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/pointEqual.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/polygonContains.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/albers.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/albersUsa.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/azimuthal.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/conic.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/conicConformal.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/equalEarth.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/equirectangular.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/fit.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/gnomonic.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/identity.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/index.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/mercator.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/orthographic.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/resample.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/stereographic.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/projection/transverseMercator.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/rotation.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/stream.js","webpack://videoclipper-v2/./node_modules/d3-geo/src/transform.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/accessors.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/array.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/cluster.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/index.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/lcg.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/pack/index.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/partition.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/stratify.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/tree.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://videoclipper-v2/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/array.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/basis.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/basisClosed.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/color.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/cubehelix.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/date.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/discrete.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/hcl.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/hsl.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/hue.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/index.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/lab.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/number.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/numberArray.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/object.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/piecewise.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/quantize.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/rgb.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/round.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/string.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/transform/index.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/transform/parse.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/value.js","webpack://videoclipper-v2/./node_modules/d3-interpolate/src/zoom.js","webpack://videoclipper-v2/./node_modules/d3-path/src/index.js","webpack://videoclipper-v2/./node_modules/d3-path/src/path.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/area.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/centroid.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/contains.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/cross.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/hull.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/index.js","webpack://videoclipper-v2/./node_modules/d3-polygon/src/length.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/add.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/cover.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/data.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/extent.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/find.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/index.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/quad.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/quadtree.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/remove.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/root.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/size.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/visit.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/visitAfter.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/x.js","webpack://videoclipper-v2/./node_modules/d3-quadtree/src/y.js","webpack://videoclipper-v2/./node_modules/d3-random/src/bates.js","webpack://videoclipper-v2/./node_modules/d3-random/src/bernoulli.js","webpack://videoclipper-v2/./node_modules/d3-random/src/beta.js","webpack://videoclipper-v2/./node_modules/d3-random/src/binomial.js","webpack://videoclipper-v2/./node_modules/d3-random/src/cauchy.js","webpack://videoclipper-v2/./node_modules/d3-random/src/defaultSource.js","webpack://videoclipper-v2/./node_modules/d3-random/src/exponential.js","webpack://videoclipper-v2/./node_modules/d3-random/src/gamma.js","webpack://videoclipper-v2/./node_modules/d3-random/src/geometric.js","webpack://videoclipper-v2/./node_modules/d3-random/src/index.js","webpack://videoclipper-v2/./node_modules/d3-random/src/int.js","webpack://videoclipper-v2/./node_modules/d3-random/src/irwinHall.js","webpack://videoclipper-v2/./node_modules/d3-random/src/lcg.js","webpack://videoclipper-v2/./node_modules/d3-random/src/logNormal.js","webpack://videoclipper-v2/./node_modules/d3-random/src/logistic.js","webpack://videoclipper-v2/./node_modules/d3-random/src/normal.js","webpack://videoclipper-v2/./node_modules/d3-random/src/pareto.js","webpack://videoclipper-v2/./node_modules/d3-random/src/poisson.js","webpack://videoclipper-v2/./node_modules/d3-random/src/uniform.js","webpack://videoclipper-v2/./node_modules/d3-random/src/weibull.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/categorical/observable10.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/colors.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/index.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/ramp.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://videoclipper-v2/./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/band.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/continuous.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/diverging.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/identity.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/index.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/init.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/linear.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/log.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/nice.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/number.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/ordinal.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/pow.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/quantile.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/quantize.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/radial.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/sequential.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/sequentialQuantile.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/symlog.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/threshold.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/tickFormat.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/time.js","webpack://videoclipper-v2/./node_modules/d3-scale/src/utcTime.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/array.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/create.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/creator.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/index.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/local.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/matcher.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/namespace.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/namespaces.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/pointer.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/pointers.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/select.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selectAll.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/append.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/attr.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/call.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/classed.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/clone.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/data.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/datum.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/dispatch.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/each.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/empty.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/enter.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/exit.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/filter.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/html.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/index.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/insert.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/iterator.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/join.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/lower.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/merge.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/node.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/nodes.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/on.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/order.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/property.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/raise.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/remove.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/select.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/selectAll.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/selectChild.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/size.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/sort.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/sparse.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/style.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selection/text.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selector.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/selectorAll.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/sourceEvent.js","webpack://videoclipper-v2/./node_modules/d3-selection/src/window.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/arc.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/area.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/areaRadial.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/array.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/basis.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/basisClosed.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/basisOpen.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/bump.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/bundle.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/cardinal.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/catmullRom.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/linear.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/linearClosed.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/monotone.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/natural.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/radial.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/curve/step.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/descending.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/identity.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/index.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/line.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/lineRadial.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/link.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/math.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/noop.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/offset/diverging.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/offset/expand.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/offset/none.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/offset/silhouette.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/offset/wiggle.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/order/appearance.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/order/ascending.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/order/descending.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/order/insideOut.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/order/none.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/order/reverse.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/path.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/pie.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/point.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/pointRadial.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/stack.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/asterisk.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/circle.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/cross.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/diamond.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/diamond2.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/plus.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/square.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/square2.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/star.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/times.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/triangle.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/triangle2.js","webpack://videoclipper-v2/./node_modules/d3-shape/src/symbol/wye.js","webpack://videoclipper-v2/./node_modules/d3-time-format/src/defaultLocale.js","webpack://videoclipper-v2/./node_modules/d3-time-format/src/index.js","webpack://videoclipper-v2/./node_modules/d3-time-format/src/isoFormat.js","webpack://videoclipper-v2/./node_modules/d3-time-format/src/isoParse.js","webpack://videoclipper-v2/./node_modules/d3-time-format/src/locale.js","webpack://videoclipper-v2/./node_modules/d3-time/src/day.js","webpack://videoclipper-v2/./node_modules/d3-time/src/duration.js","webpack://videoclipper-v2/./node_modules/d3-time/src/hour.js","webpack://videoclipper-v2/./node_modules/d3-time/src/index.js","webpack://videoclipper-v2/./node_modules/d3-time/src/interval.js","webpack://videoclipper-v2/./node_modules/d3-time/src/millisecond.js","webpack://videoclipper-v2/./node_modules/d3-time/src/minute.js","webpack://videoclipper-v2/./node_modules/d3-time/src/month.js","webpack://videoclipper-v2/./node_modules/d3-time/src/second.js","webpack://videoclipper-v2/./node_modules/d3-time/src/ticks.js","webpack://videoclipper-v2/./node_modules/d3-time/src/week.js","webpack://videoclipper-v2/./node_modules/d3-time/src/year.js","webpack://videoclipper-v2/./node_modules/d3-timer/src/index.js","webpack://videoclipper-v2/./node_modules/d3-timer/src/interval.js","webpack://videoclipper-v2/./node_modules/d3-timer/src/timeout.js","webpack://videoclipper-v2/./node_modules/d3-timer/src/timer.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/active.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/index.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/interrupt.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/selection/index.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/selection/interrupt.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/selection/transition.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/attr.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/attrTween.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/delay.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/duration.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/ease.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/end.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/filter.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/index.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/interpolate.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/merge.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/on.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/remove.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/schedule.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/select.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/selectAll.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/selection.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/style.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/styleTween.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/text.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/textTween.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/transition.js","webpack://videoclipper-v2/./node_modules/d3-transition/src/transition/tween.js","webpack://videoclipper-v2/./node_modules/d3-zoom/src/constant.js","webpack://videoclipper-v2/./node_modules/d3-zoom/src/event.js","webpack://videoclipper-v2/./node_modules/d3-zoom/src/index.js","webpack://videoclipper-v2/./node_modules/d3-zoom/src/noevent.js","webpack://videoclipper-v2/./node_modules/d3-zoom/src/transform.js","webpack://videoclipper-v2/./node_modules/d3-zoom/src/zoom.js","webpack://videoclipper-v2/./node_modules/d3/src/index.js","webpack://videoclipper-v2/./node_modules/delaunator/index.js","webpack://videoclipper-v2/./node_modules/dom-to-image-more/dist/dom-to-image-more.min.js","webpack://videoclipper-v2/./node_modules/idb/build/index.js","webpack://videoclipper-v2/./node_modules/internmap/src/index.js","webpack://videoclipper-v2/./node_modules/lib0/array.js","webpack://videoclipper-v2/./node_modules/lib0/binary.js","webpack://videoclipper-v2/./node_modules/lib0/broadcastchannel.js","webpack://videoclipper-v2/./node_modules/lib0/buffer.js","webpack://videoclipper-v2/./node_modules/lib0/conditions.js","webpack://videoclipper-v2/./node_modules/lib0/decoding.js","webpack://videoclipper-v2/./node_modules/lib0/dom.js","webpack://videoclipper-v2/./node_modules/lib0/encoding.js","webpack://videoclipper-v2/./node_modules/lib0/environment.js","webpack://videoclipper-v2/./node_modules/lib0/error.js","webpack://videoclipper-v2/./node_modules/lib0/eventloop.js","webpack://videoclipper-v2/./node_modules/lib0/function.js","webpack://videoclipper-v2/./node_modules/lib0/iterator.js","webpack://videoclipper-v2/./node_modules/lib0/json.js","webpack://videoclipper-v2/./node_modules/lib0/logging.common.js","webpack://videoclipper-v2/./node_modules/lib0/logging.js","webpack://videoclipper-v2/./node_modules/lib0/map.js","webpack://videoclipper-v2/./node_modules/lib0/math.js","webpack://videoclipper-v2/./node_modules/lib0/metric.js","webpack://videoclipper-v2/./node_modules/lib0/number.js","webpack://videoclipper-v2/./node_modules/lib0/object.js","webpack://videoclipper-v2/./node_modules/lib0/observable.js","webpack://videoclipper-v2/./node_modules/lib0/pair.js","webpack://videoclipper-v2/./node_modules/lib0/promise.js","webpack://videoclipper-v2/./node_modules/lib0/random.js","webpack://videoclipper-v2/./node_modules/lib0/set.js","webpack://videoclipper-v2/./node_modules/lib0/storage.js","webpack://videoclipper-v2/./node_modules/lib0/string.js","webpack://videoclipper-v2/./node_modules/lib0/symbol.js","webpack://videoclipper-v2/./node_modules/lib0/time.js","webpack://videoclipper-v2/./node_modules/lib0/traits.js","webpack://videoclipper-v2/./node_modules/lib0/url.js","webpack://videoclipper-v2/./node_modules/lib0/webcrypto.js","webpack://videoclipper-v2/./node_modules/robust-predicates/esm/incircle.js","webpack://videoclipper-v2/./node_modules/robust-predicates/esm/insphere.js","webpack://videoclipper-v2/./node_modules/robust-predicates/esm/orient2d.js","webpack://videoclipper-v2/./node_modules/robust-predicates/esm/orient3d.js","webpack://videoclipper-v2/./node_modules/robust-predicates/esm/util.js","webpack://videoclipper-v2/./node_modules/robust-predicates/index.js","webpack://videoclipper-v2/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://videoclipper-v2/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://videoclipper-v2/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://videoclipper-v2/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://videoclipper-v2/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://videoclipper-v2/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://videoclipper-v2/./node_modules/turbodombuilder/build/turbodombuilder.esm.js","webpack://videoclipper-v2/./node_modules/y-protocols/auth.js","webpack://videoclipper-v2/./node_modules/y-protocols/awareness.js","webpack://videoclipper-v2/./node_modules/y-protocols/sync.js","webpack://videoclipper-v2/./node_modules/y-websocket/src/y-websocket.js","webpack://videoclipper-v2/./node_modules/yjs/dist/yjs.mjs","webpack://videoclipper-v2/webpack/bootstrap","webpack://videoclipper-v2/webpack/runtime/compat get default export","webpack://videoclipper-v2/webpack/runtime/define property getters","webpack://videoclipper-v2/webpack/runtime/global","webpack://videoclipper-v2/webpack/runtime/hasOwnProperty shorthand","webpack://videoclipper-v2/webpack/runtime/make namespace object","webpack://videoclipper-v2/webpack/runtime/publicPath","webpack://videoclipper-v2/webpack/runtime/jsonp chunk loading","webpack://videoclipper-v2/webpack/runtime/nonce","webpack://videoclipper-v2/./frontend/src/client/app.ts"],"sourcesContent":["\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./animatedContentSwitchingDiv.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./animatedContentSwitchingDiv.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, define, OnOff, Shown, StatefulReifect, TurboSelect } from \"turbodombuilder\";\nimport \"./animatedContentSwitchingDiv.css\";\nimport { getSize } from \"../../../utils/size\";\nlet AnimatedContentSwitchingDiv = class AnimatedContentSwitchingDiv extends TurboSelect {\n    constructor(properties = {}) {\n        super(properties);\n        this.transitionDuration = 0.3;\n        this.transitionReifect = undefined;\n        this.positionReifect = undefined;\n        this.sizeReifect = undefined;\n    }\n    set transitionDuration(value) {\n        if (this.transitionReifect)\n            this.transitionReifect.transitionDuration = value;\n        if (this.sizeReifect)\n            this.sizeReifect.transitionDuration = value;\n    }\n    get transitionReifect() {\n        return this._transitionReifect;\n    }\n    set transitionReifect(value) {\n        var _a;\n        if (value instanceof StatefulReifect)\n            this._transitionReifect = value;\n        else if (typeof value === \"object\")\n            this._transitionReifect = new StatefulReifect(value);\n        else {\n            this._transitionReifect = new StatefulReifect({\n                states: [Shown.visible, Shown.hidden],\n                transitionProperties: [\"transform\", \"opacity\"],\n                transitionDuration: (_a = this.transitionDuration) !== null && _a !== void 0 ? _a : 0,\n                transitionTimingFunction: \"ease-out\",\n                styles: {\n                    [Shown.visible]: {\n                        opacity: 1,\n                        transform: \"translateX(0)\",\n                        pointerEvents: \"all\",\n                    },\n                    [Shown.hidden]: {\n                        opacity: 0,\n                        transform: \"translateX(100%)\",\n                        pointerEvents: \"none\",\n                    }\n                }\n            });\n        }\n        this.transitionReifect.attachAll(...this.entries);\n    }\n    get positionReifect() {\n        return this._positionReifect;\n    }\n    set positionReifect(value) {\n        var _a;\n        if (value instanceof StatefulReifect)\n            this._positionReifect = value;\n        else if (typeof value === \"object\")\n            this._positionReifect = new StatefulReifect(value);\n        else {\n            this._positionReifect = new StatefulReifect({\n                states: [Shown.visible, Shown.hidden],\n                transitionProperties: [\"position\"],\n                transitionDelay: {\n                    [Shown.visible]: (_a = this.transitionDuration) !== null && _a !== void 0 ? _a : 0,\n                    [Shown.hidden]: 0\n                },\n                styles: {\n                    [Shown.visible]: \"position: relative\",\n                    [Shown.hidden]: \"position: absolute\"\n                }\n            });\n        }\n        this.positionReifect.attachAll(...this.entries);\n    }\n    get sizeReifect() {\n        return this._sizeReifect;\n    }\n    set sizeReifect(value) {\n        if (this._sizeReifect)\n            this._sizeReifect.detach(this);\n        if (value instanceof StatefulReifect)\n            this._sizeReifect = value;\n        else if (typeof value === \"object\")\n            this._sizeReifect = new StatefulReifect(value);\n        else {\n            this._sizeReifect = new StatefulReifect({\n                states: [OnOff.on, OnOff.off],\n                transitionProperties: [\"width\", \"height\"],\n                transitionDuration: {\n                    [OnOff.on]: this.transitionDuration,\n                    [OnOff.off]: 0\n                },\n                transitionTimingFunction: \"ease-out\",\n                styles: {\n                    [OnOff.on]: () => {\n                        if (!this.selectedEntry)\n                            return \"\";\n                        const entrySize = getSize(this.selectedEntry);\n                        return {\n                            width: entrySize.width > 0 ? `${entrySize.width}px` : \"\",\n                            height: entrySize.height > 0 ? `${entrySize.height}px` : \"\"\n                        };\n                    },\n                    [OnOff.off]: { width: `${this.offsetWidth}px`, height: `${this.offsetHeight}px` }\n                }\n            });\n        }\n        this.sizeReifect.attach(this);\n    }\n    addEntry(entry) {\n        var _a, _b, _c, _d;\n        entry = super.addEntry(entry);\n        (_a = this.transitionReifect) === null || _a === void 0 ? void 0 : _a.attach(entry);\n        (_b = this.positionReifect) === null || _b === void 0 ? void 0 : _b.attach(entry);\n        (_c = this.transitionReifect) === null || _c === void 0 ? void 0 : _c.initialize(Shown.hidden, entry);\n        (_d = this.positionReifect) === null || _d === void 0 ? void 0 : _d.initialize(Shown.hidden, entry);\n        return entry;\n    }\n    select(entry) {\n        super.select(entry);\n        this.entries.forEach(entry => {\n            var _a, _b;\n            (_a = this.transitionReifect) === null || _a === void 0 ? void 0 : _a.apply(entry == this.selectedEntry ? Shown.visible : Shown.hidden, entry, { applyStylesInstantly: true });\n            (_b = this.positionReifect) === null || _b === void 0 ? void 0 : _b.apply(entry == this.selectedEntry ? Shown.visible : Shown.hidden, entry, { applyStylesInstantly: true });\n        });\n        this.refreshSize();\n        return this;\n    }\n    refreshSize() {\n        var _a;\n        this.setStyles({ transition: \"\", width: `${this.offsetWidth}px`, height: `${this.offsetHeight}px` }, true);\n        if (!this.selectedEntry)\n            return;\n        (_a = this.sizeReifect) === null || _a === void 0 ? void 0 : _a.apply(OnOff.on, undefined, { recomputeProperties: true });\n        // setTimeout(() => this.sizeReifect.apply(OnOff.off), this.transitionDuration);\n    }\n};\n__decorate([\n    auto()\n], AnimatedContentSwitchingDiv.prototype, \"transitionDuration\", null);\nAnimatedContentSwitchingDiv = __decorate([\n    define(\"animated-content-switch\")\n], AnimatedContentSwitchingDiv);\nexport { AnimatedContentSwitchingDiv };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./appBar.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./appBar.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { TurboModel } from \"turbodombuilder\";\nexport class AppBarModel extends TurboModel {\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, TurboElement } from \"turbodombuilder\";\nimport \"./appBar.css\";\nimport { AppBarView } from \"./appBar.view\";\nimport { AppBarModel } from \"./appBar.model\";\nlet AppBar = class AppBar extends TurboElement {\n    constructor(properties = {}) {\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: AppBarView,\n            modelConstructor: AppBarModel\n        });\n    }\n};\nAppBar = __decorate([\n    define(\"vc-app-bar\")\n], AppBar);\nexport { AppBar };\n","import { DefaultEventName, h3, icon, spacer, TurboView } from \"turbodombuilder\";\nexport class AppBarView extends TurboView {\n    setupUIElements() {\n        super.setupUIElements();\n        this.fullscreenToggle = icon({ icon: \"maximize\" });\n        this.canvasTitle = h3({ text: \"VideoClipper\" });\n        this.backButton = icon({ icon: \"home\" });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.backButton, spacer(), this.canvasTitle, spacer(), this.fullscreenToggle]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.fullscreenToggle.addListener(DefaultEventName.click, () => this.toggleFullscreen());\n        this.backButton.addListener(DefaultEventName.click, () => {\n            //TODO\n            // leave_room();\n            // show_projects();\n        });\n    }\n    toggleFullscreen() {\n        //Enter fullscreen mode\n        if (!document.fullscreenElement) {\n            this.fullscreenToggle.icon = \"minimize\";\n            if (document.documentElement.requestFullscreen)\n                document.documentElement.requestFullscreen();\n            else if (\"mozRequestFullScreen\" in document.documentElement\n                && typeof document.documentElement.mozRequestFullScreen == \"function\")\n                document.documentElement.mozRequestFullScreen();\n            else if (\"webkitRequestFullscreen\" in document.documentElement\n                && typeof document.documentElement.webkitRequestFullscreen == \"function\")\n                document.documentElement.webkitRequestFullscreen();\n            else if (\"msRequestFullscreen\" in document.documentElement\n                && typeof document.documentElement.msRequestFullscreen == \"function\")\n                document.documentElement.msRequestFullscreen();\n        }\n        //Exit fullscreen mode\n        else {\n            this.fullscreenToggle.icon = \"maximize\";\n            if (document.exitFullscreen)\n                document.exitFullscreen();\n            else if (\"mozCancelFullScreen\" in document.documentElement\n                && typeof document.documentElement.mozCancelFullScreen == \"function\")\n                document.documentElement.mozCancelFullScreen();\n            else if (\"webkitExitFullscreen\" in document.documentElement\n                && typeof document.documentElement.webkitExitFullscreen == \"function\")\n                document.documentElement.webkitExitFullscreen();\n            else if (\"msExitFullscreen\" in document.documentElement\n                && typeof document.documentElement.msExitFullscreen == \"function\")\n                document.documentElement.msExitFullscreen();\n        }\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./backgroundSelector.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./backgroundSelector.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport \"./backgroundSelector.css\";\nimport { define, div, TurboSelect } from \"turbodombuilder\";\nimport { BackgroundSelectorView } from \"./backgroundSelector.view\";\nlet BackgroundSelector = class BackgroundSelector extends TurboSelect {\n    constructor(properties = {}) {\n        properties.values = [];\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: BackgroundSelectorView,\n        });\n        [\"#ffffff\", \"#000000\", \"#e36060\", \"#607fe3\", \"#d1c948\", \"color-picker\"].forEach(color => this.addEntry(color));\n    }\n    get selectedValue() {\n        if (super.selectedValue === \"color-picker\")\n            return this.selectedEntry.element.style.borderColor;\n        return super.selectedValue;\n    }\n    addEntry(entry) {\n        if (typeof entry === \"string\") {\n            if (entry === \"color-picker\")\n                entry = super.addEntry({\n                    value: entry,\n                    element: this.createColorPickerEntryElement()\n                });\n            else\n                entry = super.addEntry({\n                    value: entry,\n                    element: div({ style: \"background-color: \" + entry })\n                });\n            entry.element.addClass(\"color-palette-entry\");\n            return entry;\n        }\n        return super.addEntry(entry);\n    }\n    createColorPickerEntryElement() {\n        const element = this.view.generateColorPickerButton();\n        this.view.colorPicker.addListener(\"input\", (e) => {\n            if (this.selectedEntry.element != element)\n                return;\n            element.setStyle(\"borderColor\", e.target.value);\n            this.onSelect(true, this.selectedEntry, this.getIndex(this.selectedEntry));\n        });\n        return element;\n    }\n};\nBackgroundSelector = __decorate([\n    define(\"camera-background-selector\")\n], BackgroundSelector);\nexport { BackgroundSelector };\n","import { css, DefaultEventName, div, h3, icon, input, TurboView } from \"turbodombuilder\";\nexport class BackgroundSelectorView extends TurboView {\n    setupUIElements() {\n        super.setupUIElements();\n        this.title = h3({ text: \"Background\" });\n        this.palette = div({ classes: \"color-palette\" });\n        this.colorPicker = input({ type: \"color\", value: \"#FFFFFF\",\n            style: css `visibility: hidden; height: 0; width: 0` });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.title, this.palette, this.colorPicker]);\n        this.palette.addChild(this.element.entries);\n    }\n    generateColorPickerButton() {\n        return div({\n            classes: \"color-picker\",\n            children: [icon({ icon: \"pen\", iconColor: \"white\" })],\n            style: \"border-color: #FFFFFF\"\n        }).addListener(DefaultEventName.click, () => {\n            this.colorPicker.click();\n        });\n    }\n}\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./movableComponent.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./movableComponent.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, TurboElement } from \"turbodombuilder\";\nimport \"./movableComponent.css\";\nlet MovableComponent = class MovableComponent extends TurboElement {\n    constructor(clone, originElement, properties = {}) {\n        super(properties);\n        this.clone = clone;\n        this.originElement = originElement;\n        this.appendChild(this.clone);\n    }\n    get translation() {\n        return this._translation;\n    }\n    set translation(value) {\n        this._translation = value;\n        this.setStyle(\"transform\", `translate3d(calc(${value.x}px - 50%), calc(${value.y}px - 50%), 0)`);\n    }\n    translateBy(delta) {\n        this.translation = this.translation.add(delta);\n    }\n};\nMovableComponent = __decorate([\n    define(\"movable-component\")\n], MovableComponent);\nexport { MovableComponent };\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./resizer.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./resizer.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, div, TurboElement } from \"turbodombuilder\";\nimport \"./resizer.css\";\n//TODO FIX AND MAKE MORE GENERIC\nlet Resizer = class Resizer extends TurboElement {\n    constructor(content, properties = {}) {\n        super(properties);\n        this.content = content;\n    }\n    connectedCallback() {\n        this.parent = this.content.parentElement;\n        this.initUI();\n        this.show(false);\n    }\n    initUI() {\n        for (const direction of [\"nw\", \"ne\", \"sw\", \"se\"]) {\n            div({\n                parent: this,\n                classes: \"resizer-handle resizer-handle-\" + direction,\n                listeners: {\n                    \"vc-drag\": (e) => {\n                        e.stopImmediatePropagation();\n                        this.incrementWidthByPx(e.deltaPosition.x\n                            * ((direction == \"nw\" || direction == \"sw\") ? -2 : 2));\n                        this.incrementHeightByPx(e.deltaPosition.y\n                            * ((direction == \"nw\" || direction == \"ne\") ? -2 : 2));\n                    }\n                }\n            });\n        }\n    }\n    incrementWidthByPx(delta) {\n        var _a;\n        if (\"boxWidth\" in this.content && typeof this.content.boxWidth == \"number\") {\n            this.content.boxWidth += delta / ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.offsetWidth) * 100;\n        }\n    }\n    incrementHeightByPx(delta) {\n        var _a;\n        if (\"boxHeight\" in this.content && typeof this.content.boxHeight == \"number\")\n            this.content.boxHeight += delta / ((_a = this.parent) === null || _a === void 0 ? void 0 : _a.offsetHeight) * 100;\n    }\n};\nResizer = __decorate([\n    define(\"vc-resizer\")\n], Resizer);\nexport { Resizer };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./branchingNode.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./branchingNode.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nexport class BranchingNodeModel extends YComponentModel {\n    get origin() {\n        return this.getData(\"origin\");\n    }\n    set origin(value) {\n        this.setData(\"origin\", value);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BranchingNodeType } from \"./branchingNode.types\";\nimport { define } from \"turbodombuilder\";\nimport \"./branchingNode.css\";\nimport { BranchingNodeModel } from \"./branchingNode.model\";\nimport { BranchingNodeView } from \"./branchingNode.view\";\nimport { VcComponent } from \"../component/component\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\n/**\n * @class BranchingNode\n * @extends TurboElement\n * @description Component representing a node where flows start, branch, or end. Can be manipulated and moved on the\n * canvas.\n * @template {SyncedBranchingNode} Type\n */\nlet BranchingNode = class BranchingNode extends VcComponent {\n    constructor(properties = {}) {\n        super(properties);\n        if (properties.data)\n            this.mvc.generate({\n                viewConstructor: BranchingNodeView,\n                modelConstructor: BranchingNodeModel,\n                data: properties.data\n            });\n    }\n    static createData(data) {\n        if (!data)\n            data = {};\n        if (!data.origin)\n            data.origin = { x: 0, y: 0 };\n        data.type = BranchingNodeType.node;\n        return YUtilities.createYMap(data);\n    }\n    /**\n     * @function move\n     * @description Moves the branching node by the given values.\n     * @param {Point} deltaPosition - The values by which to move the data.\n     */\n    move(deltaPosition) {\n        this.model.origin = deltaPosition.add(this.model.origin).object;\n    }\n    /**\n     * @function delete\n     * @description Deletes the node data from the Yjs document, destroys all its attached components (including this),\n     * amd updates the attached flows accordingly.\n     */\n    delete() {\n        this.director.flows.forEach(flow => flow.updateOnDetachingNode(this.dataId));\n        this.director.delete(this);\n    }\n};\nBranchingNode = __decorate([\n    define()\n], BranchingNode);\nexport { BranchingNode };\n","export var BranchingNodeType;\n(function (BranchingNodeType) {\n    BranchingNodeType[\"card\"] = \"card\";\n    BranchingNodeType[\"node\"] = \"node\";\n})(BranchingNodeType || (BranchingNodeType = {}));\n","import { TurboView } from \"turbodombuilder\";\nexport class BranchingNodeView extends TurboView {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"origin\", (value) => {\n            this.element.setStyle(\"transform\", `translate3d(calc(${value.x}px - 50%), calc(${value.y}px - 50%), 0)`);\n        });\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./captureButton.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./captureButton.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DefaultEventName, define, div, TurboElement } from \"turbodombuilder\";\nimport \"./captureButton.css\";\nimport { CaptureMode } from \"../../panels/shootingPanel/shootingPanel.types\";\nlet CaptureButton = class CaptureButton extends TurboElement {\n    constructor(properties = {}) {\n        super(properties);\n        this.initializeUI();\n    }\n    updateState(mode) {\n        this.toggleClass(\"video\", mode == CaptureMode.video);\n        this.toggleClass(\"video-capturing\", mode == CaptureMode.videoShooting);\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.lowerDiv = div();\n        this.upperDiv = div();\n        this.innerIcon = div({ classes: \"inner-icon\" });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.addChild([this.lowerDiv, this.upperDiv]);\n        this.upperDiv.addChild(this.innerIcon);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.addListener(DefaultEventName.clickStart, () => this.upperDiv.setStyle(\"transform\", \"scale(0.7)\"));\n        this.addListener(DefaultEventName.clickEnd, () => this.upperDiv.setStyle(\"transform\", \"scale(1)\"));\n    }\n};\nCaptureButton = __decorate([\n    define()\n], CaptureButton);\nexport { CaptureButton };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./captureModeSlider.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./captureModeSlider.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, Direction, TurboSelectWheel, } from \"turbodombuilder\";\nimport \"./captureModeSlider.css\";\nlet CaptureModeSlider = class CaptureModeSlider extends TurboSelectWheel {\n    constructor(properties) {\n        super(Object.assign(Object.assign({}, properties), { direction: Direction.horizontal, classes: \"capture-mode-slider\", opacity: { min: 0.3, max: 1 }, size: { min: 0.6, max: 1.3 }, style: \"transform: rotate(-90deg)\" }));\n        this.openTimeout = -1;\n    }\n    computeDragValue(delta) {\n        return delta.y;\n    }\n};\nCaptureModeSlider = __decorate([\n    define()\n], CaptureModeSlider);\nexport { CaptureModeSlider };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./captureTimer.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./captureTimer.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, div, TurboElement } from \"turbodombuilder\";\nimport \"./captureTimer.css\";\nlet CaptureTimer = class CaptureTimer extends TurboElement {\n    constructor(properties = {}) {\n        super(properties);\n        this.hours = 0;\n        this.minutes = 0;\n        this.seconds = 0;\n        this.child = div({ parent: this });\n        this.show(false);\n    }\n    start() {\n        this.clear();\n        this.show(true);\n        this.timer = setInterval(() => this.incrementTime(), 1000);\n    }\n    stop() {\n        this.show(false);\n        const timeSpent = this.hours * 3600 + this.minutes * 60 + this.seconds;\n        this.clear();\n        return timeSpent;\n    }\n    clear() {\n        if (this.timer)\n            clearInterval(this.timer);\n        this.hours = 0;\n        this.minutes = 0;\n        this.seconds = 0;\n        this.setTimeText();\n    }\n    incrementTime() {\n        this.seconds++;\n        if (this.seconds >= 60) {\n            this.seconds = 0;\n            this.minutes++;\n            if (this.minutes >= 60) {\n                this.minutes = 0;\n                this.hours++;\n            }\n        }\n        this.setTimeText();\n    }\n    setTimeText() {\n        const pad = (num) => num.toString().padStart(2, \"0\");\n        this.child.innerText = `${pad(this.hours)}:${pad(this.minutes)}:${pad(this.seconds)}`;\n    }\n};\nCaptureTimer = __decorate([\n    define(\"vc-capture-timer\")\n], CaptureTimer);\nexport { CaptureTimer };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./card.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./card.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { BranchingNodeModel } from \"../branchingNode/branchingNode.model\";\nexport class CardModel extends BranchingNodeModel {\n    get title() {\n        return this.getData(\"title\");\n    }\n    set title(value) {\n        this.setData(\"title\", value);\n    }\n    get metadata() {\n        return this.getData(\"metadata\");\n    }\n    get syncedClips() {\n        return this.getData(\"syncedClips\");\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { define } from \"turbodombuilder\";\nimport \"./card.css\";\nimport { MetadataDrawer } from \"../metadataDrawer/metadataDrawer\";\nimport { CardModel } from \"./card.model\";\nimport { CardView } from \"./card.view\";\nimport { BranchingNode } from \"../branchingNode/branchingNode\";\nimport { Clip } from \"../clip/clip\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\n/**\n * @description Class representing a card\n */\nlet Card = class Card extends BranchingNode {\n    constructor(properties = {}) {\n        super(Object.assign(Object.assign({}, properties), { data: undefined }));\n        this.mvc.generate({\n            viewConstructor: CardView,\n            modelConstructor: CardModel,\n            data: properties.data,\n        });\n        this.renderer.card = this;\n    }\n    static createData(data) {\n        var _a;\n        if (!data)\n            data = {};\n        if (!data.origin)\n            data.origin = { x: 0, y: 0 };\n        if (!data.title)\n            data.title = \"Card\";\n        if (!data.syncedClips)\n            data.syncedClips = [undefined];\n        data.metadata = MetadataDrawer.createData(data.metadata);\n        const clipsArray = YUtilities.createYArray([]);\n        (_a = data.syncedClips) === null || _a === void 0 ? void 0 : _a.forEach((clip) => clipsArray.push([Clip.createData(clip)]));\n        data.syncedClips = clipsArray;\n        return YUtilities.createYMap(data);\n    }\n    get renderer() {\n        return this.view.renderer;\n    }\n    get metadataDrawer() {\n        return this.view.metadataDrawer;\n    }\n    get timeline() {\n        return this.view.timeline;\n    }\n    get title() {\n        return this.model.title;\n    }\n    get metadata() {\n        return this.model.metadata;\n    }\n    /**\n     * @description Whether the element is selected or not. Setting it will accordingly toggle the \"selected\" CSS\n     * class on the element and update the UI, as well as bring it the card to the front.\n     */\n    get selected() {\n        return super.selected;\n    }\n    set selected(value) {\n        super.selected = value;\n    }\n    /**\n     * @description The total duration of the card. When set, will update the value of the duration UI element.\n     */\n    set duration(value) {\n        this.view.duration = value;\n    }\n    get syncedClips() {\n        return this.model.syncedClips;\n    }\n    /**\n     * @function editTitle\n     * @description Focuses the title field of the card.\n     */\n    editTitle() {\n        this.view.editTitle();\n    }\n    /**\n     * @function delete\n     * @description Deletes the node data from the Yjs document, destroys all its attached components (including this),\n     * amd updates the attached flows accordingly.\n     */\n    delete() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.director.createNewNode(this.model.origin, this.dataId);\n            this.director.delete(this);\n        });\n    }\n    addClip(clip, index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.timeline.addClip(clip, index);\n        });\n    }\n    removeClip(clip) {\n        return this.timeline.removeClip(clip);\n    }\n};\nCard = __decorate([\n    define(\"vc-card\")\n], Card);\nexport { Card };\n","import { BranchingNodeView } from \"../branchingNode/branchingNode.view\";\nimport { ClickMode, DefaultEventName, div, Open, Point, Side, TurboEvent, TurboEventName, TurboInput, } from \"turbodombuilder\";\nimport { formatMmSs } from \"../../utils/time\";\nimport { MetadataDrawer } from \"../metadataDrawer/metadataDrawer\";\nimport { ClipTimeline } from \"../timeline/clipTimeline/clipTimeline\";\nimport { Playback } from \"../playback/playback\";\nexport class CardView extends BranchingNodeView {\n    get renderer() {\n        return this.playback.renderer;\n    }\n    get metadataDrawer() {\n        return this._metadataDrawer;\n    }\n    get timeline() {\n        return this._timeline;\n    }\n    /**\n     * @description The total duration of the card. When set, will update the value of the duration element.\n     */\n    set duration(value) {\n        this.durationElement.textContent = formatMmSs(value);\n    }\n    /**\n     * @function editTitle\n     * @description Focuses the title field of the card.\n     */\n    editTitle() {\n        this.titleElement.inputElement.dispatchEvent(new TurboEvent(new Point(), ClickMode.left, [], TurboEventName.click));\n    }\n    setupUIElements() {\n        this.titleElement = new TurboInput({ selectTextOnFocus: true });\n        this.durationElement = div();\n        this.playback = new Playback({ director: this.element.director, card: this.element, classes: \"card-playback\" });\n        this._metadataDrawer = new MetadataDrawer({\n            card: this.element,\n            icon: \"chevron\",\n            hideOverflow: true,\n            offset: { [Open.open]: 12 }\n        });\n        this._timeline = new ClipTimeline({\n            drawerProperties: {\n                icon: \"chevron\",\n                side: Side.right,\n                hideOverflow: true,\n                offset: { [Open.open]: 12 }\n            },\n            director: this.element.director,\n            card: this.element,\n            renderer: this.renderer,\n            model: this.playback.timeline.model\n        });\n        this._timeline.hasControls = false;\n    }\n    setupUILayout() {\n        this.element.addChild([\n            this.playback,\n            this.metadataDrawer,\n            this.timeline,\n            div({\n                classes: \"card-title\",\n                children: [this.titleElement, this.durationElement]\n            })\n        ]);\n    }\n    setupUIListeners() {\n        this.titleElement.addEventListener(DefaultEventName.blur, () => this.model.title = this.titleElement.value);\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"title\", (value) => this.titleElement.value = value);\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./clip.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./clip.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nexport class ClipModel extends YComponentModel {\n    constructor() {\n        super(...arguments);\n        this._videoDuration = null;\n        this.minimumDuration = 0.3;\n    }\n    get data() {\n        return super.data;\n    }\n    set data(value) {\n        super.data = value;\n        //TODO MAKE IT TOGGLEABLE\n        YUtilities.deepObserveAny(this.data, () => this.fireCallback(\"reload_thumbnail\"), \"startTime\", \"endTime\", \"backgroundFill\", \"mediaId\", \"content\");\n    }\n    get metadata() {\n        return this._metadata;\n    }\n    get uri() {\n        return this._uri;\n    }\n    get videoDuration() {\n        return this._videoDuration;\n    }\n    updateMediaData(media) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._metadata = media;\n            if ((media === null || media === void 0 ? void 0 : media.blob) instanceof Blob)\n                this._uri = URL.createObjectURL(media.blob);\n            else\n                this._uri = null;\n            this._videoDuration = (media === null || media === void 0 ? void 0 : media.type) == \"video\" ? media === null || media === void 0 ? void 0 : media.duration : null;\n        });\n    }\n    get startTime() {\n        return this.getData(\"startTime\");\n    }\n    set startTime(value) {\n        if (this.videoDuration && value < 0)\n            value = 0;\n        if (value > this.endTime - this.minimumDuration)\n            value = this.endTime - this.minimumDuration;\n        this.setData(\"startTime\", value);\n    }\n    get endTime() {\n        return this.getData(\"endTime\");\n    }\n    set endTime(value) {\n        if (value < this.startTime + this.minimumDuration)\n            value = this.startTime + this.minimumDuration;\n        if (this.videoDuration && value > this.videoDuration)\n            value = this.videoDuration;\n        this.setData(\"endTime\", value);\n    }\n    normalizeTime() {\n        if (this.videoDuration)\n            return;\n        const oldStartTime = this.startTime;\n        this.startTime = 0;\n        this.endTime = this.endTime - oldStartTime;\n    }\n    get backgroundFill() {\n        return this.getData(\"backgroundFill\");\n    }\n    set backgroundFill(value) {\n        this.setData(\"backgroundFill\", value);\n    }\n    get mediaId() {\n        return this.getData(\"mediaId\");\n    }\n    set mediaId(value) {\n        this.setData(\"mediaId\", value);\n    }\n    get thumbnail() {\n        return this.getData(\"thumbnail\");\n    }\n    set thumbnail(value) {\n        this.setData(\"thumbnail\", value);\n    }\n    get content() {\n        return this.getData(\"content\");\n    }\n    set content(value) {\n        this.setData(\"content\", value);\n    }\n    get color() {\n        return this.getData(\"color\");\n    }\n    set color(value) {\n        this.setData(\"color\", value);\n    }\n    get hidden() {\n        return this.getData(\"hidden\");\n    }\n    set hidden(value) {\n        this.setData(\"hidden\", value);\n    }\n    get muted() {\n        return this.getData(\"muted\");\n    }\n    set muted(value) {\n        this.setData(\"muted\", value);\n    }\n    get textHandler() {\n        return this.getHandler(\"text\");\n    }\n}\n","import { Point, TurboHandler } from \"turbodombuilder\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { TextType } from \"../textElement/textElement.types\";\nexport class ClipTextHandler extends TurboHandler {\n    /**\n     * @function addText\n     * @description Adds a new text entry in the current clip data at the provided position.\n     * @param {Point | Coordinate} position - The position of the text's anchor point on the clip in percentage\n     * (between 0 and 1).\n     */\n    addText(position) {\n        YUtilities.addInYArray({\n            text: \"Text\",\n            type: TextType.custom,\n            origin: position instanceof Point ? position.object : position,\n            fontSize: 0.1\n        }, this.model.content);\n    }\n    /**\n     * @function removeText\n     * @description Removes the provided text element from the HTML document and the Yjs document.\n     * @param {TextElement} entry - The text element to remove.\n     */\n    removeText(entry) {\n        if (!YUtilities.removeFromYArray(entry, this.model.content))\n            return;\n        // const index = this.content?.indexOf(entry.data);\n        // if (index < 0) return;\n        // entry.data.destroyBoundObjects();\n        // this.data.content?.splice(index, 1);\n    }\n    /**\n     * @function removeTextAt\n     * @description Removes the text entry at the provided index in the clip's content.\n     * @param {number} index - The index of the text to remove.\n     */\n    removeTextAt(index) {\n        if (index < 0 || index >= this.model.content.length)\n            return;\n        this.model.content.delete(index);\n        // this.data.content[index].destroyBoundObjects();\n        // this.data.content?.splice(index, 1);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar Clip_1;\nimport \"./clip.css\";\nimport { define } from \"turbodombuilder\";\nimport { ClipModel } from \"./clip.model\";\nimport { ClipThumbnailController } from \"./clipThumbnailController\";\nimport { MovableComponent } from \"../basicComponents/movableComponent/movableComponent\";\nimport { ClipTextHandler } from \"./clip.textHandler\";\nimport { TextElement } from \"../textElement/textElement\";\nimport { VcComponent } from \"../component/component\";\nimport { randomColor } from \"../../utils/random\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { ClipView } from \"./clip.view\";\nlet Clip = Clip_1 = class Clip extends VcComponent {\n    constructor(properties) {\n        super(Object.assign(Object.assign({}, properties), { generate: false }));\n        this.onMediaDataChanged = () => { };\n        this.timeline = properties.timeline;\n        this.mvc.generate({\n            viewConstructor: properties.viewConstructor,\n            modelConstructor: ClipModel,\n            data: properties.data,\n            handlerConstructors: [ClipTextHandler],\n            controllerConstructors: [ClipThumbnailController]\n        });\n        this.mvc.emitter.add(\"mediaId\", (value) => __awaiter(this, void 0, void 0, function* () {\n            this.model.updateMediaData(yield this.director.mediaManager.getMedia(value));\n            //TODO maybe remove this? idk\n            // if (media.metadata?.thumbnail) {\n            //     img({src: media.metadata?.thumbnail, parent: this.clipContent, classes: \"thumbnail\"});\n            // }\n            this.onMediaDataChanged(this);\n        }));\n    }\n    static createData(data) {\n        var _a;\n        if (!data)\n            data = { content: [undefined] };\n        if (!data.startTime)\n            data.startTime = 0;\n        if (!data.endTime)\n            data.endTime = 5;\n        if (!data.backgroundFill && !data.mediaId)\n            data.backgroundFill = \"#FFFFFF\";\n        if (!data.color)\n            data.color = randomColor();\n        const contentArray = YUtilities.createYArray([]);\n        (_a = data.content) === null || _a === void 0 ? void 0 : _a.forEach((content) => contentArray.push([TextElement.createData(content)]));\n        data.content = contentArray;\n        return YUtilities.createYMap(data);\n    }\n    //Getters and setters\n    /**\n     * @description Whether the element is selected or not. Setting it will accordingly toggle the \"selected\" CSS\n     * class on the element and update the UI.\n     */\n    get selected() {\n        return super.selected;\n    }\n    set selected(value) {\n        var _a;\n        super.selected = value;\n        if (this.view && this.view instanceof ClipView)\n            (_a = this.view) === null || _a === void 0 ? void 0 : _a.showHandles(value);\n    }\n    get card() {\n        return this.timeline.card;\n    }\n    get uri() {\n        return this.model.uri;\n    }\n    get metadata() {\n        return this.model.metadata;\n    }\n    get videoDuration() {\n        return this.model.videoDuration;\n    }\n    get backgroundFill() {\n        return this.model.backgroundFill;\n    }\n    get mediaId() {\n        return this.model.mediaId;\n    }\n    get startTime() {\n        return this.model.startTime;\n    }\n    set startTime(value) {\n        this.model.startTime = value;\n    }\n    get endTime() {\n        return this.model.endTime;\n    }\n    set endTime(value) {\n        this.model.endTime = value;\n    }\n    get duration() {\n        return this.endTime - this.startTime;\n    }\n    get muted() {\n        return this.model.muted;\n    }\n    set muted(value) {\n        this.model.muted = value;\n    }\n    get hidden() {\n        return this.model.hidden;\n    }\n    set hidden(value) {\n        this.model.hidden = value;\n    }\n    addText(position) {\n        return this.model.textHandler.addText(position);\n    }\n    removeText(entry) {\n        this.model.textHandler.removeText(entry);\n    }\n    /**\n     * @function clone\n     * @description Creates a clone of this clip.\n     * @returns {HeadlessClip} - The clone.\n     */\n    clone() {\n        var _a;\n        const clone = new Clip_1({\n            timeline: this.timeline,\n            data: this.data,\n            viewConstructor: (_a = this.view) === null || _a === void 0 ? void 0 : _a.constructor,\n            director: this.director\n        });\n        clone.setStyle(\"width\", this.offsetWidth + \"px\");\n        clone.setStyle(\"height\", this.offsetHeight + \"px\");\n        clone.selected = this.selected;\n        return clone;\n    }\n    split(localSplitTime) {\n        if (localSplitTime < this.startTime || localSplitTime > this.endTime)\n            return;\n        const newData = Clip_1.createData(this.data.toJSON());\n        newData.set(\"startTime\", localSplitTime);\n        this.endTime = localSplitTime;\n        return newData;\n    }\n    cloneAndMove(e) {\n        const clone = this.clone();\n        this.setStyle(\"opacity\", \"0.4\");\n        const moveableClone = new MovableComponent(clone, this, { parent: this.director.canvas.content });\n        moveableClone.translation = this.timeline.scaled ? e.scaledPosition : e.position;\n        return moveableClone;\n    }\n};\nClip = Clip_1 = __decorate([\n    define(\"vc-clip\")\n], Clip);\nexport { Clip };\n","import { DefaultEventName, div, icon, img, TurboView } from \"turbodombuilder\";\nexport class ClipView extends TurboView {\n    /**\n     * @function reloadSize\n     * @description Reloads the size of the clip element and thus, reloads as well the timeline.\n     */\n    reloadSize() {\n        var _a;\n        this.element.setStyle(\"width\", ((_a = this.element.timeline) === null || _a === void 0 ? void 0 : _a.pixelsPerSecondUnit) * this.element.duration + \"px\");\n        this.element.timeline.reloadTime();\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"color\", (value) => this.clipContent.setStyle(\"backgroundColor\", value));\n        this.emitter.add(\"startTime\", () => this.reloadSize());\n        this.emitter.add(\"endTime\", () => this.reloadSize());\n        this.emitter.add(\"hidden\", (value) => this.element.toggleClass(\"hidden-clip\", value));\n        this.emitter.add(\"thumbnail\", (value) => {\n            this.thumbnailImage.show(true);\n            this.thumbnailImage.src = value;\n        });\n    }\n    setupUIElements() {\n        this.clipContent = div({ classes: \"vc-clip-content\" });\n        this.thumbnailImage = img({ src: \"\", parent: this.clipContent, classes: \"thumbnail\" });\n        this.thumbnailImage.show(false);\n    }\n    setupUILayout() {\n        this.element.addChild(this.clipContent);\n        this.clipContent.addChild(this.thumbnailImage);\n    }\n    generateHandles() {\n        this.leftHandle = div({ classes: \"clip-handle-left\", children: icon({ icon: \"chevron-left\" }) });\n        this.rightHandle = div({ classes: \"clip-handle-right\", children: icon({ icon: \"chevron-right\" }) });\n        this.generateHandleEvents(this.leftHandle, \"left\");\n        this.generateHandleEvents(this.rightHandle, \"right\");\n    }\n    generateHandleEvents(handle, side) {\n        handle.addEventListener(DefaultEventName.dragStart, (e) => e.stopImmediatePropagation());\n        handle.addEventListener(DefaultEventName.drag, (e) => this.dragHandle(side, e));\n        handle.addEventListener(DefaultEventName.dragEnd, () => this.model.normalizeTime());\n    }\n    dragHandle(side, e) {\n        var _a;\n        e.stopImmediatePropagation();\n        const delta = (this.element.timeline.scaled ? e.scaledDeltaPosition.x : e.deltaPosition.x)\n            / ((_a = this.element.timeline) === null || _a === void 0 ? void 0 : _a.pixelsPerSecondUnit);\n        if (side == \"left\")\n            this.model.startTime += delta;\n        else\n            this.model.endTime += delta;\n    }\n    showHandles(b) {\n        if (!this.leftHandle) {\n            if (!b)\n                return;\n            this.generateHandles();\n        }\n        if (b)\n            this.element.addChild([this.leftHandle, this.rightHandle, this.clipContent]);\n        else if (this.leftHandle.parentElement)\n            this.element.removeChild([this.leftHandle, this.rightHandle]);\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ClipRenderer } from \"../clipRenderer/clipRenderer\";\nimport { TurboController } from \"turbodombuilder\";\nexport class ClipThumbnailController extends TurboController {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"reload_thumbnail\", () => {\n            if (this.thumbnailTimer)\n                clearTimeout(this.thumbnailTimer);\n            this.thumbnailTimer = setTimeout(() => {\n                this.reloadThumbnail();\n                this.thumbnailTimer = null;\n            }, 600);\n        });\n    }\n    /**\n     * @function initializeSnapshotRenderer\n     * @private\n     * @static\n     * @description If not already created, creates a new static renderer used to take snapshots of clips and generate\n     * thumbnails.\n     */\n    initializeSnapshotRenderer() {\n        if (ClipThumbnailController.rendererInitialized)\n            return;\n        ClipThumbnailController.renderer = new ClipRenderer({\n            director: this.element.director,\n            id: \"snapshot-renderer\",\n            videoProperties: { muted: true, playsInline: true }\n        });\n        document.body.addChild(ClipThumbnailController.renderer);\n        ClipThumbnailController.rendererInitialized = true;\n    }\n    /**\n     * @function reloadThumbnail\n     * @async\n     * @description Regenerates the thumbnail of the current clip.\n     * @param {number} [offset] - Optionally specify the timestamp from which the thumbnail should be generated.\n     * @returns {Promise<string>} - A base64 string of the image output.\n     */\n    reloadThumbnail() {\n        return __awaiter(this, arguments, void 0, function* (offset = 0) {\n            this.initializeSnapshotRenderer();\n            const image = yield ClipThumbnailController.renderer.drawFrame(this.element, offset);\n            this.model.thumbnail = image;\n            return image;\n        });\n    }\n}\nClipThumbnailController.rendererInitialized = false;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboController } from \"turbodombuilder\";\nexport class ClipRendererFrameController extends TurboController {\n    setFrame() {\n        return __awaiter(this, arguments, void 0, function* (clip = this.model.getClip(), offsetTime = 0, force = false, forceCanvas = false) {\n            if (!force && Date.now() - this.model.lastFrameUpdate < this.model.frameUpdateFrequency)\n                return;\n            this.model.lastFrameUpdate = Date.now();\n            this.model.setClipWithOffset(clip, offsetTime);\n            yield this.setCurrentClipBackground(clip, forceCanvas);\n        });\n    }\n    setCurrentClipBackground(clip_1) {\n        return __awaiter(this, arguments, void 0, function* (clip, forceCanvas = false) {\n            var _a;\n            if (!clip)\n                this.model.currentCanvasFill = null;\n            else if (clip.backgroundFill)\n                this.model.currentCanvasFill = clip.backgroundFill;\n            else if (clip.mediaId) {\n                if (((_a = clip.metadata) === null || _a === void 0 ? void 0 : _a.type) == \"image\")\n                    this.model.currentCanvasFill = clip.uri;\n                else\n                    this.model.currentCanvasFill = forceCanvas ? this.view.video : null;\n            }\n        });\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RendererModel } from \"../renderer/renderer.model\";\nimport { ClipRendererTextModel } from \"./clipRenderer.textModel\";\nimport { auto } from \"turbodombuilder\";\nexport class ClipRendererModel extends RendererModel {\n    constructor() {\n        super();\n        this.videoElementsCount = 2;\n        this.videoClips = [];\n        this.offsets = [];\n        this.frameUpdateFrequency = 100;\n        this.lastFrameUpdate = 0;\n        this.textModel = new ClipRendererTextModel();\n        this.textModel.onAdded = (data, id, blockKey) => this.onTextAdded(data, id, blockKey);\n    }\n    get cardData() {\n        return this.getBlockData(\"cardData\");\n    }\n    set cardData(value) {\n        this.setBlock(value, undefined, \"cardData\");\n    }\n    get clipData() {\n        return this.getBlockData(\"clipData\");\n    }\n    set clipData(value) {\n        this.setBlock(value, undefined, \"clipData\");\n        this.textModel.clear();\n        this.textModel.data = value === null || value === void 0 ? void 0 : value.get(\"content\");\n    }\n    get textElements() {\n        return this.textModel.getAllComponents();\n    }\n    get cardTitle() {\n        return this.cardData.get(\"title\");\n    }\n    get currentIndex() {\n        return super.currentIndex;\n    }\n    set currentIndex(value) {\n        var _a;\n        super.currentIndex = value;\n        this.clipData = (_a = this.getClip()) === null || _a === void 0 ? void 0 : _a.data;\n    }\n    getClip(index = this.currentIndex) {\n        return this.videoClips[index];\n    }\n    getOffset(index = this.currentIndex) {\n        return this.offsets[index];\n    }\n    set visibilityMode(value) {\n        this.fireCallback(\"reloadVisibility\", value);\n    }\n    setClipWithOffset(clip, offset = 0, index = this.currentIndex) {\n        const prevClip = this.videoClips[index];\n        if (clip != prevClip)\n            this.videoClips[index] = clip;\n        const prevOffset = this.offsets[index];\n        if (offset != prevOffset)\n            this.offsets[index] = offset;\n        if (index == this.currentIndex)\n            this.currentIndex = index;\n        this.fireCallback(\"clipChanged\", index);\n    }\n}\n__decorate([\n    auto({ cancelIfUnchanged: true })\n], ClipRendererModel.prototype, \"visibilityMode\", null);\n","import { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class ClipRendererTextModel extends YManagerModel {\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { auto, define } from \"turbodombuilder\";\nimport { TextElement } from \"../textElement/textElement\";\nimport { Renderer } from \"../renderer/renderer\";\nimport { ClipRendererView } from \"./clipRenderer.view\";\nimport { ClipRendererModel } from \"./clipRenderer.model\";\nimport { RendererDrawingController } from \"../renderer/renderer.drawingController\";\nimport { ClipRendererVideoController } from \"./clipRenderer.videoController\";\nimport { ClipRendererVisibilityController } from \"./clipRenderer.visibilityController\";\nimport { ClipRendererFrameController } from \"./clipRenderer.frameController\";\nimport { RendererCanvasController } from \"../renderer/renderer.canvasController\";\nimport domToImage from \"dom-to-image-more\";\nlet ClipRenderer = class ClipRenderer extends Renderer {\n    constructor(properties = {}) {\n        properties.generate = false;\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: ClipRendererView,\n            modelConstructor: ClipRendererModel,\n            controllerConstructors: [RendererDrawingController, RendererCanvasController,\n                ClipRendererFrameController, ClipRendererVisibilityController, ClipRendererVideoController],\n            initialize: false\n        });\n        this.model.onTextAdded = (syncedText, id) => {\n            const text = new TextElement({ data: syncedText, renderer: this, director: this.director });\n            this.view.addTextElement(text, id);\n            return text;\n        };\n        this.mvc.initialize();\n        this.view.canvas.setProperties(properties.canvasProperties);\n        this.view.videos.forEach((video) => video.setProperties(properties.videoProperties));\n    }\n    get frameController() {\n        return this.mvc.getController(\"frame\");\n    }\n    get videoController() {\n        return this.mvc.getController(\"video\");\n    }\n    connectedCallback() {\n        var _a, _b;\n        (_a = this.view) === null || _a === void 0 ? void 0 : _a.resize();\n        (_b = this.canvasController) === null || _b === void 0 ? void 0 : _b.refreshCanvas();\n    }\n    set visibilityMode(value) {\n        this.model.visibilityMode = value;\n    }\n    get visibilityMode() {\n        return this.model.visibilityMode;\n    }\n    set card(value) {\n        this.model.cardData = value.data;\n    }\n    get clip() {\n        return this.model.getClip();\n    }\n    setFrame() {\n        return __awaiter(this, arguments, void 0, function* (clip = this.model.getClip(), offsetTime = 0) {\n            yield this.frameController.setFrame(clip, offsetTime);\n        });\n    }\n    drawFrame() {\n        return __awaiter(this, arguments, void 0, function* (clip = this.model.getClip(), offset = 0) {\n            yield this.frameController.setFrame(clip, offset, true, true);\n            yield new Promise((resolve) => setTimeout(() => resolve(null), 500));\n            return yield domToImage.toJpeg(this, { quality: 0.6 });\n        });\n    }\n    play() {\n        this.videoController.play();\n    }\n    pause() {\n        this.videoController.pause();\n    }\n    loadNext(clip_1) {\n        return __awaiter(this, arguments, void 0, function* (clip, offset = 0) {\n            yield this.videoController.loadNext(clip, offset);\n        });\n    }\n    playNext() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.videoController.playNext();\n        });\n    }\n};\n__decorate([\n    auto()\n], ClipRenderer.prototype, \"card\", null);\nClipRenderer = __decorate([\n    define(\"vc-clip-renderer\")\n], ClipRenderer);\nexport { ClipRenderer };\n","export var ClipRendererVisibility;\n(function (ClipRendererVisibility) {\n    ClipRendererVisibility[\"shown\"] = \"shown\";\n    ClipRendererVisibility[\"ghosting\"] = \"ghosting\";\n    ClipRendererVisibility[\"hidden\"] = \"hidden\";\n})(ClipRendererVisibility || (ClipRendererVisibility = {}));\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RendererVideoController } from \"../renderer/renderer.videoController\";\nexport class ClipRendererVideoController extends RendererVideoController {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"clipChanged\", (index) => __awaiter(this, void 0, void 0, function* () {\n            const clip = this.model.getClip(index);\n            const offset = this.model.getOffset(index);\n            const video = this.videos[index];\n            if (!video)\n                return;\n            if (clip === null || clip === void 0 ? void 0 : clip.uri) {\n                video.src = clip.uri;\n                yield RendererVideoController.waitForVideoLoad(video, offset);\n            }\n            else {\n                video.removeAttribute(\"src\");\n                video.load();\n            }\n        }));\n    }\n    loadNext(clip_1) {\n        return __awaiter(this, arguments, void 0, function* (clip, offset = 0) {\n            if (!clip)\n                return;\n            this.model.setClipWithOffset(clip, offset, this.model.nextIndex);\n        });\n    }\n    playNext() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            this.model.currentIndex++;\n            const clip = this.model.getClip();\n            if (!clip)\n                return;\n            if (((_a = clip.metadata) === null || _a === void 0 ? void 0 : _a.type) == \"video\") {\n                this.view.showCurrentVideo();\n                yield this.play();\n            }\n            else\n                this.model.isPlaying = true;\n        });\n    }\n    play() {\n        const _super = Object.create(null, {\n            play: { get: () => super.play }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            if (((_b = (_a = this.model.getClip()) === null || _a === void 0 ? void 0 : _a.metadata) === null || _b === void 0 ? void 0 : _b.type) == \"video\")\n                yield _super.play.call(this);\n        });\n    }\n}\n","import { RendererView } from \"../renderer/renderer.view\";\nimport { TextType } from \"../textElement/textElement.types\";\nimport { div } from \"turbodombuilder\";\nexport class ClipRendererView extends RendererView {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"title\", () => {\n            const entries = this.model.textElements\n                .filter(textElement => textElement.type == TextType.title);\n            if (entries.length == 0)\n                return;\n            entries.forEach(entry => entry.textValue = this.model.cardTitle);\n        });\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.textParent = div();\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild(this.textParent);\n    }\n    addTextElement(element, id) {\n        this.textParent.addChild(element, id);\n    }\n    showCurrentVideo() {\n        this.videos.forEach((video, index) => video.show(index == this.model.currentIndex));\n    }\n    resize(aspectRatio = 1.33, width = this.element.offsetWidth, height = this.element.offsetHeight) {\n        super.resize(aspectRatio, width, height);\n        if (width / height <= aspectRatio)\n            height = width / aspectRatio;\n        else\n            width = height * aspectRatio;\n        this.textParent.setStyles(`width: ${width}px; height: ${height}px`);\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ClipRendererVisibility } from \"./clipRenderer.types\";\nimport { StatefulReifect, TurboController } from \"turbodombuilder\";\nexport class ClipRendererVisibilityController extends TurboController {\n    constructor() {\n        super(...arguments);\n        this.elementVisibilityReifect = new StatefulReifect({\n            states: [ClipRendererVisibility.hidden, ClipRendererVisibility.shown, ClipRendererVisibility.ghosting],\n            styles: {\n                [ClipRendererVisibility.shown]: \"opacity: 1\",\n                [ClipRendererVisibility.hidden]: \"opacity: 0\",\n                [ClipRendererVisibility.ghosting]: \"opacity: 0.2\",\n            }\n        });\n        this.canvasVisibilityReifect = new StatefulReifect({\n            states: [ClipRendererVisibility.hidden, ClipRendererVisibility.shown, ClipRendererVisibility.ghosting],\n            styles: (state) => state == ClipRendererVisibility.shown ? \"display: inherit\" : \"display: none\"\n        });\n        this.textVisibilityReifect = new StatefulReifect({\n            states: [ClipRendererVisibility.hidden, ClipRendererVisibility.shown, ClipRendererVisibility.ghosting],\n            styles: (state) => state == ClipRendererVisibility.shown ? \"display: inherit\" : \"display: none\"\n        });\n    }\n    initialize() {\n        super.initialize();\n        this.model.visibilityMode = ClipRendererVisibility.shown;\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.elementVisibilityReifect.attach(this.element);\n        this.canvasVisibilityReifect.attach(this.view.canvas);\n        this.textVisibilityReifect.attach(this.view.textParent);\n        this.emitter.add(\"reloadVisibility\", () => this.reloadVisibility());\n    }\n    reloadVisibility() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.elementVisibilityReifect.apply(this.model.visibilityMode);\n            this.canvasVisibilityReifect.apply(this.model.visibilityMode);\n            this.textVisibilityReifect.apply(this.model.visibilityMode);\n        });\n    }\n}\n","import { TurboElement } from \"turbodombuilder\";\nexport class VcComponent extends TurboElement {\n    constructor(properties = {}) {\n        super(properties);\n        this.director = properties.director;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Point, TurboHandler } from \"turbodombuilder\";\nimport { FlowBranch } from \"../flowBranch/flowBranch\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport structuredClone from \"@ungap/structured-clone\";\nimport { FlowPathModel } from \"../flowPath/flowPath.model\";\nexport class FlowBranchesHandler extends TurboHandler {\n    getBranchById(id) {\n        return this.model.branchesModel.getInstance(id);\n    }\n    getBranchDataById(id) {\n        return this.getBranchById(id).data;\n    }\n    getBranchId(branch) {\n        for (const [key, value] of this.model.branchesModel.data) {\n            if (value == branch.data)\n                return key;\n        }\n        return null;\n    }\n    removeBranch(branch) {\n        if (branch.dataId)\n            this.removeBranchAt(branch.dataId);\n        else\n            this.removeBranchAt(this.getBranchId(branch));\n    }\n    removeBranchAt(id) {\n        this.model.branchesModel.data.delete(id);\n    }\n    /**\n     * @description Branches the flow with the given ID at the provided point, cutting the original flow into two\n     * branches at this point's flow entry, and creating a new branch starting from the point's flow entry with all\n     * the points up to the target.\n     * @param p\n     * @param branchPosition\n     * @param nodeId\n     * @param createThirdBranch\n     * @param isOverwritingSibling\n     */\n    branchAtPoint(p_1, branchPosition_1, nodeId_1) {\n        return __awaiter(this, arguments, void 0, function* (p, branchPosition, nodeId, createThirdBranch = true, isOverwritingSibling = false) {\n            if (!this.model.data || !p || p.branchId == undefined || p.entryIndex == undefined)\n                return;\n            //TODO HANDLE CASE WHERE ALRDY BRANCHED/FROM THE BEGINNING OF FLOW\n            const parentBranchId = p.branchId;\n            const entryIndex = p.entryIndex;\n            const parentBranch = this.model.branchHandler.getBranchById(parentBranchId);\n            const originalEntry = parentBranch.getEntry(p.entryIndex);\n            const splitPointIndex = p.pointIndex != undefined ? p.pointIndex : Math.floor(originalEntry.points.length - 1 / 2);\n            const originalEntries = parentBranch.entriesData.toJSON();\n            const { beforeSplit, splitEntry, afterSplit } = originalEntry.splitAtPoint(splitPointIndex, nodeId, branchPosition\n                ? new Point(this.model.intersectionHandler.closestPointOnPath(branchPosition, 200).point).object\n                : originalEntry.points[splitPointIndex]);\n            parentBranch.spliceEntries(entryIndex - 1, undefined, structuredClone(beforeSplit));\n            const newChildId = yield YUtilities.addInYMap(FlowBranch.createData({\n                entries: structuredClone([afterSplit, ...originalEntries.slice(entryIndex + 1)])\n            }), this.model.branchesModel.data);\n            if (this.model.currentBranchId == parentBranchId)\n                this.model.currentBranchId = newChildId;\n            // this.getBranchById(newChildId).setConnectedBranches(parentBranch.connectedBranches);\n            // parentBranch.setConnectedBranches([newChildId]);\n            if (createThirdBranch) {\n                this.model.currentBranchId = yield YUtilities.addInYMap(FlowBranch.createData({\n                    entries: [structuredClone(splitEntry)],\n                    overwriting: isOverwritingSibling ? newChildId : undefined,\n                }), this.model.branchesModel.data);\n                // parentBranch.addConnectedBranch(this.model.currentBranchId);\n            }\n            this.updateConnectionsAfterBranching(parentBranchId, newChildId, createThirdBranch ? this.model.currentBranchId : undefined);\n            // const branchOnNode = nodeId != undefined\n            //     || (!branchPosition && parentBranch.getEntry(entryIndex).startNodeId\n            //         == parentBranch.getEntry(entryIndex).endNodeId);\n            //TODO UPDATE CONNECTIONS\n            // this.utilities.loopOnFlowTagEntries((namedPath) => {\n            //     const i = namedPath.branchIndices.indexOf(parentBranchIndex);\n            //     if (i >= 0) namedPath.branchIndices.splice(i, 0, firstChildIndex);\n            // });\n            //TODO optimize\n            // this.optimizeBranches();\n            //TODO RELOAD PATHS\n            // const newNamedPaths = new Map<SyncedFlowTag, YProxiedArray<NamedFlowPath, NamedFlowPathData>>();\n            // this.utilities.loopOnFlowTagEntries((namedPath, tag) => {\n            //     const i = namedPath.branchIndices.indexOf(parentBranchIndex);\n            //     if (i < 0) return;\n            //     const nextIndex = this.utilities.findNextTagNameIndex(namedPath.name);\n            //     if (!newNamedPaths.get(tag)) newNamedPaths.set(tag, [] as YProxiedArray<NamedFlowPath>);\n            //     newNamedPaths.get(tag)!.push({\n            //         name: namedPath.name,\n            //         index: nextIndex,\n            //         branchIndices: [\n            //             ...namedPath.branchIndices.slice(0, i + 1),\n            //             secondChildIndex\n            //         ]\n            //     });\n            // });\n            // newNamedPaths.forEach((paths, tag) => tag.namedPaths.push(...paths));\n        });\n    }\n    updateConnectionsAfterBranching(parentBranchId, firstChildBranchId, secondChildBranchId) {\n        const parentBranch = this.getBranchById(parentBranchId);\n        this.getBranchById(firstChildBranchId).setConnectedBranches(parentBranch.connectedBranches);\n        parentBranch.setConnectedBranches([firstChildBranchId]);\n        if (secondChildBranchId)\n            parentBranch.addConnectedBranch(secondChildBranchId);\n        this.model.tags.forEach(tag => {\n            tag.pathsArray.forEach((pathData, index) => {\n                const path = new FlowPathModel(pathData);\n                const parentBranchIndex = path.branchIdsArray.indexOf(parentBranchId);\n                if (parentBranchIndex < 0)\n                    return;\n                path.insertBranchAt(firstChildBranchId, parentBranchIndex + 1);\n                if (secondChildBranchId)\n                    tag.insertPath({\n                        branchIds: [...path.branchIdsArray.slice(0, parentBranchIndex + 1), secondChildBranchId],\n                        name: this.model.defaultName + \" - \" + (tag.pathsArray.length + 1),\n                    }, index + 1);\n            });\n        });\n    }\n    getPathsFromNode(nodeId) {\n        const entries = this.model.searchHandler.findNodeEntries(nodeId);\n        const paths = [];\n        const recurGetPath = (path) => {\n            var _a;\n            const childIndices = ((_a = this.model.branches[path.length - 1]) === null || _a === void 0 ? void 0 : _a.connectedBranchesArray) || [];\n            if (childIndices.length == 0) {\n                if (path.length > 0)\n                    paths.push([...path]);\n                return;\n            }\n            for (const id of childIndices)\n                recurGetPath([...path, id]);\n        };\n        entries.forEach(entry => recurGetPath([entry.branchId]));\n        return paths;\n    }\n}\n","import { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class FlowBranchesModel extends YManagerModel {\n}\n","import { TurboHandler } from \"turbodombuilder\";\nexport class FlowCleaningHandler extends TurboHandler {\n    /**\n     * @description Removes the branches in the flow with the given ID if they don't represent a path that at least\n     * connects two nodes, and removes the flow if it is empty.\n     */\n    removeUnnecessaryBranchesOrFlow() {\n        for (const branch of this.model.branches) {\n            if (branch.checkIfUnnecessary()) {\n                branch.clearDrawing();\n                this.model.branchHandler.removeBranch(branch);\n            }\n        }\n        // TODO MOVE TO DOCUMENT MANAGER\n        // // Delete the flow if it has no branches\n        // if (this.model.branches.length == 0) {\n        //     this.flow.delete();\n        //     return null;\n        // }\n    }\n    /**\n     * @description Ends the flow with the given ID by removing\n     */\n    endFlow() {\n        for (const branch of this.model.branches) {\n            branch.endBranch();\n            //If branch is temporary --> overwrite target branch\n            //TODO if (branch.isOverwriting) this.flow.branchingHandler.overwriteBranch(currentBranch.overwriting, this.currentBranchIndex);\n        }\n        //Clean up the flow\n        this.removeUnnecessaryBranchesOrFlow();\n        //Optimize it\n        //TODO this.flow.branchingHandler.optimizeBranches();\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./flow.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./flow.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { TurboHandler } from \"turbodombuilder\";\nexport class FlowIntersectionHandler extends TurboHandler {\n    intersectsPoint(p, errorMargin = 50, incrementValue = 1) {\n        for (const branch of this.model.branches) {\n            if (branch.intersectsPoint(p, errorMargin, incrementValue))\n                return true;\n        }\n        return false;\n    }\n    intersectsArea(topLeft, size) {\n        for (const branch of this.model.branches) {\n            if (branch.intersectsArea(topLeft, size))\n                return true;\n        }\n        return false;\n    }\n    closestPointOnPath(p, errorMargin = 50, incrementValue = 10) {\n        let closestPoint = null;\n        for (const branch of this.model.branches) {\n            closestPoint = branch.closestPointOnPath(p, closestPoint, errorMargin, incrementValue);\n        }\n        return closestPoint;\n    }\n}\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { FlowBranchesModel } from \"./flow.branchesModel\";\nimport { Point } from \"turbodombuilder\";\nimport { FlowTagsModel } from \"./flow.tagsModel\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nexport class FlowModel extends YComponentModel {\n    constructor(data) {\n        super(data);\n        this._currentBranchId = \"0\";\n        // Added margin to the computed viewBox\n        this.viewBoxPadding = 200;\n        // Rate at which the viewBox updates\n        this.viewBoxUpdateRate = 200;\n        // Keeps track of the last time the viewBox was updated\n        this.lastViewBoxUpdate = 0;\n        this.lastViewBoxValues = new Point();\n        this.branchesModel = new FlowBranchesModel();\n        this.tagsModel = new FlowTagsModel();\n    }\n    get data() {\n        return super.data;\n    }\n    set data(value) {\n        super.data = value;\n        this.branchesModel.data = this.getData(\"branches\");\n        this.branchesModel.onAdded = (data) => this.onFlowBranchAdded(data);\n        this.tagsModel.data = this.tagsData;\n        this.tagsModel.onAdded = (data) => this.onFlowTagAdded(data);\n        YUtilities.deepObserveAll(this.data, () => this.fireCallback(\"__redraw\"), \"branches\", \"entries\");\n    }\n    get currentBranchId() {\n        return this._currentBranchId;\n    }\n    set currentBranchId(value) {\n        this.currentBranch.redraw(true);\n        this._currentBranchId = value;\n    }\n    get searchHandler() {\n        return this.getHandler(\"search\");\n    }\n    get branchHandler() {\n        return this.getHandler(\"branches\");\n    }\n    get cleaningHandler() {\n        return this.getHandler(\"cleaning\");\n    }\n    get intersectionHandler() {\n        return this.getHandler(\"intersection\");\n    }\n    get branchesData() {\n        return this.getData(\"branchesData\");\n    }\n    get branchesDataArray() {\n        return this.branchesModel.getAllData();\n    }\n    get tagsData() {\n        return this.getData(\"tags\");\n    }\n    get tagsDataArray() {\n        return this.tagsData.toArray();\n    }\n    get defaultName() {\n        return this.getData(\"defaultName\");\n    }\n    get branches() {\n        return this.branchesModel.getAllComponents();\n    }\n    get tags() {\n        return this.tagsModel.getAllComponents();\n    }\n    get currentBranch() {\n        return this.branchesModel.getInstance(this.currentBranchId);\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\n//DONE\nexport class FlowSearchHandler extends TurboHandler {\n    /**\n     * @function findNodeEntry\n     * @description Finds the first flow entry inside the given node's ID.\n     * @param {string} nodeId - The ID of the node.\n     * @returns {FlowPoint} - The first flow entry that is inside the node with given ID.\n     */\n    findNodeEntry(nodeId) {\n        for (const branch of this.model.branches) {\n            const nodeEntry = branch.findNodeEntry(nodeId);\n            if (nodeEntry)\n                return nodeEntry;\n        }\n        return null;\n    }\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntries(nodeId) {\n        const entries = [];\n        for (const branch of this.model.branches)\n            entries.push(...branch.findNodeEntries(nodeId));\n        return entries;\n    }\n    /**\n     * @description Finds the closest point in the flow to the given point\n     * @param id\n     * @param point\n     */\n    findClosestPoint(point) {\n        return {};\n        //TODO\n        //Initialize closest point data and minimum distance\n        // let closestPoint: FlowPoint = {};\n        // let minDistance = Infinity;\n        //\n        // //Loop on all entries of the flow\n        // this.utilities.reverseLoopOnFlowEntries((entry: SyncedFlowEntry, branch: SyncedFlowBranch,\n        //                                          entryIndex: number, branchIndex: number) => {\n        //     //Loop on points\n        //     entry.points.forEach((p: Coordinate, index: number) => {\n        //         //Compute distance\n        //         const distance = Point.dist(p, point);\n        //         //If smaller --> update the closest point and save new distance\n        //         if (distance < minDistance) {\n        //             closestPoint = {\n        //                 branchIndex: branchIndex,\n        //                 entryIndex: entryIndex,\n        //                 lastNodeId: entry.startNodeId,\n        //                 pointIndex: index\n        //             };\n        //             minDistance = distance;\n        //         }\n        //     })\n        // });\n        // return closestPoint;\n    }\n}\n","import { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class FlowTagsModel extends YManagerModel {\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { define } from \"turbodombuilder\";\nimport \"./flow.css\";\nimport { FlowView } from \"./flow.view\";\nimport { FlowModel } from \"./flow.model\";\nimport { FlowBranchesHandler } from \"./flow.branchesHandler\";\nimport { FlowSearchHandler } from \"./flow.searchHandler\";\nimport { FlowBranch } from \"../flowBranch/flowBranch\";\nimport { FlowCleaningHandler } from \"./flow.cleaningHandler\";\nimport { VcComponent } from \"../component/component\";\nimport { FlowIntersectionHandler } from \"./flow.intersectionHandler\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { FlowTag } from \"../flowTag/flowTag\";\n/**\n * @description A reactiveComponent that represents a flow connecting cards\n */\nlet Flow = class Flow extends VcComponent {\n    constructor(properties = {}) {\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: FlowView,\n            modelConstructor: FlowModel,\n            handlerConstructors: [FlowBranchesHandler, FlowSearchHandler, FlowCleaningHandler, FlowIntersectionHandler],\n            data: properties.data,\n            initialize: false\n        });\n        this.model.onFlowBranchAdded = (data) => new FlowBranch({ flow: this, data: data });\n        this.model.onFlowTagAdded = (data) => new FlowTag({ flow: this, data: data, director: this.director });\n        this.mvc.initialize();\n    }\n    static createData(data) {\n        if (!data)\n            data = {};\n        if (!data.branches)\n            data.branches = { \"0\": undefined };\n        if (!data.tags)\n            data.tags = [undefined];\n        if (!data.defaultName)\n            data.defaultName = \"Flow\";\n        Object.entries(data.branches).forEach(([key, branch]) => data.branches[key] = FlowBranch.createData(branch));\n        data.branches = YUtilities.createYMap(data.branches);\n        data.tags = YUtilities.createYArray(data.tags.map(tag => FlowTag.createData(tag)));\n        return YUtilities.createYMap(data);\n    }\n    get svg() {\n        return this.view.svg;\n    }\n    get branches() {\n        return this.model.branches;\n    }\n    get currentBranch() {\n        return this.model.currentBranch;\n    }\n    get currentBranchData() {\n        return this.currentBranch.data;\n    }\n    getBranchById(id) {\n        return this.model.branchHandler.getBranchById(id);\n    }\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntry(nodeId) {\n        return this.model.searchHandler.findNodeEntry(nodeId);\n    }\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntries(nodeId) {\n        return this.model.searchHandler.findNodeEntries(nodeId);\n    }\n    /**\n     * @description Finds the closest point in the flow to the given point\n     * @param point\n     */\n    findClosestPoint(point) {\n        return this.model.searchHandler.findClosestPoint(point);\n    }\n    /**\n     * @description Adds the provided point to the flow with the given ID. The node ID indicates the ID of the node\n     * the point is in (or null), and isTemporary indicates whether the point is temporarily added to the flow as\n     * part of user feedback (to not add it to the synced data).\n     * @param p\n     * @param nodeId\n     * @param isTemporary\n     */\n    addPoint(p, nodeId, isTemporary = false) {\n        var _a;\n        (_a = this.model.currentBranch) === null || _a === void 0 ? void 0 : _a.addPoint(p, nodeId, isTemporary);\n        this.mvc.emitter.fire(\"__redraw\");\n    }\n    branchAtPoint(p_1, branchPosition_1, nodeId_1) {\n        return __awaiter(this, arguments, void 0, function* (p, branchPosition, nodeId, createThirdBranch = true, isOverwritingSibling = false) {\n            return yield this.model.branchHandler.branchAtPoint(p, branchPosition, nodeId, createThirdBranch, isOverwritingSibling);\n        });\n    }\n    endFlow() {\n        this.model.cleaningHandler.endFlow();\n    }\n    updateOnDetachingNode(nodeId) {\n        this.model.branches.forEach(branch => branch.updateOnDetachingNode(nodeId));\n        this.model.cleaningHandler.removeUnnecessaryBranchesOrFlow();\n    }\n    getPathsFromNode(nodeId) {\n        return this.model.branchHandler.getPathsFromNode(nodeId);\n    }\n};\nFlow = __decorate([\n    define(\"vc-flow\")\n], Flow);\nexport { Flow };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Point, TurboView } from \"turbodombuilder\";\nimport * as d3 from \"d3\";\nexport class FlowView extends TurboView {\n    initialize() {\n        super.initialize();\n        requestAnimationFrame(() => this.updateViewBox());\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.svg = d3.select(this.element).append(\"svg\")\n            .attr(\"namespace\", \"http://www.w3.org/2000/svg\").node();\n        this.svgGroups = new Map();\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"__redraw\", () => this.updateViewBox());\n    }\n    /**\n     * @description Updates the viewBox of the SVG to ensure the full path is visible (+ a padding)\n     * @private\n     */\n    updateViewBox() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Ensure updates occur at defined rate\n            if (Date.now() - this.model.lastViewBoxUpdate <= this.model.viewBoxUpdateRate)\n                return;\n            this.model.lastViewBoxUpdate = Date.now();\n            this.model.branches.forEach(branch => {\n                this.model.lastViewBoxValues = Point.max(this.model.lastViewBoxValues, branch.getMaxPoint());\n            });\n            // Compute the dimensions by doubling the coordinates and adding the padding\n            const width = this.model.lastViewBoxValues.x * 2 + this.model.viewBoxPadding * 2;\n            const height = this.model.lastViewBoxValues.y * 2 + this.model.viewBoxPadding * 2;\n            // Update SVG width, height, and viewBox\n            d3.select(this.svg)\n                .attr(\"width\", width)\n                .attr(\"height\", height)\n                .attr(\"viewBox\", `-${width / 2} -${height / 2} ${width} ${height}`);\n        });\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\nexport class FlowBranchCleaningHandler extends TurboHandler {\n    checkIfUnnecessary() {\n        const entriesArray = this.model.entries;\n        //If less than 2 entries --> unnecessary\n        if (entriesArray.length < 2)\n            return true;\n        //Otherwise, if more than 2 entries --> keep\n        else if (entriesArray.length > 2)\n            return false;\n        //If 2 entries that do not each belong to a node --> unnecessary\n        return (!entriesArray[0].startNodeId || entriesArray[0].startNodeId.length === 0)\n            || (!entriesArray[1].startNodeId || entriesArray[1].startNodeId.length === 0)\n            || entriesArray[0].startNodeId != entriesArray[0].endNodeId\n            || entriesArray[1].startNodeId != entriesArray[1].endNodeId;\n    }\n    endBranch() {\n        //Clear temporary point\n        this.model.temporaryPoint = null;\n        const entriesArray = this.model.entries;\n        // if (entriesArray.length < 2) return;\n        const lastEntry = entriesArray[entriesArray.length - 1];\n        //If flow ends with an entry that doesn't have an end node --> the flow was stopped outside a node --> remove\n        //the last entry and save\n        if (!lastEntry.endNodeId || lastEntry.endNodeId === \"\")\n            this.model.entryHandler.removeEntryAt(entriesArray.length - 1);\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\nimport { YArray } from \"../../../yManagement/yManagement.types\";\nexport class FlowBranchConnectionHandler extends TurboHandler {\n    get connectedBranchesCount() {\n        return this.model.connectedBranches.length;\n    }\n    isConnectedTo(branch) {\n        for (const entry of this.model.connectedBranches.toArray()) {\n            if (entry == branch)\n                return true;\n        }\n        return false;\n    }\n    isConnectedToAll(...branches) {\n        for (const branch of branches) {\n            if (!this.isConnectedTo(branch))\n                return false;\n        }\n        return true;\n    }\n    addConnectedBranch(...branches) {\n        for (const branch of branches) {\n            if (!this.isConnectedTo(branch))\n                this.model.connectedBranches.push([branch]);\n        }\n    }\n    clearConnectedBranches() {\n        this.model.connectedBranches.delete(0, this.connectedBranchesCount);\n    }\n    setConnectedBranches(branches) {\n        if (branches instanceof YArray)\n            branches = branches.toArray();\n        this.clearConnectedBranches();\n        this.addConnectedBranch(...branches);\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\nimport { YMap } from \"../../../yManagement/yManagement.types\";\nimport { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nimport { FlowEntry } from \"../flowEntry/flowEntry\";\nexport class FlowBranchEntryHandler extends TurboHandler {\n    constructor(model) {\n        super(model);\n        this.entriesModel = new YManagerModel();\n        this.entriesModel.onAdded = entry => new FlowEntry(entry);\n    }\n    setData(data, initialize = false) {\n        this.entriesModel.data = data;\n    }\n    initializeModel() {\n        this.entriesModel.initialize();\n    }\n    getEntries() {\n        return this.entriesModel.getAllComponents();\n    }\n    getEntry(index) {\n        return this.entriesModel.getInstance(index);\n    }\n    createEntry(data) {\n        return FlowEntry.createData(data);\n    }\n    addEntry(entry, index) {\n        if (entry instanceof FlowEntry)\n            entry = entry.data;\n        if (index === undefined || index === null || index > this.model.entriesDataArray.length - 1) {\n            this.model.entriesData.push([entry]);\n        }\n        else {\n            if (index < 0)\n                index = 0;\n            this.model.entriesData.insert(index, [entry]);\n        }\n    }\n    addNewEntry(data, index) {\n        this.addEntry((data instanceof YMap || data instanceof FlowEntry) ? data : this.createEntry(data), index);\n    }\n    removeEntryAt(index) {\n        const length = this.model.entriesDataArray.length;\n        if (index === undefined || index === null || index > length - 1)\n            index = length - 1;\n        else if (index < 0)\n            index = 0;\n        this.model.entriesData.delete(index);\n    }\n    removeEntry(entry) {\n        const array = this.model.entriesDataArray;\n        if (!array.includes(entry.data))\n            return;\n        this.removeEntryAt(array.indexOf(entry.data));\n    }\n    setEntry(entry, index) {\n        this.removeEntryAt(index);\n        this.addEntry(entry.data, index);\n    }\n    spliceEntries(start, deleteCount, ...entries) {\n        if (deleteCount == undefined)\n            deleteCount = this.model.entriesData.length - start;\n        for (let i = start + deleteCount - 1; i > start; i--)\n            this.removeEntryAt(i);\n        entries === null || entries === void 0 ? void 0 : entries.forEach(entry => this.addNewEntry(entry), start);\n    }\n    getNodesIds() {\n        const ids = [];\n        const pushIdIfValid = (id) => {\n            if (id !== undefined && (ids.length <= 0 || ids[ids.length - 1] !== id))\n                ids.push(id);\n        };\n        this.model.entriesDataArray.forEach((entry) => {\n            pushIdIfValid(entry.get(\"startNodeId\"));\n            pushIdIfValid(entry.get(\"endNodeId\"));\n        });\n        return ids;\n    }\n}\n","import { Point, TurboHandler } from \"turbodombuilder\";\nexport class FlowBranchIntersectionHandler extends TurboHandler {\n    intersectsPoint(p, errorMargin = 50, incrementValue = 1) {\n        const numPoints = Math.ceil(2 * Math.PI * errorMargin);\n        for (let i = 0; i < numPoints; i += incrementValue) {\n            const angle = (i / numPoints) * 2 * Math.PI;\n            const point = p.add(errorMargin * Math.cos(angle), errorMargin * Math.sin(angle));\n            if (this.model.path.isPointInStroke(this.toSvgPoint(point)))\n                return true;\n        }\n        return false;\n    }\n    intersectsArea(topLeft, size) {\n        for (let i = 0; i <= size.x; i++) {\n            if (this.model.path.isPointInStroke(this.toSvgPoint(topLeft.add(i, 0))))\n                return true;\n            if (this.model.path.isPointInStroke(this.toSvgPoint(topLeft.add(i, size.y))))\n                return true;\n        }\n        for (let i = 0; i <= size.y; i++) {\n            if (this.model.path.isPointInStroke(this.toSvgPoint(topLeft.add(0, i))))\n                return true;\n            if (this.model.path.isPointInStroke(this.toSvgPoint(topLeft.add(size.x, i))))\n                return true;\n        }\n        return false;\n    }\n    closestPointOnPath(p, closestPoint, errorMargin = 50, incrementValue = 10) {\n        const definedPoints = this.model.points;\n        const placedPoints = this.computePlacedPoints(this.model.path, incrementValue);\n        let nextDefinedPointIndex = 1;\n        placedPoints.forEach(point => {\n            if (nextDefinedPointIndex < definedPoints.length\n                && Point.dist(definedPoints[nextDefinedPointIndex], point) <= incrementValue)\n                nextDefinedPointIndex++;\n            const dist = Point.dist(p, point);\n            if (dist >= errorMargin)\n                return;\n            if (!closestPoint || dist < closestPoint.distance) {\n                closestPoint = {\n                    distance: dist,\n                    branchId: this.model.dataId,\n                    previousDefinedPointIndex: nextDefinedPointIndex - 1,\n                    point: point\n                };\n            }\n        });\n        return closestPoint;\n    }\n    toSvgPoint(p) {\n        const svgPoint = this.model.flow.svg.createSVGPoint();\n        svgPoint.x = p.x;\n        svgPoint.y = p.y;\n        return svgPoint;\n    }\n    computePlacedPoints(path, incrementationValue = 10) {\n        const placedPoints = [];\n        for (let i = 0; i <= path.getTotalLength(); i += incrementationValue) {\n            placedPoints.push(path.getPointAtLength(i));\n        }\n        return placedPoints;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { auto, Point } from \"turbodombuilder\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nexport class FlowBranchModel extends YComponentModel {\n    constructor() {\n        super(...arguments);\n        this.lastNode = null;\n        this.defaultStrokeWidth = 1;\n        this.highlightedStrokeWidth = 3;\n        this.redrawInterval = 100;\n        this.chevronInterval = 300;\n        this.chevronTimeout = 200;\n        this.chevronShape = \"M 0 -6 L 12 0 L 0 6\";\n    }\n    get data() {\n        return super.data;\n    }\n    set data(value) {\n        super.data = value;\n        YUtilities.deepObserveAny(this.data, () => this.fireCallback(\"__redraw\"), \"entries\");\n    }\n    initialize(blockKey = this.defaultBlockKey) {\n        var _a;\n        super.initialize(blockKey);\n        (_a = this.entryHandler) === null || _a === void 0 ? void 0 : _a.setData(this.entriesData);\n        // this.entryHandler.initializeModel();\n    }\n    get path() {\n        return this.pathSelection.node();\n    }\n    get entriesData() {\n        return this.getData(\"entries\");\n    }\n    get entriesDataArray() {\n        var _a;\n        return (_a = this.entriesData) === null || _a === void 0 ? void 0 : _a.toArray();\n    }\n    get entries() {\n        return this.entryHandler.getEntries();\n    }\n    get connectedBranches() {\n        return this.getData(\"connectedBranches\");\n    }\n    get connectedBranchesArray() {\n        return this.connectedBranches.toArray();\n    }\n    get isOverwriting() {\n        const overwriting = this.overwriting;\n        return overwriting && overwriting.length > 0;\n    }\n    get overwriting() {\n        return this.getData(\"overwriting\");\n    }\n    set overwriting(value) {\n        this.setData(\"overwriting\", value);\n    }\n    get flowId() {\n        var _a;\n        return (_a = this.flow) === null || _a === void 0 ? void 0 : _a.dataId;\n    }\n    get points() {\n        var _a;\n        const points = (_a = this.entriesDataArray) === null || _a === void 0 ? void 0 : _a.flatMap(cardWithConnections => cardWithConnections.get(\"points\")).filter((point) => !!point).map((point) => new Point(point));\n        if (this.temporaryPoint)\n            points.push(this.temporaryPoint);\n        return points;\n    }\n    /**\n     * A temporary point added to the path, representing the cursor's position or the last touch point.\n     */\n    set temporaryPoint(point) {\n        this.fireCallback(\"temporaryPoint\");\n    }\n    set highlighted(value) {\n        this.fireCallback(\"__redraw\");\n    }\n    get strokeWidth() {\n        return this.highlighted ? this.highlightedStrokeWidth : this.defaultStrokeWidth;\n    }\n    get entryHandler() {\n        return this.getHandler(\"entry\");\n    }\n    get pointHandler() {\n        return this.getHandler(\"point\");\n    }\n    get searchHandler() {\n        return this.getHandler(\"search\");\n    }\n    get cleaningHandler() {\n        return this.getHandler(\"cleaning\");\n    }\n    get updateHandler() {\n        return this.getHandler(\"update\");\n    }\n    get intersectionHandler() {\n        return this.getHandler(\"intersection\");\n    }\n    get connectionHandler() {\n        return this.getHandler(\"connection\");\n    }\n}\n__decorate([\n    auto()\n], FlowBranchModel.prototype, \"temporaryPoint\", null);\n__decorate([\n    auto()\n], FlowBranchModel.prototype, \"highlighted\", null);\n","import { Point, TurboHandler } from \"turbodombuilder\";\nexport class FlowBranchPointHandler extends TurboHandler {\n    /**\n     * @description Adds the provided point to the flow with the given ID. The node ID indicates the ID of the node\n     * the point is in (or null), and isTemporary indicates whether the point is temporarily added to the flow as\n     * part of user feedback (to not add it to the synced data).\n     * @param p\n     * @param nodeId\n     * @param isTemporary\n     */\n    addPoint(p, nodeId, isTemporary = false) {\n        if (!p)\n            return;\n        //If isTemporary --> set temporary point and return\n        if (isTemporary) {\n            this.model.temporaryPoint = p;\n            return;\n        }\n        //Clear temporary point and update flow's lastNode\n        this.model.temporaryPoint = null;\n        this.model.lastNode = nodeId;\n        //Create an entry if none exist\n        if (this.model.entries.length == 0) {\n            if (!nodeId)\n                return;\n            this.model.entryHandler.addNewEntry({ startNodeId: nodeId, endNodeId: nodeId });\n        }\n        //Get last entry\n        const currentEntry = this.model.entries[this.model.entries.length - 1];\n        //Now adding the point...\n        //Point inside of same last node --> just add it\n        if (currentEntry.startNodeId == nodeId && currentEntry.endNodeId == nodeId)\n            currentEntry.addPoint(p);\n        //Otherwise, if point in a new node --> add a flow entry starting and ending at that node, as well as the point\n        else if (nodeId) {\n            if (!currentEntry.endNodeId)\n                currentEntry.endNodeId = nodeId;\n            this.model.entryHandler.addNewEntry({ startNodeId: nodeId, endNodeId: nodeId, points: [p.object] });\n        }\n        //Otherwise (point outside a node)\n        else {\n            //Last entry doesn't have an end node --> entry connects two nodes (the second is still unknown) --> just\n            //add the point as part of the entry\n            if (!currentEntry.endNodeId)\n                currentEntry.addPoint(p);\n            //Otherwise --> create a new entry that connects the last node and a future unknown node, and add to\n            //it the point\n            else\n                this.model.entryHandler.addNewEntry({ startNodeId: currentEntry.endNodeId, points: [p.object] });\n        }\n    }\n    getMaxPoint() {\n        let maxPoint = new Point();\n        const points = this.model.points;\n        if (!points || points.length == 0)\n            return maxPoint;\n        // Knowing that (0, 0) is at the center of the canvas, some points have negative coordinates,\n        // so I get the max x and y absolute values in all the points to ensure I'm not ignoring negative values\n        points.forEach(p => {\n            if (!p || p.x == undefined || p.y == undefined)\n                return;\n            const max = Point.max(maxPoint, p.abs());\n            if (isNaN(max.x) || isNaN(max.y))\n                return;\n            maxPoint = max;\n        });\n        return maxPoint;\n    }\n}\n","import { Point, TurboHandler } from \"turbodombuilder\";\nexport class FlowBranchSearchHandler extends TurboHandler {\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntry(nodeId) {\n        const flowEntries = this.model.entries;\n        if (!flowEntries)\n            return null;\n        //Loop on entries\n        for (let entryIndex = 0; entryIndex < flowEntries.length; entryIndex++) {\n            const entry = flowEntries[entryIndex];\n            //If entry is inside the given node --> store it\n            if (entry.startNodeId == nodeId && entry.endNodeId == nodeId) {\n                return {\n                    flowId: this.model.flowId,\n                    branchId: this.model.dataId,\n                    entryIndex: entryIndex,\n                    lastNodeId: entry.startNodeId\n                };\n            }\n        }\n        return null;\n    }\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntries(nodeId) {\n        const flowEntries = this.model.entries;\n        if (!flowEntries)\n            return [];\n        const results = [];\n        //Loop on entries\n        for (let entryIndex = 0; entryIndex < flowEntries.length; entryIndex++) {\n            const entry = flowEntries[entryIndex];\n            //If entry is inside the given node --> store it\n            if (entry.startNodeId == nodeId && entry.endNodeId == nodeId) {\n                results.push({\n                    flowId: this.model.flowId,\n                    branchId: this.model.dataId,\n                    entryIndex: entryIndex,\n                    lastNodeId: entry.startNodeId\n                });\n            }\n        }\n        return results;\n    }\n    /**\n     * @description Finds the closest point in the flow to the given point\n     * @param point\n     */\n    findClosestPoint(point) {\n        //Initialize closest point data and minimum distance\n        let closestPoint = null;\n        let minDistance = Infinity;\n        const flowEntries = this.model.entries;\n        //Loop on all entries of the flow\n        for (let entryIndex = flowEntries.length - 1; entryIndex >= 0; entryIndex--) {\n            const entry = flowEntries[entryIndex];\n            //Loop on points\n            entry.points.forEach((p, index) => {\n                //Compute distance\n                const distance = Point.dist(p, point);\n                //If smaller --> update the closest point and save new distance\n                if (distance < minDistance) {\n                    closestPoint = {\n                        flowId: this.model.flowId,\n                        branchId: this.model.dataId,\n                        entryIndex: entryIndex,\n                        lastNodeId: entry.startNodeId,\n                        pointIndex: index\n                    };\n                    minDistance = distance;\n                }\n            });\n        }\n        return closestPoint;\n    }\n    findPointFromIndex(index) {\n        let count = 0;\n        let pointData = null;\n        const flowEntries = this.model.entries;\n        for (let entryIndex = 0; entryIndex < flowEntries.length; entryIndex++) {\n            const entry = flowEntries[entryIndex];\n            if (count + entry.points.length < index) {\n                count += entry.points.length;\n                continue;\n            }\n            pointData = {\n                flowId: this.model.flowId,\n                branchId: this.model.dataId,\n                entryIndex: entryIndex,\n                lastNodeId: entry.startNodeId,\n                pointIndex: index - count\n            };\n            break;\n        }\n        return pointData;\n    }\n}\n","import { FlowBranchModel } from \"./flowBranch.model\";\nimport { FlowBranchView } from \"./flowBranch.view\";\nimport { SvgNamespace, TurboProxiedElement } from \"turbodombuilder\";\nimport { FlowBranchSearchHandler } from \"./flowBranch.searchHandler\";\nimport { FlowBranchUpdateHandler } from \"./flowBranch.updateHandler\";\nimport { FlowBranchPointHandler } from \"./flowBranch.pointHandler\";\nimport { FlowBranchEntryHandler } from \"./flowBranch.entryHandler\";\nimport { FlowBranchCleaningHandler } from \"./flowBranch.cleaningHandler\";\nimport { FlowBranchIntersectionHandler } from \"./flowBranch.intersectionHandler\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { FlowEntry } from \"../flowEntry/flowEntry\";\nimport { FlowBranchConnectionHandler } from \"./flowBranch.connectionHandler\";\nexport class FlowBranch extends TurboProxiedElement {\n    constructor(properties) {\n        var _a;\n        super({ tag: \"g\", namespace: SvgNamespace });\n        this.mvc.generate({\n            viewConstructor: FlowBranchView,\n            modelConstructor: FlowBranchModel,\n            data: properties.data,\n            handlerConstructors: [FlowBranchSearchHandler, FlowBranchUpdateHandler, FlowBranchPointHandler,\n                FlowBranchEntryHandler, FlowBranchCleaningHandler, FlowBranchIntersectionHandler,\n                FlowBranchConnectionHandler],\n            initialize: false\n        });\n        this.model.flow = properties.flow;\n        (_a = this.model.flow) === null || _a === void 0 ? void 0 : _a.svg.addChild(this.element);\n        this.mvc.initialize();\n    }\n    static createData(data) {\n        if (!data)\n            data = {};\n        if (!data.entries)\n            data.entries = [];\n        if (!data.connectedBranches)\n            data.connectedBranches = [];\n        if (!data.overwriting)\n            data.overwriting = \"\";\n        data.entries = YUtilities.createYArray(data.entries.map(entry => FlowEntry.createData(entry)));\n        data.connectedBranches = YUtilities.createYArray(data.connectedBranches);\n        return YUtilities.createYMap(data);\n    }\n    get highlighted() {\n        return this.model.highlighted;\n    }\n    set highlighted(value) {\n        this.model.highlighted = value;\n    }\n    get flow() {\n        return this.model.flow;\n    }\n    get entriesData() {\n        return this.model.entriesData;\n    }\n    get entries() {\n        return this.model.entries;\n    }\n    get entriesArray() {\n        return this.model.entriesDataArray;\n    }\n    get connectedBranches() {\n        return this.model.connectedBranches;\n    }\n    get connectedBranchesArray() {\n        return this.model.connectedBranchesArray;\n    }\n    get isOverwriting() {\n        return this.model.isOverwriting;\n    }\n    get overwriting() {\n        return this.model.overwriting;\n    }\n    redraw(force = false) {\n        return this.view.redraw(force);\n    }\n    clearDrawing() {\n        return this.view.clearDrawing();\n    }\n    getEntry(index) {\n        return this.model.entryHandler.getEntry(index);\n    }\n    spliceEntries(start, deleteCount, ...entries) {\n        return this.model.entryHandler.spliceEntries(start, deleteCount, ...entries);\n    }\n    getNodesIds() {\n        return this.model.entryHandler.getNodesIds();\n    }\n    /**\n     * @description Adds the provided point to the flow with the given ID. The node ID indicates the ID of the node\n     * the point is in (or null), and isTemporary indicates whether the point is temporarily added to the flow as\n     * part of user feedback (to not add it to the synced data).\n     * @param p\n     * @param nodeId\n     * @param isTemporary\n     */\n    addPoint(p, nodeId, isTemporary = false) {\n        this.model.pointHandler.addPoint(p, nodeId, isTemporary);\n    }\n    getMaxPoint() {\n        return this.model.pointHandler.getMaxPoint();\n    }\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntry(nodeId) {\n        return this.model.searchHandler.findNodeEntry(nodeId);\n    }\n    /**\n     * @description Finds the last flow entry inside the given node's ID\n     * @param nodeId\n     */\n    findNodeEntries(nodeId) {\n        return this.model.searchHandler.findNodeEntries(nodeId);\n    }\n    /**\n     * @description Finds the closest point in the flow to the given point\n     * @param point\n     */\n    findClosestPoint(point) {\n        return this.model.searchHandler.findClosestPoint(point);\n    }\n    findPointFromIndex(index) {\n        return this.model.searchHandler.findPointFromIndex(index);\n    }\n    checkIfUnnecessary() {\n        return this.model.cleaningHandler.checkIfUnnecessary();\n    }\n    endBranch() {\n        return this.model.cleaningHandler.endBranch();\n    }\n    updateAfterMovingNode(nodeId, deltaPosition) {\n        return this.model.updateHandler.updateAfterMovingNode(nodeId, deltaPosition);\n    }\n    updateOnDetachingNode(nodeId) {\n        return this.model.updateHandler.updateOnDetachingNode(nodeId);\n    }\n    intersectsPoint(point, errorMargin = 50, incrementValue = 1) {\n        return this.model.intersectionHandler.intersectsPoint(point, errorMargin, incrementValue);\n    }\n    intersectsArea(topLeft, size) {\n        return this.model.intersectionHandler.intersectsArea(topLeft, size);\n    }\n    closestPointOnPath(p, closestPoint, errorMargin = 50, incrementValue = 10) {\n        return this.model.intersectionHandler.closestPointOnPath(p, closestPoint, errorMargin, incrementValue);\n    }\n    setConnectedBranches(branches) {\n        return this.model.connectionHandler.setConnectedBranches(branches);\n    }\n    addConnectedBranch(...branches) {\n        return this.model.connectionHandler.addConnectedBranch(...branches);\n    }\n    getCardsInBranch() {\n        // const\n        // return this.model.entries.map()\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\nexport class FlowBranchUpdateHandler extends TurboHandler {\n    /**\n     * @description Updates all impacted flows after the node of the provided ID was moved by deltaPosition.\n     * @param nodeId\n     * @param deltaPosition\n     */\n    updateAfterMovingNode(nodeId, deltaPosition) {\n        if (!nodeId)\n            return;\n        const flowEntries = this.model.entries;\n        for (let i = 0; i < flowEntries.length; i++) {\n            const entry = flowEntries[i];\n            const points = entry.points;\n            if (entry.startNodeId != nodeId && entry.endNodeId != nodeId)\n                continue;\n            //If the flow entry represents points inside the node that has moved --> increment all points' coordinates\n            // by deltaPosition\n            if (entry.startNodeId == nodeId && entry.endNodeId == nodeId) {\n                points.forEach((_, index) => entry.incrementPoint(index, deltaPosition));\n            }\n            //Otherwise --> the entry corresponds to points connecting the moved node with another node. Thus, I move each\n            //point by deltaPosition multiplied by a moveFactor (linearly interpolated based on the number of points and\n            // how close the current point is from the moved node) for a natural-looking update of the flow\n            else {\n                for (let i = 0; i < points.length; i++) {\n                    //Compute interpolation amount (both sides incremented by 1 to soften the effect)\n                    let moveFactor = i / points.length;\n                    //Flip interpolation if points start from the given node (as then it should start high and end low)\n                    if (entry.startNodeId == nodeId)\n                        moveFactor = 1 - moveFactor;\n                    //Update accordingly the point's coordinates\n                    entry.incrementPoint(i, deltaPosition.mul(moveFactor));\n                }\n            }\n        }\n    }\n    updateOnDetachingNode(nodeId) {\n        if (!nodeId)\n            return;\n        const flowEntries = this.model.entries;\n        for (let i = flowEntries.length - 1; i >= 0; i--) {\n            const entry = flowEntries[i];\n            // If the entry is not connected to the card on any end --> skip it\n            if (entry.startNodeId != nodeId && entry.endNodeId != nodeId)\n                continue;\n            //Otherwise --> delete entry\n            this.model.entryHandler.removeEntryAt(i);\n            return true;\n        }\n        return false;\n    }\n}\n","import { TurboView } from \"turbodombuilder\";\nimport * as d3 from \"d3\";\nexport class FlowBranchView extends TurboView {\n    initialize() {\n        super.initialize();\n        this.model.pathSelection = d3.select(this.element.element).append(\"path\");\n        this.redraw();\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"temporaryPoint\", () => this.redraw(true));\n        this.emitter.add(\"__redraw\", () => this.redraw(true));\n    }\n    redraw(force = false) {\n        if (!force && this.model.lastRedraw && Date.now() - this.model.lastRedraw < this.model.redrawInterval)\n            return;\n        this.model.lastRedraw = Date.now();\n        this.drawPath();\n        //TODO TRIGGER RECOMPUTING OF BOUNDING BOX\n    }\n    clearDrawing() {\n        clearTimeout(this.model.chevronTimer);\n        d3.select(this.element.element).selectAll(\"*\").remove();\n    }\n    clearChevrons() {\n        d3.select(this.element.element).selectAll(\".chevron\").remove();\n    }\n    /**\n     * @description Draws the points using D3's natural curve option and adds chevrons\n     * @private\n     */\n    drawPath() {\n        const points = this.model.points;\n        this.clearChevrons();\n        if (points.length < 2)\n            return;\n        const isOverwriting = this.model.isOverwriting;\n        //Generate the path data\n        const lineGenerator = d3.line()\n            .x(d => d.x)\n            .y(d => d.y)\n            .curve(d3.curveNatural);\n        const pathData = lineGenerator(points.filter(p => !isNaN(p.x) && !isNaN(p.y)));\n        //Append the path to the group\n        this.model.pathSelection\n            .attr(\"class\", \"flow\")\n            .attr(\"d\", pathData)\n            .attr(\"stroke-dasharray\", isOverwriting ? \"5, 5\" : null)\n            .attr(\"opacity\", isOverwriting ? 0.6 : 1)\n            .attr(\"stroke-width\", this.model.strokeWidth);\n        this.drawChevronsDelayed();\n    }\n    drawChevronsDelayed(delay = this.model.chevronTimeout) {\n        clearTimeout(this.model.chevronTimer);\n        this.model.chevronTimer = setTimeout(() => this.drawChevrons(), delay);\n    }\n    drawChevrons() {\n        const isOverwriting = this.model.isOverwriting;\n        const pathLength = this.model.path.getTotalLength();\n        for (let distance = this.model.chevronInterval; distance < pathLength; distance += this.model.chevronInterval) {\n            const point = this.model.path.getPointAtLength(distance);\n            const nextPoint = this.model.path.getPointAtLength(distance + 1);\n            //Compute angle\n            const angle = Math.atan2(nextPoint.y - point.y, nextPoint.x - point.x) * (180 / Math.PI);\n            d3.select(this.element.element).append(\"path\")\n                .attr(\"class\", \"chevron\")\n                .attr(\"d\", this.model.chevronShape)\n                .attr(\"transform\", `translate(${point.x}, ${point.y}) rotate(${angle})`)\n                .attr(\"fill\", isOverwriting ? \"grey\" : \"black\")\n                .attr(\"stroke-linecap\", \"round\")\n                .attr(\"stroke-linejoin\", \"round\")\n                .attr(\"opacity\", isOverwriting ? 0.6 : 1)\n                .attr(\"stroke-width\", this.model.strokeWidth);\n        }\n    }\n}\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { Point } from \"turbodombuilder\";\nexport class FlowEntryModel extends YComponentModel {\n    get startNodeId() {\n        return this.getData(\"startNodeId\");\n    }\n    set startNodeId(value) {\n        this.setData(\"startNodeId\", value);\n    }\n    get endNodeId() {\n        return this.getData(\"endNodeId\");\n    }\n    set endNodeId(value) {\n        this.setData(\"endNodeId\", value);\n    }\n    get points() {\n        return this.getData(\"points\");\n    }\n    addPoint(point) {\n        if (point instanceof Point)\n            point = point.object;\n        const points = this.points;\n        points.push(point);\n        this.setData(\"points\", points);\n    }\n    removePoint(index) {\n        const points = this.points;\n        points.splice(index, 1);\n        this.setData(\"points\", points);\n    }\n    incrementPoint(index, increment) {\n        const points = this.points;\n        points[index].x += increment.x;\n        points[index].y += increment.y;\n        this.setData(\"points\", points);\n    }\n    /**\n     * Splits an entry at the given point index into before/after + a new \"split\" entry.\n     * Returns [beforeSplitEntry, splitEntry, afterSplitEntry].\n     */\n    splitAtPoint(splitPointIndex, nodeId, splitPoint) {\n        // Create before/after\n        const beforeSplit = {\n            startNodeId: this.startNodeId,\n            endNodeId: nodeId,\n            points: [...this.points.slice(0, splitPointIndex), splitPoint]\n        };\n        const afterSplit = {\n            startNodeId: nodeId,\n            endNodeId: this.endNodeId,\n            points: [splitPoint, ...this.points.slice(splitPointIndex + 1)]\n        };\n        // The newly inserted \"middle\" entry (splitEntry).\n        const splitEntry = {\n            startNodeId: nodeId,\n            endNodeId: nodeId,\n            points: [splitPoint]\n        };\n        return { beforeSplit: beforeSplit, splitEntry: splitEntry, afterSplit: afterSplit };\n    }\n}\n","import { YMap } from \"../../../yManagement/yManagement.types\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { FlowEntryModel } from \"./flowEntry.model\";\nimport { MvcHandler } from \"turbodombuilder\";\nexport class FlowEntry {\n    static createData(data) {\n        if (data instanceof YMap)\n            return data;\n        if (!data)\n            data = {};\n        if (!data.startNodeId)\n            data.startNodeId = \"\";\n        if (!data.endNodeId)\n            data.endNodeId = \"\";\n        if (!data.points)\n            data.points = [];\n        return YUtilities.createYMap(data);\n    }\n    constructor(data) {\n        this.mvc = new MvcHandler({\n            modelConstructor: FlowEntryModel,\n            data: data,\n            generate: true\n        });\n    }\n    get model() {\n        return this.mvc.model;\n    }\n    get data() {\n        return this.model.data;\n    }\n    set data(data) {\n        this.model.data = data;\n    }\n    get startNodeId() {\n        return this.model.startNodeId;\n    }\n    set startNodeId(value) {\n        this.model.startNodeId = value;\n    }\n    get endNodeId() {\n        return this.model.endNodeId;\n    }\n    set endNodeId(value) {\n        this.model.endNodeId = value;\n    }\n    get points() {\n        return this.model.points;\n    }\n    addPoint(point) {\n        return this.model.points.push(point);\n    }\n    removePoint(index) {\n        return this.model.removePoint(index);\n    }\n    incrementPoint(index, increment) {\n        return this.model.incrementPoint(index, increment);\n    }\n    /**\n     * Splits an entry at the given point index into before/after + a new \"split\" entry.\n     * Returns [beforeSplitEntry, splitEntry, afterSplitEntry].\n     */\n    splitAtPoint(splitPointIndex, nodeId, splitPoint) {\n        // Create before/after\n        const beforeSplit = {\n            startNodeId: this.startNodeId,\n            endNodeId: nodeId,\n            points: [...this.points.slice(0, splitPointIndex), splitPoint]\n        };\n        const afterSplit = {\n            startNodeId: nodeId,\n            endNodeId: this.endNodeId,\n            points: [splitPoint, ...this.points.slice(splitPointIndex + 1)]\n        };\n        // The newly inserted \"middle\" entry (splitEntry).\n        const splitEntry = {\n            startNodeId: nodeId,\n            endNodeId: nodeId,\n            points: [splitPoint]\n        };\n        return { beforeSplit: beforeSplit, splitEntry: splitEntry, afterSplit: afterSplit };\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\nexport class FlowPathEntryCardHandler extends TurboHandler {\n    pushIdIfValid(newData, id) {\n        if (id === undefined)\n            return false;\n        if (newData.length > 0 && newData[newData.length - 1] === id)\n            return false;\n        newData.push(id);\n        return true;\n    }\n    updateCardsModel(entriesModel) {\n        const newData = [];\n        entriesModel.getAllBlockKeys().forEach(blockKey => {\n            entriesModel.getBlock(blockKey).data.toArray().forEach((entry, id) => {\n                this.pushIdIfValid(newData, entry.get(\"startNodeId\"));\n                this.pushIdIfValid(newData, entry.get(\"endNodeId\"));\n            });\n        });\n        const cardIds = this.model.cardIds;\n        const current = this.model.cardIdsArray;\n        let changeStart = 0;\n        while (changeStart < newData.length &&\n            changeStart < current.length &&\n            newData[changeStart] === current[changeStart]) {\n            changeStart++;\n        }\n        if (changeStart === newData.length && changeStart === current.length)\n            return;\n        cardIds.delete(changeStart, current.length - changeStart);\n        cardIds.insert(changeStart, newData.slice(changeStart));\n    }\n}\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class FlowPathModel extends YComponentModel {\n    constructor(data) {\n        super(data);\n        this.branchIdsModel = new YManagerModel();\n        this.entriesModel = new YManagerModel();\n        this.branchIdsModel.onAdded = (branchId, branchIndex) => { var _a; return this.entriesModel.setBlock((_a = this.flow.getBranchById(branchId)) === null || _a === void 0 ? void 0 : _a.entriesData, branchId, branchIndex); };\n        this.entriesModel.onAdded = () => { var _a; return (_a = this.entryCardHandler) === null || _a === void 0 ? void 0 : _a.updateCardsModel(this.entriesModel); };\n        this.entriesModel.onDeleted = () => { var _a; return (_a = this.entryCardHandler) === null || _a === void 0 ? void 0 : _a.updateCardsModel(this.entriesModel); };\n    }\n    initialize(blockKey = this.defaultBlockKey) {\n        super.initialize(blockKey);\n        if (blockKey === this.defaultBlockKey)\n            this.branchIdsModel.data = this.branchIds;\n    }\n    get name() {\n        return this.getData(\"name\");\n    }\n    set name(value) {\n        this.setData(\"name\", value);\n    }\n    get index() {\n        return this.getData(\"index\");\n    }\n    set index(value) {\n        this.setData(\"index\", value);\n    }\n    get branchIds() {\n        return this.getData(\"branchIds\");\n    }\n    set branchIds(value) {\n        this.setData(\"branchIds\", value);\n    }\n    get branchIdsArray() {\n        var _a;\n        return (_a = this.branchIds) === null || _a === void 0 ? void 0 : _a.toArray();\n    }\n    get cardIds() {\n        return this.getData(\"cardIds\");\n    }\n    get cardIdsArray() {\n        return this.cardIds.toJSON();\n    }\n    insertBranchAt(branchId, index) {\n        if (index == undefined || index >= this.branchIdsArray.length)\n            return this.branchIds.push([branchId]);\n        if (index < 0)\n            index = 0;\n        this.branchIds.insert(index, [branchId]);\n    }\n    get entryCardHandler() {\n        return this.getHandler(\"entryCard\");\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { FlowPathModel } from \"./flowPath.model\";\nimport { define, TurboSelectEntry } from \"turbodombuilder\";\nimport { FlowPathEntryCardHandler } from \"./flowPath.entryCardHandler\";\nlet FlowPath = class FlowPath extends TurboSelectEntry {\n    static createData(data) {\n        if (!data)\n            data = {};\n        if (!data.name)\n            data.name = \"Flow Path\";\n        data.branchIds = YUtilities.createYArray(data.branchIds ? data.branchIds : [\"0\"]);\n        data.cardIds = YUtilities.createYArray([]);\n        return YUtilities.createYMap(data);\n    }\n    constructor(properties) {\n        super(properties);\n        this.mvc.generate({\n            modelConstructor: FlowPathModel,\n            handlerConstructors: [FlowPathEntryCardHandler],\n            data: properties.data,\n            initialize: false\n        });\n        this.model.flow = properties.flow;\n        this.mvc.emitter.add(\"name\", () => this.value = this.model.name);\n        this.mvc.initialize();\n        this.initializeUI();\n    }\n    initializeUI() {\n        super.initializeUI();\n        this.setStyle(\"padding\", \"6px\").setStyle(\"whiteSpace\", \"nowrap\");\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.onSelected = (b) => {\n            var _a, _b;\n            (_a = this.model.flow.branches) === null || _a === void 0 ? void 0 : _a.forEach(branch => {\n                var _a;\n                branch.highlighted = (_a = this.branchIdsArray) === null || _a === void 0 ? void 0 : _a.includes(branch.dataId);\n            });\n            if (!b)\n                return;\n            (_b = this.model.flow.branches) === null || _b === void 0 ? void 0 : _b.forEach(branch => { var _a; return branch.highlighted = (_a = this.branchIdsArray) === null || _a === void 0 ? void 0 : _a.includes(branch.dataId); });\n        };\n    }\n    get name() {\n        return this.model.name;\n    }\n    set name(value) {\n        this.model.name = value;\n    }\n    get index() {\n        return this.model.index;\n    }\n    set index(value) {\n        this.model.index = value;\n    }\n    get branchIds() {\n        return this.model.branchIds;\n    }\n    set branchIds(value) {\n        this.model.branchIds = value;\n    }\n    get branchIdsArray() {\n        return this.model.branchIdsArray;\n    }\n    get cardIds() {\n        return this.model.cardIds;\n    }\n    get cardIdsArray() {\n        return this.model.cardIdsArray;\n    }\n    insertBranchAt(branchId, index) {\n        return this.model.insertBranchAt(branchId, index);\n    }\n};\nFlowPath = __decorate([\n    define()\n], FlowPath);\nexport { FlowPath };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./flowTag.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./flowTag.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { YMap } from \"../../../yManagement/yManagement.types\";\nimport { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { FlowPath } from \"../flowPath/flowPath\";\nimport { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class FlowTagModel extends YComponentModel {\n    constructor(data) {\n        super(data);\n        this.onPathAdded = () => { };\n        this.pathsModel = new YManagerModel();\n        this.pathsModel.onAdded = (pathData, index) => {\n            var _a;\n            const path = new FlowPath({ value: pathData.get(\"name\"), data: pathData, flow: this.flow });\n            (_a = this.onPathAdded) === null || _a === void 0 ? void 0 : _a.call(this, path, index);\n            return path;\n        };\n    }\n    initialize(blockKey = this.defaultBlockKey) {\n        super.initialize(blockKey);\n        if (blockKey === this.defaultBlockKey)\n            this.pathsModel.data = this.pathsData;\n    }\n    get data() {\n        return super.data;\n    }\n    set data(value) {\n        super.data = value;\n        // YUtilities.deepObserveAny(this.data, () => this.fireCallback(\"pathsChanged\"), \"paths\");\n    }\n    get nodeId() {\n        return this.getData(\"nodeId\");\n    }\n    set nodeId(value) {\n        this.setData(\"nodeId\", value);\n    }\n    get pathsData() {\n        return this.getData(\"paths\");\n    }\n    set pathsData(value) {\n        this.setData(\"paths\", value);\n    }\n    get pathsDataArray() {\n        return this.pathsData.toArray();\n    }\n    get paths() {\n        return this.pathsModel.getAllComponents();\n    }\n    insertPath(pathData, index) {\n        if (!(pathData instanceof YMap))\n            pathData = FlowPath.createData(pathData);\n        if (index == undefined || index >= this.pathsDataArray.length)\n            return this.pathsData.push([pathData]);\n        if (index < 0)\n            index = 0;\n        this.pathsData.insert(index, [pathData]);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define } from \"turbodombuilder\";\nimport \"./flowTag.css\";\nimport { VcComponent } from \"../component/component\";\nimport { FlowTagModel } from \"./flowTag.model\";\nimport { FlowTagView } from \"./flowTag.view\";\nimport { FlowPath } from \"../flowPath/flowPath\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nlet FlowTag = class FlowTag extends VcComponent {\n    constructor(properties) {\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: FlowTagView,\n            modelConstructor: FlowTagModel,\n            data: properties.data,\n            initialize: false\n        });\n        this.model.flow = properties.flow;\n        this.model.onPathAdded = (path, index) => this.view.addPathEntry(path, index);\n        this.mvc.initialize();\n    }\n    static createData(data) {\n        if (!data)\n            data = {};\n        if (!data.nodeId)\n            data.nodeId = \"\";\n        if (!data.paths || data.paths.length === 0)\n            data.paths = [undefined];\n        data.paths = YUtilities.createYArray(data.paths.map(path => FlowPath.createData(path)));\n        return YUtilities.createYMap(data);\n    }\n    get attachedNode() {\n        return this.director.getNode(this.model.nodeId);\n    }\n    get paths() {\n        return this.model.pathsData;\n    }\n    get pathsArray() {\n        return this.model.pathsDataArray;\n    }\n    insertPath(pathData, index) {\n        return this.model.insertPath(pathData, index);\n    }\n};\nFlowTag = __decorate([\n    define(\"vc-flow-tag\")\n], FlowTag);\nexport { FlowTag };\n","import { DefaultEventName, Direction, TurboIcon, TurboSelectWheel, TurboView } from \"turbodombuilder\";\nimport { Playback } from \"../playback/playback\";\nexport class FlowTagView extends TurboView {\n    addPathEntry(path, index) {\n        this.wheel.addEntry(path, index);\n        if (!this.wheel.selectedEntry)\n            this.wheel.select(path);\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.wheel = new TurboSelectWheel({\n            direction: Direction.vertical,\n            values: [],\n            forceSelection: true,\n        }).setStyle(\"margin\", 0);\n        this.playButton = new TurboIcon({ icon: \"play\", classes: \"icon\" });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.wheel, this.playButton]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.playButton.addListener(DefaultEventName.click, () => this.playPath(this.wheel.selectedEntry));\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"nodeId\", () => { var _a; return (_a = this.element.attachedNode) === null || _a === void 0 ? void 0 : _a.addChild(this.element); });\n    }\n    playPath(path) {\n        new Playback({ director: this.element.director, path: path, parent: document.body, classes: \"over-screen-playback\" });\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./metadataDrawer.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./metadataDrawer.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nexport class MetadataDrawerModel extends YComponentModel {\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, define, TurboDrawer } from \"turbodombuilder\";\nimport \"./metadataDrawer.css\";\nimport { MetadataDrawerView } from \"./metadataDrawer.view\";\nimport { MetadataDrawerModel } from \"./metadataDrawer.model\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nlet MetadataDrawer = class MetadataDrawer extends TurboDrawer {\n    constructor(properties) {\n        super(properties);\n        this.card = properties.card;\n        this.mvc.generate({\n            viewConstructor: MetadataDrawerView,\n            modelConstructor: MetadataDrawerModel,\n            data: properties.card ? properties.card.metadata : undefined\n        });\n    }\n    static createData(data) {\n        return YUtilities.createYMap({});\n    }\n    set card(value) {\n        if (this.model)\n            this.data = value.metadata;\n    }\n};\n__decorate([\n    auto()\n], MetadataDrawer.prototype, \"card\", null);\nMetadataDrawer = __decorate([\n    define()\n], MetadataDrawer);\nexport { MetadataDrawer };\n","import { div, TurboInput, TurboSelect, TurboSelectEntry, TurboView } from \"turbodombuilder\";\nimport { AnimatedContentSwitchingDiv } from \"../animationComponents/animatedContentSwitchingDiv/animatedContentSwitchingDiv\";\nexport class MetadataDrawerView extends TurboView {\n    constructor() {\n        super(...arguments);\n        this.metadataInputs = {};\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.tabbedMenu = new TurboSelect({\n            values: [\"Metadata\", \"Instructions\"],\n            customSelectedEntryClasses: \"selected-tab\",\n            onSelect: (value, entry) => {\n                if (value)\n                    this.animationDiv.select(entry.value);\n            }\n        });\n        this.metadataPanel = new TurboSelectEntry({ classes: \"metadata-panel\", value: \"Metadata\", element: div() });\n        this.instructionsPanel = new TurboSelectEntry({ classes: \"instructions-panel\", value: \"Instructions\", element: div() });\n        this.animationDiv = new AnimatedContentSwitchingDiv({ values: [this.metadataPanel, this.instructionsPanel] });\n        this.metadataInputs[\"instructions\"] = new TurboInput({\n            dynamicVerticalResize: true,\n            element: { tag: \"textarea\", placeholder: \"Add instructions...\" },\n            style: \"align-items: flex-start\",\n            onInput: () => this.element.refresh()\n        });\n        this.metadataInputs[\"created\"] = new TurboInput({\n            label: \"Created on\",\n            locked: true,\n            element: { tag: \"input\", value: \"01/01/2024\" }\n        });\n        this.metadataInputs[\"lastModified\"] = new TurboInput({\n            label: \"Last modified\",\n            locked: true,\n            element: { tag: \"input\", value: \"01/07/2024\" }\n        });\n        this.metadataInputs[\"author\"] = new TurboInput({\n            label: \"Author\",\n            element: { tag: \"input\", value: \"Someone\" }\n        });\n        this.metadataInputs[\"description\"] = new TurboInput({\n            label: \"Description\",\n            dynamicVerticalResize: true,\n            style: \"flex-direction: column; align-items: flex-start\",\n            element: { tag: \"textarea\", placeholder: \"Add a description...\" },\n            onInput: () => this.element.refresh()\n        });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.tabbedMenu, this.animationDiv]);\n        this.metadataPanel.addChild([\n            this.metadataInputs[\"created\"],\n            this.metadataInputs[\"lastModified\"],\n            this.metadataInputs[\"author\"],\n            div({ classes: \"separator\" }),\n            this.metadataInputs[\"description\"]\n        ]);\n        this.instructionsPanel.addChild(this.metadataInputs[\"instructions\"]);\n    }\n    initialize() {\n        super.initialize();\n        this.tabbedMenu.select(\"Metadata\");\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./playback.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./playback.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { TurboModel } from \"turbodombuilder\";\nexport class PlaybackModel extends TurboModel {\n    constructor() {\n        super(...arguments);\n        this.aspectRatio = 1.33;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, define } from \"turbodombuilder\";\nimport \"./playback.css\";\nimport { PlaybackView } from \"./playback.view\";\nimport { PlaybackModel } from \"./playback.model\";\nimport { VcComponent } from \"../component/component\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\nlet Playback = class Playback extends VcComponent {\n    constructor(properties) {\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: PlaybackView,\n            modelConstructor: PlaybackModel\n        });\n        if (properties.path)\n            this.path = properties.path;\n        if (properties.card)\n            this.card = properties.card;\n    }\n    set path(value) {\n        this.view.timeline.cardIds = value.cardIds;\n    }\n    set card(value) {\n        this.view.timeline.card = value;\n    }\n    get renderer() {\n        return this.view.renderer;\n    }\n    get timeline() {\n        return this.view.timeline;\n    }\n    get frameWidth() {\n        return this.view.renderer.offsetWidth;\n    }\n    get frameHeight() {\n        return this.view.renderer.offsetHeight;\n    }\n    fillCanvas(fill) {\n        this.view.renderer.setFill(fill);\n    }\n    clear() {\n        this.view.timeline.data = undefined; //TODO idk if gd idea\n        this.director.currentType = ProjectScreens.canvas;\n    }\n    snapToClip(clip) {\n        if (clip)\n            this.view.timeline.snapToClosest(clip.dataIndex + 1);\n        else\n            this.view.timeline.snapAtEnd();\n    }\n};\n__decorate([\n    auto()\n], Playback.prototype, \"path\", null);\n__decorate([\n    auto()\n], Playback.prototype, \"card\", null);\nPlayback = __decorate([\n    define(\"vc-playback\")\n], Playback);\nexport { Playback };\n","import { div, TurboView } from \"turbodombuilder\";\nimport { Timeline } from \"../timeline/timeline\";\nimport { ClipRenderer } from \"../clipRenderer/clipRenderer\";\nexport class PlaybackView extends TurboView {\n    initialize() {\n        super.initialize();\n        this.resize();\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.scaleContainer = div();\n        this.renderer = new ClipRenderer({ director: this.element.director, videoProperties: { playsInline: true } });\n        this.timeline = new Timeline({ director: this.element.director, renderer: this.renderer, initialize: true });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild(this.scaleContainer);\n        this.scaleContainer.addChild([this.renderer, this.timeline]);\n        this.element.childHandler = this.scaleContainer;\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        window.addEventListener(\"resize\", () => this.resize());\n    }\n    resize() {\n        this.renderer.resize(this.model.aspectRatio);\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboController } from \"turbodombuilder\";\nimport { RendererVideoController } from \"./renderer.videoController\";\nexport class RendererCanvasController extends TurboController {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"canvasFillChanged\", () => this.refreshCanvas());\n    }\n    refreshCanvas() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fill = this.model.currentCanvasFill;\n            if (!fill) {\n                this.view.canvasContext.clearRect(0, 0, this.view.width, this.view.height);\n                return;\n            }\n            if (typeof fill == \"string\") {\n                if (fill.length < 30) {\n                    // Assume it's a color string\n                    this.view.canvasContext.fillStyle = fill;\n                    this.view.canvasContext.fillRect(0, 0, this.view.width, this.view.height);\n                    return;\n                }\n                else {\n                    const img = new Image();\n                    yield new Promise((resolve, reject) => {\n                        img.onload = () => {\n                            this.view.canvasContext.drawImage(img, 0, 0, this.view.width, this.view.height);\n                            resolve();\n                        };\n                        img.onerror = (err) => reject(err);\n                        img.src = fill;\n                    }).catch(() => {\n                        console.error(\"Failed to load image:\", fill);\n                        this.view.canvasContext.clearRect(0, 0, this.view.width, this.view.height);\n                    });\n                    return;\n                }\n            }\n            else {\n                if (fill instanceof HTMLVideoElement)\n                    yield RendererVideoController.waitForVideoLoad(fill);\n                this.view.canvasContext.drawImage(fill, 0, 0, this.view.width, this.view.height);\n            }\n        });\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./renderer.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./renderer.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboController } from \"turbodombuilder\";\nimport { RendererVideoController } from \"./renderer.videoController\";\nexport class RendererDrawingController extends TurboController {\n    drawVideoFrame() {\n        return __awaiter(this, arguments, void 0, function* (video = this.view.video, animate = true) {\n            if (animate)\n                this.view.animateSnapshotEffect();\n            return new Promise(resolve => {\n                //If offscreen canvas supported\n                if (window.OffscreenCanvas) {\n                    //Create one and get its context\n                    const offscreen = new OffscreenCanvas(video.videoWidth, video.videoHeight);\n                    const ctx = offscreen.getContext(\"2d\");\n                    //Draw the frame\n                    ctx.drawImage(video, 0, 0, offscreen.width, offscreen.height);\n                    //Convert to blob\n                    offscreen.convertToBlob({ type: \"image/png\" }).then(blob => {\n                        //Read as data URL\n                        const reader = new FileReader();\n                        reader.readAsDataURL(blob);\n                        //Return data\n                        reader.onloadend = () => resolve(reader.result);\n                    });\n                }\n                //Fallback to actual canvas --> will cause a small lag\n                else {\n                    //Draw frame\n                    resolve(this.drawFromImageSource(video));\n                }\n            });\n        });\n    }\n    drawFromImageSource(src) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (src instanceof HTMLVideoElement)\n                yield RendererVideoController.waitForVideoLoad(src);\n            this.view.canvasContext.drawImage(src, 0, 0, this.view.width, this.view.height);\n            return this.view.canvas.toDataURL(\"image/png\");\n        });\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { auto } from \"turbodombuilder\";\nexport class RendererModel extends YComponentModel {\n    constructor() {\n        super(...arguments);\n        this.videoElementsCount = 1;\n        this.isPlaying = false;\n        this._currentIndex = 0;\n    }\n    set currentCanvasFill(value) {\n        this.fireCallback(\"canvasFillChanged\");\n    }\n    get currentIndex() {\n        return this._currentIndex;\n    }\n    set currentIndex(value) {\n        while (value < 0)\n            value += this.videoElementsCount;\n        while (value >= this.videoElementsCount)\n            value -= this.videoElementsCount;\n        this._currentIndex = value;\n    }\n    get nextIndex() {\n        let index = this.currentIndex + 1;\n        if (index >= this.videoElementsCount)\n            index -= this.videoElementsCount;\n        return index;\n    }\n    get previousIndex() {\n        let index = this.currentIndex - 1;\n        if (index < 0)\n            index += this.videoElementsCount;\n        return index;\n    }\n}\n__decorate([\n    auto({ cancelIfUnchanged: false })\n], RendererModel.prototype, \"currentCanvasFill\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport \"./renderer.css\";\nimport { RendererView } from \"./renderer.view\";\nimport { RendererModel } from \"./renderer.model\";\nimport { RendererCanvasController } from \"./renderer.canvasController\";\nimport { RendererDrawingController } from \"./renderer.drawingController\";\nimport { VcComponent } from \"../component/component\";\nimport { RendererVideoController } from \"./renderer.videoController\";\nimport { define } from \"turbodombuilder\";\nlet Renderer = class Renderer extends VcComponent {\n    constructor(properties = {}) {\n        super(properties);\n        if (properties.generate == false)\n            return;\n        this.mvc.generate({\n            viewConstructor: RendererView,\n            modelConstructor: RendererModel,\n            controllerConstructors: [RendererDrawingController, RendererCanvasController, RendererVideoController],\n        });\n        this.view.canvas.setProperties(properties.canvasProperties);\n        this.view.videos.forEach(video => video.setProperties(properties.videoProperties));\n    }\n    get isPlaying() {\n        return this.model.isPlaying;\n    }\n    get width() {\n        return this.view.width;\n    }\n    get height() {\n        return this.view.height;\n    }\n    get video() {\n        return this.view.video;\n    }\n    get canvasController() {\n        return this.mvc.getController(\"canvas\");\n    }\n    get drawingController() {\n        return this.mvc.getController(\"drawing\");\n    }\n    drawVideoFrame() {\n        return __awaiter(this, arguments, void 0, function* (video = this.view.video, animate = true) {\n            return yield this.drawingController.drawVideoFrame(video, animate);\n        });\n    }\n    setFill(fill) {\n        this.model.currentCanvasFill = fill;\n    }\n    resize(aspectRatio = 1.33, width = this.offsetWidth, height = this.offsetHeight) {\n        this.view.resize(aspectRatio, width, height);\n    }\n};\nRenderer = __decorate([\n    define(\"vc-renderer\")\n], Renderer);\nexport { Renderer };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboController } from \"turbodombuilder\";\nexport class RendererVideoController extends TurboController {\n    get videos() {\n        return this.view.videos;\n    }\n    get video() {\n        return this.view.video;\n    }\n    play() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.video.play();\n            this.model.isPlaying = true;\n        });\n    }\n    pause() {\n        if (!this.video.paused)\n            this.video.pause();\n        this.model.isPlaying = false;\n    }\n    static waitForVideoLoad(video, seekTime = 0, delay = 60) {\n        return new Promise((resolve, reject) => {\n            const done = () => setTimeout(resolve, delay);\n            const initialLoad = () => {\n                if (video.readyState >= 2)\n                    handleSeek();\n                else\n                    video.addEventListener(\"canplay\", loadListener);\n            };\n            const loadListener = () => {\n                video.removeEventListener(\"canplay\", loadListener);\n                handleSeek();\n            };\n            const handleSeek = () => {\n                video.addEventListener(\"seeked\", seekListener);\n                //TODO SEEK IS NOT WORKINGGGGGG\n                setTimeout(() => video.currentTime = Math.round(seekTime * 100) / 100, delay);\n            };\n            const seekListener = () => {\n                video.removeEventListener(\"seeked\", seekListener);\n                done();\n            };\n            const onError = (err) => {\n                video.removeEventListener(\"error\", onError);\n                reject(err);\n            };\n            video.addEventListener(\"error\", onError);\n            initialLoad();\n        });\n    }\n}\n","import { canvas, div, Shown, StatefulReifect, TurboView, video } from \"turbodombuilder\";\nexport class RendererView extends TurboView {\n    constructor(properties) {\n        super(properties);\n        this.videos = [];\n        this.snapshotEffectTransition = new StatefulReifect({\n            states: [Shown.visible, Shown.hidden],\n            properties: \"opacity\",\n            transitionProperties: \"opacity\",\n            transitionDuration: 0.05,\n            transitionTimingFunction: \"ease-out\",\n            styles: { visible: 1, hidden: 0 },\n        });\n        this.rendererShowTransition = new StatefulReifect({\n            properties: \"opacity\",\n            styles: { visible: 1, hidden: 0 },\n            states: [Shown.visible, Shown.hidden]\n        });\n        this.element.addClass(\"vc-renderer\");\n        this.element.showTransition = this.rendererShowTransition;\n    }\n    initialize() {\n        super.initialize();\n        this.snapshotEffectTransition.attach(this.snapshotEffectDiv);\n        this.snapshotEffectTransition.apply(Shown.hidden);\n    }\n    setupUIElements() {\n        this.canvas = canvas();\n        this.canvasContext = this.canvas.getContext(\"2d\");\n        for (let i = 0; i < this.model.videoElementsCount; i++)\n            this.videos.push(video());\n        this.snapshotEffectDiv = div({ classes: \"snapshot-effect-div\" });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([...this.videos, this.snapshotEffectDiv, this.canvas]);\n    }\n    get video() {\n        return this.videos[this.model.currentIndex];\n    }\n    get width() {\n        return this.canvas.width;\n    }\n    get height() {\n        return this.canvas.height;\n    }\n    get canvas() {\n        return this._canvas;\n    }\n    set canvas(canvas) {\n        this._canvas = canvas;\n    }\n    animateSnapshotEffect() {\n        this.snapshotEffectDiv.setStyle(\"display\", \"block\");\n        this.snapshotEffectTransition.apply(Shown.visible);\n        setTimeout(() => {\n            this.snapshotEffectTransition.apply(Shown.hidden);\n            setTimeout(() => this.snapshotEffectDiv.setStyle(\"display\", \"none\"), this.snapshotEffectTransition.transitionDuration[Shown.hidden] * 1000);\n        }, this.snapshotEffectTransition.transitionDuration[Shown.visible] * 1000);\n    }\n    resize(aspectRatio = 1.33, width = this.element.offsetWidth, height = this.element.offsetHeight) {\n        if (width / height <= aspectRatio)\n            height = width / aspectRatio;\n        else\n            width = height * aspectRatio;\n        this.element.setStyles(`width: ${width}px; height: ${height}px`);\n        this.snapshotEffectDiv.setStyles(`width: ${width}px; height: ${height}px`);\n        this.videos.forEach(video => video.setStyles(`width: ${width}px; height: ${height}px`));\n        this.canvas.width = width;\n        this.canvas.height = height;\n    }\n}\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./clipScrubber.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./clipScrubber.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ClipScrubber_1;\nimport { define, div, icon } from \"turbodombuilder\";\nimport \"./clipScrubber.css\";\nimport { ScrubberMarkingMenu } from \"../../scrubberMarkingMenu/scrubberMarkingMenu\";\nimport { Scrubber } from \"../scrubber\";\nlet ClipScrubber = ClipScrubber_1 = class ClipScrubber extends Scrubber {\n    constructor(properties = {}) {\n        super(Object.assign(Object.assign({}, properties), { initialize: false }));\n        this.addClass(\"vc-clip-scrubber\");\n        if (!ClipScrubber_1.markingMenu) {\n            ClipScrubber_1.markingMenu = new ScrubberMarkingMenu({});\n            this.director.canvas.content.addChild(ClipScrubber_1.markingMenu);\n        }\n        if (properties.initialize)\n            this.initializeUI();\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.head = icon({ icon: \"scrubber-head\", directory: \"assets/misc\" });\n        this.markingMenuHandle = div();\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.addChild([this.head, this.markingMenuHandle]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        ClipScrubber_1.markingMenu.attachTo(this.markingMenuHandle, (e) => {\n            ClipScrubber_1.markingMenu.scrubber = this;\n            ClipScrubber_1.markingMenu.show(true, this.scaled ? e.scaledPosition : e.position);\n        }, (e) => {\n            ClipScrubber_1.markingMenu.scrubber = this;\n            ClipScrubber_1.markingMenu.show(undefined, this.scaled ? e.scaledOrigins.first : e.origins.first);\n        });\n    }\n};\nClipScrubber = ClipScrubber_1 = __decorate([\n    define(\"vc-clip-scrubber\")\n], ClipScrubber);\nexport { ClipScrubber };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./scrubber.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./scrubber.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, define, TurboEventName, } from \"turbodombuilder\";\nimport \"./scrubber.css\";\nimport { VcComponent } from \"../component/component\";\nlet Scrubber = class Scrubber extends VcComponent {\n    constructor(properties = {}) {\n        var _a;\n        super(properties);\n        this.scaled = false;\n        //Whether it is currently scrubbing (fired by the user's action)\n        this.scrubbing = false;\n        this.addClass(\"vc-scrubber\");\n        this.timeline = properties.timeline;\n        this.scaled = (_a = properties.scaled) !== null && _a !== void 0 ? _a : true;\n        if (properties.initialize)\n            this.initializeUI();\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        //Drag start --> start scrubbing and stop propagation\n        this.addListener(TurboEventName.dragStart, (e) => {\n            e.stopImmediatePropagation();\n            this.scrubbing = true;\n            if (this.onScrubbingStart)\n                this.onScrubbingStart(e);\n        });\n        //On drag and if scrubbing --> stop propagation and move scrubber by delta position\n        document.addListener(TurboEventName.drag, (e) => {\n            if (!this.scrubbing)\n                return;\n            e.stopImmediatePropagation();\n            if (this.onScrubbing)\n                this.onScrubbing(e);\n        });\n        //Drag end and if scrubbing --> end scrubbing and stop propagation\n        document.addListener(TurboEventName.dragEnd, (e) => {\n            if (!this.scrubbing)\n                return;\n            this.scrubbing = false;\n            if (this.onScrubbingEnd)\n                this.onScrubbingEnd(e);\n        });\n    }\n    /**\n     * @description Translation value of the scrubber, in relation to the timeline container's dimensions.\n     */\n    set translation(value) {\n        const basis = this.scaled ? this.director.canvas.scale : 1;\n        this.style.transform = `translate(calc(${value / basis}px - 50%), 0)`;\n    }\n};\n__decorate([\n    auto()\n], Scrubber.prototype, \"translation\", null);\nScrubber = __decorate([\n    define(\"vc-scrubber\")\n], Scrubber);\nexport { Scrubber };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./scrubberMarkingMenu.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./scrubberMarkingMenu.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport \"./scrubberMarkingMenu.css\";\nimport { define, TurboMarkingMenu, TurboSelectEntry } from \"turbodombuilder\";\nimport { ScrubberMenu } from \"./scrubberMarkingMenu.types\";\nlet ScrubberMarkingMenu = class ScrubberMarkingMenu extends TurboMarkingMenu {\n    constructor(properties) {\n        if (!properties.semiMinor)\n            properties.semiMinor = 40;\n        if (!properties.semiMajor)\n            properties.semiMajor = 40;\n        super(properties);\n        this.addClass(\"turbo-marking-menu\");\n        this.scrubber = properties.scrubber;\n        this.onSelect = () => this.show(false);\n        this.initializeEntries();\n    }\n    get timeline() {\n        return this.scrubber.timeline;\n    }\n    get clip() {\n        return this.timeline.currentClip;\n    }\n    get clipInfo() {\n        return this.timeline.currentClipInfo;\n    }\n    initializeEntries() {\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.split, text: \"Split\",\n            action: () => this.timeline.splitClipAt()\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.mute, text: \"Mute\",\n            action: () => this.clip.muted = !this.clip.muted\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.insertCard, text: \"Insert Card\",\n            action: () => { }\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.trimRight, text: \"Trim Right\",\n            action: () => this.clip.endTime -= this.clip.duration - this.clipInfo.offset\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.deleteRight, text: \"Delete Right\",\n            action: () => this.timeline.removeClipAt(this.clipInfo.clipIndex + 1)\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.delete, text: \"Delete\",\n            action: () => this.timeline.removeClipAt(this.clipInfo.clipIndex)\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.trimLeft, text: \"Trim Left\",\n            action: () => this.clip.startTime += this.clipInfo.offset\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.deleteLeft, text: \"Delete Left\",\n            action: () => this.timeline.removeClipAt(this.clipInfo.clipIndex - 1)\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.reshoot, text: \"Reshoot\",\n            action: () => { }\n        }));\n        this.addEntry(new TurboSelectEntry({\n            value: ScrubberMenu.hide, text: \"Hide\",\n            action: () => this.clip.hidden = !this.clip.hidden\n        }));\n    }\n    show(b, position) {\n        const isBetweenClips = this.clipInfo.distanceFromClosestIntersection < 0.2;\n        const clipIndex = this.clipInfo.clipIndex;\n        this.enable(isBetweenClips && clipIndex !== 0, ScrubberMenu.deleteRight);\n        this.enable(isBetweenClips && clipIndex !== this.timeline.clips.length - 1, ScrubberMenu.deleteLeft);\n        this.enable(!isBetweenClips, ScrubberMenu.trimLeft, ScrubberMenu.trimRight, ScrubberMenu.delete, ScrubberMenu.split, ScrubberMenu.mute, ScrubberMenu.hide, ScrubberMenu.reshoot);\n        if (!isBetweenClips) {\n            this.find(ScrubberMenu.mute).text = this.clip.muted ? \"Unmute\" : \"Mute\";\n            this.find(ScrubberMenu.hide).text = this.clip.hidden ? \"Show\" : \"Hide\";\n        }\n        const isFullCircle = this.enabledEntries.length > 4;\n        this.startAngle = isFullCircle ? 0 : -0.33 * Math.PI;\n        this.endAngle = isFullCircle ? Math.PI * 2 : 0.33 * Math.PI;\n        return super.show(b, position);\n    }\n};\nScrubberMarkingMenu = __decorate([\n    define()\n], ScrubberMarkingMenu);\nexport { ScrubberMarkingMenu };\n","export var ScrubberMenu;\n(function (ScrubberMenu) {\n    ScrubberMenu[\"split\"] = \"split\";\n    ScrubberMenu[\"mute\"] = \"mute\";\n    ScrubberMenu[\"insertCard\"] = \"insertCard\";\n    ScrubberMenu[\"trimRight\"] = \"trimRight\";\n    ScrubberMenu[\"deleteRight\"] = \"deleteRight\";\n    ScrubberMenu[\"delete\"] = \"delete\";\n    ScrubberMenu[\"trimLeft\"] = \"trimLeft\";\n    ScrubberMenu[\"deleteLeft\"] = \"deleteLeft\";\n    ScrubberMenu[\"reshoot\"] = \"reshoot\";\n    ScrubberMenu[\"hide\"] = \"hide\";\n})(ScrubberMenu || (ScrubberMenu = {}));\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./textElement.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./textElement.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nexport class TextElementModel extends YComponentModel {\n    get type() {\n        return this.getData(\"type\");\n    }\n    set type(value) {\n        this.setData(\"type\", value);\n    }\n    get text() {\n        return this.getData(\"text\");\n    }\n    set text(value) {\n        this.setData(\"text\", value);\n    }\n    get origin() {\n        return this.getData(\"origin\");\n    }\n    set origin(value) {\n        this.setData(\"origin\", value);\n    }\n    get fontSize() {\n        return this.getData(\"fontSize\");\n    }\n    set fontSize(value) {\n        this.setData(\"fontSize\", value);\n    }\n    get boxWidth() {\n        return this.getData(\"boxWidth\");\n    }\n    set boxWidth(value) {\n        if (this.boxWidth == value)\n            return;\n        this.setData(\"boxWidth\", value);\n    }\n    get boxHeight() {\n        return this.getData(\"boxHeight\");\n    }\n    set boxHeight(value) {\n        if (this.boxHeight == value)\n            return;\n        this.setData(\"boxHeight\", value);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { TextType } from \"./textElement.types\";\nimport { define } from \"turbodombuilder\";\nimport \"./textElement.css\";\nimport { TextElementView } from \"./textElement.view\";\nimport { TextElementModel } from \"./textElement.model\";\nimport { VcComponent } from \"../component/component\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nlet TextElement = class TextElement extends VcComponent {\n    constructor(properties = {}) {\n        super(properties);\n        this.renderer = properties.renderer;\n        this.mvc.generate({\n            viewConstructor: TextElementView,\n            modelConstructor: TextElementModel,\n            data: properties.data\n        });\n    }\n    static createData(data) {\n        if (!data)\n            data = { type: TextType.title };\n        if (!data.fontSize)\n            data.fontSize = 0.1;\n        if (!data.origin)\n            data.origin = { x: 0.5, y: 0.5 };\n        if (!data.type)\n            data.type = TextType.custom;\n        return YUtilities.createYMap(data);\n    }\n    connectedCallback() {\n        requestAnimationFrame(() => {\n            this.mvc.emitter.fire(\"fontSize\", this.model.fontSize);\n            this.mvc.emitter.fire(\"origin\", this.model.origin);\n        });\n    }\n    get clip() {\n        var _a;\n        return (_a = this.renderer) === null || _a === void 0 ? void 0 : _a.clip;\n    }\n    get card() {\n        var _a;\n        return (_a = this.clip) === null || _a === void 0 ? void 0 : _a.card;\n    }\n    get type() {\n        return this.model.type;\n    }\n    set textValue(value) {\n        this.view.textValue = value;\n    }\n    get boxWidth() {\n        var _a;\n        let boxWidth = this.model.boxWidth;\n        if (!boxWidth) {\n            boxWidth = (this.offsetWidth / ((_a = this.renderer) === null || _a === void 0 ? void 0 : _a.offsetWidth) * 100) || 0;\n            this.model.boxWidth = boxWidth;\n        }\n        return boxWidth;\n    }\n    get boxHeight() {\n        var _a;\n        let boxHeight = this.model.boxHeight;\n        if (!boxHeight) {\n            boxHeight = (this.offsetHeight / ((_a = this.renderer) === null || _a === void 0 ? void 0 : _a.offsetHeight) * 100) || 0;\n            this.model.boxHeight = boxHeight;\n        }\n        return boxHeight;\n    }\n    translateBy(deltaPosition) {\n        this.model.origin = deltaPosition\n            .div(this.director.camera.frameWidth, this.director.camera.frameHeight)\n            .add(this.model.origin)\n            .object;\n    }\n    select(b) {\n        this.view.resizer.show(b);\n    }\n};\nTextElement = __decorate([\n    define(\"vc-text-entry\")\n], TextElement);\nexport { TextElement };\n","export var TextType;\n(function (TextType) {\n    TextType[\"custom\"] = \"custom\";\n    TextType[\"title\"] = \"title\";\n    TextType[\"author\"] = \"author\";\n    TextType[\"timestamp\"] = \"timestamp\";\n})(TextType || (TextType = {}));\n","import { TextType } from \"./textElement.types\";\nimport { span, TurboEventName, TurboView } from \"turbodombuilder\";\nimport { Resizer } from \"../basicComponents/resizer/resizer\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\nexport class TextElementView extends TurboView {\n    get resizer() {\n        return this._resizer;\n    }\n    set resizer(value) {\n        this._resizer = value;\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"type\", (value) => {\n            var _a;\n            switch (value.valueOf()) {\n                case TextType.timestamp:\n                    this.textValue = this.element.card.metadata.timestamp;\n                    return;\n                case TextType.title:\n                    this.textValue = (_a = this.element.card) === null || _a === void 0 ? void 0 : _a.title;\n                    return;\n                default:\n                    this.textValue = this.model.text;\n                    return;\n            }\n        });\n        this.emitter.add(\"origin\", (value) => this.element.setStyle(\"transform\", `translate3d(calc(${(value.x * this.element.renderer.width) || 0}px - 50%), \r\n                        calc(${(value.y * this.element.renderer.height) || 0}px - 50%), 0)`));\n        this.emitter.add(\"fontSize\", (value) => this.content\n            .setStyle(\"fontSize\", value * this.element.renderer.offsetHeight + \"px\"));\n        this.emitter.add(\"text\", (value) => {\n            if (this.model.type == TextType.custom)\n                this.content.textContent = value;\n        });\n        this.emitter.add(\"boxWidth\", (value) => this.element.setStyle(\"width\", value + \"%\"));\n        this.emitter.add(\"boxHeight\", (value) => this.element.setStyle(\"height\", value + \"%\"));\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.content = span({ contentEditable: \"true\", role: \"textbox\" });\n        if (this.element.renderer)\n            this.resizer = new Resizer(this.element);\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.content, this.resizer]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.element.addEventListener(TurboEventName.click, (e) => {\n            if (this.element.director.currentType != ProjectScreens.camera)\n                return;\n            if (this.element.director.toolManager.getFiredTool(e).name != ToolType.text)\n                return;\n            this.content.focus();\n            e.stopImmediatePropagation();\n        });\n        this.element.addEventListener(\"blur\", () => {\n            if (this.model.type == TextType.custom)\n                this.model.text = this.content.textContent;\n        });\n    }\n    get textValue() {\n        return this.content.textContent;\n    }\n    set textValue(value) {\n        this.content.textContent = value;\n    }\n}\n","\n      import API from \"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./clipTimeline.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../../node_modules/css-loader/dist/cjs.js!./clipTimeline.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, define } from \"turbodombuilder\";\nimport \"./clipTimeline.css\";\nimport { Timeline } from \"../timeline\";\nimport { ClipView } from \"../../clip/clip.view\";\nimport { ClipTimelineView } from \"./clipTimeline.view\";\nlet ClipTimeline = class ClipTimeline extends Timeline {\n    constructor(properties) {\n        super(Object.assign(Object.assign({}, properties), { viewConstructor: ClipTimelineView }));\n        this.addClass(\"vc-clip-timeline\");\n        this.scaled = true;\n        if (properties.drawerProperties)\n            this.view.drawer.setProperties(properties.drawerProperties);\n    }\n    onClipAdded(syncedClip, id, blockKey) {\n        const clip = super.onClipAdded(syncedClip, id, blockKey, { viewConstructor: ClipView });\n        this.view.scrubberContainer.addChild(clip, this.model.clipHandler.convertBlockScopeToIndex(id + 1, blockKey));\n        return clip;\n    }\n    set scaled(value) {\n        if (this.view && this.view.scrubber)\n            this.view.scrubber.scaled = value;\n    }\n    get width() {\n        return this.model.totalDuration * this.pixelsPerSecondUnit * ((this.scaled ? this.director.canvas.scale : 1) || 1);\n    }\n    reloadTime() {\n        super.reloadTime();\n        this.view.drawer.refresh();\n    }\n    addIndicatorAt(indicator, index) {\n        indicator.remove();\n        this.view.scrubberContainer.addChild(indicator, index);\n    }\n};\n__decorate([\n    auto()\n], ClipTimeline.prototype, \"scaled\", null);\nClipTimeline = __decorate([\n    define(\"vc-clip-timeline\")\n], ClipTimeline);\nexport { ClipTimeline };\n","import { Side, TurboDrawer } from \"turbodombuilder\";\nimport { TimelineView } from \"../timeline.view\";\nimport { ClipScrubber } from \"../../scrubber/clipScrubber/clipScrubber\";\nexport class ClipTimelineView extends TimelineView {\n    setupUIElements() {\n        super.setupUIElements();\n        this.drawer = new TurboDrawer({ icon: \"chevron\", side: Side.right });\n        this.scrubber = new ClipScrubber({ timeline: this.element, director: this.element.director, initialize: true });\n    }\n    setupUILayout() {\n        this.element.addChild(this.drawer);\n        this.element.childHandler = this.drawer.childHandler;\n        super.setupUILayout();\n    }\n}\n","import \"./timeline.css\";\nimport { ClipRendererVisibility } from \"../clipRenderer/clipRenderer.types\";\nimport { TurboController } from \"turbodombuilder\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nexport class TimelineClipController extends TurboController {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"currentTimeChanged\", () => this.reloadCurrentClip());\n        const snapWhenShooting = (e) => requestAnimationFrame(() => {\n            if (this.element.director.toolManager.getFiredTool(e).name == ToolType.shoot)\n                this.snapToClosest();\n        });\n        this.view.scrubber.onScrubbingEnd = snapWhenShooting;\n        this.emitter.add(\"containerClicked\", (e) => snapWhenShooting(e));\n    }\n    get clipHandler() {\n        return this.model.clipHandler;\n    }\n    reloadCurrentClip() {\n        var _a;\n        this.model.indexInfo = this.clipHandler.getClipIndexAtTimestamp();\n        this.element.director.contextManager.setContext(this.model.currentClip, 2);\n        if (this.element.renderer.isPlaying)\n            return;\n        this.element.renderer.setFrame(this.element.renderer.visibilityMode == ClipRendererVisibility.ghosting\n            ? this.model.currentGhostingClip : this.model.currentClip, (_a = this.model.indexInfo) === null || _a === void 0 ? void 0 : _a.offset);\n    }\n    snapToClosest(entry = this.model.indexInfo) {\n        let index = typeof entry == \"number\" ? entry : entry.closestIntersection;\n        if (index > this.model.totalClipsCount)\n            index = this.model.totalClipsCount;\n        let currentTime = 0;\n        for (let i = 0; i < index; i++)\n            currentTime += this.getDuration(i);\n        this.model.currentTime = currentTime;\n    }\n    snapAtEnd() {\n        this.snapToClosest(this.element.dataSize);\n    }\n    getDuration(index) {\n        var _a;\n        return ((_a = this.clipHandler.getClipAt(index)) === null || _a === void 0 ? void 0 : _a.duration) || 0;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport { TurboHandler } from \"turbodombuilder\";\nexport class TimelineClipHandler extends TurboHandler {\n    getClipIndexAtTimestamp(time = this.model.currentTime) {\n        var _a, _b, _c, _d;\n        if (this.model.totalClipsCount <= 0)\n            return;\n        let index = 0, accumulatedTime = 0;\n        while (index < this.model.totalClipsCount && accumulatedTime + ((_a = this.getClipAt(index)) === null || _a === void 0 ? void 0 : _a.duration) < time) {\n            accumulatedTime += (_b = this.getClipAt(index)) === null || _b === void 0 ? void 0 : _b.duration;\n            index++;\n        }\n        if (index == this.model.totalClipsCount) {\n            index = this.model.totalClipsCount - 1;\n            accumulatedTime -= (_c = this.getClipAt(index)) === null || _c === void 0 ? void 0 : _c.duration;\n        }\n        const offset = time - accumulatedTime;\n        const offsetToNext = ((_d = this.getClipAt(index)) === null || _d === void 0 ? void 0 : _d.duration) - offset;\n        const closestToNext = offsetToNext < offset;\n        return {\n            clipIndex: index,\n            cardIndex: this.convertIndexToBlockScope(index)[0],\n            ghostingIndex: (index == 0 && !closestToNext)\n                ? null\n                : closestToNext ? index : index - 1,\n            offset: offset,\n            closestIntersection: closestToNext ? (index + 1) : index,\n            distanceFromClosestIntersection: closestToNext ? offsetToNext : offset\n        };\n    }\n    getClipAt(index) {\n        const [blockKey, localIndex] = this.convertIndexToBlockScope(index);\n        return this.model.getInstance(localIndex, blockKey);\n    }\n    addClip(clip, index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [blockKey, localIndex] = this.convertIndexToBlockScope(index);\n            return YUtilities.addInYArray(clip, this.model.getClipsAt(blockKey), localIndex);\n        });\n    }\n    removeClip(clip) {\n        this.removeClipAt(this.model.getAllComponents().indexOf(clip));\n    }\n    removeClipAt(index) {\n        if (index == undefined || index < 0)\n            return;\n        const [blockKey, localIndex] = this.convertIndexToBlockScope(index);\n        this.model.getClipsAt(blockKey).delete(localIndex, 1);\n    }\n    convertIndexToBlockScope(index) {\n        if (!index || index < 0)\n            return [0, 0];\n        const blockKeys = this.model.getAllBlockKeys();\n        for (const key of blockKeys) {\n            const size = this.model.getSize(key);\n            if (index < size)\n                return [key, index];\n            index -= size;\n        }\n        const lastKey = blockKeys[blockKeys.length - 1];\n        return [lastKey, this.model.getSize(lastKey)];\n    }\n    convertBlockScopeToIndex(index, blockKey) {\n        const blockKeys = this.model.getAllBlockKeys();\n        let globalIndex = 0;\n        for (const key of blockKeys) {\n            if (key === blockKey)\n                break;\n            globalIndex += this.model.getSize(key);\n        }\n        return globalIndex + index;\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./timeline.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./timeline.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, trim } from \"turbodombuilder\";\nimport { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class TimelineModel extends YManagerModel {\n    constructor(data) {\n        super(data, \"array\");\n        this.pixelsPerSecondUnit = 20;\n        this.timeIncrementMs = 10;\n        this.timeIncrementS = 0.01;\n        this.playTimer = null;\n        this.nextTimer = null;\n        this._storedTotalDuration = 0;\n        this._currentTime = 0;\n        this.onCardAdded = () => undefined;\n        this.onClipAdded = () => undefined;\n        this.onClipChanged = () => { };\n        this.cardsModel = new YManagerModel();\n        this.cardsModel.onAdded = (cardId, index) => {\n            const card = this.onCardAdded(cardId, index);\n            if (!card)\n                return undefined;\n            this.setBlock(card.syncedClips, cardId, index);\n            return card;\n        };\n        this.cardsModel.onDeleted = () => { };\n        this.onAdded = (syncedClip, id, blockKey) => {\n            return this.onClipAdded(syncedClip, id, blockKey);\n        };\n        const oldUpdated = this.onUpdated;\n        this.onUpdated = (syncedClip, clip, id, blockKey) => {\n            oldUpdated(syncedClip, clip, id, blockKey);\n            return this.onClipChanged(syncedClip, clip, id, blockKey);\n        };\n        const oldDeleted = this.onDeleted;\n        this.onDeleted = (syncedClip, clip, id, blockKey) => {\n            oldDeleted(syncedClip, clip, id, blockKey);\n            return this.onClipChanged(syncedClip, clip, id, blockKey);\n        };\n    }\n    get cardIds() {\n        if (this._cards)\n            return this._cards.map(card => card.dataId);\n        return this.cardsModel.data.toArray();\n    }\n    set cardIds(data) {\n        this._cards = undefined;\n        this.clear();\n        this.cardsModel.data = data;\n    }\n    get cards() {\n        if (this._cards)\n            return this._cards;\n        return this.cardsModel.getAllComponents();\n    }\n    set cards(data) {\n        this.cardsModel.data = undefined;\n        this._cards = data;\n        this.clear();\n        data.forEach((card, index) => {\n            if (!card)\n                return;\n            this.setBlock(card.syncedClips, card.dataId, index);\n        });\n    }\n    getCardAt(index) {\n        const cards = this.cards;\n        if (typeof index !== \"number\")\n            return null;\n        if (index < 0)\n            index = 0;\n        if (index >= cards.length)\n            index = cards.length - 1;\n        return cards[index];\n    }\n    set indexInfo(value) {\n    }\n    get currentClip() {\n        var _a, _b;\n        return (_a = this.clipHandler) === null || _a === void 0 ? void 0 : _a.getClipAt((_b = this.indexInfo) === null || _b === void 0 ? void 0 : _b.clipIndex);\n    }\n    get currentGhostingClip() {\n        var _a, _b, _c;\n        if (((_a = this.indexInfo) === null || _a === void 0 ? void 0 : _a.ghostingIndex) == null)\n            return null;\n        return (_b = this.clipHandler) === null || _b === void 0 ? void 0 : _b.getClipAt((_c = this.indexInfo) === null || _c === void 0 ? void 0 : _c.ghostingIndex);\n    }\n    get currentCardData() {\n        var _a;\n        return (_a = this.currentClip) === null || _a === void 0 ? void 0 : _a.card;\n    }\n    get currentTime() {\n        return this._currentTime;\n    }\n    set currentTime(value) {\n        this._currentTime = trim(value, this.totalDuration);\n        this.fireCallback(\"currentTimeChanged\");\n    }\n    getClipsAt(index) {\n        return this.getBlockData(index);\n    }\n    get totalDuration() {\n        const newTotalDuration = this.getAllBlocks().flatMap(block => block.data.toJSON())\n            .map((entry) => entry.endTime - entry.startTime)\n            .reduce((acc, cur) => acc + cur, 0);\n        if (newTotalDuration == this._storedTotalDuration)\n            return this._storedTotalDuration;\n        this._storedTotalDuration = newTotalDuration;\n        this.fireCallback(\"totalDurationChanged\");\n    }\n    get totalClipsCount() {\n        return this.getAllBlocks().flatMap(block => block.data.toJSON())\n            .reduce((acc) => acc + 1, 0);\n    }\n    get clipHandler() {\n        return this.getHandler(\"clip\");\n    }\n    get timeHandler() {\n        return this.getHandler(\"time\");\n    }\n}\n__decorate([\n    auto()\n], TimelineModel.prototype, \"indexInfo\", null);\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboController } from \"turbodombuilder\";\nexport class TimelinePlayController extends TurboController {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"playButtonClicked\", () => this.play());\n        this.emitter.add(\"containerClicked\", () => {\n            if (this.element.isPlaying)\n                this.play(true);\n        });\n    }\n    get renderer() {\n        return this.element.renderer;\n    }\n    get clipHandler() {\n        return this.model.clipHandler;\n    }\n    initializePlayTimer() {\n        this.model.playTimer = setInterval(() => {\n            this.model.timeHandler.incrementTime();\n            if (this.model.timeHandler.isCurrentTimeOutsideBounds()) {\n                this.model.timeHandler.resetTimeIfOutsideBounds();\n                clearInterval(this.model.playTimer);\n            }\n        }, this.model.timeIncrementMs);\n    }\n    playRecur(index_1) {\n        return __awaiter(this, arguments, void 0, function* (index, offset = 0) {\n            if (index >= this.model.totalClipsCount)\n                return this.play(false);\n            if (this.model.playTimer)\n                clearInterval(this.model.playTimer);\n            const curClip = this.clipHandler.getClipAt(index);\n            const nextClip = this.clipHandler.getClipAt(index + 1);\n            yield this.renderer.setFrame(curClip, offset);\n            yield this.renderer.playNext();\n            yield this.renderer.loadNext(nextClip);\n            this.initializePlayTimer();\n            const timeoutDuration = 1000 * (((curClip === null || curClip === void 0 ? void 0 : curClip.duration) || 0) - offset);\n            this.model.nextTimer = setTimeout(() => this.playRecur(index + 1), timeoutDuration);\n        });\n    }\n    play() {\n        return __awaiter(this, arguments, void 0, function* (play = !this.renderer.isPlaying) {\n            this.view.updatePlayButtonIcon(play);\n            if (this.model.nextTimer)\n                clearTimeout(this.model.nextTimer);\n            if (this.model.playTimer)\n                clearInterval(this.model.playTimer);\n            if (!play) {\n                this.renderer.pause();\n                return;\n            }\n            this.model.timeHandler.resetTimeIfOutsideBounds();\n            yield this.renderer.loadNext(this.model.currentClip, this.model.indexInfo.offset);\n            yield this.playRecur(this.model.indexInfo.clipIndex, this.model.indexInfo.offset);\n        });\n    }\n}\n","import { TurboController } from \"turbodombuilder\";\nexport class TimelineTimeController extends TurboController {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"totalDurationChanged\", () => {\n            if (this.element.card)\n                this.element.card.duration = this.model.totalDuration;\n        });\n        this.view.scrubber.onScrubbing = (e) => this.emitter.fire(\"containerClicked\", e);\n        this.emitter.add(\"containerClicked\", (e) => {\n            this.model.currentTime = this.getTimeFromPosition(e);\n        });\n    }\n    reloadTime() {\n        this.model.currentTime = (this.view.scrubber.translation / this.element.width * this.model.totalDuration) || 0;\n    }\n    getTimeFromPosition(e) {\n        let offsetPosition = e.position.x - this.view.scrubberContainer.getBoundingClientRect().left;\n        if (offsetPosition < 0)\n            offsetPosition = 0;\n        if (offsetPosition > this.element.width)\n            offsetPosition = this.element.width;\n        return offsetPosition / this.element.width * this.model.totalDuration;\n    }\n}\n","import { TurboHandler } from \"turbodombuilder\";\nexport class TimelineTimeHandler extends TurboHandler {\n    isCurrentTimeOutsideBounds() {\n        return this.model.currentTime < 0 || this.model.currentTime >= this.model.totalDuration - this.model.timeIncrementS * 3;\n    }\n    resetTimeIfOutsideBounds() {\n        if (this.isCurrentTimeOutsideBounds())\n            this.model.currentTime = 0;\n    }\n    incrementTime() {\n        this.model.currentTime += this.model.timeIncrementS;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { auto, define } from \"turbodombuilder\";\nimport { Clip } from \"../clip/clip\";\nimport \"./timeline.css\";\nimport { TimelineView } from \"./timeline.view\";\nimport { TimelineModel } from \"./timeline.model\";\nimport { TimelinePlayController } from \"./timeline.playController\";\nimport { TimelineClipController } from \"./timeline.clipController\";\nimport { TimelineTimeController } from \"./timeline.timeController\";\nimport { TimelineClipHandler } from \"./timeline.clipHandler\";\nimport { TimelineTimeHandler } from \"./timeline.timeHandler\";\nimport { VcComponent } from \"../component/component\";\nlet Timeline = class Timeline extends VcComponent {\n    constructor(properties) {\n        var _a, _b;\n        super(properties);\n        this.addClass(\"vc-timeline\");\n        this.director = properties.director;\n        this.renderer = properties.renderer;\n        this.mvc.generate(Object.assign(Object.assign({}, properties), { viewConstructor: (_a = properties.viewConstructor) !== null && _a !== void 0 ? _a : TimelineView, modelConstructor: TimelineModel, controllerConstructors: [TimelinePlayController, TimelineClipController, TimelineTimeController], handlerConstructors: [TimelineClipHandler, TimelineTimeHandler], data: properties.data, initialize: false }));\n        this.model.onCardAdded = (cardId) => this.director.getNode(cardId);\n        this.model.onClipAdded = (syncedClip, id, blockKey) => this.onClipAdded(syncedClip, id, blockKey);\n        this.model.onClipChanged = () => this.reloadTime();\n        this.mvc.initialize();\n        this.scaled = (_b = properties.scaled) !== null && _b !== void 0 ? _b : false;\n        this.card = properties.card;\n    }\n    onClipAdded(syncedClip, id, blockKey, clipProperties = {}) {\n        var _a;\n        const clip = new Clip(Object.assign(Object.assign({}, clipProperties), { timeline: this, director: this.director }));\n        const snapToNext = id === ((_a = this.model.indexInfo) === null || _a === void 0 ? void 0 : _a.closestIntersection);\n        clip.onMediaDataChanged = (clip) => {\n            var _a;\n            if (clip != this.model.currentClip)\n                return;\n            this.renderer.setFrame(clip, (_a = this.model.indexInfo) === null || _a === void 0 ? void 0 : _a.offset);\n        };\n        requestAnimationFrame(() => {\n            var _a;\n            clip.data = syncedClip;\n            if (snapToNext)\n                this.snapToClosest(id + 1);\n            if (clip != this.model.currentClip)\n                this.renderer.setFrame(clip, (_a = this.model.indexInfo) === null || _a === void 0 ? void 0 : _a.offset);\n        });\n        return clip;\n    }\n    get timeController() {\n        return this.mvc.getController(\"time\");\n    }\n    get clipController() {\n        return this.mvc.getController(\"clip\");\n    }\n    set hasControls(value) {\n        this.view.hasControls = value;\n    }\n    set scaled(value) {\n        if (this.view && this.view.scrubber)\n            this.view.scrubber.scaled = value;\n    }\n    get card() {\n        var _a;\n        //TODO\n        return this.model.getCardAt(((_a = this.model.indexInfo) === null || _a === void 0 ? void 0 : _a.cardIndex) || 0);\n    }\n    set card(card) {\n        this.model.cards = [card];\n        this.onCardsChanged();\n        if (card)\n            card.duration = this.model.totalDuration;\n    }\n    set cardIds(value) {\n        this.model.cardIds = value;\n        this.onCardsChanged();\n    }\n    onCardsChanged() {\n        if (!this.card)\n            return;\n        const selectedClip = this.director.contextManager.getContext(2);\n        if (selectedClip && selectedClip[0] instanceof Clip)\n            this.clipController.snapToClosest();\n        else\n            this.clipController.snapAtEnd();\n        this.clipController.reloadCurrentClip();\n    }\n    get clips() {\n        return this.model.getAllComponents();\n    }\n    get currentClipInfo() {\n        return this.model.indexInfo;\n    }\n    get currentClip() {\n        return this.model.currentClip;\n    }\n    get pixelsPerSecondUnit() {\n        return this.model.pixelsPerSecondUnit;\n    }\n    get isPlaying() {\n        return this.renderer.isPlaying;\n    }\n    get width() {\n        return this.offsetWidth;\n    }\n    addClip(clip, index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.model.clipHandler.addClip(clip, index);\n        });\n    }\n    removeClip(clip) {\n        return this.model.clipHandler.removeClip(clip);\n    }\n    removeClipAt(position) {\n        return this.model.clipHandler.removeClipAt(position);\n    }\n    snapToClosest(entry = this.model.indexInfo) {\n        this.clipController.snapToClosest(entry);\n    }\n    snapAtEnd() {\n        this.snapToClosest(this.dataSize);\n    }\n    reloadTime() {\n        this.timeController.reloadTime();\n    }\n    getClipFromPosition(e) {\n        return this.model.clipHandler.getClipIndexAtTimestamp(this.timeController.getTimeFromPosition(e));\n    }\n    splitClipAt() {\n        return __awaiter(this, arguments, void 0, function* (time = this.model.currentTime) {\n            const info = this.model.clipHandler.getClipIndexAtTimestamp(time);\n            const clip = this.model.clipHandler.getClipAt(info.clipIndex);\n            yield this.model.clipHandler.addClip(clip.split(clip.startTime + info.offset), info.clipIndex + 1);\n        });\n    }\n    addIndicatorAt(indicator, index) {\n        indicator.remove();\n        this.view.scrubberContainer.addChild(indicator, index);\n    }\n};\n__decorate([\n    auto()\n], Timeline.prototype, \"hasControls\", null);\n__decorate([\n    auto()\n], Timeline.prototype, \"scaled\", null);\nTimeline = __decorate([\n    define(\"vc-timeline\")\n], Timeline);\nexport { Timeline };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, DefaultEventName, div, flexRowCenter, icon, p, spacer, TurboView } from \"turbodombuilder\";\nimport { formatMMSS } from \"../../utils/time\";\nimport { Scrubber } from \"../scrubber/scrubber\";\nexport class TimelineView extends TurboView {\n    initialize() {\n        super.initialize();\n        this.emitter.fire(\"totalDurationChanged\");\n    }\n    set hasControls(value) {\n        this.controlsContainer.setStyle(\"display\", value ? \"\" : \"none\");\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.scrubberContainer = div({ classes: \"scrubber-container\" });\n        this.scrubber = new Scrubber({ timeline: this.element, director: this.element.director, initialize: true });\n        this.controlsContainer = flexRowCenter();\n        this.currentTimeText = p({ style: \"min-width: 3em\" });\n        this.totalDurationText = p({ style: \"min-width: 3em; text-align: right\" });\n        this.playButton = icon({\n            icon: \"play\",\n            classes: \"play-button\",\n        });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.controlsContainer.addChild([\n            this.currentTimeText,\n            spacer(),\n            this.playButton,\n            spacer(),\n            this.totalDurationText\n        ]);\n        this.scrubberContainer.addChild(this.scrubber, 0);\n        this.element.addChild([this.scrubberContainer, this.controlsContainer]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.scrubberContainer.addEventListener(DefaultEventName.click, (e) => this.emitter.fire(\"containerClicked\", e));\n        this.playButton.addListener(DefaultEventName.click, (e) => {\n            e.stopImmediatePropagation();\n            this.emitter.fire(\"playButtonClicked\", e);\n        });\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"currentTimeChanged\", () => {\n            this.currentTimeText.textContent = formatMMSS(this.model.currentTime);\n            this.scrubber.translation = this.model.currentTime / this.model.totalDuration * this.element.width;\n        });\n        this.emitter.add(\"totalDurationChanged\", () => {\n            this.totalDurationText.textContent = formatMMSS(this.model.totalDuration);\n        });\n    }\n    updatePlayButtonIcon(isPlaying) {\n        this.playButton.icon = isPlaying ? \"pause\" : \"play\";\n    }\n}\n__decorate([\n    auto()\n], TimelineView.prototype, \"hasControls\", null);\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./toolbar.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./toolbar.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, DefaultEventName, ClickMode } from \"turbodombuilder\";\nimport \"./toolbar.css\";\nimport { VcComponent } from \"../component/component\";\nlet Toolbar = class Toolbar extends VcComponent {\n    constructor(properties = {}) {\n        super(properties);\n    }\n    get toolManager() {\n        return this.director.toolManager;\n    }\n    populateWith(...names) {\n        names.forEach(name => { var _a; return this.addToolInstance((_a = this.toolManager.getToolByName(name)) === null || _a === void 0 ? void 0 : _a.createInstance()); });\n    }\n    populateWithAllTools() {\n        this.toolManager.getToolsArray().forEach(tool => this.addToolInstance(tool.createInstance()));\n    }\n    addToolInstance(tool) {\n        tool === null || tool === void 0 ? void 0 : tool.addEventListener(DefaultEventName.click, (e) => {\n            this.toolManager.setTool(tool.tool, ClickMode.left);\n            e.stopImmediatePropagation();\n        });\n        this.addChild(tool);\n    }\n};\nToolbar = __decorate([\n    define(\"vc-toolbar\")\n], Toolbar);\nexport { Toolbar };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define } from \"turbodombuilder\";\nimport { AppScreens } from \"./app.types\";\nimport { RootDirector } from \"../rootDirector/rootDirector\";\nimport { RootDirectorView } from \"../rootDirector/rootDirector.view\";\nimport { Home } from \"../../screens/home/home\";\nimport { Project } from \"../project/project\";\nlet App = class App extends RootDirector {\n    constructor(properties) {\n        super(properties);\n        this.mvc.generate({ viewConstructor: RootDirectorView });\n        this.addScreen(new Home({ director: this }), AppScreens.home);\n        this.addScreen(new Project({ director: this }), AppScreens.document);\n    }\n    get documentManager() {\n        return this.getScreen(AppScreens.document);\n    }\n};\nApp = __decorate([\n    define(\"vc-app\")\n], App);\nexport { App };\n","export var AppScreens;\n(function (AppScreens) {\n    AppScreens[\"document\"] = \"document\";\n    AppScreens[\"home\"] = \"home\";\n})(AppScreens || (AppScreens = {}));\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./director.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./director.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, Delegate, Shown, StatefulReifect } from \"turbodombuilder\";\nimport \"./director.css\";\nimport { VcComponent } from \"../../components/component/component\";\nlet Director = class Director extends VcComponent {\n    constructor(properties) {\n        super(properties);\n        this.screens = new Map();\n        this.screensParent = this;\n        this.onScreenChange = new Delegate();\n        this.showReifect = properties.showReifect;\n        if (properties.screensParent)\n            this.screensParent = properties.screensParent;\n        if (properties.screens)\n            Object.entries(properties.screens).forEach(([key, entry]) => {\n                this.addScreen(entry, key);\n            });\n    }\n    get currentType() {\n        return this._currentType;\n    }\n    set currentType(value) {\n        const oldScreen = this.getScreen(this._currentType);\n        const newScreen = this.getScreen(value);\n        this._currentType = value;\n        this.switchScreens(oldScreen, newScreen);\n        this.onScreenChange.fire(oldScreen, newScreen, value);\n    }\n    get currentScreen() {\n        return this.getScreen(this.currentType);\n    }\n    get showReifect() {\n        return this._showReifect;\n    }\n    set showReifect(value) {\n        if (value instanceof StatefulReifect)\n            this._showReifect = value;\n        else if (typeof value === \"object\")\n            this._showReifect = new StatefulReifect(value);\n        else\n            this._showReifect = new StatefulReifect({\n                states: [Shown.visible, Shown.hidden],\n                styles: {\n                    [Shown.visible]: \"opacity: 1; pointer-events: all\",\n                    [Shown.hidden]: \"opacity: 0; pointer-events: none\",\n                }\n            });\n    }\n    addScreen(screen, type) {\n        this.screens.set(type, screen);\n        // this.screensParent.addChild(screen);\n        // this.showReifect.apply(Shown.hidden, screen);\n    }\n    removeScreen(type) {\n        var _a;\n        (_a = this.screens.get(type)) === null || _a === void 0 ? void 0 : _a.remove();\n        this.screens.delete(type);\n    }\n    getScreen(type) {\n        return this.screens.get(type);\n    }\n    switchScreens(oldScreen, newScreen) {\n        if (oldScreen)\n            oldScreen.remove();\n        if (newScreen)\n            this.screensParent.addChild(newScreen);\n        return;\n        if (oldScreen)\n            this.showReifect.apply(Shown.hidden, oldScreen);\n        if (newScreen)\n            this.showReifect.apply(Shown.visible, newScreen);\n    }\n};\nDirector = __decorate([\n    define(\"vc-director\")\n], Director);\nexport { Director };\n","import { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class ProjectCardsModel extends YManagerModel {\n    get cards() {\n        return this.getBlockData(\"cards\");\n    }\n    set cards(value) {\n        this.setBlock(value, \"cards\", \"cards\");\n    }\n    get cardsInstances() {\n        return this.getAllComponents(\"cards\");\n    }\n    get branchingNodes() {\n        return this.getBlockData(\"branchingNodes\");\n    }\n    set branchingNodes(value) {\n        this.setBlock(value, \"branchingNodes\", \"branchingNodes\");\n    }\n    get branchingNodesInstances() {\n        return this.getAllComponents(\"branchingNodes\");\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./project.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./project.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { YManagerModel } from \"../../../yManagement/yModel/types/yManagerModel\";\nexport class ProjectFlowsModel extends YManagerModel {\n}\n","import { BranchingNodeType } from \"../../components/branchingNode/branchingNode.types\";\nimport { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nimport { ProjectCardsModel } from \"./project.cardsModel\";\nimport { ProjectFlowsModel } from \"./project.flowsModel\";\nimport { YMap } from \"../../../yManagement/yManagement.types\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nexport class ProjectModel extends YComponentModel {\n    constructor(data) {\n        super(data);\n        this.enabledCallbacks = false;\n        this.cardsModel = new ProjectCardsModel();\n        this.cardsModel.onAdded = (data, id, blockKey) => {\n            console.log(data);\n            console.log(\"CARD ADDED\");\n            if (data.get(\"type\") == BranchingNodeType.node)\n                return this.onBranchingNodeAdded(data, id, blockKey);\n            else\n                return this.onCardAdded(data, id, blockKey);\n        };\n        this.flowsModel = new ProjectFlowsModel();\n        this.flowsModel.onAdded = (data, id, blockKey) => this.onFlowAdded(data, id, blockKey);\n    }\n    initialize(blockKey = this.defaultBlockKey) {\n        if (!this.getData(\"cards\"))\n            this.setData(\"cards\", new YMap());\n        if (!this.getData(\"branchingNodes\"))\n            this.setData(\"branchingNodes\", new YMap());\n        if (!this.getData(\"flows\"))\n            this.setData(\"flows\", new YMap());\n        if (!this.getData(\"media\"))\n            this.setData(\"media\", new YMap());\n        if (!this.getData(\"counters\"))\n            this.setData(\"counters\", YUtilities.createYMap({ cards: 0, flows: 0 }));\n        super.initialize(blockKey);\n        this.cardsModel.cards = this.getData(\"cards\");\n        this.cardsModel.branchingNodes = this.getData(\"branchingNodes\");\n        this.flowsModel.data = this.getData(\"flows\");\n    }\n    get cards() {\n        return this.cardsModel.cardsInstances;\n    }\n    get branchingNodes() {\n        return this.cardsModel.branchingNodesInstances;\n    }\n    get flows() {\n        return this.flowsModel.getAllComponents();\n    }\n    get cardsData() {\n        return this.cardsModel.cards;\n    }\n    get branchingNodesData() {\n        return this.cardsModel.branchingNodes;\n    }\n    get flowsData() {\n        return this.flowsModel.data;\n    }\n    get media() {\n        return this.getData(\"media\");\n    }\n    get cardsCount() {\n        return this.getData(\"counters\").get(\"cards\");\n    }\n    incrementCardsCount() {\n        this.getData(\"counters\").set(\"cards\", this.cardsCount + 1);\n    }\n    get flowsCount() {\n        return this.getData(\"counters\").get(\"flows\");\n    }\n    incrementFlowsCount() {\n        this.getData(\"counters\").set(\"flows\", this.flowsCount + 1);\n    }\n    clear(blockKey = this.defaultBlockKey) {\n        var _a;\n        (_a = this.cardsModel) === null || _a === void 0 ? void 0 : _a.clear(blockKey);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { BranchingNode } from \"../../components/branchingNode/branchingNode\";\nimport { Card } from \"../../components/card/card\";\nimport { auto, define, Point } from \"turbodombuilder\";\nimport { Flow } from \"../../components/flow/flow\";\nimport { ShootingPanel } from \"../../panels/shootingPanel/shootingPanel\";\nimport { TextPanel } from \"../../panels/textPanel/textPanel\";\nimport { MediaManager } from \"../../managers/mediaManager/mediaManager\";\nimport { ContextManager } from \"../../managers/contextManager/contextManager\";\nimport { ToolManager } from \"../../managers/toolManager/toolManager\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { ProjectScreens } from \"./project.types\";\nimport { ProjectView } from \"./project.view\";\nimport { ProjectModel } from \"./project.model\";\nimport { YUtilities } from \"../../../yManagement/yUtilities\";\nimport \"./project.css\";\nimport { RootDirector } from \"../rootDirector/rootDirector\";\nlet Project = class Project extends RootDirector {\n    constructor(properties) {\n        var _a;\n        super(properties);\n        if (properties.document)\n            this.document = properties.document;\n        this._mediaManager = new MediaManager(this);\n        this._contextManager = new ContextManager();\n        this._toolManager = new ToolManager();\n        this.mvc.generate({\n            modelConstructor: ProjectModel,\n            viewConstructor: ProjectView,\n            data: (_a = properties.document) === null || _a === void 0 ? void 0 : _a.getMap(\"document_content\"),\n            initialize: false\n        });\n        this.model.onBranchingNodeAdded = data => new BranchingNode({\n            parent: this.view.cardsParent,\n            data: data,\n            director: this\n        });\n        this.model.onCardAdded = data => new Card({\n            parent: this.view.cardsParent,\n            data: data,\n            director: this\n        });\n        this.model.onFlowAdded = data => new Flow({\n            parent: this.view.flowsParent,\n            data: data,\n            director: this\n        });\n        this.mvc.initialize();\n        this.currentType = ProjectScreens.canvas;\n        this.toolPanel.addPanel(new ShootingPanel({\n            toolPanel: this.toolPanel,\n            director: this\n        }), ToolType.shoot, ProjectScreens.camera);\n        this.toolPanel.addPanel(new TextPanel({\n            toolPanel: this.toolPanel,\n            director: this\n        }), ToolType.text, ProjectScreens.camera);\n        this.eventManager.authorizeEventScaling = () => this.currentType == ProjectScreens.canvas;\n        this.eventManager.scaleEventPosition = (position) => this.canvas.navigationManager.computePositionRelativeToCanvas(position);\n    }\n    get mediaManager() {\n        return this._mediaManager;\n    }\n    get contextManager() {\n        return this._contextManager;\n    }\n    get toolManager() {\n        return this._toolManager;\n    }\n    set document(value) {\n        if (this.model)\n            this.model.data = value.getMap(\"document_content\");\n    }\n    get toolPanel() {\n        return this.view.toolPanel;\n    }\n    get flows() {\n        return this.model.flows;\n    }\n    getFlow(id) {\n        return this.model.flowsModel.getInstance(id);\n    }\n    getNode(id) {\n        return this.model.cardsModel.getInstance(id);\n    }\n    getNodeData(id) {\n        return this.model.cardsModel.getInstance(id).data;\n    }\n    getNodesData(...ids) {\n        return ids.map(id => this.getNodeData(id));\n    }\n    getMedia(id) {\n        return this.model.media.get(id);\n    }\n    setMedia(id, media) {\n        this.model.media.set(id, media);\n    }\n    forEachBranch(callback) {\n        this.flows.forEach(flow => flow.branches.forEach(branch => callback(branch, flow)));\n    }\n    //CARDS\n    createNewNode(position, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (position instanceof Point)\n                position = position.object;\n            if (!id)\n                return yield YUtilities.addInYMap(BranchingNode.createData({ origin: position }), this.model.branchingNodesData);\n            this.model.branchingNodesData.set(id, BranchingNode.createData({ origin: position }));\n            return id;\n        });\n    }\n    createNewCard(position) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.model.incrementCardsCount();\n            return yield YUtilities.addInYMap(Card.createData({\n                origin: position.object,\n                title: \"Card - \" + this.model.cardsCount\n            }), this.model.cardsData);\n        });\n    }\n    createNewFlow(position, nodeId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.model.incrementFlowsCount();\n            const defaultName = \"Flow \" + this.model.flowsCount;\n            return yield YUtilities.addInYMap(Flow.createData({\n                branches: {\n                    \"0\": {\n                        entries: [{\n                                startNodeId: nodeId,\n                                endNodeId: nodeId,\n                                points: [position]\n                            }],\n                    }\n                },\n                tags: [{\n                        nodeId: nodeId,\n                        paths: [{\n                                name: defaultName + \" - 1\",\n                                branchIds: [\"0\"]\n                            }]\n                    }],\n                defaultName: defaultName\n            }), this.model.flowsData);\n        });\n    }\n    clear() {\n        this.model.clear();\n    }\n    get canvas() {\n        return this.getScreen(ProjectScreens.canvas);\n    }\n    get camera() {\n        return this.getScreen(ProjectScreens.camera);\n    }\n    delete(element) {\n        if (element instanceof Card)\n            this.model.cardsData.delete(element.dataId);\n        else if (element instanceof BranchingNode)\n            this.model.branchingNodesData.delete(element.dataId);\n        else if (element instanceof Flow)\n            this.model.flowsData.delete(element.dataId);\n    }\n};\n__decorate([\n    auto()\n], Project.prototype, \"document\", null);\nProject = __decorate([\n    define(\"vc-project\")\n], Project);\nexport { Project };\n","export var ProjectScreens;\n(function (ProjectScreens) {\n    ProjectScreens[\"home\"] = \"home\";\n    ProjectScreens[\"canvas\"] = \"canvas\";\n    ProjectScreens[\"camera\"] = \"camera\";\n})(ProjectScreens || (ProjectScreens = {}));\n","import { div } from \"turbodombuilder\";\nimport { ProjectScreens } from \"./project.types\";\nimport { RootDirectorView } from \"../rootDirector/rootDirector.view\";\nimport { ToolPanel } from \"../../panels/toolPanel/toolPanel\";\nimport { Canvas } from \"../../screens/canvas/canvas\";\nimport { Camera } from \"../../screens/camera/camera\";\nexport class ProjectView extends RootDirectorView {\n    initialize() {\n        super.initialize();\n        this.element.childHandler = this.content;\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.element.screensParent = this.content;\n        this.cardsParent = div();\n        this.flowsParent = div();\n        this.toolPanel = new ToolPanel({ director: this.element });\n        this.element.addScreen(new Canvas(this.element), ProjectScreens.canvas);\n        this.element.addScreen(new Camera(this.element), ProjectScreens.camera);\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild(this.toolPanel);\n        this.element.canvas.content.addChild([this.flowsParent, this.cardsParent]);\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./rootDirector.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./rootDirector.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, callOnce, define, TurboEventManager, turbofy, TurboIcon } from \"turbodombuilder\";\nimport { CursorManager } from \"../../managers/cursorManager/cursorManager\";\nimport { AuthenticationManager } from \"../../managers/authenticationManager/authenticationManager\";\nimport { GroupsManager } from \"../../managers/groupsManager/groupsManager\";\nimport \"./rootDirector.css\";\nimport { Director } from \"../director/director\";\nlet RootDirector = class RootDirector extends Director {\n    constructor(properties) {\n        super(properties);\n        this.addClass(\"vc-root-director\");\n        this._authenticationManager = new AuthenticationManager();\n        this._eventManager = new TurboEventManager();\n        this._cursorManager = new CursorManager();\n        this._groupsManager = new GroupsManager();\n        this.authenticationManager.onLogin.add((loggedIn) => {\n            if (loggedIn)\n                this.groupsManager.loadGroups(this.authenticationManager.userId);\n        });\n        this.authenticationManager.init();\n    }\n    static initialize() {\n        turbofy();\n        TurboIcon.config.defaultDirectory = \"assets/icons\";\n        TurboIcon.config.defaultClasses = \"icon\";\n    }\n    get eventManager() {\n        return this._eventManager;\n    }\n    get cursorManager() {\n        return this._cursorManager;\n    }\n    get authenticationManager() {\n        return this._authenticationManager;\n    }\n    get groupsManager() {\n        return this._groupsManager;\n    }\n    set preventDefaultEvents(value) {\n        this.eventManager.defaultState.preventDefaultTouch = value;\n        this.eventManager.defaultState.preventDefaultMouse = value;\n    }\n};\n__decorate([\n    auto()\n], RootDirector.prototype, \"preventDefaultEvents\", null);\n__decorate([\n    callOnce\n], RootDirector, \"initialize\", null);\nRootDirector = __decorate([\n    define(\"vc-root-director\")\n], RootDirector);\nexport { RootDirector };\n","import { div, TurboView } from \"turbodombuilder\";\nimport { AppBar } from \"../../components/appBar/appBar\";\nexport class RootDirectorView extends TurboView {\n    setupUIElements() {\n        super.setupUIElements();\n        this.appBar = new AppBar();\n        this.content = div();\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.appBar, this.content]);\n        this.element.childHandler = this.content;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RequestManager } from \"../requestManager/requestManager\";\nimport { Delegate } from \"turbodombuilder\";\nexport class AuthenticationManager extends RequestManager {\n    constructor() {\n        super();\n        this.googleClientID = \"494682680465-p2mlm6q6aefp7lu45qe8f5lcl9kj5j8t.apps.googleusercontent.com\";\n        this._user = null;\n        this.onLogin = new Delegate();\n        this.onGoogleLogin = (response) => __awaiter(this, void 0, void 0, function* () {\n            const res = yield fetch(this.url + \"google\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                credentials: \"include\",\n                body: JSON.stringify({ idToken: response.credential }),\n            });\n            if (res.ok && (yield this.isLoggedIn()))\n                this.onLogin.fire(true);\n            else\n                alert(\"Login failed.\");\n        });\n        this.onLogin.add((l) => console.log(\"LOGGED IN CLLED WITH\", l));\n    }\n    get url() {\n        return this.serverUrl + \"api/auth/\";\n    }\n    /**\n     * The current user's info (email, name, etc.).\n     */\n    get user() {\n        return this._user;\n    }\n    set user(value) {\n        this._user = value;\n    }\n    get userId() {\n        return this.user._id;\n    }\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const loggedIn = yield this.isLoggedIn();\n            if (!loggedIn) {\n                if (!window.google)\n                    console.error(\"Google API not loaded\");\n                else\n                    window.google.accounts.id.initialize({ client_id: this.googleClientID, callback: this.onGoogleLogin });\n            }\n            this.onLogin.fire(loggedIn);\n        });\n    }\n    /**\n     * Logs the user out (backend + UI).\n     */\n    logout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield fetch(this.url + \"logout\", { method: \"POST\", credentials: \"include\" });\n                this.onLogin.fire(false);\n                this.user = null;\n                window.location.reload(); //TODO\n            }\n            catch (err) {\n                console.error(\"Logout failed:\", err);\n            }\n        });\n    }\n    /**\n     * Checks if the user is currently logged in (session valid).\n     */\n    isLoggedIn() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const res = yield fetch(\"/api/auth/me\", { credentials: \"include\" });\n                if (!res.ok)\n                    return false;\n                const data = yield res.json();\n                this._user = data.user;\n                return (data === null || data === void 0 ? void 0 : data.loggedIn) === true;\n            }\n            catch (err) {\n                console.warn(\"Session check failed:\", err);\n                return false;\n            }\n        });\n    }\n    renderGoogleButton(parentElement, options = { theme: \"outline\", size: \"large\" }) {\n        var _a;\n        (_a = window.google) === null || _a === void 0 ? void 0 : _a.accounts.id.renderButton(parentElement, options);\n    }\n}\n","import { ContextView } from \"./contextManager.types\";\nimport { Delegate } from \"turbodombuilder\";\nexport class ContextManager {\n    constructor() {\n        this._view = ContextView.home;\n        this.context = new Map();\n        this.onContextChange = new Delegate();\n    }\n    get view() {\n        return this._view;\n    }\n    set view(value) {\n        this._view = value;\n    }\n    get context() {\n        return this._context;\n    }\n    set context(value) {\n        this._context = value;\n    }\n    clearContext(level = 1) {\n        this.context.forEach((value, key) => {\n            if (key >= level)\n                this.context.set(key, null);\n            value === null || value === void 0 ? void 0 : value.forEach(entry => {\n                if (\"select\" in entry && typeof entry.select == \"function\")\n                    entry.select(false);\n                if (\"selected\" in entry)\n                    entry.selected = false;\n                this.onContextChange.fire({ element: entry, level: key, changed: \"removed\" });\n            });\n        });\n    }\n    setContext(element, level = 1, select = false) {\n        if (!element)\n            return -1;\n        const levelEntry = this.context.get(level);\n        if (levelEntry && levelEntry.length == 1 && levelEntry[0] == element)\n            return 0;\n        this.clearContext(level);\n        this.context.set(level, [element]);\n        if (select) {\n            if (\"select\" in element && typeof element.select == \"function\")\n                element.select(true);\n            if (\"selected\" in element)\n                element.selected = true;\n        }\n        this.onContextChange.fire({ element: element, level: level, changed: \"added\" });\n        return 0;\n    }\n    addContext(element, level = 1, select = false) {\n        if (!element)\n            return -1;\n        const levelEntry = this.context.get(level);\n        if (!levelEntry)\n            this.context.set(level, [element]);\n        else if (levelEntry.includes(element))\n            return levelEntry.indexOf(element);\n        else\n            levelEntry.push(element);\n        this.clearContext(level + 1);\n        if (select) {\n            if (\"select\" in element && typeof element.select == \"function\")\n                element.select(true);\n            if (\"selected\" in element)\n                element.selected = true;\n        }\n        this.onContextChange.fire({ element: element, level: level, changed: \"added\" });\n        return levelEntry.length - 1;\n    }\n    removeContext(element, level = 1) {\n        if (!element)\n            return false;\n        this.clearContext(level + 1);\n        const levelEntry = this.context.get(level);\n        if (!levelEntry)\n            return false;\n        const index = levelEntry.indexOf(element);\n        if (index < 0)\n            return false;\n        levelEntry.splice(index, 1);\n        if (\"select\" in element && typeof element.select == \"function\")\n            element.select(false);\n        this.onContextChange.fire({ element: element, level: level, changed: \"removed\" });\n        return true;\n    }\n    getContext(level = 1) {\n        return this.context.get(level) || [];\n    }\n    getOfType(type) {\n        for (const [, entries] of this.context.entries()) {\n            if (!entries)\n                continue;\n            const entry = entries.find(entry => entry instanceof type);\n            if (entry)\n                return entry;\n        }\n        return null;\n    }\n    getAllOfType(type) {\n        const elements = [];\n        for (const [, entries] of this.context.entries()) {\n            if (!entries)\n                continue;\n            elements.push(...entries.filter(entry => entry instanceof type));\n        }\n        return elements;\n    }\n}\n","export var ContextView;\n(function (ContextView) {\n    ContextView[\"home\"] = \"Home\";\n    ContextView[\"canvas\"] = \"Canvas\";\n    ContextView[\"camera\"] = \"Camera\";\n})(ContextView || (ContextView = {}));\n","/**\n * @description Manages changing the cursor for the whole application\n */\nexport class CursorManager {\n    constructor() {\n        //Cancel construction if exists already\n        if (CursorManager.instance)\n            return CursorManager.instance;\n        CursorManager.instance = this;\n        this.html = document.documentElement;\n    }\n    /**\n     * @description The singleton instance.\n     */\n    static get instance() {\n        return this._instance;\n    }\n    static set instance(value) {\n        this._instance = value;\n    }\n    /**\n     * @description The application's cursor state\n     */\n    get cursor() {\n        return this._cursor;\n    }\n    set cursor(value) {\n        this._cursor = value;\n        this.html.style.cursor = value;\n    }\n}\n//Singleton\nCursorManager._instance = null;\n","/**\n * @description Different CSS cursor types\n */\nexport var Cursor;\n(function (Cursor) {\n    Cursor[\"default\"] = \"default\";\n    Cursor[\"grab\"] = \"grab\";\n    Cursor[\"grabbing\"] = \"grabbing\";\n    Cursor[\"pointer\"] = \"pointer\";\n})(Cursor || (Cursor = {}));\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { YDoc } from \"../../../yManagement/yManagement.types\";\nimport { RequestManager } from \"../requestManager/requestManager\";\nimport { WebsocketManager } from \"../websocketManager/websocketManager\";\nimport { Delegate } from \"turbodombuilder\";\nexport class GroupsManager extends RequestManager {\n    constructor() {\n        super(...arguments);\n        this._groups = [];\n        this.onGroupsChanged = new Delegate();\n        this.docs = new Map();\n    }\n    getOrCreateYDoc(id) {\n        const str = id.toString();\n        if (!this.docs.has(str))\n            this.docs.set(str, new YDoc());\n        return this.docs.get(str);\n    }\n    loadGroups(userId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const res = yield fetch(`${this.serverUrl}api/groups?userId=${userId}`, { credentials: \"include\" });\n            if (!res.ok)\n                throw new Error(\"Failed to load groups\");\n            this._groups = yield res.json();\n            this.onGroupsChanged.fire(this.groups);\n        });\n    }\n    get groups() {\n        return this._groups;\n    }\n    getProjectsForGroup(groupId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const res = yield fetch(`${this.serverUrl}api/projects?groupId=${groupId}`, { credentials: \"include\", });\n            if (!res.ok)\n                throw new Error(\"Failed to load projects for group\");\n            return yield res.json();\n        });\n    }\n    createProject(projectName, groupId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const res = yield fetch(`${this.serverUrl}api/projects`, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                credentials: \"include\",\n                body: JSON.stringify({ name: projectName, groupId }),\n            });\n            if (!res.ok)\n                throw new Error(\"Failed to create project\");\n            return yield res.json();\n        });\n    }\n    openProject(projectId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const res = yield fetch(`${this.serverUrl}api/projects/${projectId}`, { credentials: \"include\" });\n            if (!res.ok) {\n                if (res.status === 403)\n                    throw new Error(\"Access denied\");\n                if (res.status === 404)\n                    throw new Error(\"Project not found\");\n                throw new Error(\"Unknown error\");\n            }\n            const project = yield res.json();\n            console.log(\"ROOM\", `PROJECT:${project._id}`);\n            const doc = this.getOrCreateYDoc(project._id);\n            return { doc: doc, websocket: new WebsocketManager(`PROJECT:${project._id}`, doc) };\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RequestManager } from \"../requestManager/requestManager\";\nimport { openDB } from \"idb\";\nexport class MediaManager extends RequestManager {\n    constructor(document) {\n        super();\n        this.document = document;\n    }\n    get url() {\n        return this.serverUrl + \"media/\";\n    }\n    initializeLocalDatabase() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.localDatabase)\n                this.localDatabase = yield openDB(\"myVideoDB\", 1, {\n                    upgrade(db) {\n                        if (!db.objectStoreNames.contains(\"videos\"))\n                            db.createObjectStore(\"videos\", { keyPath: \"id\" });\n                        if (!db.objectStoreNames.contains(\"images\"))\n                            db.createObjectStore(\"images\", { keyPath: \"id\" });\n                    }\n                });\n            return this.localDatabase;\n        });\n    }\n    getMedia(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            if (id == undefined)\n                return undefined;\n            const type = id.split(\"-\")[0] == \"image\" ? \"image\" : \"video\";\n            const metadata = this.document.getMedia(id);\n            const db = yield this.initializeLocalDatabase();\n            const storeName = type + \"s\";\n            const cachedMedia = yield ((_a = db.transaction(storeName, \"readonly\").objectStore(storeName)) === null || _a === void 0 ? void 0 : _a.get(id));\n            if (cachedMedia)\n                return Object.assign(Object.assign({}, metadata), { blob: cachedMedia.blob });\n            return new Promise((resolve) => {\n                this.makeRequest(this.url + id, \"GET\", id, response => resolve(response), error => console.error(\"Upload failed\", error), false, \"blob\");\n            }).then(blob => {\n                console.log(blob);\n                return Object.assign(Object.assign({}, metadata), { blob: blob });\n            });\n        });\n    }\n    updateMedia(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const id = data === null || data === void 0 ? void 0 : data.id;\n            const blob = data === null || data === void 0 ? void 0 : data.blob;\n            if (!id || !blob)\n                return undefined;\n            const type = (_a = data.type) !== null && _a !== void 0 ? _a : \"video\";\n            this.document.setMedia(id, Object.assign(Object.assign({}, data), { blob: undefined }));\n            const formData = new FormData();\n            const extension = blob.type === \"video/mp4\" ? \".mp4\"\n                : blob.type === \"video/webm\" ? \".webm\"\n                    : blob.type === \"image/png\" ? \".png\"\n                        : blob.type === \"image/jpeg\" ? \".jpg\"\n                            : \"\";\n            formData.append(\"media\", blob, id + extension);\n            this.makeRequest(this.url + id, \"POST\", formData, response => console.log(\"Upload success\", response), error => console.error(\"Upload failed\", error), false);\n            const db = yield this.initializeLocalDatabase();\n            const storeName = type + \"s\";\n            yield db.transaction(storeName, \"readwrite\").objectStore(storeName).put({ id, blob });\n            return id;\n        });\n    }\n    saveMedia(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            if (!(data === null || data === void 0 ? void 0 : data.blob))\n                return undefined;\n            const type = (_a = data.type) !== null && _a !== void 0 ? _a : \"video\";\n            data.id = `${type}-${Math.floor(Math.random() * 1000)}-${Date.now()}`;\n            return this.updateMedia(data);\n        });\n    }\n}\n","import { Point, TurboDragEvent, TurboEventName, TurboWheelEvent } from \"turbodombuilder\";\n/**\n * @description Manages the navigation (panning and zooming) of a canvas\n */\nexport class NavigationManager {\n    constructor(canvas) {\n        //Translation and scale\n        this._translation = new Point();\n        this._scale = 1;\n        //Const fields representing the zoom intensity for different input devices\n        this.zoomMouseIntensity = 0.1;\n        this.zoomTrackpadIntensity = 0.05;\n        this.zoomTouchIntensity = 0.005;\n        //Zooming bounds\n        this.maxScale = 20;\n        this.minScale = 0.1;\n        this.willChangeTimeout = null;\n        this.canvas = canvas;\n        //Init canvas position to the center of the screen\n        this.translation = new Point(window.innerWidth / 2, window.innerHeight / 2);\n        this.initEvents();\n    }\n    initEvents() {\n        //Listen for wheel events to accordingly zoom or pan\n        document.addEventListener(TurboEventName.trackpadScroll, (e) => this.pan(e));\n        document.addEventListener(TurboEventName.trackpadPinch, (e) => this.zoom(e, true));\n        document.addEventListener(TurboEventName.mouseWheel, (e) => this.zoom(e));\n    }\n    // Translation and scale manipulation\n    /**\n     * @description The canvas's current scale.\n     */\n    get scale() {\n        return this._scale;\n    }\n    set scale(value) {\n        //Make sure the value is between the bounds. For some reason, removing the 0.01 offset on the bounds will\n        // render the scaling stuck to one end when it is reached by the user.\n        if (value > this.maxScale)\n            this._scale = this.maxScale - 0.01;\n        else if (value < this.minScale)\n            this._scale = this.minScale + 0.01;\n        else\n            this._scale = value;\n        //Transform the canvas accordingly\n        this.canvas.transform(this.translation, this.scale);\n    }\n    /**\n     * @description The canvas's current translation\n     * @private\n     */\n    get translation() {\n        return this._translation;\n    }\n    set translation(value) {\n        this._translation = value;\n        //Transform the canvas accordingly\n        this.canvas.transform(this.translation, this.scale);\n    }\n    /**\n     * @description Translate the canvas by the given delta values (will increment the previous translation\n     * by the given values).\n     * @param delta\n     * @private\n     */\n    translate(delta) {\n        this.translation = this.translation.add(delta.x, delta.y);\n    }\n    //Pan and zoom\n    /**\n     * @description Pans the canvas\n     * @param e\n     */\n    pan(e) {\n        this.fireWillChangeTimeout();\n        //Get panning value according to the wheel event provided\n        let pos;\n        if (e instanceof TurboWheelEvent)\n            pos = new Point(-e.delta.x, -e.delta.y);\n        else {\n            //Unscale panning value\n            pos = e.scaledDeltaPosition.mul(this.scale);\n        }\n        //Translate by panning value\n        this.translate(pos);\n    }\n    //TODO maybe also consider pointer location as zoom origin (for PC events)\n    /**\n     * @description Zooms the canvas\n     * @param e\n     * @param isTrackpad\n     */\n    zoom(e, isTrackpad = false) {\n        this.fireWillChangeTimeout();\n        //Save old scale value\n        const oldScale = this.scale;\n        //Init zoom origin to the center of the screen\n        let zoomOrigin;\n        // if (e.position) zoomOrigin = e.position.sub(this.translation);\n        // else {\n        const rect = this.canvas.director.getBoundingClientRect();\n        const canvasCenter = new Point(rect.left + rect.width / 2, rect.top + rect.height / 2);\n        zoomOrigin = canvasCenter.sub(this.translation);\n        // }\n        //Touch Event\n        if (e instanceof TurboDragEvent) {\n            //Get arrays of positions and previous positions\n            const positionsArray = e.scaledPositions.valuesArray();\n            const previousPositionsArray = e.scaledPreviousPositions.valuesArray();\n            //Set the zoom origin to be the center of the touch points\n            zoomOrigin = Point.midPoint(...positionsArray).mul(this.scale);\n            //Increment scaling accordingly (came up with this through trial and error - it feels pretty natural)\n            this.scale += this.scale * this.scale * (Point.dist(positionsArray[0], positionsArray[1]) -\n                Point.dist(previousPositionsArray[0], previousPositionsArray[1])) * this.zoomTouchIntensity;\n        }\n        //Trackpad\n        else if (isTrackpad)\n            this.scale -= this.scale * e.delta.y * this.zoomTrackpadIntensity;\n        //Mouse Wheel\n        else\n            this.scale -= this.scale * (e.delta.y > 0 ? 1 : -1) * this.zoomMouseIntensity;\n        //Translate the viewport to make the zooming origin from the center of the screen\n        this.translate(zoomOrigin.mul(1 - this.scale / oldScale));\n    }\n    fireWillChangeTimeout() {\n        if (this.willChangeTimeout)\n            clearTimeout(this.willChangeTimeout);\n        this.willChangeTimeout = setTimeout(() => {\n            this.canvas.setStyle(\"willChange\", \"\");\n            requestAnimationFrame(() => this.canvas.setStyle(\"willChange\", \"transform\"));\n        }, 200);\n    }\n    /**\n     * @description Offset a given screen position by the canvas's translation.\n     * @param {Point} screenPosition\n     */\n    computePositionRelativeToCanvas(screenPosition) {\n        const rect = this.canvas.director.getBoundingClientRect();\n        const localPos = screenPosition.sub(new Point(rect.left, rect.top));\n        return localPos.sub(this.translation).div(this.scale);\n    }\n}\n","export class RequestManager {\n    constructor() {\n        this.isSecure = window.location.protocol === \"https:\";\n        this.protocol = this.isSecure ? \"https\" : \"http\";\n        this.hostname = window.location.hostname;\n        this.port = this.hostname == \"localhost\" || this.hostname == \"127.0.0.1\" ? \":3000\" : \"\";\n        this.serverUrl = `${this.protocol}://${this.hostname}${this.port}/`;\n    }\n    makeRequest(url, method, body, onSuccess = () => { }, onFailure = () => { }, parse = false, responseType = \"text\") {\n        const request = new XMLHttpRequest();\n        request.responseType = responseType;\n        request.onreadystatechange = _ => {\n            if (request.readyState !== 4)\n                return;\n            if (request.status < 200 || request.status >= 300) {\n                onFailure(request.responseText);\n                return;\n            }\n            parse ? onSuccess(JSON.parse(request.responseText)) : onSuccess(request.response);\n        };\n        request.open(method, url, true);\n        if (!(body instanceof FormData)) {\n            request.setRequestHeader(\"Content-Type\", \"application/json\");\n            body = JSON.stringify(body);\n        }\n        request.send(body);\n    }\n}\n","import { ClickMode, Delegate, TurboEventName } from \"turbodombuilder\";\n//TODO handle key combinations maybe? Also fix the issue with 2-finger navigation on mobile when app starts\n/**\n * @description Manages (ideally) all the tools in the application\n */\nexport class ToolManager {\n    constructor() {\n        //Init all maps\n        this.tools = new Map();\n        this.mappedKeysToTool = new Map();\n        this.currentTools = new Map();\n        //Create delegate\n        this.onToolChange = new Delegate();\n        //Initialization\n        this.initEvents();\n    }\n    //Utility callback to get the current tool based on the fired event's information\n    getFiredTool(e) {\n        let tool;\n        //If keys are pressed --> try to get the tool assigned to key mode\n        if (e.keys.length > 0)\n            tool = this.getTool(ClickMode.key);\n        //If tool still null --> get tool assigned to event's click mode\n        if (!tool)\n            tool = this.getTool(e.clickMode);\n        return tool;\n    }\n    initEvents() {\n        //On key press --> set corresponding tool as key mode\n        document.addEventListener(TurboEventName.keyPressed, (e) => this.setToolByKey(e.keyPressed));\n        //On key release --> clear set tool on key mode\n        document.addEventListener(TurboEventName.keyReleased, () => this.setTool(null, ClickMode.key, { select: false }));\n        //Listen for all custom events on the document and accordingly execute the corresponding function on the\n        //current tool. The tool will manage its actions and what object to interact with\n        document.addEventListener(TurboEventName.clickStart, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.clickStart(e); });\n        document.addEventListener(TurboEventName.click, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.clickAction(e); });\n        document.addEventListener(TurboEventName.clickEnd, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.clickEnd(e); });\n        document.addEventListener(TurboEventName.move, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.moveAction(e); });\n        document.addEventListener(TurboEventName.dragStart, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.dragStart(e); });\n        document.addEventListener(TurboEventName.drag, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.dragAction(e); });\n        document.addEventListener(TurboEventName.dragEnd, (e) => { var _a; return (_a = this.getFiredTool(e)) === null || _a === void 0 ? void 0 : _a.dragEnd(e); });\n    }\n    /**\n     * @description Returns the tool with the given name (or undefined)\n     * @param name\n     */\n    getToolByName(name) {\n        return this.tools.get(name);\n    }\n    /**\n     * @description Returns all created tools as an array\n     */\n    getToolsArray() {\n        return [...this.tools.values()];\n    }\n    /**\n     * @description Adds a tool to the tools map, identified by its name. Optionally, provide a key to bind the tool to.\n     * @param tool\n     * @param key\n     */\n    addTool(tool, key) {\n        this.tools.set(tool.name, tool);\n        if (key)\n            this.mappedKeysToTool.set(key, tool.name);\n    }\n    /**\n     * @description Returns the tool currently held by the provided click mode\n     * @param mode\n     */\n    getTool(mode) {\n        return this.currentTools.get(mode);\n    }\n    /**\n     * @description Sets the provided tool as a current tool associated with the provided type\n     * @param tool\n     * @param type\n     * @param options\n     */\n    setTool(tool, type, options = {}) {\n        //Initialize undefined options\n        if (options.select == undefined)\n            options.select = true;\n        if (options.activate == undefined)\n            options.activate = true;\n        if (options.setAsNoAction == undefined)\n            options.setAsNoAction = type == ClickMode.left;\n        //Get previous tool\n        const previousTool = this.currentTools.get(type);\n        if (previousTool) {\n            //Return if it's the same\n            if (previousTool == tool)\n                return;\n            //Deselect and deactivate previous tool\n            if (options.select)\n                previousTool.selected = false;\n            if (options.activate)\n                previousTool.deactivate();\n        }\n        //Select new tool (and maybe set it as the tool for no click mode)\n        this.currentTools.set(type, tool);\n        if (options.setAsNoAction)\n            this.currentTools.set(ClickMode.none, tool);\n        //Select and activate the tool\n        if (options.select && tool)\n            tool.selected = true;\n        if (options.activate && tool)\n            tool.activate();\n        //Fire tool changed\n        this.onToolChange.fire(previousTool, tool, type);\n    }\n    /**\n     * @description Returns the tool associated with the given key\n     * @param key\n     */\n    getToolByKey(key) {\n        const toolName = this.mappedKeysToTool.get(key);\n        if (!toolName)\n            return null;\n        return this.tools.get(toolName);\n    }\n    /**\n     * @description Sets tool associated with the provided key as the current tool for the key mode\n     * @param key\n     */\n    setToolByKey(key) {\n        const tool = this.getToolByKey(key);\n        if (!tool)\n            return false;\n        this.setTool(tool, ClickMode.key, { select: false });\n        return true;\n    }\n}\n","export var ToolType;\n(function (ToolType) {\n    ToolType[\"connection\"] = \"Connect\";\n    ToolType[\"createCard\"] = \"Create Card\";\n    ToolType[\"delete\"] = \"Delete\";\n    ToolType[\"navigator\"] = \"Navigator\";\n    ToolType[\"selection\"] = \"Selection\";\n    ToolType[\"shoot\"] = \"Shoot\";\n    ToolType[\"text\"] = \"Text\";\n})(ToolType || (ToolType = {}));\n","import { WebsocketProvider } from \"y-websocket\";\nimport { Delegate } from \"turbodombuilder\";\nimport { encodeStateVector } from \"yjs\";\nimport * as decoding from \"lib0/decoding\";\nexport class WebsocketManager {\n    constructor(room, ydoc, websocketOptions) {\n        var _a;\n        this.onConnect = new Delegate();\n        this.onDisconnect = new Delegate();\n        this.handleConnect = () => this.provider.connect();\n        this.handleDisconnect = () => this.provider.disconnect();\n        if (!websocketOptions)\n            websocketOptions = { debug: true };\n        if (!websocketOptions.options)\n            websocketOptions.options = {};\n        this.room = room;\n        this.ydoc = ydoc;\n        this.debug = websocketOptions.debug;\n        this.serverUrl = (_a = websocketOptions.serverUrl) !== null && _a !== void 0 ? _a : this.defaultUrl;\n        if (!navigator.onLine)\n            websocketOptions.options.connect = false;\n        window.addEventListener(\"online\", this.handleConnect, { once: true });\n        window.addEventListener(\"offline\", this.handleDisconnect, { once: true });\n        const tempProvider = new WebsocketProvider(this.serverUrl, this.room, this.ydoc, websocketOptions.options);\n        this.provider = new WebsocketProvider(this.serverUrl, this.room, this.ydoc, websocketOptions.options);\n        if (websocketOptions.debug)\n            this.setupDebug();\n        this.provider.on(\"status\", (event) => {\n            if (event.status === \"disconnected\" && this.onDisconnect)\n                this.onDisconnect.fire();\n        });\n        this.provider.on(\"sync\", (isSynced) => {\n            if (!isSynced)\n                return;\n            tempProvider.disconnect();\n            this.onConnect.fire();\n        });\n        if (this.provider.synced)\n            requestAnimationFrame(() => {\n                tempProvider.disconnect();\n                this.onConnect.fire();\n            });\n    }\n    get defaultUrl() {\n        const isSecure = window.location.protocol === \"https:\";\n        const protocol = isSecure ? \"wss\" : \"ws\";\n        const hostname = window.location.hostname;\n        const port = hostname === \"localhost\" ? \":3000\" : \"\";\n        return `${protocol}://${hostname}${port}`;\n    }\n    destroy() {\n        window.removeEventListener(\"online\", this.handleConnect);\n        window.removeEventListener(\"offline\", this.handleDisconnect);\n        this.provider.destroy();\n        if (this.debug)\n            console.log(`[Yjs] Disconnected from room: ${this.room}`);\n    }\n    get status() {\n        return this.provider.wsconnected ? \"connected\" : \"disconnected\";\n    }\n    get awareness() {\n        return this.provider.awareness;\n    }\n    reconnect() {\n        this.provider.disconnect();\n        this.provider.connect();\n    }\n    setupDebug() {\n        var _a, _b, _c, _d;\n        console.log(`[Yjs] Connected to ${this.serverUrl}, room: ${this.room}`);\n        console.log(\"🌐 Connecting to\", this.provider.url);\n        console.log(\"WebSocket state:\", this.provider.wsconnected);\n        this.provider.on('sync', (isSynced) => {\n            console.log(`🔄 [Client] Sync status changed: ${isSynced} for room: ${this.room}`);\n            if (isSynced) {\n                const content = this.ydoc.getMap(\"document_content\");\n                console.log(`📊 [Client] Doc content after sync:`, {\n                    keys: Array.from(content.keys()),\n                    size: content.size,\n                    clientId: this.ydoc.clientID,\n                    stateVector: Array.from(encodeStateVector(this.ydoc))\n                });\n            }\n        });\n        this.provider.on('status', (event) => {\n            console.log(`🔌 [Client] Status: ${event.status}, Synced: ${this.provider.synced}`);\n        });\n        // Add this to debug raw websocket messages:\n        (_a = this.provider.ws) === null || _a === void 0 ? void 0 : _a.addEventListener('message', (event) => {\n            const data = new Uint8Array(event.data);\n            console.log(`📨 [Client] Raw WebSocket message received: ${data.length} bytes`);\n            try {\n                const decoder = decoding.createDecoder(data);\n                const messageType = decoding.readVarUint(decoder);\n                const messageTypes = {\n                    0: 'SYNC',\n                    1: 'AWARENESS'\n                };\n                console.log(`📨 [Client] Message type: ${messageTypes[messageType] || messageType} (${messageType})`);\n                if (messageType === 0) { // SYNC message\n                    // Try to decode sync step\n                    const syncStep = decoding.readVarUint(decoder);\n                    console.log(`🔄 [Client] Sync step: ${syncStep}`);\n                }\n            }\n            catch (e) {\n                console.log(`📨 [Client] Could not decode message type:`, e);\n            }\n        });\n        // Also add this to monitor document changes more precisely:\n        this.ydoc.on('update', (update, origin) => {\n            console.log(`✍️ [Client] Document updated, origin:`, origin, 'update size:', update.length);\n            // Log the current document state\n            const content = this.ydoc.getMap(\"document_content\");\n            if (content) {\n                console.log(`📊 [Client] Current document_content:`, content.toJSON());\n            }\n            const testMap = this.ydoc.getMap(\"test\");\n            if (testMap) {\n                console.log(`🧪 [Client] Current test map:`, testMap.toJSON());\n            }\n        });\n        (_b = this.provider.ws) === null || _b === void 0 ? void 0 : _b.addEventListener('open', () => {\n            console.log(`🟢 [Client] WebSocket opened for room: ${this.room}`);\n        });\n        (_c = this.provider.ws) === null || _c === void 0 ? void 0 : _c.addEventListener('error', (error) => {\n            console.error(`❌ [Client] WebSocket error for room: ${this.room}`, error);\n        });\n        (_d = this.provider.ws) === null || _d === void 0 ? void 0 : _d.addEventListener('close', (event) => {\n            console.log(`🔴 [Client] WebSocket closed for room: ${this.room}, code: ${event.code}, reason: ${event.reason}`);\n        });\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./shootingPanel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./shootingPanel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { TurboModel } from \"turbodombuilder\";\nimport { CaptureMode } from \"./shootingPanel.types\";\nexport class ShootingPanelModel extends TurboModel {\n    get mode() {\n        return this._mode;\n    }\n    set mode(value) {\n        if (this.mode == value)\n            return;\n        if (this.mode == CaptureMode.videoShooting)\n            this.fireCallback(\"stopShooting\");\n        this._mode = value;\n        this.fireCallback(\"modeChanged\");\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define } from \"turbodombuilder\";\nimport \"./shootingPanel.css\";\nimport { ToolPanelContent } from \"../toolPanelContent/toolPanelContent\";\nimport { ShootingPanelView } from \"./shootingPanel.view\";\nimport { ShootingPanelModel } from \"./shootingPanel.model\";\nlet ShootingPanel = class ShootingPanel extends ToolPanelContent {\n    constructor(properties) {\n        super(properties);\n        this.mvc.generate({\n            modelConstructor: ShootingPanelModel,\n            viewConstructor: ShootingPanelView\n        });\n    }\n    attach() { }\n    detach() { }\n    get camera() {\n        return this.director.camera;\n    }\n};\nShootingPanel = __decorate([\n    define()\n], ShootingPanel);\nexport { ShootingPanel };\n","export var CaptureMode;\n(function (CaptureMode) {\n    CaptureMode[\"photo\"] = \"PHOTO\";\n    CaptureMode[\"video\"] = \"VIDEO\";\n    CaptureMode[\"create\"] = \"CREATE\";\n    CaptureMode[\"videoShooting\"] = \"VIDEO SHOOTING\";\n})(CaptureMode || (CaptureMode = {}));\n","import { ToolPanelContentView } from \"../toolPanelContent/toolPanelContent.view\";\nimport { CaptureButton } from \"../../components/captureButton/captureButton\";\nimport { CaptureTimer } from \"../../components/captureTimer/captureTimer\";\nimport { DefaultEventName, div, spacer, TurboIconToggle, TurboSelectEntry } from \"turbodombuilder\";\nimport { BackgroundSelector } from \"../../components/backgroundSelector/backgroundSelector\";\nimport { CaptureMode } from \"./shootingPanel.types\";\nimport { AnimatedContentSwitchingDiv } from \"../../components/animationComponents/animatedContentSwitchingDiv/animatedContentSwitchingDiv\";\nimport { ClipRendererVisibility } from \"../../components/clipRenderer/clipRenderer.types\";\nimport { CaptureModeSlider } from \"../../components/captureModeSlider/captureModeSlider\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\nexport class ShootingPanelView extends ToolPanelContentView {\n    initialize() {\n        super.initialize();\n        this.ghost.toggled = true;\n        this.microphone.toggled = true;\n        this.modeSlider.index = 1;\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.modeSlider = new CaptureModeSlider({\n            classes: \"capture-mode-slider\",\n            values: [CaptureMode.photo, CaptureMode.video, CaptureMode.create],\n        });\n        this.captureTimer = new CaptureTimer();\n        this.captureButton = new CaptureButton();\n        this.ghost = new TurboIconToggle({ icon: \"ghost-on\", toggleOnClick: true });\n        this.switchCamera = new TurboIconToggle({ icon: \"switch-camera\", toggleOnClick: true });\n        this.microphone = new TurboIconToggle({ icon: \"microphone-on\", toggleOnClick: true });\n        this.backgroundSelector = new BackgroundSelector();\n        this.shootingDiv = new TurboSelectEntry({ value: \"shooting\", reflectValueOn: div() });\n        this.backgroundColorDiv = new TurboSelectEntry({ value: \"backgroundColor\", reflectValueOn: div() });\n        this.animatedDiv = new AnimatedContentSwitchingDiv({ values: [this.shootingDiv, this.backgroundColorDiv] });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.modeSlider, this.animatedDiv]);\n        this.element.camera.addChild(this.captureTimer);\n        this.shootingDiv.addClass(\"camera-buttons\");\n        this.shootingDiv.addChild([\n            div({\n                classes: \"camera-buttons-child\",\n                children: this.ghost\n            }),\n            this.captureButton,\n            div({\n                classes: \"camera-buttons-child\",\n                children: [this.switchCamera, this.microphone, spacer()]\n            })\n        ]);\n        this.backgroundColorDiv.addChild(this.backgroundSelector);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.captureButton.addListener(DefaultEventName.click, (e) => {\n            e.stopImmediatePropagation();\n            if (this.model.mode == CaptureMode.photo)\n                this.element.camera.snapPicture();\n            else if (this.model.mode == CaptureMode.video)\n                this.model.mode = CaptureMode.videoShooting;\n            else if (this.model.mode == CaptureMode.videoShooting)\n                this.model.mode = CaptureMode.video;\n        });\n        this.ghost.onToggle = (value, el) => {\n            el.icon = \"ghost-\" + (value ? \"on\" : \"off\");\n            this.element.camera.visibilityMode = value ? ClipRendererVisibility.ghosting : ClipRendererVisibility.hidden;\n        };\n        this.microphone.onToggle = (value, el) => {\n            el.icon = \"microphone-\" + (value ? \"on\" : \"off\");\n            this.element.camera.muteAudio(!value);\n        };\n        this.switchCamera.onToggle = () => this.element.camera.switchCamera();\n        this.backgroundSelector.onSelect = () => this.element.camera.fillCanvas(this.backgroundSelector.selectedValue);\n        this.modeSlider.onSelect = ((b, entry) => {\n            if (b)\n                this.model.mode = entry.value;\n        });\n        this.backButton.addListener(DefaultEventName.click, () => this.element.director.currentType = ProjectScreens.canvas);\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"stopShooting\", () => {\n            this.captureTimer.stop();\n            this.element.camera.stopRecording();\n        });\n        this.emitter.add(\"modeChanged\", () => this.refresh());\n    }\n    refresh(mode = this.model.mode) {\n        if (mode == CaptureMode.create)\n            this.element.camera.visible = true;\n        // this.camera.fillCanvas(this.backgroundSelector.selectedValue);\n        else if (mode == CaptureMode.videoShooting) {\n            this.element.camera.visibilityMode = ClipRendererVisibility.hidden;\n            this.captureTimer.start();\n            this.element.camera.startRecording();\n        }\n        else\n            this.element.camera.visible = false;\n        this.modeSlider.show(mode != CaptureMode.videoShooting);\n        this.captureButton.updateState(mode);\n        // this.backgroundSelector.show(this.mode == CaptureMode.create);\n        this.ghost.show(mode != CaptureMode.create);\n        this.switchCamera.show(mode != CaptureMode.create);\n        this.microphone.show(mode == CaptureMode.video || mode == CaptureMode.videoShooting);\n        this.animatedDiv.select(mode == CaptureMode.create ? this.backgroundColorDiv : this.shootingDiv);\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./textPanel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./textPanel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { YComponentModel } from \"../../../yManagement/yModel/types/yComponentModel\";\nexport class TextPanelModel extends YComponentModel {\n    get origin() {\n        return this.getData(\"origin\");\n    }\n    set origin(value) {\n        this.setData(\"origin\", value);\n    }\n    get fontSize() {\n        return this.getData(\"fontSize\");\n    }\n    set fontSize(value) {\n        this.setData(\"fontSize\", value);\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport \"./textPanel.css\";\nimport { TextPanelModel } from \"./textPanel.model\";\nimport { TextPanelView } from \"./textPanel.view\";\nimport { ClickMode, define } from \"turbodombuilder\";\nimport { ToolPanelContent } from \"../toolPanelContent/toolPanelContent\";\nimport { TextElement } from \"../../components/textElement/textElement\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nlet TextPanel = class TextPanel extends ToolPanelContent {\n    constructor(properties) {\n        super(properties);\n        this.onContextChange = (entry) => {\n            if (entry.element instanceof TextElement) {\n                if (entry.changed == \"added\")\n                    this.toolPanel.changePanel(ToolType.text);\n                else\n                    this.toolPanel.changePanel(this.toolManager.getTool(ClickMode.left).name);\n            }\n        };\n        this.mvc.generate({\n            viewConstructor: TextPanelView,\n            modelConstructor: TextPanelModel,\n        });\n    }\n    attach() {\n        var _a;\n        this.contextManager.onContextChange.add(this.updateDataFromContext);\n        this.toolPanel.addContextCallback(this.onContextChange);\n        const data = (_a = this.contextManager.getOfType(TextElement)) === null || _a === void 0 ? void 0 : _a.data;\n        if (data)\n            this.model.data = data;\n    }\n    detach() {\n        this.contextManager.onContextChange.remove(this.updateDataFromContext);\n        this.toolPanel.removeContextCallback(this.onContextChange);\n    }\n    updateDataFromContext(entry) {\n        if (entry.level != 3)\n            return;\n        if (!(entry.element instanceof TextElement))\n            return;\n        if (entry.changed == \"added\")\n            return this.model.data = entry.element.data;\n        this.model.clear();\n        this.model.data = undefined;\n    }\n};\nTextPanel = __decorate([\n    define()\n], TextPanel);\nexport { TextPanel };\n","import { DefaultEventName, flexRow, input, spacer, TurboNumericalInput } from \"turbodombuilder\";\nimport { ToolPanelContentView } from \"../toolPanelContent/toolPanelContent.view\";\nexport class TextPanelView extends ToolPanelContentView {\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"fontSize\", (value) => this.fontSizeInput.value = value);\n        this.emitter.add(\"origin\", (value) => {\n            this.originXInput.value = value.x;\n            this.originYInput.value = value.y;\n        });\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        // this.element.setStyle(\"top\", this.element.toolPanel.panelMarginTop + \"px\");\n        this.originXInput = new TurboNumericalInput({\n            element: input({ type: \"number\", step: \"1\", min: \"0\", max: \"100\" }),\n            label: \"Position\",\n            prefix: \"x: \",\n            suffix: \"%\",\n            multiplier: 100,\n            decimalPlaces: 2\n        });\n        this.originYInput = new TurboNumericalInput({\n            element: input({ type: \"number\", step: \"1\", min: \"0\", max: \"100\" }),\n            prefix: \"y: \",\n            suffix: \"%\",\n            multiplier: 100,\n            decimalPlaces: 2\n        });\n        this.fontSizeInput = new TurboNumericalInput({\n            element: input({ type: \"number\", step: \"1\", min: \"0\", max: \"100\" }),\n            label: \"Font size\",\n            suffix: \"%\",\n            multiplier: 100,\n            decimalPlaces: 2,\n        });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([\n            flexRow({\n                style: \"gap: 0.5em; align-items: end\",\n                children: [this.originXInput, spacer(), this.originYInput]\n            }),\n            this.fontSizeInput\n        ]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.originXInput.addListener(DefaultEventName.input, () => {\n            if (!this.model.data)\n                return;\n            this.model.origin = { x: this.originXInput.value, y: this.originYInput.value };\n        });\n        this.originYInput.addListener(DefaultEventName.input, () => {\n            if (!this.model.data)\n                return;\n            this.model.origin = { x: this.originXInput.value, y: this.originYInput.value };\n        });\n        this.fontSizeInput.addListener(DefaultEventName.input, () => {\n            if (!this.model.data)\n                return;\n            this.model.fontSize = this.fontSizeInput.value;\n        });\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./toolPanel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./toolPanel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ClickMode, define, Shown, StatefulReifect } from \"turbodombuilder\";\nimport \"./toolPanel.css\";\nimport { VcComponent } from \"../../components/component/component\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\nlet ToolPanel = class ToolPanel extends VcComponent {\n    constructor(properties = {}) {\n        super(properties);\n        this.panels = new Map();\n        this.contextCallbacks = [];\n        this.showTransition = new StatefulReifect({\n            states: [Shown.visible, Shown.hidden],\n            styles: { [Shown.hidden]: \"opacity: 0\", [Shown.visible]: \"opacity: 1\" }\n        });\n        this.toolManager.onToolChange.add((_, newTool, type) => {\n            if (type != ClickMode.left)\n                return;\n            this.changePanel(newTool.name);\n        });\n        this.director.onScreenChange.add(() => {\n            this.changePanel();\n        });\n        this.contextManager.onContextChange.add((entry) => {\n            this.contextCallbacks.forEach(callback => callback(entry));\n        });\n    }\n    get toolManager() {\n        return this.director.toolManager;\n    }\n    get contextManager() {\n        return this.director.contextManager;\n    }\n    getPanel(tool, context = this.director.currentType) {\n        var _a;\n        return (_a = this.panels.get(tool)) === null || _a === void 0 ? void 0 : _a.get(context);\n    }\n    addPanel(panel, tool, context) {\n        if (!this.panels.has(tool))\n            this.panels.set(tool, new Map());\n        const contextMap = this.panels.get(tool);\n        if (context)\n            contextMap.set(context, panel);\n        else\n            Object.values(ProjectScreens).forEach(context => contextMap.set(context, panel));\n    }\n    addContextCallback(callback) {\n        this.contextCallbacks.push(callback);\n    }\n    removeContextCallback(callback) {\n        const index = this.contextCallbacks.indexOf(callback);\n        if (index >= 0)\n            this.contextCallbacks.splice(index, 1);\n    }\n    changePanel(toolName = this.toolManager.getTool(ClickMode.left).name, context = this.director.currentType) {\n        var _a;\n        (_a = this.currentPanel) === null || _a === void 0 ? void 0 : _a.detach();\n        this.removeChild(this.currentPanel);\n        this.currentPanel = this.getPanel(toolName, context);\n        if (!this.currentPanel)\n            return;\n        this.addChild(this.currentPanel);\n        this.currentPanel.attach();\n    }\n};\nToolPanel = __decorate([\n    define()\n], ToolPanel);\nexport { ToolPanel };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./toolPanelContent.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./toolPanelContent.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { VcComponent } from \"../../components/component/component\";\nimport \"./toolPanelContent.css\";\nexport class ToolPanelContent extends VcComponent {\n    constructor(properties) {\n        super(properties);\n        this.toolPanel = properties.toolPanel;\n        this.addClass(\"tool-panel-content\");\n    }\n    get toolManager() {\n        return this.toolPanel.toolManager;\n    }\n    get contextManager() {\n        return this.toolPanel.contextManager;\n    }\n    attach() { }\n    detach() { }\n}\n","import { div, icon, TurboView } from \"turbodombuilder\";\nexport class ToolPanelContentView extends TurboView {\n    //     requestAnimationFrame(() => {\n    //     this._panelMarginTop = buttons.offsetHeight + 32;\n    // });\n    setupUIElements() {\n        super.setupUIElements();\n        this.backButton = icon({ icon: \"arrow-right\" });\n        this.saveButton = icon({ icon: \"save\" });\n        this.cancelButton = icon({ icon: \"cancel\" });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild(div({\n            classes: \"main-buttons-div\",\n            children: [this.cancelButton, this.saveButton, this.backButton]\n        }));\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboHandler } from \"turbodombuilder\";\nexport class CameraCaptureHandler extends TurboHandler {\n    initStream() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n                alert(\"Camera not supported.\");\n                return;\n            }\n            return yield this.switchCamera(true);\n        });\n    }\n    stopStream() {\n        if (this.model.stream)\n            this.model.stream.getTracks().forEach(track => track.stop());\n    }\n    switchCamera() {\n        return __awaiter(this, arguments, void 0, function* (initializing = false) {\n            try {\n                const devicesInfo = yield navigator.mediaDevices.enumerateDevices();\n                const videoDevices = devicesInfo.filter(device => device.kind === \"videoinput\");\n                if (videoDevices.length === 0)\n                    return;\n                if (!initializing) {\n                    let newDeviceLabel;\n                    do {\n                        this.model.cameraDeviceIdIndex++;\n                        if (this.model.cameraDeviceIdIndex >= videoDevices.length)\n                            this.model.cameraDeviceIdIndex = 0;\n                        newDeviceLabel = videoDevices[this.model.cameraDeviceIdIndex].label.toLowerCase();\n                    } while (this.model.cameraIsLikelyFront != null && (this.model.cameraIsLikelyFront == newDeviceLabel.includes(\"front\")));\n                    if (this.model.cameraIsLikelyFront != null)\n                        this.model.cameraIsLikelyFront = newDeviceLabel.includes(\"front\");\n                }\n                this.model.cameraDeviceId = videoDevices[this.model.cameraDeviceIdIndex].deviceId;\n                yield this.startStream();\n                if (initializing)\n                    yield this.checkIfCurrentStreamIsLikelyFront();\n            }\n            catch (error) {\n                console.error(\"Error enumerating devices.\", error);\n                alert(`Error enumerating devices: ${error.message}`);\n            }\n        });\n    }\n    startStream() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.stopStream();\n            try {\n                this.model.stream = yield navigator.mediaDevices.getUserMedia({\n                    video: {\n                        deviceId: this.model.cameraDeviceId ? { exact: this.model.cameraDeviceId } : \"\",\n                        aspectRatio: this.model.aspectRatio,\n                        frameRate: { ideal: 30 }\n                    },\n                    audio: true\n                });\n            }\n            catch (error) {\n                try {\n                    this.model.stream = yield navigator.mediaDevices.getUserMedia({\n                        video: { aspectRatio: this.model.aspectRatio },\n                        audio: true\n                    });\n                }\n                catch (error) {\n                    console.error(\"Error accessing media devices with fallback constraints.\", error);\n                    alert(`Error accessing media devices: ${error.message}`);\n                }\n            }\n        });\n    }\n    checkIfCurrentStreamIsLikelyFront() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            if (!this.model.stream)\n                return;\n            try {\n                const videoTrack = this.model.stream.getVideoTracks()[0];\n                if (!videoTrack)\n                    return;\n                const currentDeviceLabel = (_a = (yield navigator.mediaDevices.enumerateDevices())\n                    .find(device => device.deviceId == videoTrack.getSettings().deviceId)) === null || _a === void 0 ? void 0 : _a.label.toLowerCase();\n                if (!currentDeviceLabel)\n                    return;\n                if (currentDeviceLabel.includes(\"front\"))\n                    this.model.cameraIsLikelyFront = true;\n                else if (currentDeviceLabel.includes(\"back\"))\n                    this.model.cameraIsLikelyFront = false;\n            }\n            catch (error) {\n                console.error(\"Error getting current device label:\", error);\n                return null;\n            }\n        });\n    }\n    muteAudio(b) {\n        var _a;\n        (_a = this.model.stream) === null || _a === void 0 ? void 0 : _a.getAudioTracks().forEach(track => track.enabled = b);\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./camera.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./camera.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { auto, TurboModel } from \"turbodombuilder\";\nexport class CameraModel extends TurboModel {\n    constructor() {\n        super(...arguments);\n        this.aspectRatio = 1.33;\n        this.videoStreamOn = false;\n        this.cameraDeviceIdIndex = 0;\n        this.cameraDeviceId = null;\n        this.cameraIsLikelyFront = null;\n        this.recordedChunks = [];\n    }\n    set stream(value) {\n        this.fireCallback(\"stream\", value);\n        this.recordingHandler.setupMediaRecorder();\n    }\n    set lastRecordedMedia(value) {\n        this.fireCallback(\"recordedMedia\", value);\n    }\n    set lastSavedMedia(value) {\n        this.fireCallback(\"savedMedia\", value);\n    }\n    set ghosting(value) {\n        this.fireCallback(\"ghosting\", value);\n    }\n    get captureHandler() {\n        return this.getHandler(\"capture\");\n    }\n    get recordingHandler() {\n        return this.getHandler(\"recording\");\n    }\n}\n__decorate([\n    auto()\n], CameraModel.prototype, \"stream\", null);\n__decorate([\n    auto()\n], CameraModel.prototype, \"lastRecordedMedia\", null);\n__decorate([\n    auto()\n], CameraModel.prototype, \"lastSavedMedia\", null);\n__decorate([\n    auto()\n], CameraModel.prototype, \"ghosting\", null);\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TurboHandler } from \"turbodombuilder\";\nexport class CameraRecordingHandler extends TurboHandler {\n    setupMediaRecorder() {\n        if (!this.model.stream) {\n            alert(\"No stream available to record.\");\n            return;\n        }\n        this.model.mediaRecorder = new MediaRecorder(this.model.stream, { videoBitsPerSecond: 2500000 });\n        this.model.mediaRecorder.onstop = () => this.saveRecording();\n        this.model.mediaRecorder.ondataavailable = (event) => {\n            if (event.data.size > 0)\n                this.model.recordedChunks.push(event.data);\n        };\n    }\n    startRecording() {\n        if (!this.model.mediaRecorder || this.model.mediaRecorder.state != \"inactive\") {\n            console.log(\"Unable to start recording\");\n            return;\n        }\n        this.model.mediaRecorder.start(100);\n        this.model.lastRecorderTimestamp = Date.now();\n    }\n    stopRecording() {\n        if (!this.model.mediaRecorder || this.model.mediaRecorder.state != \"recording\") {\n            console.log(\"No recording in progress\");\n            return;\n        }\n        this.model.mediaRecorder.stop();\n    }\n    saveRecording() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.model.recordedChunks.length == 0)\n                return;\n            this.model.lastRecordedMedia = {\n                type: \"video\",\n                timestamp: Date.now(),\n                duration: (Date.now() - this.model.lastRecorderTimestamp) / 1000,\n                blob: new Blob(this.model.recordedChunks, { type: \"video/webm\" })\n            };\n            this.model.recordedChunks = [];\n            //TODO\n            // const reader = new FileReader();\n            //\n            // reader.onloadend = async ()  => {\n            //     media.id = await add_video(reader.result as string, media) as string;\n            //     this.model.lastSavedMedia = media;\n            //     this.model.recordedChunks = [];\n            // }\n            // reader.readAsDataURL(blob);\n        });\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { auto, define } from \"turbodombuilder\";\nimport \"./camera.css\";\nimport { ClipRendererVisibility } from \"../../components/clipRenderer/clipRenderer.types\";\nimport { CameraView } from \"./camera.view\";\nimport { CameraModel } from \"./camera.model\";\nimport { CameraRecordingHandler } from \"./camera.recordingHandler\";\nimport { CameraCaptureHandler } from \"./camera.captureHandler\";\nimport { VcComponent } from \"../../components/component/component\";\nimport { Clip } from \"../../components/clip/clip\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\nlet Camera = class Camera extends VcComponent {\n    constructor(document) {\n        super({ director: document });\n        this.mvc.generate({\n            viewConstructor: CameraView,\n            modelConstructor: CameraModel,\n            handlerConstructors: [CameraRecordingHandler, CameraCaptureHandler]\n        });\n        this.model.ghosting = true;\n        this.mvc.emitter.add(\"recordedMedia\", (media) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            media.id = yield this.director.mediaManager.saveMedia(media);\n            // this.model.lastSavedMedia = {...this.model.lastRecordedMedia, blob: undefined};\n            yield this.card.addClip(Clip.createData({ endTime: ((_a = media === null || media === void 0 ? void 0 : media.duration) !== null && _a !== void 0 ? _a : 5), mediaId: media.id, }), this.view.timeline.currentClipInfo.closestIntersection);\n        }));\n    }\n    set card(value) {\n        this.view.timeline.card = value;\n        this.view.metadataDrawer.card = value;\n    }\n    get frameWidth() {\n        return this.view.clipRenderer.offsetWidth;\n    }\n    get frameHeight() {\n        return this.view.clipRenderer.offsetHeight;\n    }\n    fillCanvas(fill) {\n        this.view.clipRenderer.setFill(fill);\n    }\n    get ghosting() {\n        return this.model.ghosting;\n    }\n    clear() {\n        this.view.timeline.data = undefined; //TODO idk if gd idea\n        this.director.currentType = ProjectScreens.canvas;\n    }\n    startStream() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.model.videoStreamOn = true;\n            yield this.model.captureHandler.initStream();\n            this.visibilityMode = this.ghosting ? ClipRendererVisibility.ghosting : ClipRendererVisibility.hidden;\n        });\n    }\n    stopStream() {\n        this.model.videoStreamOn = false;\n        this.model.captureHandler.stopStream();\n        this.visibilityMode = ClipRendererVisibility.shown;\n    }\n    snapToClip(clip) {\n        if (clip)\n            this.view.timeline.snapToClosest(clip.dataIndex + 1);\n        else\n            this.view.timeline.snapAtEnd();\n    }\n    switchCamera() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.model.captureHandler.switchCamera();\n        });\n    }\n    muteAudio(b) {\n        this.model.captureHandler.muteAudio(b);\n    }\n    startRecording() {\n        this.model.recordingHandler.startRecording();\n    }\n    stopRecording() {\n        this.model.recordingHandler.stopRecording();\n    }\n    set visibilityMode(value) {\n        this.view.clipRenderer.visibilityMode = value;\n    }\n    set visible(value) {\n        this.visibilityMode = value ? ClipRendererVisibility.shown\n            : (this.ghosting ? ClipRendererVisibility.ghosting : ClipRendererVisibility.hidden);\n    }\n    snapPicture() {\n        if (!this.model.stream)\n            return;\n        //TODO this.view.cameraRenderer.drawVideoFrame().then(picture => this.saveMedia(\"image\", picture));\n    }\n};\n__decorate([\n    auto()\n], Camera.prototype, \"card\", null);\nCamera = __decorate([\n    define(\"vc-camera\")\n], Camera);\nexport { Camera };\n","import { Open, Side, TurboView } from \"turbodombuilder\";\nimport { ClipRenderer } from \"../../components/clipRenderer/clipRenderer\";\nimport { Toolbar } from \"../../components/toolbar/toolbar\";\nimport { MetadataDrawer } from \"../../components/metadataDrawer/metadataDrawer\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { Renderer } from \"../../components/renderer/renderer\";\nimport { ClipTimeline } from \"../../components/timeline/clipTimeline/clipTimeline\";\nexport class CameraView extends TurboView {\n    initialize() {\n        super.initialize();\n        this.resize();\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.cameraRenderer = new Renderer({ director: this.element.director,\n            videoProperties: { autoplay: true, muted: true, playsInline: true } });\n        this.clipRenderer = new ClipRenderer({ director: this.element.director, videoProperties: { playsInline: true } });\n        //TODO this.sidePanel = new SidePanel(this.element, this.captureManager);\n        this.toolbar = new Toolbar({ classes: \"left-toolbar\", director: this.element.director });\n        this.toolbar.populateWith(ToolType.selection, ToolType.shoot, ToolType.text, ToolType.delete);\n        this.timeline = new ClipTimeline({\n            drawerProperties: {\n                side: Side.top,\n                icon: \"chevron\",\n                offset: { [Open.open]: -4 },\n                initiallyOpen: true\n            },\n            director: this.element.director,\n            card: this.element.card,\n            scaled: false,\n            renderer: this.clipRenderer,\n        });\n        this.metadataDrawer = new MetadataDrawer({\n            card: this.element.card,\n            side: Side.bottom,\n            icon: \"chevron\",\n            initiallyOpen: false,\n            offset: { [Open.open]: 6 }\n        });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.cameraRenderer, this.clipRenderer, this.toolbar,\n            this.timeline, this.metadataDrawer]);\n    }\n    setupChangedCallbacks() {\n        super.setupChangedCallbacks();\n        this.emitter.add(\"stream\", () => this.cameraRenderer.video.srcObject = this.model.stream);\n        this.emitter.add(\"ghosting\", (value) => {\n            if (this.model.videoStreamOn)\n                this.clipRenderer.setStyle(\"opacity\", value ? \"0.2\" : \"0\");\n        });\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        window.addEventListener(\"resize\", () => this.resize());\n    }\n    resize() {\n        this.cameraRenderer.resize(this.model.aspectRatio, window.innerWidth, window.innerHeight);\n        this.clipRenderer.resize(this.model.aspectRatio, window.innerWidth, window.innerHeight);\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./canvas.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./canvas.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ClickMode, css, define, div } from \"turbodombuilder\";\nimport \"./canvas.css\";\nimport { Toolbar } from \"../../components/toolbar/toolbar\";\nimport { SelectionTool } from \"../../tools/selection/selection\";\nimport { NavigatorTool } from \"../../tools/navigator/navigator\";\nimport { CreateCardTool } from \"../../tools/createCard/createCard\";\nimport { ConnectionTool } from \"../../tools/connection/connection\";\nimport { TextTool } from \"../../tools/text/text\";\nimport { ShootTool } from \"../../tools/shoot/shoot\";\nimport { DeleteTool } from \"../../tools/delete/delete\";\nimport { NavigationManager } from \"../../managers/navigationManager/navigationManager\";\nimport { VcComponent } from \"../../components/component/component\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\n/**\n * @description Class representing a canvas on which the user can add cards, connect them, move them around, etc.\n */\nlet Canvas = class Canvas extends VcComponent {\n    constructor(document) {\n        super({ director: document });\n        this.content = div({ parent: this, id: \"canvas-content\" });\n        //Init navigation manager\n        this.navigationManager = new NavigationManager(this);\n        //Init toolbar\n        this.toolbar = new Toolbar({ parent: this, classes: \"bottom-toolbar\", director: this.director });\n        this.initTools();\n    }\n    get toolManager() {\n        return this.director.toolManager;\n    }\n    initTools() {\n        //Create all tools\n        this.toolManager.addTool(new SelectionTool(this.director), \"Shift\");\n        this.toolManager.addTool(new NavigatorTool(this.director), \"Control\");\n        this.toolManager.addTool(new CreateCardTool(this.director));\n        this.toolManager.addTool(new ConnectionTool(this.director));\n        this.toolManager.addTool(new TextTool(this.director));\n        this.toolManager.addTool(new ShootTool(this.director));\n        this.toolManager.addTool(new DeleteTool(this.director));\n        //Init default tools at hand\n        this.toolManager.setTool(this.toolManager.getToolByKey(\"Shift\"), ClickMode.left);\n        this.toolManager.setTool(this.toolManager.getToolByKey(\"Control\"), ClickMode.middle, { select: false, activate: false });\n        this.toolbar.populateWithAllTools();\n    }\n    remove() {\n        super.remove();\n        this.director.currentType = ProjectScreens.home;\n        return this;\n    }\n    get scale() {\n        if (this.director.currentType !== ProjectScreens.canvas)\n            return 1;\n        return this.navigationManager.scale;\n    }\n    /**\n     * @description Translate and scale the canvas by the given values\n     * @param translation\n     * @param scale\n     */\n    transform(translation, scale) {\n        this.content.setStyle(\"transform\", css `translate3d(${translation.x}px, ${translation.y}px, 0) scale3d(${scale}, ${scale}, 1)`);\n    }\n};\nCanvas = __decorate([\n    define(\"vc-canvas\")\n], Canvas);\nexport { Canvas };\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./home.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./home.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { VcComponent } from \"../../components/component/component\";\nimport { define } from \"turbodombuilder\";\nimport { HomeView } from \"./home.view\";\nimport \"./home.css\";\nlet Home = class Home extends VcComponent {\n    constructor(properties) {\n        super(properties);\n        this.mvc.generate({\n            viewConstructor: HomeView,\n        });\n        this.director.authenticationManager.onLogin.add(this.view.onLogin);\n        this.director.groupsManager.onGroupsChanged.add(this.view.generateGroups);\n    }\n};\nHome = __decorate([\n    define(\"vc-home\")\n], Home);\nexport { Home };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { button, DefaultEventName, div, TurboSelect, TurboSelectEntry, TurboView } from \"turbodombuilder\";\nimport { AppScreens } from \"../../directors/app/app.types\";\nexport class HomeView extends TurboView {\n    constructor() {\n        super(...arguments);\n        this.onLogin = (loggedIn) => {\n            this.groupsPanel.removeAllChildren();\n            if (!loggedIn) {\n                this.element.director.authenticationManager.renderGoogleButton(this.groupsPanel);\n            }\n            else {\n                this.groupsPanel.addChild(this.groupsSelect);\n                //TODO this.googleLoginParent.remove();\n            }\n        };\n        this.generateGroups = (groups) => {\n            this.groupsSelect.clear();\n            groups.forEach((group) => {\n                const entry = new TurboSelectEntry({ value: group.name, secondaryValue: group._id });\n                entry.onSelected = (value) => {\n                    if (value)\n                        this.generateProjects(group._id);\n                };\n                this.groupsSelect.addEntry(entry);\n            });\n        };\n    }\n    setupUIElements() {\n        super.setupUIElements();\n        this.groupsSelect = new TurboSelect({ id: \"groups-select\" });\n        this.projectsSelect = new TurboSelect({});\n        this.groupsPanel = div({ id: \"groups-panel\" });\n        this.mainPanel = div();\n        this.addProjectButton = button({ text: \"Add Project\" });\n    }\n    setupUILayout() {\n        super.setupUILayout();\n        this.element.addChild([this.groupsPanel, this.mainPanel]);\n        this.mainPanel.addChild([this.addProjectButton, this.projectsSelect]);\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        this.addProjectButton.addListener(DefaultEventName.click, () => __awaiter(this, void 0, void 0, function* () {\n            const project = yield this.element.director.groupsManager.createProject(\"P1111\", this.groupsSelect.selectedSecondaryValue);\n            yield this.openProject(project);\n        }));\n    }\n    generateProjects(groupId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.projectsSelect.clear();\n            const projects = yield this.element.director.groupsManager.getProjectsForGroup(groupId);\n            projects.forEach((project) => {\n                const entry = new TurboSelectEntry({ value: project.name, secondaryValue: project._id });\n                entry.addListener(DefaultEventName.click, () => __awaiter(this, void 0, void 0, function* () { return yield this.openProject(project); }));\n                this.projectsSelect.addEntry(entry);\n            });\n        });\n    }\n    openProject(project) {\n        return __awaiter(this, void 0, void 0, function* () {\n            window.location.href = `${window.location.origin}/project/${project._id}`;\n            return;\n            const persistedDoc = yield this.element.director.groupsManager.openProject(project._id);\n            const onConnection = () => {\n                this.element.director.documentManager.document = persistedDoc.doc;\n                this.element.director.currentType = AppScreens.document;\n            };\n            persistedDoc.websocket.onConnect.add(onConnection);\n        });\n    }\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!./main.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!./main.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Tool } from \"../tool/tool\";\nimport { ClosestOrigin, define } from \"turbodombuilder\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { BranchingNode } from \"../../components/branchingNode/branchingNode\";\n/**\n * @description Tool that handles creating flows and connecting nodes\n */\nlet ConnectionTool = class ConnectionTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.connection);\n        this.lastNodeId = null;\n        //Interval indicating the frequency at which points are permanently added to the flow\n        //A higher value will increase the smoothing effect of the flow\n        this.drawingInterval = 150;\n        //The last time a point was added permanently (used for when drawing flows)\n        this.lastDrawnTime = 0;\n    }\n    get currentFlowId() {\n        return this._currentFlowId;\n    }\n    set currentFlowId(value) {\n        this._currentFlowId = value;\n        this._currentFlow = undefined;\n    }\n    get currentFlow() {\n        if (!this._currentFlow)\n            this._currentFlow = this.project.getFlow(this.currentFlowId);\n        return this._currentFlow;\n    }\n    initializeFlow(e) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //Reset drawing time\n            this.lastDrawnTime = Date.now();\n            //Save closest node\n            const closestNode = e.closest(BranchingNode, true, ClosestOrigin.position);\n            //If clicking on a node\n            if (closestNode) {\n                //Set last node ID\n                this.lastNodeId = closestNode.dataId;\n                //Find first flow intersection with this node\n                let intersection;\n                for (const flow of this.project.flows) {\n                    intersection = flow.findNodeEntry(this.lastNodeId);\n                    if (intersection)\n                        break;\n                }\n                //If intersection found\n                if (intersection && intersection.flowId != undefined) {\n                    //Assign flow ID\n                    this.currentFlowId = intersection.flowId;\n                    //Create a new branch at this node\n                    return yield this.currentFlow.branchAtPoint(intersection, e.scaledPosition, this.lastNodeId);\n                }\n                //Otherwise --> create a new flow\n                this.currentFlowId = yield this.project.createNewFlow(e.scaledPosition, this.lastNodeId);\n                return;\n            }\n            //Otherwise --> get the point data (if any) that the user initiated the drag from\n            // const closestPoint = FlowIntersectionHandler.flowIntersectingWithPoint(e.scaledPosition);\n            // //Return if null\n            // if (!closestPoint || !closestPoint.flowId) return;\n            //\n            // this.currentFlow = Flow.getById(closestPoint.flowId);\n            // //Update last node ID\n            // this.lastNodeId = closestPoint.lastNodeId;\n            // //Branch (temporarily) at point to later update the original path\n            // return this.currentFlow.branchingHandler.branchAtPoint(closestPoint, e.scaledPosition,\n            //     undefined, true, true);\n        });\n    }\n    //On click --> create a point if the click is inside a node, otherwise cancel flow\n    clickAction(e) {\n        //Get the closest node to the event's target\n        const closestNode = e.closest(BranchingNode);\n        //Otherwise --> store last node ID\n        if (closestNode)\n            this.lastNodeId = closestNode.dataId.toString();\n        //If no current flow --> try to initialize one\n        if (!this.currentFlow)\n            return this.initializeFlow(e);\n        //If clicked outside a node --> end current flow (if any) and return\n        if (!closestNode)\n            return this.endAndClear();\n        //Add a point to this flow, with the closestNode's ID\n        this.currentFlow.addPoint(e.scaledPosition, this.lastNodeId);\n    }\n    dragStart(e) {\n        //Return if already creating/editing a flow\n        if (this.currentFlowId)\n            return;\n        this.initializeFlow(e);\n    }\n    moveAction(e) {\n        var _a;\n        (_a = this.currentFlow) === null || _a === void 0 ? void 0 : _a.addPoint(e.scaledPosition, null, true);\n    }\n    //On drag --> draw flow\n    dragAction(e) {\n        var _a;\n        //Return if no current flow\n        if (!this.currentFlow || !this.currentFlow.currentBranch)\n            return;\n        //Get the closest node\n        const closestNode = e.closest(BranchingNode, true, ClosestOrigin.position);\n        //Check if drawing a temporary or permanent point\n        //If drawing into a new node --> ignore interval and add a point. This ensures that when a user hits a\n        // new node, it is added to the flow\n        const isTemporary = Date.now() - this.lastDrawnTime <= this.drawingInterval\n            && (closestNode === null || closestNode === void 0 ? void 0 : closestNode.dataId.toString()) == this.lastNodeId;\n        //If the point is permanent --> update last drawn time and last node\n        if (!isTemporary) {\n            this.lastDrawnTime = Date.now();\n            this.lastNodeId = closestNode === null || closestNode === void 0 ? void 0 : closestNode.dataId.toString();\n        }\n        //Add point\n        (_a = this.currentFlow) === null || _a === void 0 ? void 0 : _a.addPoint(e.scaledPosition, closestNode === null || closestNode === void 0 ? void 0 : closestNode.dataId, isTemporary);\n    }\n    dragEnd() {\n        //Drag end --> end the flow and clear current reference\n        this.endAndClear();\n    }\n    endAndClear() {\n        this.currentFlow.endFlow();\n        this.currentFlowId = null;\n        this.lastNodeId = null;\n    }\n};\nConnectionTool = __decorate([\n    define(\"connection-tool\")\n], ConnectionTool);\nexport { ConnectionTool };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Tool } from \"../tool/tool\";\nimport { define } from \"turbodombuilder\";\nimport { Card } from \"../../components/card/card\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\n/**\n * @description Tool that creates cards\n */\nlet CreateCardTool = class CreateCardTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.createCard);\n    }\n    //On click\n    clickAction(e) {\n        //If there's already a card at click position --> return\n        if (e.closest(Card, false))\n            return;\n        //Otherwise --> create card at click position\n        this.project.createNewCard(e.scaledPosition);\n    }\n};\nCreateCardTool = __decorate([\n    define(\"create-card-tool\")\n], CreateCardTool);\nexport { CreateCardTool };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Tool } from \"../tool/tool\";\nimport { define } from \"turbodombuilder\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { Clip } from \"../../components/clip/clip\";\nimport { TextElement } from \"../../components/textElement/textElement\";\nimport { BranchingNode } from \"../../components/branchingNode/branchingNode\";\nlet DeleteTool = class DeleteTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.delete);\n    }\n    clickAction(e) {\n        if (e.closest(TextElement))\n            e.closest(TextElement).clip.removeText(e.closest(TextElement));\n        else if (e.closest(Clip))\n            e.closest(Clip).card.removeClip(e.closest(Clip));\n        else if (e.closest(BranchingNode))\n            e.closest(BranchingNode).delete();\n    }\n};\nDeleteTool = __decorate([\n    define(\"delete-tool\")\n], DeleteTool);\nexport { DeleteTool };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Tool } from \"../tool/tool\";\nimport { ClickMode, define } from \"turbodombuilder\";\nimport { Cursor } from \"../../managers/cursorManager/cursorManager.types\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\n/**\n * @description Tool that allows the user to pan the canvas\n */\nlet NavigatorTool = class NavigatorTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.navigator);\n    }\n    get navigationManager() {\n        return this.project.canvas.navigationManager;\n    }\n    activate() {\n        //Set cursor to grab\n        this.cursorManager.cursor = Cursor.grab;\n    }\n    clickStart(e) {\n        //Click start --> cursor grabbing\n        this.cursorManager.cursor = Cursor.grabbing;\n    }\n    dragAction(e) {\n        //On drag --> pan and (if two touch points) zoom\n        this.navigationManager.pan(e);\n        if (e.positions.valuesArray().length > 1)\n            this.navigationManager.zoom(e);\n    }\n    clickEnd(e) {\n        if (e.clickMode == ClickMode.middle)\n            this.cursorManager.cursor = Cursor.default;\n        //Click end --> cursor grab\n        else\n            this.cursorManager.cursor = Cursor.grab;\n    }\n    deactivate() {\n        //Deactivation --> cursor default\n        this.cursorManager.cursor = Cursor.default;\n    }\n};\nNavigatorTool = __decorate([\n    define(\"navigator-tool\")\n], NavigatorTool);\nexport { NavigatorTool };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Tool } from \"../tool/tool\";\nimport { ClosestOrigin, define, div } from \"turbodombuilder\";\nimport { Card } from \"../../components/card/card\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { TextElement } from \"../../components/textElement/textElement\";\nimport { ContextView } from \"../../managers/contextManager/contextManager.types\";\nimport { Clip } from \"../../components/clip/clip\";\nimport { Timeline } from \"../../components/timeline/timeline\";\nimport { BranchingNode } from \"../../components/branchingNode/branchingNode\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\n/**\n * @description Tool that allows user to select elements and move them around\n */\nlet SelectionTool = class SelectionTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.selection);\n        this.clipClone = null;\n        this.timelineIndicator = div({ style: \"background-color: pink; width: 5px; border: 2px solid cyan\" });\n    }\n    clickAction(e) {\n        const closestText = e.closest(TextElement);\n        const closestClip = e.closest(Clip);\n        const closestCard = e.closest(Card);\n        if (closestText && this.contextManager.view == ContextView.camera) {\n            this.contextManager.setContext(closestText, 3, true);\n            this.currentTarget = closestText;\n        }\n        else if (closestClip) {\n            this.contextManager.setContext(e.closest(Card, false), 1);\n            this.contextManager.setContext(closestClip, 2, true);\n            this.currentTarget = closestClip;\n        }\n        else if (closestCard) {\n            this.contextManager.setContext(closestCard, 1, true);\n            this.currentTarget = closestCard;\n        }\n        else {\n            this.contextManager.clearContext();\n            this.currentTarget = null;\n        }\n    }\n    dragStart(e) {\n        const closestText = e.closest(TextElement);\n        const closestClip = e.closest(Clip);\n        const closestNode = e.closest(BranchingNode);\n        if (closestClip) {\n            this.contextManager.setContext(e.closest(Card, false), 1);\n            this.contextManager.setContext(closestClip, 2, true);\n            this.currentTarget = closestClip;\n            this.clipClone = closestClip.cloneAndMove(e);\n        }\n        //Click start --> save the card that was clicked on (if any)\n        else if (this.project.currentType == ProjectScreens.canvas && closestNode) {\n            this.contextManager.setContext(closestNode, 1);\n            this.currentTarget = closestNode;\n        }\n        else if (this.project.currentType == ProjectScreens.camera && closestText) {\n            this.contextManager.setContext(closestText, 3);\n            closestText.select(true);\n            this.currentTarget = closestText;\n        }\n    }\n    dragAction(e) {\n        //On drag and if dragging a card --> compute delta position of drag, move card accordingly, and update\n        //affected flows\n        if (this.clipClone) {\n            this.clipClone.translateBy(e.scaledDeltaPosition);\n            this.insertIndicatorAfterClosestClip(e);\n        }\n        else if (this.project.currentType == ProjectScreens.canvas && this.currentTarget instanceof BranchingNode) {\n            const id = this.currentTarget.dataId;\n            this.currentTarget.move(e.scaledDeltaPosition);\n            this.project.forEachBranch((branch) => branch.updateAfterMovingNode(id, e.scaledDeltaPosition));\n        }\n        else if (this.project.currentType == ProjectScreens.camera && this.currentTarget instanceof TextElement) {\n            this.currentTarget.translateBy(e.scaledDeltaPosition);\n            this.contextManager.getAllOfType(TextElement).forEach(entry => {\n                if (!(entry instanceof TextElement))\n                    return;\n                entry.translateBy(e.scaledDeltaPosition);\n            });\n        }\n    }\n    dragEnd(e) {\n        this.currentTarget = null;\n        if (this.clipClone) {\n            this.moveClip(e);\n        }\n        else if (this.project.currentType == ProjectScreens.canvas) {\n            if (e.closest(Card))\n                this.contextManager.removeContext(e.closest(Card));\n        }\n        else if (this.project.currentType == ProjectScreens.camera && this.contextManager.getOfType(TextElement)) {\n            this.contextManager.removeContext(e.closest(TextElement), 3);\n        }\n    }\n    insertIndicatorAfterClosestClip(e) {\n        const closestTimeline = e.closest(Timeline, true, ClosestOrigin.position);\n        if (!closestTimeline) {\n            this.removeTimelineIndicator();\n            return;\n        }\n        this.timelineIndicatorIndex = closestTimeline.getClipFromPosition(e).closestIntersection;\n        if (closestTimeline.clips[this.timelineIndicatorIndex] == this.clipClone.originElement\n            || closestTimeline.clips[this.timelineIndicatorIndex - 1] == this.clipClone.originElement) {\n            this.removeTimelineIndicator();\n            return;\n        }\n        closestTimeline.addIndicatorAt(this.timelineIndicator, this.timelineIndicatorIndex + 1);\n    }\n    moveClip(e) {\n        var _a;\n        const closestTimeline = e.closest(Timeline, true, ClosestOrigin.position);\n        const newCard = e.closest(Card, false, ClosestOrigin.position);\n        if (closestTimeline && this.timelineIndicatorIndex != -1) {\n            this.contextManager.clearContext();\n            if (newCard == this.clipClone.originElement.card\n                && this.timelineIndicatorIndex >= this.clipClone.originElement.dataIndex)\n                this.timelineIndicatorIndex--;\n            const clipDataCopy = this.clipClone.originElement.data.toJSON();\n            this.clipClone.originElement.card.removeClip(this.clipClone.originElement);\n            newCard.addClip(Clip.createData(clipDataCopy), this.timelineIndicatorIndex).then(index => {\n                this.contextManager.setContext(newCard, 1);\n                this.contextManager.setContext(newCard.timeline.clips[index], 2, true);\n            });\n        }\n        (_a = this.clipClone.originElement) === null || _a === void 0 ? void 0 : _a.setStyle(\"opacity\", \"1\");\n        this.removeTimelineIndicator();\n        this.clipClone.remove();\n        this.clipClone = null;\n    }\n    removeTimelineIndicator() {\n        this.timelineIndicator.remove();\n        this.timelineIndicatorIndex = -1;\n    }\n};\nSelectionTool = __decorate([\n    define(\"selection-tool\")\n], SelectionTool);\nexport { SelectionTool };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Tool } from \"../tool/tool\";\nimport { define } from \"turbodombuilder\";\nimport { Card } from \"../../components/card/card\";\nimport { Clip } from \"../../components/clip/clip\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\n/**\n * @description Tool that allows the user to shoot video clips into a card\n */\nlet ShootTool = class ShootTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.shoot);\n    }\n    activate() {\n        // this.documentManager.camera?.startStream();\n    }\n    deactivate() {\n        var _a;\n        (_a = this.project.camera) === null || _a === void 0 ? void 0 : _a.stopStream();\n    }\n    clickAction(e) {\n        const closestClip = e.closest(Clip);\n        //Get clicked card (if any) and shoot into it\n        const closestCard = (closestClip ? closestClip.closest(Card) : e.closest(Card));\n        if (!closestCard)\n            return;\n        this.contextManager.setContext(closestCard, 1);\n        if (closestClip)\n            this.contextManager.setContext(closestClip, 2, true);\n        // else this.contextManager.setContext(closestCard.timeline.clips[closestCard.timeline.clips.length - 1], 2);\n        this.project.currentType = ProjectScreens.camera;\n        this.project.camera.card = closestCard;\n        this.project.camera.snapToClip(closestClip);\n        this.project.toolPanel.changePanel(ToolType.shoot);\n        this.project.camera.startStream();\n    }\n};\nShootTool = __decorate([\n    define(\"shoot-tool\")\n], ShootTool);\nexport { ShootTool };\n","import { Tool } from \"../tool/tool\";\nimport { Card } from \"../../components/card/card\";\nimport { ClipRenderer } from \"../../components/clipRenderer/clipRenderer\";\nimport { Point } from \"turbodombuilder\";\nimport { ToolType } from \"../../managers/toolManager/toolManager.types\";\nimport { Clip } from \"../../components/clip/clip\";\nimport { ProjectScreens } from \"../../directors/project/project.types\";\nexport class TextTool extends Tool {\n    constructor(project) {\n        super(project, ToolType.text);\n    }\n    clickAction(e) {\n        if (this.project.currentType == ProjectScreens.canvas) {\n            const closestCard = e.closest(Card, false);\n            if (!closestCard)\n                return;\n            closestCard.editTitle();\n            e.stopImmediatePropagation();\n        }\n        else if (this.project.currentType == ProjectScreens.camera) {\n            const closestRenderer = e.closest(ClipRenderer);\n            if (!closestRenderer)\n                return;\n            const rendererBounds = closestRenderer.getBoundingClientRect();\n            this.contextManager.getOfType(Clip).addText(new Point((e.position.x - rendererBounds.left) / rendererBounds.width, (e.position.y - rendererBounds.top) / rendererBounds.height));\n        }\n    }\n}\n","\n      import API from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./tool.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js!./tool.css\";\n       export default content && content.locals ? content.locals : undefined;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport \"./tool.css\";\nimport { ToolView } from \"./toolView\";\nimport { auto } from \"turbodombuilder\";\n/**\n * @description General Tool class that defines basic behaviors and \"abstract\" functions tools could use to handle events\n */\nexport class Tool {\n    constructor(project, name) {\n        //DOM elements representing this tool\n        this.instances = [];\n        this.name = name;\n        this.project = project;\n        this.selected = false;\n    }\n    get contextManager() {\n        return this.project.contextManager;\n    }\n    get toolManager() {\n        return this.project.toolManager;\n    }\n    get cursorManager() {\n        return this.project.director.cursorManager;\n    }\n    /**\n     * @description Creates an HTML DOM element that represents this tool\n     */\n    createInstance() {\n        const instance = new ToolView(this);\n        this.instances.push(instance);\n        return instance;\n    }\n    /**\n     * @description Fired when the tool is picked up\n     */\n    activate() { }\n    /**\n     * @description Fired on click start\n     * @param e\n     */\n    clickStart(e) { }\n    /**\n     * @description Fired on click\n     * @param e\n     */\n    clickAction(e) { }\n    /**\n     * @description Fired on click end\n     * @param e\n     */\n    clickEnd(e) { }\n    /**\n     * @description Fired on pointer move\n     * @param e\n     */\n    moveAction(e) { }\n    /**\n     * @description Fired on drag start\n     * @param e\n     */\n    dragStart(e) { }\n    /**\n     * @description Fired on drag\n     * @param e\n     */\n    dragAction(e) { }\n    /**\n     * @description Fired on drag end\n     * @param e\n     */\n    dragEnd(e) { }\n    /**\n     * Fired when tool is put down (deselected)\n     */\n    deactivate() { }\n    /**\n     * @description Marks whether the tool is selected or not. Accurately reflected on its instances\n     */\n    set selected(value) {\n        this.instances.forEach(instance => instance.update());\n    }\n}\n__decorate([\n    auto()\n], Tool.prototype, \"selected\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { define, TurboButton } from \"turbodombuilder\";\nimport \"./tool.css\";\n/**\n * @description Basic DOM element that represents a tool (for now it's just a button)\n */\nlet ToolView = class ToolView extends TurboButton {\n    constructor(tool) {\n        super({ text: tool.name, elementTag: \"h4\", classes: \"card clickable\" });\n        this.selectedClass = \"selected\";\n        this.tool = tool;\n        this.update();\n    }\n    /**\n     * @description Selected state of the tool\n     */\n    get selected() {\n        return this.tool.selected;\n    }\n    set selected(value) {\n        this.tool.selected = value;\n    }\n    /**\n     * @description Updates the visual appearance of the element based on the tool's state\n     */\n    update() {\n        this.toggleClass(this.selectedClass, this.selected);\n    }\n};\nToolView = __decorate([\n    define(\"vc-tool\")\n], ToolView);\nexport { ToolView };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport function hashString(input) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const encoder = new TextEncoder();\n        const data = encoder.encode(input);\n        const hashBuffer = yield crypto.subtle.digest(\"SHA-256\", data);\n        return Array.from(new Uint8Array(hashBuffer))\n            .map(byte => byte.toString(16).padStart(2, \"0\"))\n            .join(\"\");\n    });\n}\nexport function randomId(length = 8) {\n    const array = new Uint8Array(length);\n    crypto.getRandomValues(array);\n    return Array.from(array)\n        .map(b => b.toString(36).padStart(2, \"0\"))\n        .join(\"\")\n        .slice(0, length);\n}\n","export function randomFromRange(n1, n2) {\n    if (typeof n1 != \"number\" || typeof n2 != \"number\")\n        return 0;\n    const min = Math.min(n1, n2);\n    const max = Math.max(n1, n2);\n    return (Math.random() * (max - min)) + min;\n}\nexport function randomColor(saturation = [50, 70], lightness = [70, 85]) {\n    if (typeof saturation != \"number\" && saturation.length >= 2)\n        saturation = randomFromRange(saturation[0], saturation[1]);\n    if (typeof lightness != \"number\" && lightness.length >= 2)\n        lightness = randomFromRange(lightness[0], lightness[1]);\n    return \"hsl(\" + Math.random() * 360 + \" \" + saturation + \" \" + lightness + \")\";\n}\n","export function getSize(el, withMargins = true) {\n    const size = { width: el.offsetWidth, height: el.offsetHeight };\n    if (withMargins) {\n        const style = getComputedStyle(el);\n        size.width += parseInt(style.marginLeft) + parseInt(style.marginRight);\n        size.height += parseInt(style.marginTop) + parseInt(style.marginBottom);\n    }\n    return size;\n}\n","/**\n * @description Formats the given number of seconds as \"MM:SS\". The \":\" can be replaced and specified in the separator\n * parameter.\n * @param seconds\n * @param separator\n */\nexport function formatMMSS(seconds, separator = \":\") {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    const formattedMinutes = String(minutes).padStart(2, \"0\");\n    const formattedSeconds = String(remainingSeconds).padStart(2, \"0\");\n    return formattedMinutes + separator + formattedSeconds;\n}\n/**\n * @description Formats the given number of seconds as \"HH:MM:SS\". The \":\" can be replaced and specified in the separator\n * parameter.\n * @param seconds\n * @param separator\n */\nexport function formatHHMMSS(seconds, separator = \":\") {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    const formattedHours = String(hours).padStart(2, \"0\");\n    const formattedMinutes = String(minutes).padStart(2, \"0\");\n    const formattedSeconds = String(remainingSeconds).padStart(2, \"0\");\n    return formattedHours + separator + formattedMinutes + separator + formattedSeconds;\n}\nexport function formatMmSs(seconds, separator = \"\") {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return (minutes > 0 ? (minutes + \"m\" + separator) : \"\") + remainingSeconds + \"s\";\n}\n","import { Map as YMap, Array as YArray, AbstractType as YAbstractType, Text as YText, Doc as YDoc, YMapEvent, YArrayEvent, YEvent } from \"yjs\";\nexport { YMap, YArray, YAbstractType, YText, YDoc, YEvent, YMapEvent, YArrayEvent };\n","import { YModel } from \"../yModel\";\n/**\n * @class YComponentModel\n * @extends YModel\n * @description An MVC model that handles a Yjs map and observes changes on its direct fields, firing change\n * callbacks at the keys that changed through the emitter.\n */\nexport class YComponentModel extends YModel {\n    observeChanges(event, blockKey) {\n        event.keysChanged.forEach(key => {\n            const change = event.changes.keys.get(key);\n            if (!change) {\n                console.warn(`No change info for key \"${key}\". Event:`, event);\n                return;\n            }\n            this.fireKeyChangedCallback(key, blockKey, (change === null || change === void 0 ? void 0 : change.action) === \"delete\");\n        });\n    }\n}\n","import { YArray, YArrayEvent, YMapEvent } from \"../../yManagement.types\";\nimport { YModel } from \"../yModel\";\nimport { TurboElement, TurboProxiedElement } from \"turbodombuilder\";\n/**\n * @class YManagerModel\n * @template DataType - The type of the data stored in each block.\n * @template ComponentType - The type of component that corresponds to each entry/field of the data.\n * @template {string | number | symbol} KeyType - The type of the keys used to access data in blocks.\n * @template {YMap | YArray} YType - The type of the Yjs data (YMap or YArray).\n * @template {string | number | symbol} IdType - The type of the block IDs.\n * @template {\"array\" | \"map\"} BlocksType - Whether data blocks are stored as an array or a map.\n * @template {YManagerDataBlock<YType, IdType, ComponentType, KeyType>} BlockType - The structure of each data block.\n * @description MVC model that manages Yjs data and synchronizes it with a map or array of components, each attached to\n * one entry of the data object.\n */\nexport class YManagerModel extends YModel {\n    constructor() {\n        super(...arguments);\n        this.onUpdated = (data, instance, id) => {\n            if (!(instance instanceof TurboElement || instance instanceof TurboProxiedElement))\n                return;\n            instance.data = data;\n            instance.dataId = id.toString();\n        };\n        this.onDeleted = (_data, instance, id, blockKey) => {\n            var _a;\n            this.removeInstance(instance);\n            (_a = this.getBlock(blockKey).instances) === null || _a === void 0 ? void 0 : _a.delete(id);\n        };\n    }\n    /**\n     * @function createBlock\n     * @description Creates a data block entry.\n     * @param {YType} value - The data of the block.\n     * @param {IdType} [id] - The optional ID of the data.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The key of the block.\n     * @protected\n     * @return {BlockType} - The created block.\n     */\n    createBlock(value, id, blockKey = this.defaultBlockKey) {\n        return Object.assign(Object.assign({}, super.createBlock(value, id, blockKey)), { instances: new Map() });\n    }\n    getInstance(key, blockKey = this.defaultComputationBlockKey) {\n        for (const block of this.getAllBlocks(blockKey)) {\n            if (!block.instances)\n                continue;\n            if (block.instances.has(key))\n                return block.instances.get(key);\n        }\n        return null;\n    }\n    getAllComponents(blockKey = this.defaultComputationBlockKey) {\n        var _a;\n        const block = this.getBlock(blockKey);\n        if (block && block.data instanceof YArray) {\n            const instancesMap = (_a = this.getBlock(blockKey)) === null || _a === void 0 ? void 0 : _a.instances;\n            if (!instancesMap)\n                return [];\n            const instances = [];\n            for (const [index, instance] of instancesMap.entries())\n                instances.push([index, instance]);\n            instances.sort((a, b) => {\n                if (typeof a[0] == \"string\" && typeof b[0] == \"string\")\n                    return a[0].localeCompare(b[0]);\n                else if (typeof a[0] == \"number\" && typeof b[0] == \"number\")\n                    return a[0] - b[0];\n                return 0;\n            });\n            return instances.map(([, instance]) => instance);\n        }\n        return this.getAllBlocks(blockKey).flatMap(block => { var _a; return Array.from((_a = block.instances) === null || _a === void 0 ? void 0 : _a.values()) || []; });\n    }\n    /**\n     * @function clear\n     * @description Clears the block data at the given key.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key.\n     */\n    clear(blockKey = this.defaultComputationBlockKey) {\n        super.clear(blockKey);\n        this.getAllBlocks(blockKey).forEach(block => {\n            var _a, _b;\n            (_a = block === null || block === void 0 ? void 0 : block.instances) === null || _a === void 0 ? void 0 : _a.forEach(instance => this.removeInstance(instance));\n            (_b = block === null || block === void 0 ? void 0 : block.instances) === null || _b === void 0 ? void 0 : _b.clear();\n        });\n    }\n    /**\n     * @function fireKeyChangedCallback\n     * @description Fires the emitter's change callback for the given key in a block, passing it the data at the key's value.\n     * @param {KeyType} key - The key that changed.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultBlockKey] - The block where the change occurred.\n     * @param {boolean} [deleted=false] - Whether the key was deleted.\n     */\n    fireKeyChangedCallback(key, blockKey = this.defaultBlockKey, deleted = false) {\n        var _a, _b;\n        if (!this.getAllKeys(blockKey).includes(key)) {\n            return super.fireKeyChangedCallback(key, blockKey, deleted);\n        }\n        if (!this.onAdded)\n            return;\n        const data = this.getData(key, blockKey);\n        const instance = this.onAdded(data, key, blockKey);\n        (_a = this.getBlock(blockKey).instances) === null || _a === void 0 ? void 0 : _a.set(key, instance);\n        if (typeof instance === \"object\") {\n            if (\"data\" in instance)\n                instance.data = data;\n            if (\"dataId\" in instance)\n                instance.dataId = key.toString();\n        }\n        (_b = this.onUpdated) === null || _b === void 0 ? void 0 : _b.call(this, data, instance, key, blockKey);\n    }\n    removeInstance(instance) {\n        if (typeof instance === \"object\" && \"remove\" in instance && typeof instance.remove == \"function\")\n            instance === null || instance === void 0 ? void 0 : instance.remove();\n    }\n    observeChanges(event, blockKey = this.defaultBlockKey) {\n        var _a;\n        if (event instanceof YMapEvent) {\n            event.keysChanged.forEach(key => {\n                var _a, _b;\n                const change = event.changes.keys.get(key);\n                switch (change.action) {\n                    case \"add\":\n                        this.fireKeyChangedCallback(key, blockKey);\n                        break;\n                    case \"delete\":\n                        (_a = this.onDeleted) === null || _a === void 0 ? void 0 : _a.call(this, change.oldValue, this.getInstance(key, blockKey), key, blockKey);\n                        break;\n                    case \"update\":\n                        (_b = this.onUpdated) === null || _b === void 0 ? void 0 : _b.call(this, this.getData(key, blockKey), this.getInstance(key, blockKey), key, blockKey);\n                        break;\n                }\n            });\n        }\n        else if (event instanceof YArrayEvent) {\n            let currentIndex = 0;\n            for (const delta of event.delta) {\n                if (delta.retain !== undefined)\n                    currentIndex += delta.retain;\n                else if (delta.insert) {\n                    const insertedItems = Array.isArray(delta.insert) ? delta.insert : [delta.insert];\n                    const count = insertedItems.length;\n                    this.shiftIndices(currentIndex, count, blockKey);\n                    for (let i = 0; i < count; i++)\n                        this.fireKeyChangedCallback((currentIndex + i), blockKey);\n                    currentIndex += count;\n                }\n                else if (delta.delete) {\n                    const count = delta.delete;\n                    for (let i = 0; i < count; i++) {\n                        (_a = this.onDeleted) === null || _a === void 0 ? void 0 : _a.call(this, undefined, this.getInstance((currentIndex + i), blockKey), (currentIndex + i), blockKey);\n                    }\n                    this.shiftIndices(currentIndex + count, -count, blockKey);\n                }\n            }\n        }\n    }\n    shiftIndices(fromIndex, offset, blockKey = this.defaultBlockKey) {\n        var _a;\n        const block = (_a = this.getBlock(blockKey)) === null || _a === void 0 ? void 0 : _a.instances;\n        if (!block)\n            return;\n        const itemsToShift = [];\n        for (const [oldIndexStr, instance] of block.entries()) {\n            const oldIndex = Number(oldIndexStr);\n            if (oldIndex >= fromIndex)\n                itemsToShift.push([oldIndex, instance]);\n        }\n        itemsToShift.sort((a, b) => a[0] - b[0]);\n        for (const [oldIndex] of itemsToShift)\n            block.delete(oldIndex);\n        for (const [oldIndex, instance] of itemsToShift) {\n            const newIndex = oldIndex + offset;\n            if (typeof instance === \"object\" && \"dataId\" in instance)\n                instance.dataId = newIndex;\n            block.set((oldIndex + offset), instance);\n        }\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { YAbstractType, YMap, YArray } from \"../yManagement.types\";\nimport { auto, TurboModel } from \"turbodombuilder\";\n/**\n * @class YModel\n * @abstract\n * @extends TurboModel\n * @template DataType - The plain shape of the shared data.\n * @template {YMap | YArray} YType - The Yjs type used (YMap or YArray).\n * @template {string | number} KeyType - The type of keys used to access values.\n * @template {string | number} IdType - The type of block identifiers.\n * @template {\"array\" | \"map\"} BlocksType - Either 'array' or 'map' depending on the block storage format.\n * @template {YDataBlock<YType, IdType>} BlockType - The structure of each block including observer.\n * @description A model that wraps and manages Yjs data structures (YMap/YArray), adding automatic observer support.\n *  */\nexport class YModel extends TurboModel {\n    /**\n     * @constructor\n     * @param {DataType} [data] - Initial data. Not initialized if provided.\n     * @param {BlocksType} [dataBlocksType] - Type of data blocks (array or map).\n     */\n    constructor(data, dataBlocksType) {\n        super(data, dataBlocksType);\n    }\n    /**\n     * @description The data of the default block.\n     */\n    get data() {\n        return super.data;\n    }\n    set data(value) {\n        if (!(value instanceof YAbstractType))\n            return;\n        super.data = value;\n    }\n    /**\n     * @description Whether callbacks are enabled or disabled.\n     */\n    set enabledCallbacks(value) {\n        this.getAllBlocks().forEach(block => {\n            if (!block.observer || !block.data)\n                return;\n            if (value)\n                block.data.observe(block.observer);\n            else\n                block.data.unobserve(block.observer);\n        });\n    }\n    /**\n     * @function getData\n     * @description Retrieves the value associated with a given key in the specified block.\n     * @param {KeyType} key - The key to retrieve.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block from which to retrieve the\n     * data.\n     * @returns {unknown} The value associated with the key, or null if not found.\n     */\n    getData(key, blockKey = this.defaultBlockKey) {\n        const data = this.getBlockData(blockKey);\n        if (data instanceof YMap)\n            return data.get(key.toString());\n        if (data instanceof YArray) {\n            const index = Number(key);\n            if (index >= 0 && index < data.length)\n                return data.get(index);\n        }\n        return null;\n    }\n    /**\n     * @function setData\n     * @description Sets the value for a given key in the specified block and triggers callbacks (if enabled).\n     * @param {KeyType} key - The key to update.\n     * @param {unknown} value - The value to assign.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block to update.\n     */\n    setData(key, value, blockKey = this.defaultBlockKey) {\n        const data = this.getBlockData(blockKey);\n        if (data instanceof YMap)\n            data.set(key.toString(), value);\n        else if (data instanceof YArray) {\n            const index = Number(key);\n            if (index < 0)\n                return;\n            if (index < data.length)\n                data.delete(index, 1);\n            data.insert(index, [value]);\n        }\n    }\n    /**\n     * @function getSize\n     * @description Returns the size of the specified block.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block to check.\n     * @returns {number} The size.\n     */\n    getSize(blockKey = this.defaultBlockKey) {\n        const data = this.getBlockData(blockKey);\n        if (data instanceof YMap || data instanceof YArray)\n            return (data instanceof YArray) ? data.length : data.size;\n        return 0;\n    }\n    /**\n     * @function createBlock\n     * @description Creates a data block entry.\n     * @param {YType} value - The data of the block.\n     * @param {IdType} [id] - The optional ID of the data.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The key of the block.\n     * @protected\n     * @return {BlockType} - The created block.\n     */\n    createBlock(value, id, blockKey = this.defaultBlockKey) {\n        return Object.assign(Object.assign({}, super.createBlock(value, id)), { observer: (event) => this.observeChanges(event, blockKey) });\n    }\n    /**\n     * @function setBlock\n     * @description Creates and sets a data block at the specified key.\n     * @param {YType} value - The data to set.\n     * @param {IdType} [id] - Optional block ID.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The key of the block.\n     * @param {boolean} [initialize = true] - Whether to initialize the block after setting.\n     */\n    setBlock(value, id, blockKey = this.defaultBlockKey, initialize = true) {\n        if (this.enabledCallbacks) {\n            const block = this.getBlock(blockKey);\n            if (block && block.data && block.observer)\n                block.data.unobserve(block.observer);\n        }\n        this.clear(blockKey);\n        super.setBlock(value, id, blockKey, initialize);\n    }\n    /**\n     * @function initialize\n     * @description Initializes the block at the given key, and triggers callbacks for all the keys in its data.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key.\n     */\n    initialize(blockKey = this.defaultBlockKey) {\n        var _a;\n        super.initialize(blockKey);\n        const block = this.getBlock(blockKey);\n        (_a = block === null || block === void 0 ? void 0 : block.data) === null || _a === void 0 ? void 0 : _a.observe(block === null || block === void 0 ? void 0 : block.observer);\n    }\n    /**\n     * @function getAllKeys\n     * @description Retrieves all keys within the given block(s).\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultComputationBlockKey] - The block key.\n     * @returns {KeyType[]} Array of keys.\n     */\n    getAllKeys(blockKey = this.defaultComputationBlockKey) {\n        const output = [];\n        for (const block of this.getAllBlocks(blockKey)) {\n            const data = block.data;\n            if (data instanceof YMap)\n                output.push(...Array.from(data.keys()));\n            else if (data instanceof YArray) {\n                for (let i = 0; i < data.length; i++)\n                    output.push(i);\n            }\n        }\n        return output;\n    }\n    /**\n     * @function getAllObservers\n     * @description Retrieves all observers within the given block(s).\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultComputationBlockKey] - The block key.\n     * @returns {((event: YEvent) => void)[]} Array of observers.\n     */\n    getAllObservers(blockKey = this.defaultComputationBlockKey) {\n        return this.getAllBlocks(blockKey).map(block => block.observer);\n    }\n}\n__decorate([\n    auto()\n], YModel.prototype, \"enabledCallbacks\", null);\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { YArray, YMap, YMapEvent, YArrayEvent } from \"./yManagement.types\";\nimport { hashString, randomId } from \"../client/utils/crypto\";\n/**\n * @class YUtilities\n * @description Static utility functions for working with Yjs collaborative types (YMap, YArray, etc).\n */\nexport class YUtilities {\n    /**\n     * @function createYMap\n     * @static\n     * @description Creates a YMap and populates it with key-value pairs from a plain object.\n     * @param {object} data - The initial data to populate the YMap with.\n     * @returns {YMap} A new YMap instance.\n     */\n    static createYMap(data) {\n        const map = new YMap();\n        for (const [key, value] of Object.entries(data))\n            map.set(key, value);\n        return map;\n    }\n    /**\n     * @function createYArray\n     * @static\n     * @template DataType - The type of the array's content.\n     * @description Creates a YArray and populates it with elements from a plain array.\n     * @param {DataType[]} data - The array of data to populate the YArray with.\n     * @returns {YArray} A new YArray instance.\n     */\n    static createYArray(data) {\n        const array = new YArray();\n        array.push(data);\n        return array;\n    }\n    /**\n     * @function addInYMap\n     * @static\n     * @async\n     * @description Adds the provided data in the provided parent in the Yjs document, with a unique ID as its field name.\n     * @param {object} data - The data to append to the Yjs document.\n     * @param {YMap} parentYMap - The YMap to add the data to.\n     * @param {string} [id] - Optional ID to use. If not provided, a unique ID is generated.\n     * @returns {Promise<string>} The ID of the inserted data.\n     */\n    static addInYMap(data, parentYMap, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const generateId = () => __awaiter(this, void 0, void 0, function* () { var _a, _b; return yield hashString(((_b = (_a = parentYMap === null || parentYMap === void 0 ? void 0 : parentYMap.doc) === null || _a === void 0 ? void 0 : _a.clientID) === null || _b === void 0 ? void 0 : _b.toString(32)) + randomId()); });\n            if (!id) {\n                id = yield generateId();\n                while ((parentYMap === null || parentYMap === void 0 ? void 0 : parentYMap.get(id)) !== undefined)\n                    id = yield generateId();\n            }\n            parentYMap.set(id, data);\n            return id;\n        });\n    }\n    /**\n     * @function addInYArray\n     * @static\n     * @description Adds the provided data in the provided parent array in the Yjs document.\n     * @param {object} data - The data to append to the Yjs document.\n     * @param {YArray} parentYArray - The YArray to which the data should be appended.\n     * @param {number} [index] - The index to insert the data at. If omitted or invalid, it is appended at the end.\n     * @returns {number} The index where the data was inserted.\n     */\n    static addInYArray(data, parentYArray, index) {\n        if (index == undefined || index > parentYArray.length) {\n            index = parentYArray.length;\n            parentYArray.push([data]);\n        }\n        else {\n            if (index < 0)\n                index = 0;\n            parentYArray.insert(index, [data]);\n        }\n        return index;\n    }\n    /**\n     * @function removeFromYArray\n     * @static\n     * @description Removes the first occurrence of the given entry from the YArray.\n     * @param {unknown} entry - The entry to remove.\n     * @param {YArray} parentYArray - The parent YArray.\n     * @returns {boolean} True if removed, false otherwise.\n     */\n    static removeFromYArray(entry, parentYArray) {\n        for (const [index, child] of parentYArray.toArray()) {\n            if (entry != child)\n                continue;\n            parentYArray.delete(index);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * @function deepObserveAny\n     * @static\n     * @description Observes deeply for changes to any of the specified fields and invokes callback when any field\n     * changes.\n     * @param {YAbstractType} data - The Yjs type to observe.\n     * @param {(fieldChanged: string, event: YEvent, target: YAbstractType) => void} callback - The function to call\n     * when a matching field changes.\n     * @param {...string} fieldNames - List of field names to observe.\n     */\n    static deepObserveAny(data, callback, ...fieldNames) {\n        if (!data)\n            return;\n        const fields = new Set(fieldNames);\n        data.observeDeep((events) => {\n            var _a, _b, _c;\n            for (const event of events) {\n                const target = event.target;\n                const parentMap = (_a = target._item) === null || _a === void 0 ? void 0 : _a.parent;\n                const key = (_b = target._item) === null || _b === void 0 ? void 0 : _b.parentSub;\n                for (const field of fields) {\n                    if ((event instanceof YMapEvent && event.changes.keys.has(field)) ||\n                        (event instanceof YArrayEvent && parentMap instanceof YMap && key === field) ||\n                        ((_c = event.path) === null || _c === void 0 ? void 0 : _c.some(segment => segment === field))) {\n                        callback(field, event, target);\n                        return;\n                    }\n                }\n            }\n        });\n    }\n    /**\n     * @function deepObserveAll\n     * @static\n     * @description Observes deeply for changes to all specified fields and invokes callback only when all fields\n     * have changed.\n     * @param {YAbstractType} data - The Yjs type to observe.\n     * @param {(event: YEvent, target: YAbstractType) => void} callback - The function to call when all fields change.\n     * @param {...string} fieldNames - List of field names to observe.\n     */\n    static deepObserveAll(data, callback, ...fieldNames) {\n        if (!data)\n            return;\n        const fields = new Set(fieldNames);\n        data.observeDeep(events => {\n            var _a, _b, _c;\n            const changedFields = new Set();\n            for (const event of events) {\n                const target = event.target;\n                const parentMap = (_a = target._item) === null || _a === void 0 ? void 0 : _a.parent;\n                const key = (_b = target._item) === null || _b === void 0 ? void 0 : _b.parentSub;\n                for (const field of fields) {\n                    if ((event instanceof YMapEvent && event.changes.keys.has(field)) ||\n                        (event instanceof YArrayEvent && parentMap instanceof YMap && key === field) ||\n                        ((_c = event.path) === null || _c === void 0 ? void 0 : _c.some(segment => segment === field)))\n                        changedFields.add(field);\n                }\n                if (changedFields.size === fields.size) {\n                    callback(event, target);\n                    return;\n                }\n            }\n        });\n    }\n}\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst env = typeof self === 'object' ? self : globalThis;\n\nconst deserializer = ($, _) => {\n  const as = (out, index) => {\n    $.set(index, out);\n    return out;\n  };\n\n  const unpair = index => {\n    if ($.has(index))\n      return $.get(index);\n\n    const [type, value] = _[index];\n    switch (type) {\n      case PRIMITIVE:\n      case VOID:\n        return as(value, index);\n      case ARRAY: {\n        const arr = as([], index);\n        for (const index of value)\n          arr.push(unpair(index));\n        return arr;\n      }\n      case OBJECT: {\n        const object = as({}, index);\n        for (const [key, index] of value)\n          object[unpair(key)] = unpair(index);\n        return object;\n      }\n      case DATE:\n        return as(new Date(value), index);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as(new RegExp(source, flags), index);\n      }\n      case MAP: {\n        const map = as(new Map, index);\n        for (const [key, index] of value)\n          map.set(unpair(key), unpair(index));\n        return map;\n      }\n      case SET: {\n        const set = as(new Set, index);\n        for (const index of value)\n          set.add(unpair(index));\n        return set;\n      }\n      case ERROR: {\n        const {name, message} = value;\n        return as(new env[name](message), index);\n      }\n      case BIGINT:\n        return as(BigInt(value), index);\n      case 'BigInt':\n        return as(Object(BigInt(value)), index);\n      case 'ArrayBuffer':\n        return as(new Uint8Array(value).buffer, value);\n      case 'DataView': {\n        const { buffer } = new Uint8Array(value);\n        return as(new DataView(buffer), value);\n      }\n    }\n    return as(new env[type](value), index);\n  };\n\n  return unpair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns a deserialized value from a serialized array of Records.\n * @param {Record[]} serialized a previously serialized value.\n * @returns {any}\n */\nexport const deserialize = serialized => deserializer(new Map, serialized)(0);\n","import {deserialize} from './deserialize.js';\nimport {serialize} from './serialize.js';\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} any a serializable value.\n * @param {{transfer?: any[], json?: boolean, lossy?: boolean}?} options an object with\n * a transfer option (ignored when polyfilled) and/or non standard fields that\n * fallback to the polyfill if present.\n * @returns {Record[]}\n */\nexport default typeof structuredClone === \"function\" ?\n  /* c8 ignore start */\n  (any, options) => (\n    options && ('json' in options || 'lossy' in options) ?\n      deserialize(serialize(any, options)) : structuredClone(any)\n  ) :\n  (any, options) => deserialize(serialize(any, options));\n  /* c8 ignore stop */\n\nexport {deserialize, serialize};\n","import {\n  VOID, PRIMITIVE,\n  ARRAY, OBJECT,\n  DATE, REGEXP, MAP, SET,\n  ERROR, BIGINT\n} from './types.js';\n\nconst EMPTY = '';\n\nconst {toString} = {};\nconst {keys} = Object;\n\nconst typeOf = value => {\n  const type = typeof value;\n  if (type !== 'object' || !value)\n    return [PRIMITIVE, type];\n\n  const asString = toString.call(value).slice(8, -1);\n  switch (asString) {\n    case 'Array':\n      return [ARRAY, EMPTY];\n    case 'Object':\n      return [OBJECT, EMPTY];\n    case 'Date':\n      return [DATE, EMPTY];\n    case 'RegExp':\n      return [REGEXP, EMPTY];\n    case 'Map':\n      return [MAP, EMPTY];\n    case 'Set':\n      return [SET, EMPTY];\n    case 'DataView':\n      return [ARRAY, asString];\n  }\n\n  if (asString.includes('Array'))\n    return [ARRAY, asString];\n\n  if (asString.includes('Error'))\n    return [ERROR, asString];\n\n  return [OBJECT, asString];\n};\n\nconst shouldSkip = ([TYPE, type]) => (\n  TYPE === PRIMITIVE &&\n  (type === 'function' || type === 'symbol')\n);\n\nconst serializer = (strict, json, $, _) => {\n\n  const as = (out, value) => {\n    const index = _.push(out) - 1;\n    $.set(value, index);\n    return index;\n  };\n\n  const pair = value => {\n    if ($.has(value))\n      return $.get(value);\n\n    let [TYPE, type] = typeOf(value);\n    switch (TYPE) {\n      case PRIMITIVE: {\n        let entry = value;\n        switch (type) {\n          case 'bigint':\n            TYPE = BIGINT;\n            entry = value.toString();\n            break;\n          case 'function':\n          case 'symbol':\n            if (strict)\n              throw new TypeError('unable to serialize ' + type);\n            entry = null;\n            break;\n          case 'undefined':\n            return as([VOID], value);\n        }\n        return as([TYPE, entry], value);\n      }\n      case ARRAY: {\n        if (type) {\n          let spread = value;\n          if (type === 'DataView') {\n            spread = new Uint8Array(value.buffer);\n          }\n          else if (type === 'ArrayBuffer') {\n            spread = new Uint8Array(value);\n          }\n          return as([type, [...spread]], value);\n        }\n\n        const arr = [];\n        const index = as([TYPE, arr], value);\n        for (const entry of value)\n          arr.push(pair(entry));\n        return index;\n      }\n      case OBJECT: {\n        if (type) {\n          switch (type) {\n            case 'BigInt':\n              return as([type, value.toString()], value);\n            case 'Boolean':\n            case 'Number':\n            case 'String':\n              return as([type, value.valueOf()], value);\n          }\n        }\n\n        if (json && ('toJSON' in value))\n          return pair(value.toJSON());\n\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const key of keys(value)) {\n          if (strict || !shouldSkip(typeOf(value[key])))\n            entries.push([pair(key), pair(value[key])]);\n        }\n        return index;\n      }\n      case DATE:\n        return as([TYPE, value.toISOString()], value);\n      case REGEXP: {\n        const {source, flags} = value;\n        return as([TYPE, {source, flags}], value);\n      }\n      case MAP: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const [key, entry] of value) {\n          if (strict || !(shouldSkip(typeOf(key)) || shouldSkip(typeOf(entry))))\n            entries.push([pair(key), pair(entry)]);\n        }\n        return index;\n      }\n      case SET: {\n        const entries = [];\n        const index = as([TYPE, entries], value);\n        for (const entry of value) {\n          if (strict || !shouldSkip(typeOf(entry)))\n            entries.push(pair(entry));\n        }\n        return index;\n      }\n    }\n\n    const {message} = value;\n    return as([TYPE, {name: type, message}], value);\n  };\n\n  return pair;\n};\n\n/**\n * @typedef {Array<string,any>} Record a type representation\n */\n\n/**\n * Returns an array of serialized Records.\n * @param {any} value a serializable value.\n * @param {{json?: boolean, lossy?: boolean}?} options an object with a `lossy` or `json` property that,\n *  if `true`, will not throw errors on incompatible types, and behave more\n *  like JSON stringify would behave. Symbol and Function will be discarded.\n * @returns {Record[]}\n */\n export const serialize = (value, {json, lossy} = {}) => {\n  const _ = [];\n  return serializer(!(json || lossy), !!json, new Map, _)(value), _;\n};\n","export const VOID       = -1;\nexport const PRIMITIVE  = 0;\nexport const ARRAY      = 1;\nexport const OBJECT     = 2;\nexport const DATE       = 3;\nexport const REGEXP     = 4;\nexport const MAP        = 5;\nexport const SET        = 6;\nexport const ERROR      = 7;\nexport const BIGINT     = 8;\n// export const SYMBOL = 9;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `animated-content-switch {\r\n    display: block;\r\n    position: relative;\r\n    height: 100%;\r\n}\r\n\r\nanimated-content-switch > * {\r\n    min-height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/animationComponents/animatedContentSwitchingDiv/animatedContentSwitchingDiv.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,gBAAgB;IAChB,MAAM;IACN,OAAO;AACX\",\"sourcesContent\":[\"animated-content-switch {\\r\\n    display: block;\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nanimated-content-switch > * {\\r\\n    min-height: 100%;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-app-bar {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    padding: 0.8em 1em;\r\n    background-color: white;\r\n    border-bottom: 0.2em solid var(--grey-2);\r\n}\r\n\r\nvc-app-bar turbo-icon {\r\n    width: 2em;\r\n    height: 2em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/appBar/appBar.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,mBAAmB;;IAEnB,kBAAkB;IAClB,uBAAuB;IACvB,wCAAwC;AAC5C;;AAEA;IACI,UAAU;IACV,WAAW;AACf\",\"sourcesContent\":[\"vc-app-bar {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    align-items: center;\\r\\n\\r\\n    padding: 0.8em 1em;\\r\\n    background-color: white;\\r\\n    border-bottom: 0.2em solid var(--grey-2);\\r\\n}\\r\\n\\r\\nvc-app-bar turbo-icon {\\r\\n    width: 2em;\\r\\n    height: 2em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `camera-background-selector {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2em;\r\n}\r\n\r\ncamera-background-selector h3 {\r\n    color: white;\r\n    text-align: center;\r\n}\r\n\r\ncamera-background-selector .color-palette {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    gap: 1em;\r\n}\r\n\r\n.color-palette-entry {\r\n    width: 2em;\r\n    height: 2em;\r\n    border-radius: 2em;\r\n\r\n    border: 1px solid white;\r\n}\r\n\r\n.color-palette-entry.selected {\r\n    scale: 1.2;\r\n}\r\n\r\n.color-picker {\r\n    display: block;\r\n    background-color: rgba(255, 255, 255, 0.3);\r\n\r\n    border-width: 2px;\r\n    border-color: #ffffff;\r\n\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    padding: 0.4em;\r\n}\r\n\r\n.color-picker .icon {\r\n    width: 100%;\r\n    height: 100%;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/backgroundSelector/backgroundSelector.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,QAAQ;AACZ;;AAEA;IACI,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,kCAAkC;IAClC,QAAQ;AACZ;;AAEA;IACI,UAAU;IACV,WAAW;IACX,kBAAkB;;IAElB,uBAAuB;AAC3B;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,cAAc;IACd,0CAA0C;;IAE1C,iBAAiB;IACjB,qBAAqB;;IAErB,YAAY;IACZ,aAAa;IACb,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,YAAY;AAChB\",\"sourcesContent\":[\"camera-background-selector {\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 2em;\\r\\n}\\r\\n\\r\\ncamera-background-selector h3 {\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\ncamera-background-selector .color-palette {\\r\\n    display: grid;\\r\\n    grid-template-columns: 1fr 1fr 1fr;\\r\\n    gap: 1em;\\r\\n}\\r\\n\\r\\n.color-palette-entry {\\r\\n    width: 2em;\\r\\n    height: 2em;\\r\\n    border-radius: 2em;\\r\\n\\r\\n    border: 1px solid white;\\r\\n}\\r\\n\\r\\n.color-palette-entry.selected {\\r\\n    scale: 1.2;\\r\\n}\\r\\n\\r\\n.color-picker {\\r\\n    display: block;\\r\\n    background-color: rgba(255, 255, 255, 0.3);\\r\\n\\r\\n    border-width: 2px;\\r\\n    border-color: #ffffff;\\r\\n\\r\\n    width: 1.2em;\\r\\n    height: 1.2em;\\r\\n    padding: 0.4em;\\r\\n}\\r\\n\\r\\n.color-picker .icon {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `movable-component {\r\n    position: absolute;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/basicComponents/movableComponent/movableComponent.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;AACtB\",\"sourcesContent\":[\"movable-component {\\r\\n    position: absolute;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-resizer {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    border: 2px solid blue;\r\n}\r\n\r\nvc-resizer .resizer-handle {\r\n    position: absolute;\r\n    width: 10px;\r\n    height: 10px;\r\n    background-color: blue;\r\n}\r\n\r\nvc-resizer .resizer-handle-nw {\r\n    top: -5px;\r\n    left: -5px;\r\n    cursor: nwse-resize;\r\n}\r\n\r\nvc-resizer .resizer-handle-ne {\r\n    top: -5px;\r\n    right: -5px;\r\n    cursor: nesw-resize;\r\n}\r\n\r\nvc-resizer .resizer-handle-se {\r\n    bottom: -5px;\r\n    right: -5px;\r\n    cursor: nwse-resize;\r\n}\r\n\r\nvc-resizer .resizer-handle-sw {\r\n    bottom: -5px;\r\n    left: -5px;\r\n    cursor: nesw-resize;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/basicComponents/resizer/resizer.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,MAAM;IACN,OAAO;IACP,sBAAsB;AAC1B;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,sBAAsB;AAC1B;;AAEA;IACI,SAAS;IACT,UAAU;IACV,mBAAmB;AACvB;;AAEA;IACI,SAAS;IACT,WAAW;IACX,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,UAAU;IACV,mBAAmB;AACvB\",\"sourcesContent\":[\"vc-resizer {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    border: 2px solid blue;\\r\\n}\\r\\n\\r\\nvc-resizer .resizer-handle {\\r\\n    position: absolute;\\r\\n    width: 10px;\\r\\n    height: 10px;\\r\\n    background-color: blue;\\r\\n}\\r\\n\\r\\nvc-resizer .resizer-handle-nw {\\r\\n    top: -5px;\\r\\n    left: -5px;\\r\\n    cursor: nwse-resize;\\r\\n}\\r\\n\\r\\nvc-resizer .resizer-handle-ne {\\r\\n    top: -5px;\\r\\n    right: -5px;\\r\\n    cursor: nesw-resize;\\r\\n}\\r\\n\\r\\nvc-resizer .resizer-handle-se {\\r\\n    bottom: -5px;\\r\\n    right: -5px;\\r\\n    cursor: nwse-resize;\\r\\n}\\r\\n\\r\\nvc-resizer .resizer-handle-sw {\\r\\n    bottom: -5px;\\r\\n    left: -5px;\\r\\n    cursor: nesw-resize;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `branching-node {\r\n    display: block;\r\n    position: absolute;\r\n\r\n    width: 20px;\r\n    height: 20px;\r\n    background-color: red;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/branchingNode/branchingNode.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,kBAAkB;;IAElB,WAAW;IACX,YAAY;IACZ,qBAAqB;AACzB\",\"sourcesContent\":[\"branching-node {\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    background-color: red;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `capture-button {\r\n    display: block;\r\n    position: relative;\r\n    width: 4em;\r\n    height: 4em;\r\n\r\n    border-radius: 100%;\r\n    overflow: hidden;\r\n\r\n    transition: all 0.1s ease-out;\r\n}\r\n\r\ncapture-button > div {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 100%;\r\n    transition: all 0.1s ease-in-out;\r\n}\r\n\r\ncapture-button > div:first-child {\r\n    border: 0.3em solid white;\r\n    width: calc(100% - 0.25em * 2);\r\n    height: calc(100% - 0.25em * 2);\r\n    background-color: transparent;\r\n}\r\n\r\ncapture-button > div:last-child {\r\n    background-color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\ncapture-button .inner-icon {\r\n    display: none;\r\n    width: 40%;\r\n    height: 40%;\r\n\r\n    background-color: red;\r\n    border-radius: 100%;\r\n}\r\n\r\ncapture-button.video > div:first-child {\r\n    border: none;\r\n}\r\n\r\ncapture-button.video .inner-icon {\r\n    display: block;\r\n}\r\n\r\ncapture-button.video-capturing > div:first-child {\r\n    border: none;\r\n}\r\n\r\ncapture-button.video-capturing > div:last-child {\r\n    background-color: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\ncapture-button.video-capturing .inner-icon {\r\n    display: block;\r\n    background-color: white;\r\n    border-radius: 20%;\r\n\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/captureButton/captureButton.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,kBAAkB;IAClB,UAAU;IACV,WAAW;;IAEX,mBAAmB;IACnB,gBAAgB;;IAEhB,6BAA6B;AACjC;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,mBAAmB;IACnB,gCAAgC;AACpC;;AAEA;IACI,yBAAyB;IACzB,8BAA8B;IAC9B,+BAA+B;IAC/B,6BAA6B;AACjC;;AAEA;IACI,uBAAuB;IACvB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,UAAU;IACV,WAAW;;IAEX,qBAAqB;IACrB,mBAAmB;AACvB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,0CAA0C;AAC9C;;AAEA;IACI,cAAc;IACd,uBAAuB;IACvB,kBAAkB;;AAEtB\",\"sourcesContent\":[\"capture-button {\\r\\n    display: block;\\r\\n    position: relative;\\r\\n    width: 4em;\\r\\n    height: 4em;\\r\\n\\r\\n    border-radius: 100%;\\r\\n    overflow: hidden;\\r\\n\\r\\n    transition: all 0.1s ease-out;\\r\\n}\\r\\n\\r\\ncapture-button > div {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    border-radius: 100%;\\r\\n    transition: all 0.1s ease-in-out;\\r\\n}\\r\\n\\r\\ncapture-button > div:first-child {\\r\\n    border: 0.3em solid white;\\r\\n    width: calc(100% - 0.25em * 2);\\r\\n    height: calc(100% - 0.25em * 2);\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\ncapture-button > div:last-child {\\r\\n    background-color: white;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\ncapture-button .inner-icon {\\r\\n    display: none;\\r\\n    width: 40%;\\r\\n    height: 40%;\\r\\n\\r\\n    background-color: red;\\r\\n    border-radius: 100%;\\r\\n}\\r\\n\\r\\ncapture-button.video > div:first-child {\\r\\n    border: none;\\r\\n}\\r\\n\\r\\ncapture-button.video .inner-icon {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\ncapture-button.video-capturing > div:first-child {\\r\\n    border: none;\\r\\n}\\r\\n\\r\\ncapture-button.video-capturing > div:last-child {\\r\\n    background-color: rgba(255, 255, 255, 0.6);\\r\\n}\\r\\n\\r\\ncapture-button.video-capturing .inner-icon {\\r\\n    display: block;\\r\\n    background-color: white;\\r\\n    border-radius: 20%;\\r\\n\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.capture-mode-slider {\r\n    display: inline-flex;\r\n    width: 6em;\r\n    padding: 1em;\r\n    margin: 0 -3em 0 -1.5em;\r\n\r\n    transform: rotate(-90deg);\r\n    transform-origin: 50% 50%;\r\n}\r\n\r\n.capture-mode-slider > * {\r\n    padding: 0 1em;\r\n    color: white;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n\r\n.capture-mode-slider > .active {\r\n    font-weight: bold;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/captureModeSlider/captureModeSlider.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,oBAAoB;IACpB,UAAU;IACV,YAAY;IACZ,uBAAuB;;IAEvB,yBAAyB;IACzB,yBAAyB;AAC7B;;AAEA;IACI,cAAc;IACd,YAAY;IACZ,eAAe;IACf,iBAAiB;AACrB;;AAEA;IACI,iBAAiB;AACrB\",\"sourcesContent\":[\".capture-mode-slider {\\r\\n    display: inline-flex;\\r\\n    width: 6em;\\r\\n    padding: 1em;\\r\\n    margin: 0 -3em 0 -1.5em;\\r\\n\\r\\n    transform: rotate(-90deg);\\r\\n    transform-origin: 50% 50%;\\r\\n}\\r\\n\\r\\n.capture-mode-slider > * {\\r\\n    padding: 0 1em;\\r\\n    color: white;\\r\\n    cursor: pointer;\\r\\n    user-select: none;\\r\\n}\\r\\n\\r\\n.capture-mode-slider > .active {\\r\\n    font-weight: bold;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-capture-timer {\r\n    position: absolute;\r\n    top: 1em;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\nvc-capture-timer > div {\r\n    padding: 0.6em 0.8em;\r\n    background-color: red;\r\n    border-radius: 5em;\r\n    color: white;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/captureTimer/captureTimer.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,QAAQ;IACR,OAAO;IACP,QAAQ;;IAER,aAAa;IACb,uBAAuB;AAC3B;;AAEA;IACI,oBAAoB;IACpB,qBAAqB;IACrB,kBAAkB;IAClB,YAAY;AAChB\",\"sourcesContent\":[\"vc-capture-timer {\\r\\n    position: absolute;\\r\\n    top: 1em;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\nvc-capture-timer > div {\\r\\n    padding: 0.6em 0.8em;\\r\\n    background-color: red;\\r\\n    border-radius: 5em;\\r\\n    color: white;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-card {\r\n    position: absolute;\r\n\r\n    width: 18em;\r\n}\r\n\r\nvc-card.selected {\r\n    z-index: 2;\r\n}\r\n\r\nvc-card > .vc-clip-timeline {\r\n    position: absolute;\r\n    height: 100%;\r\n    top: 0;\r\n}\r\n\r\nvc-card > .card-title {\r\n    position: absolute;\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.5em;\r\n\r\n    top: -2em;\r\n    left: 0;\r\n    right: 0;\r\n\r\n    padding: 0;\r\n}\r\n\r\nvc-card > .card-title > turbo-input > turbo-rich-element {\r\n    padding: 0;\r\n    margin: 0;\r\n\r\n    background-color: transparent;\r\n    border: none;\r\n    color: black;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/card/card.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;;IAElB,WAAW;AACf;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,MAAM;AACV;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,UAAU;;IAEV,SAAS;IACT,OAAO;IACP,QAAQ;;IAER,UAAU;AACd;;AAEA;IACI,UAAU;IACV,SAAS;;IAET,6BAA6B;IAC7B,YAAY;IACZ,YAAY;AAChB\",\"sourcesContent\":[\"vc-card {\\r\\n    position: absolute;\\r\\n\\r\\n    width: 18em;\\r\\n}\\r\\n\\r\\nvc-card.selected {\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\nvc-card > .vc-clip-timeline {\\r\\n    position: absolute;\\r\\n    height: 100%;\\r\\n    top: 0;\\r\\n}\\r\\n\\r\\nvc-card > .card-title {\\r\\n    position: absolute;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    gap: 0.5em;\\r\\n\\r\\n    top: -2em;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\nvc-card > .card-title > turbo-input > turbo-rich-element {\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    color: black;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../../../../public/assets/misc/DiagonalStripes.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-clip {\r\n    position: relative;\r\n    display: block;\r\n    max-height: 100%;\r\n}\r\n\r\nvc-clip .vc-clip-content {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 0.35em;\r\n    overflow: hidden;\r\n}\r\n\r\nvc-clip.hidden-clip .vc-clip-content {\r\n    background: url(${___CSS_LOADER_URL_REPLACEMENT_0___}) repeat;\r\n    background-size: 200px;\r\n}\r\n\r\nvc-clip.selected {\r\n    height: calc(100% - 0.5em);\r\n    z-index: 1;\r\n}\r\n\r\nvc-clip.selected .vc-clip-content {\r\n    border-radius: 0.35em;\r\n}\r\n\r\nvc-clip.selected .vc-clip-content {\r\n    border: 0.3em solid #fff4f4;\r\n}\r\n\r\nvc-clip .clip-handle-left, vc-clip .clip-handle-right {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: #fff4f4;\r\n    border: 0.3em solid #fff4f4;\r\n}\r\n\r\nvc-clip.selected .clip-handle-left {\r\n    right: calc(100% - 0.5em);\r\n    padding-right: -0.5em;\r\n    border-radius: 0.75em 0 0 0.75em;\r\n    border-left-width: 0;\r\n}\r\n\r\nvc-clip.selected .clip-handle-right {\r\n    left: calc(100% - 0.5em);\r\n    padding-left: 0.5em;\r\n    border-radius: 0 0.75em 0.75em 0;\r\n    border-right-width: 0;\r\n}\r\n\r\nvc-clip turbo-icon {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n}\r\n\r\nvc-clip .thumbnail {\r\n    position: relative;\r\n    margin: 0.3em;\r\n    max-width: calc(100% - 0.6em);\r\n    height: calc(100% - 0.6em);\r\n    aspect-ratio: 1.33;\r\n\r\n    object-fit: cover;\r\n    border-radius: 0.1em;\r\n}\r\n\r\nvc-clip-renderer#snapshot-renderer {\r\n    z-index: -1;\r\n    width: 100vw;\r\n    aspect-ratio: 1.33;\r\n\r\n    pointer-events: none;\r\n    position: absolute;\r\n    bottom: 99.5%;\r\n\r\n    border: none;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/clip/clip.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,cAAc;IACd,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,qBAAqB;IACrB,gBAAgB;AACpB;;AAEA;IACI,0DAA4E;IAC5E,sBAAsB;AAC1B;;AAEA;IACI,0BAA0B;IAC1B,UAAU;AACd;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,2BAA2B;AAC/B;;AAEA;IACI,kBAAkB;IAClB,MAAM;IACN,YAAY;;IAEZ,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,uBAAuB;;IAEvB,yBAAyB;IACzB,2BAA2B;AAC/B;;AAEA;IACI,yBAAyB;IACzB,qBAAqB;IACrB,gCAAgC;IAChC,oBAAoB;AACxB;;AAEA;IACI,wBAAwB;IACxB,mBAAmB;IACnB,gCAAgC;IAChC,qBAAqB;AACzB;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,6BAA6B;IAC7B,0BAA0B;IAC1B,kBAAkB;;IAElB,iBAAiB;IACjB,oBAAoB;AACxB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;;IAElB,oBAAoB;IACpB,kBAAkB;IAClB,aAAa;;IAEb,YAAY;AAChB\",\"sourcesContent\":[\"vc-clip {\\r\\n    position: relative;\\r\\n    display: block;\\r\\n    max-height: 100%;\\r\\n}\\r\\n\\r\\nvc-clip .vc-clip-content {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    border-radius: 0.35em;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\nvc-clip.hidden-clip .vc-clip-content {\\r\\n    background: url(\\\"../../../../public/assets/misc/DiagonalStripes.png\\\") repeat;\\r\\n    background-size: 200px;\\r\\n}\\r\\n\\r\\nvc-clip.selected {\\r\\n    height: calc(100% - 0.5em);\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\nvc-clip.selected .vc-clip-content {\\r\\n    border-radius: 0.35em;\\r\\n}\\r\\n\\r\\nvc-clip.selected .vc-clip-content {\\r\\n    border: 0.3em solid #fff4f4;\\r\\n}\\r\\n\\r\\nvc-clip .clip-handle-left, vc-clip .clip-handle-right {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    height: 100%;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n\\r\\n    background-color: #fff4f4;\\r\\n    border: 0.3em solid #fff4f4;\\r\\n}\\r\\n\\r\\nvc-clip.selected .clip-handle-left {\\r\\n    right: calc(100% - 0.5em);\\r\\n    padding-right: -0.5em;\\r\\n    border-radius: 0.75em 0 0 0.75em;\\r\\n    border-left-width: 0;\\r\\n}\\r\\n\\r\\nvc-clip.selected .clip-handle-right {\\r\\n    left: calc(100% - 0.5em);\\r\\n    padding-left: 0.5em;\\r\\n    border-radius: 0 0.75em 0.75em 0;\\r\\n    border-right-width: 0;\\r\\n}\\r\\n\\r\\nvc-clip turbo-icon {\\r\\n    width: 1.5em;\\r\\n    height: 1.5em;\\r\\n}\\r\\n\\r\\nvc-clip .thumbnail {\\r\\n    position: relative;\\r\\n    margin: 0.3em;\\r\\n    max-width: calc(100% - 0.6em);\\r\\n    height: calc(100% - 0.6em);\\r\\n    aspect-ratio: 1.33;\\r\\n\\r\\n    object-fit: cover;\\r\\n    border-radius: 0.1em;\\r\\n}\\r\\n\\r\\nvc-clip-renderer#snapshot-renderer {\\r\\n    z-index: -1;\\r\\n    width: 100vw;\\r\\n    aspect-ratio: 1.33;\\r\\n\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    bottom: 99.5%;\\r\\n\\r\\n    border: none;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-flow {\r\n    position: absolute;\r\n    transform: translate3d(-50%, -50%, 0);\r\n}\r\n\r\nvc-flow svg {\r\n    image-rendering: crisp-edges;\r\n    pointer-events: none;\r\n}\r\n\r\nvc-flow path {\r\n    fill: none;\r\n    stroke: #727377;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/flow/flow.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,qCAAqC;AACzC;;AAEA;IACI,4BAA4B;IAC5B,oBAAoB;AACxB;;AAEA;IACI,UAAU;IACV,eAAe;AACnB\",\"sourcesContent\":[\"vc-flow {\\r\\n    position: absolute;\\r\\n    transform: translate3d(-50%, -50%, 0);\\r\\n}\\r\\n\\r\\nvc-flow svg {\\r\\n    image-rendering: crisp-edges;\\r\\n    pointer-events: none;\\r\\n}\\r\\n\\r\\nvc-flow path {\\r\\n    fill: none;\\r\\n    stroke: #727377;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-flow-tag {\r\n    position: absolute;\r\n    right: 100%;\r\n\r\n    top: 20px;\r\n    background-color: cyan;\r\n    padding: 1em;\r\n    border-radius: 6px 0 0 6px;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 1em;\r\n}\r\n\r\nvc-flow-tag > turbo-icon {\r\n    height: 1.3em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/flowTag/flowTag.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,WAAW;;IAEX,SAAS;IACT,sBAAsB;IACtB,YAAY;IACZ,0BAA0B;;IAE1B,aAAa;IACb,mBAAmB;IACnB,QAAQ;AACZ;;AAEA;IACI,aAAa;AACjB\",\"sourcesContent\":[\"vc-flow-tag {\\r\\n    position: absolute;\\r\\n    right: 100%;\\r\\n\\r\\n    top: 20px;\\r\\n    background-color: cyan;\\r\\n    padding: 1em;\\r\\n    border-radius: 6px 0 0 6px;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    gap: 1em;\\r\\n}\\r\\n\\r\\nvc-flow-tag > turbo-icon {\\r\\n    height: 1.3em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `metadata-drawer {\r\n    position: absolute;\r\n    top: 100%;\r\n}\r\n\r\nmetadata-drawer turbo-select {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.5em;\r\n    padding-bottom: 1em;\r\n}\r\n\r\nmetadata-drawer turbo-select > turbo-select-entry {\r\n    font-size: 0.9em;\r\n    color: #727377;\r\n    padding: 0.5em 0.8em;\r\n}\r\n\r\nmetadata-drawer turbo-select > turbo-select-entry.selected-tab {\r\n    color: black;\r\n    font-size: 1em;\r\n    background-color: #d4ffff;\r\n    border-radius: 100px;\r\n}\r\n\r\nmetadata-drawer animated-content-switch {\r\n    min-width: 100%;\r\n}\r\n\r\nmetadata-drawer .metadata-panel {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.6em;\r\n}\r\n\r\nmetadata-drawer turbo-input {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 0.6em;\r\n    overflow: visible;\r\n    align-items: center;\r\n}\r\n\r\nmetadata-drawer turbo-input label {\r\n    font-weight: 600;\r\n    font-size: 0.9em;\r\n    color: #727377;\r\n    white-space:nowrap;\r\n}\r\n\r\nmetadata-drawer turbo-input turbo-rich-element {\r\n    padding: 0;\r\n    border: none;\r\n}\r\n\r\nmetadata-drawer .separator {\r\n    height: 1em;\r\n}\r\n\r\nmetadata-drawer turbo-input input {\r\n    font-size: 0.9em;\r\n    font-weight: 600;\r\n}\r\n\r\nmetadata-drawer turbo-input div {\r\n    padding: 0;\r\n    border: none;\r\n}\r\n\r\ntextarea {\r\n    resize: none;\r\n    border: none;\r\n    padding: 0;\r\n    max-height: 8em;\r\n    min-height: 1em;\r\n    min-width: 16em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/metadataDrawer/metadataDrawer.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,SAAS;AACb;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,UAAU;IACV,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;IAChB,cAAc;IACd,oBAAoB;AACxB;;AAEA;IACI,YAAY;IACZ,cAAc;IACd,yBAAyB;IACzB,oBAAoB;AACxB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,UAAU;AACd;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,UAAU;IACV,iBAAiB;IACjB,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;IAChB,gBAAgB;IAChB,cAAc;IACd,kBAAkB;AACtB;;AAEA;IACI,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,gBAAgB;IAChB,gBAAgB;AACpB;;AAEA;IACI,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,UAAU;IACV,eAAe;IACf,eAAe;IACf,eAAe;AACnB\",\"sourcesContent\":[\"metadata-drawer {\\r\\n    position: absolute;\\r\\n    top: 100%;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-select {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    gap: 0.5em;\\r\\n    padding-bottom: 1em;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-select > turbo-select-entry {\\r\\n    font-size: 0.9em;\\r\\n    color: #727377;\\r\\n    padding: 0.5em 0.8em;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-select > turbo-select-entry.selected-tab {\\r\\n    color: black;\\r\\n    font-size: 1em;\\r\\n    background-color: #d4ffff;\\r\\n    border-radius: 100px;\\r\\n}\\r\\n\\r\\nmetadata-drawer animated-content-switch {\\r\\n    min-width: 100%;\\r\\n}\\r\\n\\r\\nmetadata-drawer .metadata-panel {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 0.6em;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-input {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    gap: 0.6em;\\r\\n    overflow: visible;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-input label {\\r\\n    font-weight: 600;\\r\\n    font-size: 0.9em;\\r\\n    color: #727377;\\r\\n    white-space:nowrap;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-input turbo-rich-element {\\r\\n    padding: 0;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\nmetadata-drawer .separator {\\r\\n    height: 1em;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-input input {\\r\\n    font-size: 0.9em;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\nmetadata-drawer turbo-input div {\\r\\n    padding: 0;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\ntextarea {\\r\\n    resize: none;\\r\\n    border: none;\\r\\n    padding: 0;\\r\\n    max-height: 8em;\\r\\n    min-height: 1em;\\r\\n    min-width: 16em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-playback {\r\n    display: block;\r\n    background-color: white;\r\n}\r\n\r\nvc-playback > div:first-child {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1em;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\nvc-playback vc-clip-renderer {\r\n    width: 100%;\r\n    height: fit-content;\r\n    box-sizing: content-box;\r\n    border: 1px solid #e1dfdf;\r\n}\r\n\r\n.over-screen-playback {\r\n    position: absolute;\r\n    top: 20px;\r\n    right: 20px;\r\n\r\n    width: 300px;\r\n    padding: 20px;\r\n    border-radius: 16px;\r\n}\r\n\r\n.card-playback {\r\n    position: relative;\r\n    width: calc(100% - 2em);\r\n    padding: 1em;\r\n    border-radius: 0.4em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/playback/playback.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,uBAAuB;AAC3B;;AAEA;IACI,kBAAkB;IAClB,aAAa;IACb,sBAAsB;IACtB,QAAQ;IACR,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,WAAW;IACX,mBAAmB;IACnB,uBAAuB;IACvB,yBAAyB;AAC7B;;AAEA;IACI,kBAAkB;IAClB,SAAS;IACT,WAAW;;IAEX,YAAY;IACZ,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,kBAAkB;IAClB,uBAAuB;IACvB,YAAY;IACZ,oBAAoB;AACxB\",\"sourcesContent\":[\"vc-playback {\\r\\n    display: block;\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\nvc-playback > div:first-child {\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 1em;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nvc-playback vc-clip-renderer {\\r\\n    width: 100%;\\r\\n    height: fit-content;\\r\\n    box-sizing: content-box;\\r\\n    border: 1px solid #e1dfdf;\\r\\n}\\r\\n\\r\\n.over-screen-playback {\\r\\n    position: absolute;\\r\\n    top: 20px;\\r\\n    right: 20px;\\r\\n\\r\\n    width: 300px;\\r\\n    padding: 20px;\\r\\n    border-radius: 16px;\\r\\n}\\r\\n\\r\\n.card-playback {\\r\\n    position: relative;\\r\\n    width: calc(100% - 2em);\\r\\n    padding: 1em;\\r\\n    border-radius: 0.4em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vc-renderer {\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    aspect-ratio: 1.33;\r\n}\r\n\r\n.vc-renderer > * {\r\n    position: absolute;\r\n}\r\n\r\n.vc-renderer > video {\r\n    object-fit: contain;\r\n}\r\n\r\n.vc-renderer > .snapshot-effect-div {\r\n    opacity: 0;\r\n    background-color: black;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/renderer/renderer.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,UAAU;IACV,uBAAuB;AAC3B\",\"sourcesContent\":[\".vc-renderer {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n    aspect-ratio: 1.33;\\r\\n}\\r\\n\\r\\n.vc-renderer > * {\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.vc-renderer > video {\\r\\n    object-fit: contain;\\r\\n}\\r\\n\\r\\n.vc-renderer > .snapshot-effect-div {\\r\\n    opacity: 0;\\r\\n    background-color: black;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vc-scrubber.vc-clip-scrubber {\r\n    position: absolute;\r\n    bottom: 0;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    width: 0.2em;\r\n    background-color: red;\r\n    height: calc(100% + 1em);\r\n    border-radius: 10px;\r\n\r\n    z-index: 2;\r\n}\r\n\r\n.vc-clip-scrubber > * {\r\n    position: absolute;\r\n    transform: translateX(0.01em);\r\n}\r\n\r\n.vc-clip-scrubber > :first-child {\r\n    top: -0.8em;\r\n\r\n    width: 1em;\r\n    height: 1em;\r\n    padding: 0.5em;\r\n}\r\n\r\n.vc-clip-scrubber > :first-child > svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: red;\r\n}\r\n\r\n.vc-clip-scrubber > div:last-child {\r\n    top: -1.6em;\r\n    width: 1em;\r\n    height: 1em;\r\n\r\n    border-radius: 2em;\r\n    background-color: pink;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/scrubber/clipScrubber/clipScrubber.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,SAAS;;IAET,aAAa;IACb,sBAAsB;IACtB,mBAAmB;;IAEnB,YAAY;IACZ,qBAAqB;IACrB,wBAAwB;IACxB,mBAAmB;;IAEnB,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,6BAA6B;AACjC;;AAEA;IACI,WAAW;;IAEX,UAAU;IACV,WAAW;IACX,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,SAAS;AACb;;AAEA;IACI,WAAW;IACX,UAAU;IACV,WAAW;;IAEX,kBAAkB;IAClB,sBAAsB;AAC1B\",\"sourcesContent\":[\".vc-scrubber.vc-clip-scrubber {\\r\\n    position: absolute;\\r\\n    bottom: 0;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n\\r\\n    width: 0.2em;\\r\\n    background-color: red;\\r\\n    height: calc(100% + 1em);\\r\\n    border-radius: 10px;\\r\\n\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.vc-clip-scrubber > * {\\r\\n    position: absolute;\\r\\n    transform: translateX(0.01em);\\r\\n}\\r\\n\\r\\n.vc-clip-scrubber > :first-child {\\r\\n    top: -0.8em;\\r\\n\\r\\n    width: 1em;\\r\\n    height: 1em;\\r\\n    padding: 0.5em;\\r\\n}\\r\\n\\r\\n.vc-clip-scrubber > :first-child > svg {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    fill: red;\\r\\n}\\r\\n\\r\\n.vc-clip-scrubber > div:last-child {\\r\\n    top: -1.6em;\\r\\n    width: 1em;\\r\\n    height: 1em;\\r\\n\\r\\n    border-radius: 2em;\\r\\n    background-color: pink;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vc-scrubber {\r\n    position: absolute;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    width: 1em;\r\n    height: 1em;\r\n\r\n    background-color: #727377;\r\n    border-radius: 1em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/scrubber/scrubber.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;;IAElB,aAAa;IACb,sBAAsB;IACtB,mBAAmB;;IAEnB,UAAU;IACV,WAAW;;IAEX,yBAAyB;IACzB,kBAAkB;AACtB\",\"sourcesContent\":[\".vc-scrubber {\\r\\n    position: absolute;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n\\r\\n    width: 1em;\\r\\n    height: 1em;\\r\\n\\r\\n    background-color: #727377;\\r\\n    border-radius: 1em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `scrubber-marking-menu {\r\n    position: absolute;\r\n    transform: translate3d(50%, 50%, 0);\r\n    z-index: 4;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/scrubberMarkingMenu/scrubberMarkingMenu.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,mCAAmC;IACnC,UAAU;AACd\",\"sourcesContent\":[\"scrubber-marking-menu {\\r\\n    position: absolute;\\r\\n    transform: translate3d(50%, 50%, 0);\\r\\n    z-index: 4;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-text-entry {\r\n    position: absolute;\r\n}\r\n\r\nvc-text-entry input {\r\n    width: auto;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/textElement/textElement.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;AACtB;;AAEA;IACI,WAAW;AACf\",\"sourcesContent\":[\"vc-text-entry {\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\nvc-text-entry input {\\r\\n    width: auto;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vc-timeline.vc-clip-timeline {\r\n    height: 100%;\r\n    display: flex;\r\n    width: 0;\r\n    right: 0;\r\n}\r\n\r\n.vc-timeline.vc-clip-timeline .scrubber-container {\r\n    position: relative;\r\n    border-radius: 0.35em;\r\n    height: 3.8em;\r\n    background-color: transparent;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.vc-clip-timeline .turbo-drawer {\r\n    height: 120%;\r\n    align-items: center;\r\n}\r\n\r\n.vc-clip-timeline .turbo-drawer .turbo-drawer-panel-container {\r\n    height: 100%;\r\n    display: flex;\r\n    background-color: transparent;\r\n}\r\n\r\n.vc-clip-timeline .turbo-drawer .turbo-drawer-panel {\r\n    display: flex !important;\r\n    flex-direction: column;\r\n    gap: 0.5rem;\r\n}\r\n\r\n.vc-clip-timeline .turbo-drawer .clips-container {\r\n    position: relative;\r\n    border-radius: 0.35em;\r\n    height: calc(6em - 2.4em);\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    flex-grow: 1;\r\n\r\n    z-index: 2;\r\n}\r\n\r\n.vc-clip-timeline .top-drawer {\r\n    bottom: 1em;\r\n}\r\n\r\n.vc-clip-timeline .right-drawer {\r\n    position: absolute;\r\n    left: 100%;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.vc-clip-timeline .play-button {\r\n    height: 1.5em;\r\n    padding: 0.2em;\r\n}\r\n\r\n.vc-clip-timeline vc-clip .vc-clip-content {\r\n    border-radius: 0;\r\n}\r\n\r\n.vc-clip-timeline vc-clip:nth-child(2) .vc-clip-content {\r\n    border-radius: 0.35em 0 0 0.35em;\r\n}\r\n\r\n.vc-clip-timeline vc-clip:last-child .vc-clip-content {\r\n    border-radius:  0 0.35em 0.35em 0;\r\n}\r\n\r\n.vc-clip-timeline vc-clip:last-child:nth-child(2) .vc-clip-content {\r\n    border-radius:  0.35em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/timeline/clipTimeline/clipTimeline.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,YAAY;IACZ,aAAa;IACb,QAAQ;IACR,QAAQ;AACZ;;AAEA;IACI,kBAAkB;IAClB,qBAAqB;IACrB,aAAa;IACb,6BAA6B;;IAE7B,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,6BAA6B;AACjC;;AAEA;IACI,wBAAwB;IACxB,sBAAsB;IACtB,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,qBAAqB;IACrB,yBAAyB;;IAEzB,aAAa;IACb,mBAAmB;;IAEnB,YAAY;;IAEZ,UAAU;AACd;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,QAAQ;IACR,2BAA2B;AAC/B;;AAEA;IACI,aAAa;IACb,cAAc;AAClB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,sBAAsB;AAC1B\",\"sourcesContent\":[\".vc-timeline.vc-clip-timeline {\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    width: 0;\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.vc-timeline.vc-clip-timeline .scrubber-container {\\r\\n    position: relative;\\r\\n    border-radius: 0.35em;\\r\\n    height: 3.8em;\\r\\n    background-color: transparent;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .turbo-drawer {\\r\\n    height: 120%;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .turbo-drawer .turbo-drawer-panel-container {\\r\\n    height: 100%;\\r\\n    display: flex;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .turbo-drawer .turbo-drawer-panel {\\r\\n    display: flex !important;\\r\\n    flex-direction: column;\\r\\n    gap: 0.5rem;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .turbo-drawer .clips-container {\\r\\n    position: relative;\\r\\n    border-radius: 0.35em;\\r\\n    height: calc(6em - 2.4em);\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n\\r\\n    flex-grow: 1;\\r\\n\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .top-drawer {\\r\\n    bottom: 1em;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .right-drawer {\\r\\n    position: absolute;\\r\\n    left: 100%;\\r\\n    top: 50%;\\r\\n    transform: translateY(-50%);\\r\\n}\\r\\n\\r\\n.vc-clip-timeline .play-button {\\r\\n    height: 1.5em;\\r\\n    padding: 0.2em;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline vc-clip .vc-clip-content {\\r\\n    border-radius: 0;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline vc-clip:nth-child(2) .vc-clip-content {\\r\\n    border-radius: 0.35em 0 0 0.35em;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline vc-clip:last-child .vc-clip-content {\\r\\n    border-radius:  0 0.35em 0.35em 0;\\r\\n}\\r\\n\\r\\n.vc-clip-timeline vc-clip:last-child:nth-child(2) .vc-clip-content {\\r\\n    border-radius:  0.35em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vc-timeline {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5em;\r\n    width: 100%;\r\n}\r\n\r\n.vc-timeline .vc-scrubber:not(.vc-clip-scrubber) {\r\n    top: -0.2em;\r\n    left: -0.1em;\r\n}\r\n\r\n.vc-timeline .scrubber-container {\r\n    position: relative;\r\n    border-radius: 0.35em;\r\n    height: 0.6em;\r\n    background-color: #eaeaea;\r\n}\r\n\r\n.vc-timeline .play-button {\r\n    height: 1.5em;\r\n    padding: 0.2em;\r\n}\r\n\r\n.vc-timeline vc-clip .vc-clip-content {\r\n    border-radius: 0;\r\n}\r\n\r\n.vc-timeline vc-clip:nth-child(2) .vc-clip-content {\r\n    border-radius: 0.35em 0 0 0.35em;\r\n}\r\n\r\n.vc-timeline vc-clip:last-child .vc-clip-content {\r\n    border-radius:  0 0.35em 0.35em 0;\r\n}\r\n\r\n.vc-timeline vc-clip:last-child:nth-child(2) .vc-clip-content {\r\n    border-radius:  0.35em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/timeline/timeline.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,UAAU;IACV,WAAW;AACf;;AAEA;IACI,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,qBAAqB;IACrB,aAAa;IACb,yBAAyB;AAC7B;;AAEA;IACI,aAAa;IACb,cAAc;AAClB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,gCAAgC;AACpC;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,sBAAsB;AAC1B\",\"sourcesContent\":[\".vc-timeline {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 0.5em;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.vc-timeline .vc-scrubber:not(.vc-clip-scrubber) {\\r\\n    top: -0.2em;\\r\\n    left: -0.1em;\\r\\n}\\r\\n\\r\\n.vc-timeline .scrubber-container {\\r\\n    position: relative;\\r\\n    border-radius: 0.35em;\\r\\n    height: 0.6em;\\r\\n    background-color: #eaeaea;\\r\\n}\\r\\n\\r\\n.vc-timeline .play-button {\\r\\n    height: 1.5em;\\r\\n    padding: 0.2em;\\r\\n}\\r\\n\\r\\n.vc-timeline vc-clip .vc-clip-content {\\r\\n    border-radius: 0;\\r\\n}\\r\\n\\r\\n.vc-timeline vc-clip:nth-child(2) .vc-clip-content {\\r\\n    border-radius: 0.35em 0 0 0.35em;\\r\\n}\\r\\n\\r\\n.vc-timeline vc-clip:last-child .vc-clip-content {\\r\\n    border-radius:  0 0.35em 0.35em 0;\\r\\n}\\r\\n\\r\\n.vc-timeline vc-clip:last-child:nth-child(2) .vc-clip-content {\\r\\n    border-radius:  0.35em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-toolbar {\r\n    display: flex;\r\n    gap: var(--base-padding);\r\n\r\n    position: fixed;\r\n\r\n    padding: calc(1.5 * var(--base-padding));\r\n    border-radius: var(--card-radius);\r\n    border: var(--border-style);\r\n    background-color: white;\r\n\r\n    z-index: 2;\r\n}\r\n\r\nvc-toolbar.bottom-toolbar {\r\n    flex-direction: row;\r\n\r\n    bottom: calc(2 * var(--base-padding));\r\n    left: 15vw;\r\n    right: 15vw;\r\n}\r\n\r\nvc-toolbar.left-toolbar {\r\n    flex-direction: column;\r\n\r\n    left: calc(2 * var(--base-padding));\r\n    top: 50%;\r\n    transform: translate(0, -50%);\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/components/toolbar/toolbar.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,wBAAwB;;IAExB,eAAe;;IAEf,wCAAwC;IACxC,iCAAiC;IACjC,2BAA2B;IAC3B,uBAAuB;;IAEvB,UAAU;AACd;;AAEA;IACI,mBAAmB;;IAEnB,qCAAqC;IACrC,UAAU;IACV,WAAW;AACf;;AAEA;IACI,sBAAsB;;IAEtB,mCAAmC;IACnC,QAAQ;IACR,6BAA6B;AACjC\",\"sourcesContent\":[\"vc-toolbar {\\r\\n    display: flex;\\r\\n    gap: var(--base-padding);\\r\\n\\r\\n    position: fixed;\\r\\n\\r\\n    padding: calc(1.5 * var(--base-padding));\\r\\n    border-radius: var(--card-radius);\\r\\n    border: var(--border-style);\\r\\n    background-color: white;\\r\\n\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\nvc-toolbar.bottom-toolbar {\\r\\n    flex-direction: row;\\r\\n\\r\\n    bottom: calc(2 * var(--base-padding));\\r\\n    left: 15vw;\\r\\n    right: 15vw;\\r\\n}\\r\\n\\r\\nvc-toolbar.left-toolbar {\\r\\n    flex-direction: column;\\r\\n\\r\\n    left: calc(2 * var(--base-padding));\\r\\n    top: 50%;\\r\\n    transform: translate(0, -50%);\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.screen-manager {\r\n    position: relative;\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/directors/director/director.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,cAAc;IACd,WAAW;IACX,YAAY;IACZ,SAAS;IACT,UAAU;AACd\",\"sourcesContent\":[\".screen-manager {\\r\\n    position: relative;\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-project {\r\n    display: block;\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\nvc-project > div:first-child {\r\n    position: relative;\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/directors/project/project.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,kBAAkB;;IAElB,WAAW;IACX,YAAY;IACZ,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,cAAc;IACd,WAAW;IACX,YAAY;AAChB\",\"sourcesContent\":[\"vc-project {\\r\\n    display: block;\\r\\n    position: relative;\\r\\n\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\nvc-project > div:first-child {\\r\\n    position: relative;\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.vc-root-director {\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n}\r\n\r\n.vc-root-director > div {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    display: block;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/directors/rootDirector/rootDirector.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,YAAY;IACZ,aAAa;;IAEb,aAAa;IACb,sBAAsB;IACtB,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,cAAc;AAClB\",\"sourcesContent\":[\".vc-root-director {\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.vc-root-director > div {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    display: block;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `shooting-panel {\r\n    position: relative;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    padding: 2em 2em 2em 0;\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n    transition: width 0.3s ease-out;\r\n}\r\n\r\nshooting-panel animated-content-switch {\r\n    margin-left: 1.5em;\r\n}\r\n\r\nshooting-panel animated-content-switch .camera-buttons {\r\n    display: grid;\r\n    grid-template-rows: 1fr auto 1fr;\r\n    gap: 2em;\r\n}\r\n\r\nshooting-panel .camera-buttons > .camera-buttons-child {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: flex-start;\r\n    gap: 1em;\r\n}\r\n\r\nshooting-panel .camera-buttons > .camera-buttons-child:first-child {\r\n    justify-content: flex-end;\r\n}\r\n\r\nshooting-panel turbo-icon-toggle {\r\n    width: 2em;\r\n    height: 2em;\r\n\r\n    padding: 0.8em;\r\n    border-radius: 5em;\r\n    background-color: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\nturbo-icon-toggle > svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: white;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/panels/shootingPanel/shootingPanel.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,YAAY;;IAEZ,aAAa;IACb,mBAAmB;IACnB,mBAAmB;;IAEnB,sBAAsB;IACtB,oCAAoC;IACpC,+BAA+B;AACnC;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,gCAAgC;IAChC,QAAQ;AACZ;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,2BAA2B;IAC3B,QAAQ;AACZ;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,UAAU;IACV,WAAW;;IAEX,cAAc;IACd,kBAAkB;IAClB,0CAA0C;AAC9C;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,WAAW;AACf\",\"sourcesContent\":[\"shooting-panel {\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    align-items: center;\\r\\n\\r\\n    padding: 2em 2em 2em 0;\\r\\n    background-color: rgba(0, 0, 0, 0.3);\\r\\n    transition: width 0.3s ease-out;\\r\\n}\\r\\n\\r\\nshooting-panel animated-content-switch {\\r\\n    margin-left: 1.5em;\\r\\n}\\r\\n\\r\\nshooting-panel animated-content-switch .camera-buttons {\\r\\n    display: grid;\\r\\n    grid-template-rows: 1fr auto 1fr;\\r\\n    gap: 2em;\\r\\n}\\r\\n\\r\\nshooting-panel .camera-buttons > .camera-buttons-child {\\r\\n    flex-grow: 1;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    justify-content: flex-start;\\r\\n    gap: 1em;\\r\\n}\\r\\n\\r\\nshooting-panel .camera-buttons > .camera-buttons-child:first-child {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\nshooting-panel turbo-icon-toggle {\\r\\n    width: 2em;\\r\\n    height: 2em;\\r\\n\\r\\n    padding: 0.8em;\\r\\n    border-radius: 5em;\\r\\n    background-color: rgba(255, 255, 255, 0.3);\\r\\n}\\r\\n\\r\\nturbo-icon-toggle > svg {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    fill: white;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `text-panel {\r\n    position: relative;\r\n    color: white;\r\n}\r\n\r\ntext-panel {\r\n    padding: 2em;\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n    transition: width 0.3s ease-out;\r\n}\r\n\r\ntext-panel .side-panel-buttons-div {\r\n    z-index: 2;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 1em;\r\n    padding: 0.7em 1em;\r\n    border-radius: 10em;\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n\r\n}\r\n\r\ntext-panel .side-panel-buttons-div .icon {\r\n    width: 2em;\r\n    height: 2em;\r\n}\r\n\r\ntext-panel .side-panel-buttons-div .icon svg {\r\n    fill: rgba(255, 255, 255, 0.7);\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/panels/textPanel/textPanel.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,oCAAoC;IACpC,+BAA+B;AACnC;;AAEA;IACI,UAAU;;IAEV,aAAa;IACb,mBAAmB;IACnB,QAAQ;IACR,kBAAkB;IAClB,mBAAmB;IACnB,0CAA0C;;AAE9C;;AAEA;IACI,UAAU;IACV,WAAW;AACf;;AAEA;IACI,8BAA8B;AAClC\",\"sourcesContent\":[\"text-panel {\\r\\n    position: relative;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\ntext-panel {\\r\\n    padding: 2em;\\r\\n    background-color: rgba(0, 0, 0, 0.3);\\r\\n    transition: width 0.3s ease-out;\\r\\n}\\r\\n\\r\\ntext-panel .side-panel-buttons-div {\\r\\n    z-index: 2;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    gap: 1em;\\r\\n    padding: 0.7em 1em;\\r\\n    border-radius: 10em;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n\\r\\n}\\r\\n\\r\\ntext-panel .side-panel-buttons-div .icon {\\r\\n    width: 2em;\\r\\n    height: 2em;\\r\\n}\\r\\n\\r\\ntext-panel .side-panel-buttons-div .icon svg {\\r\\n    fill: rgba(255, 255, 255, 0.7);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `tool-panel {\r\n    position: absolute;\r\n    height: calc(100% - 4em);\r\n    right: 0;\r\n    transition: width 0.3s ease-out;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/panels/toolPanel/toolPanel.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,wBAAwB;IACxB,QAAQ;IACR,+BAA+B;AACnC\",\"sourcesContent\":[\"tool-panel {\\r\\n    position: absolute;\\r\\n    height: calc(100% - 4em);\\r\\n    right: 0;\\r\\n    transition: width 0.3s ease-out;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\r\n\r\n.tool-panel-content > .main-buttons-div {\r\n    position: absolute;\r\n    top: 2em;\r\n    right: 2em;\r\n    z-index: 2;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 1em;\r\n    padding: 0.7em 1em;\r\n    border-radius: 10em;\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n\r\n}\r\n\r\n.tool-panel-content > .main-buttons-div .icon {\r\n    width: 2em;\r\n    height: 2em;\r\n}\r\n\r\n.tool-panel-content > .main-buttons-div .icon svg {\r\n    fill: rgba(255, 255, 255, 0.7);\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/panels/toolPanelContent/toolPanelContent.css\"],\"names\":[],\"mappings\":\";;AAEA;IACI,kBAAkB;IAClB,QAAQ;IACR,UAAU;IACV,UAAU;;IAEV,aAAa;IACb,mBAAmB;IACnB,QAAQ;IACR,kBAAkB;IAClB,mBAAmB;IACnB,0CAA0C;;AAE9C;;AAEA;IACI,UAAU;IACV,WAAW;AACf;;AAEA;IACI,8BAA8B;AAClC\",\"sourcesContent\":[\"\\r\\n\\r\\n.tool-panel-content > .main-buttons-div {\\r\\n    position: absolute;\\r\\n    top: 2em;\\r\\n    right: 2em;\\r\\n    z-index: 2;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    gap: 1em;\\r\\n    padding: 0.7em 1em;\\r\\n    border-radius: 10em;\\r\\n    background-color: rgba(255, 255, 255, 0.1);\\r\\n\\r\\n}\\r\\n\\r\\n.tool-panel-content > .main-buttons-div .icon {\\r\\n    width: 2em;\\r\\n    height: 2em;\\r\\n}\\r\\n\\r\\n.tool-panel-content > .main-buttons-div .icon svg {\\r\\n    fill: rgba(255, 255, 255, 0.7);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-camera {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    background-color: black;\r\n}\r\n\r\nvc-camera vc-timeline {\r\n    position: absolute;\r\n    top: calc(100% - 3em);\r\n}\r\n\r\nvc-camera > #capture-bar {\r\n    position: absolute;\r\n    height: 100%;\r\n    right: 0;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    padding: 2em 2em 2em 0;\r\n\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\nvc-camera > #capture-bar > div:last-child {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2em;\r\n    margin-left: 2em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/screens/camera/camera.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,MAAM;IACN,OAAO;IACP,SAAS;IACT,QAAQ;;IAER,aAAa;IACb,uBAAuB;IACvB,mBAAmB;;IAEnB,uBAAuB;AAC3B;;AAEA;IACI,kBAAkB;IAClB,qBAAqB;AACzB;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,QAAQ;;IAER,aAAa;IACb,mBAAmB;IACnB,mBAAmB;;IAEnB,sBAAsB;;IAEtB,oCAAoC;AACxC;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,QAAQ;IACR,gBAAgB;AACpB\",\"sourcesContent\":[\"vc-camera {\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    bottom: 0;\\r\\n    right: 0;\\r\\n\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n\\r\\n    background-color: black;\\r\\n}\\r\\n\\r\\nvc-camera vc-timeline {\\r\\n    position: absolute;\\r\\n    top: calc(100% - 3em);\\r\\n}\\r\\n\\r\\nvc-camera > #capture-bar {\\r\\n    position: absolute;\\r\\n    height: 100%;\\r\\n    right: 0;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    align-items: center;\\r\\n\\r\\n    padding: 2em 2em 2em 0;\\r\\n\\r\\n    background-color: rgba(0, 0, 0, 0.3);\\r\\n}\\r\\n\\r\\nvc-camera > #capture-bar > div:last-child {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 2em;\\r\\n    margin-left: 2em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-canvas {\r\n    position: relative;\r\n    display: block;\r\n    \r\n    overflow: hidden;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\nvc-canvas > #canvas-content {\r\n    position: absolute;\r\n    overflow: visible;\r\n    touch-action: none; /* To disable default touch actions on iOS and iPadOS */\r\n\r\n    /* GPU optimizations */\r\n    -webkit-backface-visibility: hidden;\r\n    -moz-backface-visibility: hidden;\r\n    backface-visibility: hidden;\r\n}\r\n\r\nvc-canvas > #canvas-content * {\r\n    /* GPU optimizations */\r\n    -webkit-backface-visibility: hidden;\r\n    -moz-backface-visibility: hidden;\r\n    backface-visibility: hidden;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/screens/canvas/canvas.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,cAAc;;IAEd,gBAAgB;IAChB,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,kBAAkB,EAAE,uDAAuD;;IAE3E,sBAAsB;IACtB,mCAAmC;IACnC,gCAAgC;IAChC,2BAA2B;AAC/B;;AAEA;IACI,sBAAsB;IACtB,mCAAmC;IACnC,gCAAgC;IAChC,2BAA2B;AAC/B\",\"sourcesContent\":[\"vc-canvas {\\r\\n    position: relative;\\r\\n    display: block;\\r\\n    \\r\\n    overflow: hidden;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nvc-canvas > #canvas-content {\\r\\n    position: absolute;\\r\\n    overflow: visible;\\r\\n    touch-action: none; /* To disable default touch actions on iOS and iPadOS */\\r\\n\\r\\n    /* GPU optimizations */\\r\\n    -webkit-backface-visibility: hidden;\\r\\n    -moz-backface-visibility: hidden;\\r\\n    backface-visibility: hidden;\\r\\n}\\r\\n\\r\\nvc-canvas > #canvas-content * {\\r\\n    /* GPU optimizations */\\r\\n    -webkit-backface-visibility: hidden;\\r\\n    -moz-backface-visibility: hidden;\\r\\n    backface-visibility: hidden;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-home {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\nvc-home > #groups-panel {\r\n    min-width: 200px;\r\n    width: 20%;\r\n    background-color: var(--white);\r\n    border-right: 0.2em solid var(--grey-2);\r\n}\r\n\r\nvc-home #groups-select {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.6em;\r\n\r\n    width: calc(100% - 4em);\r\n    margin: 2em;\r\n}\r\n\r\nvc-home #groups-select > * {\r\n    padding: 0.8em 1.6em;\r\n    border-radius: 0.4em;\r\n    border: 0.1em solid var(--grey-2);\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/screens/home/home.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,aAAa;IACb,mBAAmB;IACnB,WAAW;IACX,YAAY;AAChB;;AAEA;IACI,gBAAgB;IAChB,UAAU;IACV,8BAA8B;IAC9B,uCAAuC;AAC3C;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,UAAU;;IAEV,uBAAuB;IACvB,WAAW;AACf;;AAEA;IACI,oBAAoB;IACpB,oBAAoB;IACpB,iCAAiC;AACrC\",\"sourcesContent\":[\"vc-home {\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\nvc-home > #groups-panel {\\r\\n    min-width: 200px;\\r\\n    width: 20%;\\r\\n    background-color: var(--white);\\r\\n    border-right: 0.2em solid var(--grey-2);\\r\\n}\\r\\n\\r\\nvc-home #groups-select {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 0.6em;\\r\\n\\r\\n    width: calc(100% - 4em);\\r\\n    margin: 2em;\\r\\n}\\r\\n\\r\\nvc-home #groups-select > * {\\r\\n    padding: 0.8em 1.6em;\\r\\n    border-radius: 0.4em;\\r\\n    border: 0.1em solid var(--grey-2);\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:root {\r\n    --white: #ffffff;\r\n    --grey-1: #EFF7F8;\r\n    --grey-2: #CAD9DB;\r\n    --grey-3: #93A4A6;\r\n    --black: #102326;\r\n\r\n    --accent-1: #9AF0EF;\r\n    --accent-2: #F2A0CA;\r\n    --accent-3: #B2F2A6;\r\n    --accent-4: #BEB7F5;\r\n    --accent-5: #F4ED98;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/styles/colors.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,gBAAgB;IAChB,iBAAiB;IACjB,iBAAiB;IACjB,iBAAiB;IACjB,gBAAgB;;IAEhB,mBAAmB;IACnB,mBAAmB;IACnB,mBAAmB;IACnB,mBAAmB;IACnB,mBAAmB;AACvB\",\"sourcesContent\":[\":root {\\r\\n    --white: #ffffff;\\r\\n    --grey-1: #EFF7F8;\\r\\n    --grey-2: #CAD9DB;\\r\\n    --grey-3: #93A4A6;\\r\\n    --black: #102326;\\r\\n\\r\\n    --accent-1: #9AF0EF;\\r\\n    --accent-2: #F2A0CA;\\r\\n    --accent-3: #B2F2A6;\\r\\n    --accent-4: #BEB7F5;\\r\\n    --accent-5: #F4ED98;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.turbo-drawer > .turbo-drawer-panel-container > .turbo-drawer-panel {\r\n    display: block;\r\n    background-color: white;\r\n    padding: 1em;\r\n    border-radius: 6px;\r\n}\r\n\r\n.turbo-drawer > .turbo-drawer-thumb {\r\n    background-color: white;\r\n}\r\n\r\n.turbo-drawer > .turbo-drawer-thumb > .icon {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n}\r\n\r\n.turbo-drawer.top-drawer > .turbo-drawer-thumb {\r\n    border-radius: 1em 1em 0 0;\r\n    padding: 0.1em 2em;\r\n}\r\n\r\n.turbo-drawer.bottom-drawer > .turbo-drawer-thumb {\r\n    border-radius: 0 0 1em 1em;\r\n    padding: 0.1em 2em;\r\n}\r\n\r\n.turbo-drawer.left-drawer > .turbo-drawer-thumb {\r\n    border-radius: 1em 0 0 1em;\r\n    padding: 1.5em 0.2em;\r\n}\r\n\r\n.turbo-drawer.right-drawer > .turbo-drawer-thumb {\r\n    border-radius: 0 1em 1em 0;\r\n    padding: 1.5em 0.2em;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/styles/drawer.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,cAAc;IACd,uBAAuB;IACvB,YAAY;IACZ,kBAAkB;AACtB;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,0BAA0B;IAC1B,kBAAkB;AACtB;;AAEA;IACI,0BAA0B;IAC1B,kBAAkB;AACtB;;AAEA;IACI,0BAA0B;IAC1B,oBAAoB;AACxB;;AAEA;IACI,0BAA0B;IAC1B,oBAAoB;AACxB\",\"sourcesContent\":[\".turbo-drawer > .turbo-drawer-panel-container > .turbo-drawer-panel {\\r\\n    display: block;\\r\\n    background-color: white;\\r\\n    padding: 1em;\\r\\n    border-radius: 6px;\\r\\n}\\r\\n\\r\\n.turbo-drawer > .turbo-drawer-thumb {\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\n.turbo-drawer > .turbo-drawer-thumb > .icon {\\r\\n    width: 1.5em;\\r\\n    height: 1.5em;\\r\\n}\\r\\n\\r\\n.turbo-drawer.top-drawer > .turbo-drawer-thumb {\\r\\n    border-radius: 1em 1em 0 0;\\r\\n    padding: 0.1em 2em;\\r\\n}\\r\\n\\r\\n.turbo-drawer.bottom-drawer > .turbo-drawer-thumb {\\r\\n    border-radius: 0 0 1em 1em;\\r\\n    padding: 0.1em 2em;\\r\\n}\\r\\n\\r\\n.turbo-drawer.left-drawer > .turbo-drawer-thumb {\\r\\n    border-radius: 1em 0 0 1em;\\r\\n    padding: 1.5em 0.2em;\\r\\n}\\r\\n\\r\\n.turbo-drawer.right-drawer > .turbo-drawer-thumb {\\r\\n    border-radius: 0 1em 1em 0;\\r\\n    padding: 1.5em 0.2em;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `turbo-input {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 0.5em;\r\n}\r\n\r\nturbo-input > label {\r\n}\r\n\r\nturbo-input > turbo-rich-element {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    background-color: white;\r\n    border: 1px solid lightgray;\r\n    padding: 0.5em;\r\n    color: black;\r\n}\r\n\r\nturbo-input input {\r\n    margin: 0;\r\n    padding: 0;\r\n    background-color: transparent;\r\n    border: none;\r\n    width: 100%;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/styles/input.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,UAAU;AACd;;AAEA;AACA;;AAEA;IACI,aAAa;IACb,mBAAmB;;IAEnB,uBAAuB;IACvB,2BAA2B;IAC3B,cAAc;IACd,YAAY;AAChB;;AAEA;IACI,SAAS;IACT,UAAU;IACV,6BAA6B;IAC7B,YAAY;IACZ,WAAW;AACf\",\"sourcesContent\":[\"turbo-input {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    gap: 0.5em;\\r\\n}\\r\\n\\r\\nturbo-input > label {\\r\\n}\\r\\n\\r\\nturbo-input > turbo-rich-element {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n\\r\\n    background-color: white;\\r\\n    border: 1px solid lightgray;\\r\\n    padding: 0.5em;\\r\\n    color: black;\\r\\n}\\r\\n\\r\\nturbo-input input {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    background-color: transparent;\\r\\n    border: none;\\r\\n    width: 100%;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_0___ from \"-!../../../../node_modules/css-loader/dist/cjs.js!./input.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_1___ from \"-!../../../../node_modules/css-loader/dist/cjs.js!./markingMenu.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_2___ from \"-!../../../../node_modules/css-loader/dist/cjs.js!./colors.css\";\nimport ___CSS_LOADER_AT_RULE_IMPORT_3___ from \"-!../../../../node_modules/css-loader/dist/cjs.js!./drawer.css\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap);\"]);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_0___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_1___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_2___);\n___CSS_LOADER_EXPORT___.i(___CSS_LOADER_AT_RULE_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n\r\n    touch-action: pan-x pan-y;\r\n    user-select: none;\r\n    overflow: hidden;\r\n\r\n    background-color: #f1f8f8;\r\n\r\n    --border-style: 1px solid #ccc;\r\n    --base-padding: 8px;\r\n    --card-radius: 6px;\r\n}\r\n\r\nbody::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n* {\r\n    margin: 0;\r\n    font-size: 13px;\r\n    font-family: \"Inter\", sans-serif;\r\n}\r\n\r\n.icon {\r\n    display: inline-block;\r\n    max-width: 2.5em;\r\n    max-height: 2.5em;\r\n    aspect-ratio: 1;\r\n}\r\n\r\n.icon > svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    aspect-ratio: 1;\r\n}\r\n\r\n.content-wrapper {\r\n    padding: 32px 0;\r\n    width: 50%;\r\n    margin: auto;\r\n}\r\n\r\n\r\n\r\n/* Generic text classes */\r\n\r\n.bold {\r\n    font-weight: bold;\r\n}\r\n\r\n.italic {\r\n    font-style: italic;\r\n}\r\n\r\n.left {\r\n    text-align: left;\r\n}\r\n\r\n.large {\r\n    font-size: 16px;\r\n}\r\n\r\n\r\n\r\n/* Generic style classes */\r\n\r\n.border {\r\n    border: var(--border-style);\r\n}\r\n\r\n.padding-small {\r\n    padding: calc(0.5 * var(--base-padding));\r\n}\r\n\r\n.padding {\r\n    padding: calc(1.5 * var(--base-padding));\r\n    border-radius: var(--card-radius);\r\n}\r\n\r\n.translucent {\r\n    opacity: 0.25;\r\n}\r\n\r\n.hidden {\r\n    display: none !important;\r\n}\r\n\r\n\r\n\r\n/* Generic button classes */\r\n\r\nbutton.clickable, .card {\r\n    border: var(--border-style);\r\n    padding: calc(1.5 * var(--base-padding));\r\n    border-radius: var(--card-radius);\r\n    background-color: white;\r\n}\r\n\r\nbutton.clickable:hover {\r\n    cursor: pointer;\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n\r\n\r\n/* Generic flex classes */\r\n\r\n.row {\r\n    display: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.column {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.row > *, .column > * {\r\n    flex-grow: 0;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.grow {\r\n    flex-grow: 1;\r\n    flex-basis: 0;\r\n}\r\n\r\n.gap {\r\n    gap: var(--base-padding);\r\n}\r\n\r\n.gap-large {\r\n    gap: calc(2 * var(--base-padding));\r\n}\r\n\r\n.scroller {\r\n    overflow: auto;\r\n    flex-shrink: 1;\r\n    padding-top: 32px;\r\n}\r\n\r\n\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/styles/main.css\"],\"names\":[],\"mappings\":\"AAMA;IACI,YAAY;IACZ,aAAa;;IAEb,yBAAyB;IACzB,iBAAiB;IACjB,gBAAgB;;IAEhB,yBAAyB;;IAEzB,8BAA8B;IAC9B,mBAAmB;IACnB,kBAAkB;AACtB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,SAAS;IACT,eAAe;IACf,gCAAgC;AACpC;;AAEA;IACI,qBAAqB;IACrB,gBAAgB;IAChB,iBAAiB;IACjB,eAAe;AACnB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,UAAU;IACV,YAAY;AAChB;;;;AAIA,yBAAyB;;AAEzB;IACI,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,eAAe;AACnB;;;;AAIA,0BAA0B;;AAE1B;IACI,2BAA2B;AAC/B;;AAEA;IACI,wCAAwC;AAC5C;;AAEA;IACI,wCAAwC;IACxC,iCAAiC;AACrC;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,wBAAwB;AAC5B;;;;AAIA,2BAA2B;;AAE3B;IACI,2BAA2B;IAC3B,wCAAwC;IACxC,iCAAiC;IACjC,uBAAuB;AAC3B;;AAEA;IACI,eAAe;IACf,oCAAoC;AACxC;;;;AAIA,yBAAyB;;AAEzB;IACI,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,cAAc;IACd,cAAc;IACd,iBAAiB;AACrB\",\"sourcesContent\":[\"@import url(\\\"https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap\\\");\\r\\n@import \\\"./input.css\\\";\\r\\n@import \\\"./markingMenu.css\\\";\\r\\n@import \\\"./colors.css\\\";\\r\\n@import \\\"./drawer.css\\\";\\r\\n\\r\\nbody {\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n\\r\\n    touch-action: pan-x pan-y;\\r\\n    user-select: none;\\r\\n    overflow: hidden;\\r\\n\\r\\n    background-color: #f1f8f8;\\r\\n\\r\\n    --border-style: 1px solid #ccc;\\r\\n    --base-padding: 8px;\\r\\n    --card-radius: 6px;\\r\\n}\\r\\n\\r\\nbody::-webkit-scrollbar {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n* {\\r\\n    margin: 0;\\r\\n    font-size: 13px;\\r\\n    font-family: \\\"Inter\\\", sans-serif;\\r\\n}\\r\\n\\r\\n.icon {\\r\\n    display: inline-block;\\r\\n    max-width: 2.5em;\\r\\n    max-height: 2.5em;\\r\\n    aspect-ratio: 1;\\r\\n}\\r\\n\\r\\n.icon > svg {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    aspect-ratio: 1;\\r\\n}\\r\\n\\r\\n.content-wrapper {\\r\\n    padding: 32px 0;\\r\\n    width: 50%;\\r\\n    margin: auto;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Generic text classes */\\r\\n\\r\\n.bold {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.italic {\\r\\n    font-style: italic;\\r\\n}\\r\\n\\r\\n.left {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.large {\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Generic style classes */\\r\\n\\r\\n.border {\\r\\n    border: var(--border-style);\\r\\n}\\r\\n\\r\\n.padding-small {\\r\\n    padding: calc(0.5 * var(--base-padding));\\r\\n}\\r\\n\\r\\n.padding {\\r\\n    padding: calc(1.5 * var(--base-padding));\\r\\n    border-radius: var(--card-radius);\\r\\n}\\r\\n\\r\\n.translucent {\\r\\n    opacity: 0.25;\\r\\n}\\r\\n\\r\\n.hidden {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Generic button classes */\\r\\n\\r\\nbutton.clickable, .card {\\r\\n    border: var(--border-style);\\r\\n    padding: calc(1.5 * var(--base-padding));\\r\\n    border-radius: var(--card-radius);\\r\\n    background-color: white;\\r\\n}\\r\\n\\r\\nbutton.clickable:hover {\\r\\n    cursor: pointer;\\r\\n    background-color: rgba(0, 0, 0, 0.1);\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Generic flex classes */\\r\\n\\r\\n.row {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n}\\r\\n\\r\\n.column {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.row > *, .column > * {\\r\\n    flex-grow: 0;\\r\\n    flex-shrink: 0;\\r\\n}\\r\\n\\r\\n.grow {\\r\\n    flex-grow: 1;\\r\\n    flex-basis: 0;\\r\\n}\\r\\n\\r\\n.gap {\\r\\n    gap: var(--base-padding);\\r\\n}\\r\\n\\r\\n.gap-large {\\r\\n    gap: calc(2 * var(--base-padding));\\r\\n}\\r\\n\\r\\n.scroller {\\r\\n    overflow: auto;\\r\\n    flex-shrink: 1;\\r\\n    padding-top: 32px;\\r\\n}\\r\\n\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.turbo-marking-menu > turbo-select-entry {\r\n    position: absolute;\r\n    height: 1.5rem;\r\n    opacity: 0;\r\n\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    padding: 0.4rem 0.6rem;\r\n    border-radius: 0.4rem;\r\n\r\n    background-color: pink;\r\n    /*border: var(--overlay-stroke) 1px solid;*/\r\n\r\n    transform: translate(-50%, -50%);\r\n\r\n    transition: scale 0.1s ease-out;\r\n    /*box-shadow: var(--default-shadow);*/\r\n}\r\n\r\n.turbo-marking-menu > turbo-select-entry:hover {\r\n    scale: 1.1;\r\n}\r\n\r\n.turbo-marking-menu > turbo-select-entry img {\r\n    height: 80%;\r\n    aspect-ratio: 1;\r\n}\r\n\r\n.turbo-marking-menu > turbo-select-entry p {\r\n    margin: 0 0 0 6px;\r\n    display: inline-block;\r\n    flex-grow: 1;\r\n    white-space: nowrap;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/styles/markingMenu.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,cAAc;IACd,UAAU;;IAEV,aAAa;IACb,mBAAmB;IACnB,mBAAmB;;IAEnB,sBAAsB;IACtB,qBAAqB;;IAErB,sBAAsB;IACtB,2CAA2C;;IAE3C,gCAAgC;;IAEhC,+BAA+B;IAC/B,qCAAqC;AACzC;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,WAAW;IACX,eAAe;AACnB;;AAEA;IACI,iBAAiB;IACjB,qBAAqB;IACrB,YAAY;IACZ,mBAAmB;AACvB\",\"sourcesContent\":[\".turbo-marking-menu > turbo-select-entry {\\r\\n    position: absolute;\\r\\n    height: 1.5rem;\\r\\n    opacity: 0;\\r\\n\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    align-items: center;\\r\\n\\r\\n    padding: 0.4rem 0.6rem;\\r\\n    border-radius: 0.4rem;\\r\\n\\r\\n    background-color: pink;\\r\\n    /*border: var(--overlay-stroke) 1px solid;*/\\r\\n\\r\\n    transform: translate(-50%, -50%);\\r\\n\\r\\n    transition: scale 0.1s ease-out;\\r\\n    /*box-shadow: var(--default-shadow);*/\\r\\n}\\r\\n\\r\\n.turbo-marking-menu > turbo-select-entry:hover {\\r\\n    scale: 1.1;\\r\\n}\\r\\n\\r\\n.turbo-marking-menu > turbo-select-entry img {\\r\\n    height: 80%;\\r\\n    aspect-ratio: 1;\\r\\n}\\r\\n\\r\\n.turbo-marking-menu > turbo-select-entry p {\\r\\n    margin: 0 0 0 6px;\\r\\n    display: inline-block;\\r\\n    flex-grow: 1;\\r\\n    white-space: nowrap;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `vc-tool.selected {\r\n    background-color: aquamarine;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./frontend/src/client/tools/tool/tool.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,4BAA4B;AAChC\",\"sourcesContent\":[\"vc-tool.selected {\\r\\n    background-color: aquamarine;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export function blur(values, r) {\n  if (!((r = +r) >= 0)) throw new RangeError(\"invalid r\");\n  let length = values.length;\n  if (!((length = Math.floor(length)) >= 0)) throw new RangeError(\"invalid length\");\n  if (!length || !r) return values;\n  const blur = blurf(r);\n  const temp = values.slice();\n  blur(values, temp, 0, length, 1);\n  blur(temp, values, 0, length, 1);\n  blur(values, temp, 0, length, 1);\n  return values;\n}\n\nexport const blur2 = Blur2(blurf);\n\nexport const blurImage = Blur2(blurfImage);\n\nfunction Blur2(blur) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let {data: values, width, height} = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== undefined ? height : values.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || (!rx && !ry)) return data;\n    const blurx = rx && blur(rx);\n    const blury = ry && blur(ry);\n    const temp = values.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values, temp, width, height);\n      blurh(blurx, temp, values, width, height);\n      blurh(blurx, values, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values, temp, width, height);\n      blurv(blury, temp, values, width, height);\n      blurv(blury, values, temp, width, height);\n    }\n    return data;\n  };\n}\n\nfunction blurh(blur, T, S, w, h) {\n  for (let y = 0, n = w * h; y < n;) {\n    blur(T, S, y, y += w, 1);\n  }\n}\n\nfunction blurv(blur, T, S, w, h) {\n  for (let x = 0, n = w * h; x < w; ++x) {\n    blur(T, S, x, x + n, w);\n  }\n}\n\nfunction blurfImage(radius) {\n  const blur = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur(T, S, start + 0, stop + 0, step);\n    blur(T, S, start + 1, stop + 1, step);\n    blur(T, S, start + 2, stop + 2, step);\n    blur(T, S, start + 3, stop + 3, step);\n  };\n}\n\n// Given a target array T, a source array S, sets each value T[i] to the average\n// of {S[i - r], …, S[i], …, S[i + r]}, where r = ⌊radius⌋, start <= i < stop,\n// for each i, i + step, i + 2 * step, etc., and where S[j] is clamped between\n// S[start] (inclusive) and S[stop] (exclusive). If the given radius is not an\n// integer, S[i - r - 1] and S[i + r + 1] are added to the sum, each weighted\n// according to r - ⌊radius⌋.\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s0)];\n      T[i] = (sum + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum -= S[Math.max(start, i - s0)];\n    }\n  };\n}\n\n// Like blurf, but optimized for integer radius.\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => { // stop must be aligned!\n    if (!((stop -= step) >= start)) return; // inclusive stop\n    let sum = radius * S[start];\n    const s = step * radius;\n    for (let i = start, j = start + s; i < j; i += step) {\n      sum += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum += S[Math.min(stop, i + s)];\n      T[i] = sum / w;\n      sum -= S[Math.max(start, i - s)];\n    }\n  };\n}\n","export default function constant(x) {\n  return () => x;\n}\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function difference(values, ...others) {\n  values = new InternSet(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new InternSet();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","export default function identity(x) {\n  return x;\n}\n","export {default as bisect, bisectRight, bisectLeft, bisectCenter} from \"./bisect.js\";\nexport {default as ascending} from \"./ascending.js\";\nexport {default as bisector} from \"./bisector.js\";\nexport {blur, blur2, blurImage} from \"./blur.js\";\nexport {default as count} from \"./count.js\";\nexport {default as cross} from \"./cross.js\";\nexport {default as cumsum} from \"./cumsum.js\";\nexport {default as descending} from \"./descending.js\";\nexport {default as deviation} from \"./deviation.js\";\nexport {default as extent} from \"./extent.js\";\nexport {Adder, fsum, fcumsum} from \"./fsum.js\";\nexport {default as group, flatGroup, flatRollup, groups, index, indexes, rollup, rollups} from \"./group.js\";\nexport {default as groupSort} from \"./groupSort.js\";\nexport {default as bin, default as histogram} from \"./bin.js\"; // Deprecated; use bin.\nexport {default as thresholdFreedmanDiaconis} from \"./threshold/freedmanDiaconis.js\";\nexport {default as thresholdScott} from \"./threshold/scott.js\";\nexport {default as thresholdSturges} from \"./threshold/sturges.js\";\nexport {default as max} from \"./max.js\";\nexport {default as maxIndex} from \"./maxIndex.js\";\nexport {default as mean} from \"./mean.js\";\nexport {default as median, medianIndex} from \"./median.js\";\nexport {default as merge} from \"./merge.js\";\nexport {default as min} from \"./min.js\";\nexport {default as minIndex} from \"./minIndex.js\";\nexport {default as mode} from \"./mode.js\";\nexport {default as nice} from \"./nice.js\";\nexport {default as pairs} from \"./pairs.js\";\nexport {default as permute} from \"./permute.js\";\nexport {default as quantile, quantileIndex, quantileSorted} from \"./quantile.js\";\nexport {default as quickselect} from \"./quickselect.js\";\nexport {default as range} from \"./range.js\";\nexport {default as rank} from \"./rank.js\";\nexport {default as least} from \"./least.js\";\nexport {default as leastIndex} from \"./leastIndex.js\";\nexport {default as greatest} from \"./greatest.js\";\nexport {default as greatestIndex} from \"./greatestIndex.js\";\nexport {default as scan} from \"./scan.js\"; // Deprecated; use leastIndex.\nexport {default as shuffle, shuffler} from \"./shuffle.js\";\nexport {default as sum} from \"./sum.js\";\nexport {default as ticks, tickIncrement, tickStep} from \"./ticks.js\";\nexport {default as transpose} from \"./transpose.js\";\nexport {default as variance} from \"./variance.js\";\nexport {default as zip} from \"./zip.js\";\nexport {default as every} from \"./every.js\";\nexport {default as some} from \"./some.js\";\nexport {default as filter} from \"./filter.js\";\nexport {default as map} from \"./map.js\";\nexport {default as reduce} from \"./reduce.js\";\nexport {default as reverse} from \"./reverse.js\";\nexport {default as sort} from \"./sort.js\";\nexport {default as difference} from \"./difference.js\";\nexport {default as disjoint} from \"./disjoint.js\";\nexport {default as intersection} from \"./intersection.js\";\nexport {default as subset} from \"./subset.js\";\nexport {default as superset} from \"./superset.js\";\nexport {default as union} from \"./union.js\";\nexport {InternMap, InternSet} from \"internmap\";\n","import {InternSet} from \"internmap\";\n\nexport default function intersection(values, ...others) {\n  values = new InternSet(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n\nfunction set(values) {\n  return values instanceof InternSet ? values : new InternSet(values);\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  values = Uint32Array.from(V, (_, i) => i);\n  // Risky chaining due to Safari 14 https://github.com/d3/d3-array/issues/123\n  values.sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex));\n  values.forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    const io = intern(o);\n    if (set.has(io)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      const ivalue = intern(value);\n      set.add(ivalue);\n      if (Object.is(io, ivalue)) break;\n    }\n  }\n  return true;\n}\n\nfunction intern(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  const c = count(values), d = quantile(values, 0.75) - quantile(values, 0.25);\n  return c && d ? Math.ceil((max - min) / (2 * d * Math.pow(c, -1 / 3))) : 1;\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import min from \"./min.js\";\n\nexport default function transpose(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import {InternSet} from \"internmap\";\n\nexport default function union(...others) {\n  const set = new InternSet();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import transpose from \"./transpose.js\";\n\nexport default function zip() {\n  return transpose(arguments);\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function(x) {\n  return x;\n}\n","export {\n  axisTop,\n  axisRight,\n  axisBottom,\n  axisLeft\n} from \"./axis.js\";\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export {\n  default as brush,\n  brushX,\n  brushY,\n  brushSelection\n} from \"./brush.js\";\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export var slice = Array.prototype.slice;\n","import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export {default as chord, chordTranspose, chordDirected} from \"./chord.js\";\nexport {default as ribbon, ribbonArrow} from \"./ribbon.js\";\n","export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","export {default as color, rgb, hsl} from \"./color.js\";\nexport {default as lab, hcl, lch, gray} from \"./lab.js\";\nexport {default as cubehelix} from \"./cubehelix.js\";\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default x => () => x;\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","import {extent, nice, thresholdSturges, ticks} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      const e = extent(values, finite);\n      tz = ticks(...nice(e[0], e[1], tz), tz);\n      while (tz[tz.length - 1] >= e[1]) tz.pop();\n      while (tz[1] < e[0]) tz.shift();\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(value => contour(values, value));\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    const v = value == null ? NaN : +value;\n    if (isNaN(v)) throw new Error(`invalid value: ${value}`);\n\n    var polygons = [],\n        holes = [];\n\n    isorings(values, v, function(ring) {\n      smooth(ring, values, v);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = above(values[0], value);\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = above(values[x + 1], value);\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = above(values[y * dx + dx], value);\n      t2 = above(values[y * dx], value);\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = above(values[y * dx + dx + x + 1], value);\n        t3 = t2, t2 = above(values[y * dx + x + 1], value);\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = above(values[y * dx + x + 1], value);\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v1 = valid(values[yt * dx + xt]);\n      if (x > 0 && x < dx && xt === x) {\n        point[0] = smooth1(x, valid(values[yt * dx + xt - 1]), v1, value);\n      }\n      if (y > 0 && y < dy && yt === y) {\n        point[1] = smooth1(y, valid(values[(yt - 1) * dx + xt]), v1, value);\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n\n// When computing the extent, ignore infinite values (as well as invalid ones).\nfunction finite(x) {\n  return isFinite(x) ? x : NaN;\n}\n\n// Is the (possibly invalid) x greater than or equal to the (known valid) value?\n// Treat any invalid value as below negative infinity.\nfunction above(x, value) {\n  return x == null ? false : +x >= value;\n}\n\n// During smoothing, treat any invalid value as negative infinity.\nfunction valid(v) {\n  return v == null || isNaN(v = +v) ? -Infinity : v;\n}\n\nfunction smooth1(x, v0, v1, value) {\n  const a = value - v0;\n  const b = v1 - v0;\n  const d = isFinite(a) || isFinite(b) ? a / b : Math.sign(a) / Math.sign(b);\n  return isNaN(d) ? x : x + d - 0.5;\n}\n","import {blur2, max, ticks} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport Contours from \"./contours.js\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function grid(data) {\n    var values = new Float32Array(n * m),\n        pow2k = Math.pow(2, -k),\n        i = -1;\n\n    for (const d of data) {\n      var xi = (x(d, ++i, data) + o) * pow2k,\n          yi = (y(d, i, data) + o) * pow2k,\n          wi = +weight(d, i, data);\n      if (wi && xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        var x0 = Math.floor(xi),\n            y0 = Math.floor(yi),\n            xt = xi - x0 - 0.5,\n            yt = yi - y0 - 0.5;\n        values[x0 + y0 * n] += (1 - xt) * (1 - yt) * wi;\n        values[x0 + 1 + y0 * n] += xt * (1 - yt) * wi;\n        values[x0 + 1 + (y0 + 1) * n] += xt * yt * wi;\n        values[x0 + (y0 + 1) * n] += (1 - xt) * yt * wi;\n      }\n    }\n\n    blur2({data: values, width: n, height: m}, r * pow2k);\n    return values;\n  }\n\n  function density(data) {\n    var values = grid(data),\n        tz = threshold(values),\n        pow4k = Math.pow(2, 2 * k);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = ticks(Number.MIN_VALUE, max(values) / pow4k, tz);\n    }\n\n    return Contours()\n        .size([n, m])\n        .thresholds(tz.map(d => d * pow4k))\n      (values)\n        .map((c, i) => (c.value = +tz[i], transform(c)));\n  }\n\n  density.contours = function(data) {\n    var values = grid(data),\n        contours = Contours().size([n, m]),\n        pow4k = Math.pow(2, 2 * k),\n        contour = value => {\n          value = +value;\n          var c = transform(contours.contour(values, value * pow4k));\n          c.value = value; // preserve exact threshold value\n          return c;\n        };\n    Object.defineProperty(contour, \"max\", {get: () => max(values) / pow4k});\n    return contour;\n  };\n\n  function transform(geometry) {\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = (Math.sqrt(4 * _ * _ + 1) - 1) / 2, resize();\n  };\n\n  return density;\n}\n","export {default as contours} from \"./contours.js\";\nexport {default as contourDensity} from \"./density.js\";\n","export default function() {}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) {\n        inedges[hull[1]] = 0;\n        this.triangles[1] = hull[1];\n        this.triangles[2] = hull[1];\n      }\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r) {\n    if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\n    r = r == undefined ? 2 : +r;\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","export {default as Delaunay} from \"./delaunay.js\";\nexport {default as Voronoi} from \"./voronoi.js\";\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n    let bx, by; // lazily computed barycenter of the hull\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (Math.abs(ab) < 1e-9) {\n        // For a degenerate triangle, the circumcenter is at the infinity, in a\n        // direction orthogonal to the halfedge and away from the “center” of\n        // the diagram <bx, by>, defined as the hull’s barycenter.\n        if (bx === undefined) {\n          bx = by = 0;\n          for (const i of hull) bx += points[i * 2], by += points[i * 2 + 1];\n          bx /= hull.length, by /= hull.length;\n        }\n        const a = 1e9 * Math.sign((bx - x1) * ey - (by - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] === cj[aj]\n              && ci[ai + 1] === cj[aj + 1]\n              && ci[(ai + 2) % li] === cj[(aj + lj - 2) % lj]\n              && ci[(ai + 3) % li] === cj[(aj + lj - 1) % lj]) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return this._simplify(V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points));\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    // for more robustness, always consider the segment in the same order\n    const flip = c0 < c1;\n    if (flip) [x0, y0, x1, y1, c0, c1] = [x1, y1, x0, y0, c1, c0];\n    while (true) {\n      if (c0 === 0 && c1 === 0) return flip ? [x1, y1, x0, y0] : [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n  _simplify(P) {\n    if (P && P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) {\n          P.splice(j, 2), i -= 2;\n        }\n      }\n      if (!P.length) P = null;\n    }\n    return P;\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./dispatch.js\";\n","export default x => () => x;\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","export {default as drag} from \"./drag.js\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag.js\";\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","export {default as dsvFormat} from \"./dsv.js\";\nexport {csvParse, csvParseRows, csvFormat, csvFormatBody, csvFormatRows, csvFormatRow, csvFormatValue} from \"./csv.js\";\nexport {tsvParse, tsvParseRows, tsvFormat, tsvFormatBody, tsvFormatRows, tsvFormatRow, tsvFormatValue} from \"./tsv.js\";\nexport {default as autoType} from \"./autoType.js\";\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export {\n  linear as easeLinear\n} from \"./linear.js\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad.js\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic.js\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly.js\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin.js\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp.js\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle.js\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce.js\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back.js\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic.js\";\n","export const linear = t => +t;\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","export {default as blob} from \"./blob.js\";\nexport {default as buffer} from \"./buffer.js\";\nexport {default as dsv, csv, tsv} from \"./dsv.js\";\nexport {default as image} from \"./image.js\";\nexport {default as json} from \"./json.js\";\nexport {default as text} from \"./text.js\";\nexport {default as xml, html, svg} from \"./xml.js\";\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export {default as forceCenter} from \"./center.js\";\nexport {default as forceCollide} from \"./collide.js\";\nexport {default as forceLink} from \"./link.js\";\nexport {default as forceManyBody} from \"./manyBody.js\";\nexport {default as forceRadial} from \"./radial.js\";\nexport {default as forceSimulation} from \"./simulation.js\";\nexport {default as forceX} from \"./x.js\";\nexport {default as forceY} from \"./y.js\";\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale.js\";\nexport {default as formatLocale} from \"./locale.js\";\nexport {default as formatSpecifier, FormatSpecifier} from \"./formatSpecifier.js\";\nexport {default as precisionFixed} from \"./precisionFixed.js\";\nexport {default as precisionPrefix} from \"./precisionPrefix.js\";\nexport {default as precisionRound} from \"./precisionRound.js\";\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","export default x => x;\n","export {default as geoArea} from \"./area.js\";\nexport {default as geoBounds} from \"./bounds.js\";\nexport {default as geoCentroid} from \"./centroid.js\";\nexport {default as geoCircle} from \"./circle.js\";\nexport {default as geoClipAntimeridian} from \"./clip/antimeridian.js\";\nexport {default as geoClipCircle} from \"./clip/circle.js\";\nexport {default as geoClipExtent} from \"./clip/extent.js\"; // DEPRECATED! Use d3.geoIdentity().clipExtent(…).\nexport {default as geoClipRectangle} from \"./clip/rectangle.js\";\nexport {default as geoContains} from \"./contains.js\";\nexport {default as geoDistance} from \"./distance.js\";\nexport {default as geoGraticule, graticule10 as geoGraticule10} from \"./graticule.js\";\nexport {default as geoInterpolate} from \"./interpolate.js\";\nexport {default as geoLength} from \"./length.js\";\nexport {default as geoPath} from \"./path/index.js\";\nexport {default as geoAlbers} from \"./projection/albers.js\";\nexport {default as geoAlbersUsa} from \"./projection/albersUsa.js\";\nexport {default as geoAzimuthalEqualArea, azimuthalEqualAreaRaw as geoAzimuthalEqualAreaRaw} from \"./projection/azimuthalEqualArea.js\";\nexport {default as geoAzimuthalEquidistant, azimuthalEquidistantRaw as geoAzimuthalEquidistantRaw} from \"./projection/azimuthalEquidistant.js\";\nexport {default as geoConicConformal, conicConformalRaw as geoConicConformalRaw} from \"./projection/conicConformal.js\";\nexport {default as geoConicEqualArea, conicEqualAreaRaw as geoConicEqualAreaRaw} from \"./projection/conicEqualArea.js\";\nexport {default as geoConicEquidistant, conicEquidistantRaw as geoConicEquidistantRaw} from \"./projection/conicEquidistant.js\";\nexport {default as geoEqualEarth, equalEarthRaw as geoEqualEarthRaw} from \"./projection/equalEarth.js\";\nexport {default as geoEquirectangular, equirectangularRaw as geoEquirectangularRaw} from \"./projection/equirectangular.js\";\nexport {default as geoGnomonic, gnomonicRaw as geoGnomonicRaw} from \"./projection/gnomonic.js\";\nexport {default as geoIdentity} from \"./projection/identity.js\";\nexport {default as geoProjection, projectionMutator as geoProjectionMutator} from \"./projection/index.js\";\nexport {default as geoMercator, mercatorRaw as geoMercatorRaw} from \"./projection/mercator.js\";\nexport {default as geoNaturalEarth1, naturalEarth1Raw as geoNaturalEarth1Raw} from \"./projection/naturalEarth1.js\";\nexport {default as geoOrthographic, orthographicRaw as geoOrthographicRaw} from \"./projection/orthographic.js\";\nexport {default as geoStereographic, stereographicRaw as geoStereographicRaw} from \"./projection/stereographic.js\";\nexport {default as geoTransverseMercator, transverseMercatorRaw as geoTransverseMercatorRaw} from \"./projection/transverseMercator.js\";\nexport {default as geoRotation} from \"./rotation.js\";\nexport {default as geoStream} from \"./stream.js\";\nexport {default as geoTransform} from \"./transform.js\";\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export {default as cluster} from \"./cluster.js\";\nexport {default as hierarchy, Node} from \"./hierarchy/index.js\";\nexport {default as pack} from \"./pack/index.js\";\nexport {default as packSiblings} from \"./pack/siblings.js\";\nexport {default as packEnclose} from \"./pack/enclose.js\";\nexport {default as partition} from \"./partition.js\";\nexport {default as stratify} from \"./stratify.js\";\nexport {default as tree} from \"./tree.js\";\nexport {default as treemap} from \"./treemap/index.js\";\nexport {default as treemapBinary} from \"./treemap/binary.js\";\nexport {default as treemapDice} from \"./treemap/dice.js\";\nexport {default as treemapSlice} from \"./treemap/slice.js\";\nexport {default as treemapSliceDice} from \"./treemap/sliceDice.js\";\nexport {default as treemapSquarify} from \"./treemap/squarify.js\";\nexport {default as treemapResquarify} from \"./treemap/resquarify.js\";\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\" ⇥ \"/foo\", \"/foo\" ⇥ \"/\", \"/\" ↦ \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default x => () => x;\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export {default as interpolate} from \"./value.js\";\nexport {default as interpolateArray} from \"./array.js\";\nexport {default as interpolateBasis} from \"./basis.js\";\nexport {default as interpolateBasisClosed} from \"./basisClosed.js\";\nexport {default as interpolateDate} from \"./date.js\";\nexport {default as interpolateDiscrete} from \"./discrete.js\";\nexport {default as interpolateHue} from \"./hue.js\";\nexport {default as interpolateNumber} from \"./number.js\";\nexport {default as interpolateNumberArray} from \"./numberArray.js\";\nexport {default as interpolateObject} from \"./object.js\";\nexport {default as interpolateRound} from \"./round.js\";\nexport {default as interpolateString} from \"./string.js\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./transform/index.js\";\nexport {default as interpolateZoom} from \"./zoom.js\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./rgb.js\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./hsl.js\";\nexport {default as interpolateLab} from \"./lab.js\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./hcl.js\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./cubehelix.js\";\nexport {default as piecewise} from \"./piecewise.js\";\nexport {default as quantize} from \"./quantize.js\";\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export {Path, path, pathRound} from \"./path.js\";\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","export {default as polygonArea} from \"./area.js\";\nexport {default as polygonCentroid} from \"./centroid.js\";\nexport {default as polygonHull} from \"./hull.js\";\nexport {default as polygonContains} from \"./contains.js\";\nexport {default as polygonLength} from \"./length.js\";\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export {default as quadtree} from \"./quadtree.js\";\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n","export {default as randomUniform} from \"./uniform.js\";\nexport {default as randomInt} from \"./int.js\";\nexport {default as randomNormal} from \"./normal.js\";\nexport {default as randomLogNormal} from \"./logNormal.js\";\nexport {default as randomBates} from \"./bates.js\";\nexport {default as randomIrwinHall} from \"./irwinHall.js\";\nexport {default as randomExponential} from \"./exponential.js\";\nexport {default as randomPareto} from \"./pareto.js\";\nexport {default as randomBernoulli} from \"./bernoulli.js\";\nexport {default as randomGeometric} from \"./geometric.js\";\nexport {default as randomBinomial} from \"./binomial.js\";\nexport {default as randomGamma} from \"./gamma.js\";\nexport {default as randomBeta} from \"./beta.js\";\nexport {default as randomWeibull} from \"./weibull.js\";\nexport {default as randomCauchy} from \"./cauchy.js\";\nexport {default as randomLogistic} from \"./logistic.js\";\nexport {default as randomPoisson} from \"./poisson.js\";\nexport {default as randomLcg} from \"./lcg.js\";\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {default as schemeCategory10} from \"./categorical/category10.js\";\nexport {default as schemeAccent} from \"./categorical/Accent.js\";\nexport {default as schemeDark2} from \"./categorical/Dark2.js\";\nexport {default as schemeObservable10} from \"./categorical/observable10.js\";\nexport {default as schemePaired} from \"./categorical/Paired.js\";\nexport {default as schemePastel1} from \"./categorical/Pastel1.js\";\nexport {default as schemePastel2} from \"./categorical/Pastel2.js\";\nexport {default as schemeSet1} from \"./categorical/Set1.js\";\nexport {default as schemeSet2} from \"./categorical/Set2.js\";\nexport {default as schemeSet3} from \"./categorical/Set3.js\";\nexport {default as schemeTableau10} from \"./categorical/Tableau10.js\";\nexport {default as interpolateBrBG, scheme as schemeBrBG} from \"./diverging/BrBG.js\";\nexport {default as interpolatePRGn, scheme as schemePRGn} from \"./diverging/PRGn.js\";\nexport {default as interpolatePiYG, scheme as schemePiYG} from \"./diverging/PiYG.js\";\nexport {default as interpolatePuOr, scheme as schemePuOr} from \"./diverging/PuOr.js\";\nexport {default as interpolateRdBu, scheme as schemeRdBu} from \"./diverging/RdBu.js\";\nexport {default as interpolateRdGy, scheme as schemeRdGy} from \"./diverging/RdGy.js\";\nexport {default as interpolateRdYlBu, scheme as schemeRdYlBu} from \"./diverging/RdYlBu.js\";\nexport {default as interpolateRdYlGn, scheme as schemeRdYlGn} from \"./diverging/RdYlGn.js\";\nexport {default as interpolateSpectral, scheme as schemeSpectral} from \"./diverging/Spectral.js\";\nexport {default as interpolateBuGn, scheme as schemeBuGn} from \"./sequential-multi/BuGn.js\";\nexport {default as interpolateBuPu, scheme as schemeBuPu} from \"./sequential-multi/BuPu.js\";\nexport {default as interpolateGnBu, scheme as schemeGnBu} from \"./sequential-multi/GnBu.js\";\nexport {default as interpolateOrRd, scheme as schemeOrRd} from \"./sequential-multi/OrRd.js\";\nexport {default as interpolatePuBuGn, scheme as schemePuBuGn} from \"./sequential-multi/PuBuGn.js\";\nexport {default as interpolatePuBu, scheme as schemePuBu} from \"./sequential-multi/PuBu.js\";\nexport {default as interpolatePuRd, scheme as schemePuRd} from \"./sequential-multi/PuRd.js\";\nexport {default as interpolateRdPu, scheme as schemeRdPu} from \"./sequential-multi/RdPu.js\";\nexport {default as interpolateYlGnBu, scheme as schemeYlGnBu} from \"./sequential-multi/YlGnBu.js\";\nexport {default as interpolateYlGn, scheme as schemeYlGn} from \"./sequential-multi/YlGn.js\";\nexport {default as interpolateYlOrBr, scheme as schemeYlOrBr} from \"./sequential-multi/YlOrBr.js\";\nexport {default as interpolateYlOrRd, scheme as schemeYlOrRd} from \"./sequential-multi/YlOrRd.js\";\nexport {default as interpolateBlues, scheme as schemeBlues} from \"./sequential-single/Blues.js\";\nexport {default as interpolateGreens, scheme as schemeGreens} from \"./sequential-single/Greens.js\";\nexport {default as interpolateGreys, scheme as schemeGreys} from \"./sequential-single/Greys.js\";\nexport {default as interpolatePurples, scheme as schemePurples} from \"./sequential-single/Purples.js\";\nexport {default as interpolateReds, scheme as schemeReds} from \"./sequential-single/Reds.js\";\nexport {default as interpolateOranges, scheme as schemeOranges} from \"./sequential-single/Oranges.js\";\nexport {default as interpolateCividis} from \"./sequential-multi/cividis.js\";\nexport {default as interpolateCubehelixDefault} from \"./sequential-multi/cubehelix.js\";\nexport {default as interpolateRainbow, warm as interpolateWarm, cool as interpolateCool} from \"./sequential-multi/rainbow.js\";\nexport {default as interpolateSinebow} from \"./sequential-multi/sinebow.js\";\nexport {default as interpolateTurbo} from \"./sequential-multi/turbo.js\";\nexport {default as interpolateViridis, magma as interpolateMagma, inferno as interpolateInferno, plasma as interpolatePlasma} from \"./sequential-multi/viridis.js\";\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export {\n  default as scaleBand,\n  point as scalePoint\n} from \"./band.js\";\n\nexport {\n  default as scaleIdentity\n} from \"./identity.js\";\n\nexport {\n  default as scaleLinear\n} from \"./linear.js\";\n\nexport {\n  default as scaleLog\n} from \"./log.js\";\n\nexport {\n  default as scaleSymlog\n} from \"./symlog.js\";\n\nexport {\n  default as scaleOrdinal,\n  implicit as scaleImplicit\n} from \"./ordinal.js\";\n\nexport {\n  default as scalePow,\n  sqrt as scaleSqrt\n} from \"./pow.js\";\n\nexport {\n  default as scaleRadial\n} from \"./radial.js\";\n\nexport {\n  default as scaleQuantile\n} from \"./quantile.js\";\n\nexport {\n  default as scaleQuantize\n} from \"./quantize.js\";\n\nexport {\n  default as scaleThreshold\n} from \"./threshold.js\";\n\nexport {\n  default as scaleTime\n} from \"./time.js\";\n\nexport {\n  default as scaleUtc\n} from \"./utcTime.js\";\n\nexport {\n  default as scaleSequential,\n  sequentialLog as scaleSequentialLog,\n  sequentialPow as scaleSequentialPow,\n  sequentialSqrt as scaleSequentialSqrt,\n  sequentialSymlog as scaleSequentialSymlog\n} from \"./sequential.js\";\n\nexport {\n  default as scaleSequentialQuantile\n} from \"./sequentialQuantile.js\";\n\nexport {\n  default as scaleDiverging,\n  divergingLog as scaleDivergingLog,\n  divergingPow as scaleDivergingPow,\n  divergingSqrt as scaleDivergingSqrt,\n  divergingSymlog as scaleDivergingSymlog\n} from \"./diverging.js\";\n\nexport {\n  default as tickFormat\n} from \"./tickFormat.js\";\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","export default function number(x) {\n  return +x;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","export {default as create} from \"./create.js\";\nexport {default as creator} from \"./creator.js\";\nexport {default as local} from \"./local.js\";\nexport {default as matcher} from \"./matcher.js\";\nexport {default as namespace} from \"./namespace.js\";\nexport {default as namespaces} from \"./namespaces.js\";\nexport {default as pointer} from \"./pointer.js\";\nexport {default as pointers} from \"./pointers.js\";\nexport {default as select} from \"./select.js\";\nexport {default as selectAll} from \"./selectAll.js\";\nexport {default as selection} from \"./selection/index.js\";\nexport {default as selector} from \"./selector.js\";\nexport {default as selectorAll} from \"./selectorAll.js\";\nexport {styleValue as style} from \"./selection/style.js\";\nexport {default as window} from \"./window.js\";\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([array(selector)], root);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  return !this.node();\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  return Array.from(this);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export {default as arc} from \"./arc.js\";\nexport {default as area} from \"./area.js\";\nexport {default as line} from \"./line.js\";\nexport {default as pie} from \"./pie.js\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial.js\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial.js\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial.js\";\nexport {link, linkHorizontal, linkVertical, linkRadial} from \"./link.js\";\n\nexport {default as symbol, symbolsStroke, symbolsFill, symbolsFill as symbols} from \"./symbol.js\";\nexport {default as symbolAsterisk} from \"./symbol/asterisk.js\";\nexport {default as symbolCircle} from \"./symbol/circle.js\";\nexport {default as symbolCross} from \"./symbol/cross.js\";\nexport {default as symbolDiamond} from \"./symbol/diamond.js\";\nexport {default as symbolDiamond2} from \"./symbol/diamond2.js\";\nexport {default as symbolPlus} from \"./symbol/plus.js\";\nexport {default as symbolSquare} from \"./symbol/square.js\";\nexport {default as symbolSquare2} from \"./symbol/square2.js\";\nexport {default as symbolStar} from \"./symbol/star.js\";\nexport {default as symbolTriangle} from \"./symbol/triangle.js\";\nexport {default as symbolTriangle2} from \"./symbol/triangle2.js\";\nexport {default as symbolWye} from \"./symbol/wye.js\";\nexport {default as symbolTimes, default as symbolX} from \"./symbol/times.js\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed.js\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen.js\";\nexport {default as curveBasis} from \"./curve/basis.js\";\nexport {bumpX as curveBumpX, bumpY as curveBumpY} from \"./curve/bump.js\";\nexport {default as curveBundle} from \"./curve/bundle.js\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed.js\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen.js\";\nexport {default as curveCardinal} from \"./curve/cardinal.js\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed.js\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen.js\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom.js\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed.js\";\nexport {default as curveLinear} from \"./curve/linear.js\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone.js\";\nexport {default as curveNatural} from \"./curve/natural.js\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step.js\";\n\nexport {default as stack} from \"./stack.js\";\nexport {default as stackOffsetExpand} from \"./offset/expand.js\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging.js\";\nexport {default as stackOffsetNone} from \"./offset/none.js\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette.js\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle.js\";\nexport {default as stackOrderAppearance} from \"./order/appearance.js\";\nexport {default as stackOrderAscending} from \"./order/ascending.js\";\nexport {default as stackOrderDescending} from \"./order/descending.js\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut.js\";\nexport {default as stackOrderNone} from \"./order/none.js\";\nexport {default as stackOrderReverse} from \"./order/reverse.js\";\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null,\n      output = null,\n      path = withPath(link);\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","export default function() {}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n","import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n","import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n","import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export {default as timeFormatDefaultLocale, timeFormat, timeParse, utcFormat, utcParse} from \"./defaultLocale.js\";\nexport {default as timeFormatLocale} from \"./locale.js\";\nexport {default as isoFormat} from \"./isoFormat.js\";\nexport {default as isoParse} from \"./isoParse.js\";\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n","export {\n  timeInterval\n} from \"./interval.js\";\n\nexport {\n  millisecond as utcMillisecond,\n  milliseconds as utcMilliseconds,\n  millisecond as timeMillisecond,\n  milliseconds as timeMilliseconds\n} from \"./millisecond.js\";\n\nexport {\n  second as utcSecond,\n  seconds as utcSeconds,\n  second as timeSecond,\n  seconds as timeSeconds\n} from \"./second.js\";\n\nexport {\n  timeMinute,\n  timeMinutes,\n  utcMinute,\n  utcMinutes\n} from \"./minute.js\";\n\nexport {\n  timeHour,\n  timeHours,\n  utcHour,\n  utcHours\n} from \"./hour.js\";\n\nexport {\n  timeDay,\n  timeDays,\n  utcDay,\n  utcDays,\n  unixDay,\n  unixDays\n} from \"./day.js\";\n\nexport {\n  timeSunday as timeWeek,\n  timeSundays as timeWeeks,\n  timeSunday,\n  timeSundays,\n  timeMonday,\n  timeMondays,\n  timeTuesday,\n  timeTuesdays,\n  timeWednesday,\n  timeWednesdays,\n  timeThursday,\n  timeThursdays,\n  timeFriday,\n  timeFridays,\n  timeSaturday,\n  timeSaturdays,\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday,\n  utcSundays,\n  utcMonday,\n  utcMondays,\n  utcTuesday,\n  utcTuesdays,\n  utcWednesday,\n  utcWednesdays,\n  utcThursday,\n  utcThursdays,\n  utcFriday,\n  utcFridays,\n  utcSaturday,\n  utcSaturdays\n} from \"./week.js\";\n\nexport {\n  timeMonth,\n  timeMonths,\n  utcMonth,\n  utcMonths\n} from \"./month.js\";\n\nexport {\n  timeYear,\n  timeYears,\n  utcYear,\n  utcYears\n} from \"./year.js\";\n\nexport {\n  utcTicks,\n  utcTickInterval,\n  timeTicks,\n  timeTickInterval\n} from \"./ticks.js\";\n","const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n","import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n","import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n","import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n","export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer.js\";\n\nexport {\n  default as timeout\n} from \"./timeout.js\";\n\nexport {\n  default as interval\n} from \"./interval.js\";\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import \"./selection/index.js\";\nexport {default as transition} from \"./transition/index.js\";\nexport {default as active} from \"./active.js\";\nexport {default as interrupt} from \"./interrupt.js\";\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export {default as zoom} from \"./zoom.js\";\nexport {default as zoomTransform, identity as zoomIdentity, Transform as ZoomTransform} from \"./transform.js\";\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","export * from \"d3-array\";\nexport * from \"d3-axis\";\nexport * from \"d3-brush\";\nexport * from \"d3-chord\";\nexport * from \"d3-color\";\nexport * from \"d3-contour\";\nexport * from \"d3-delaunay\";\nexport * from \"d3-dispatch\";\nexport * from \"d3-drag\";\nexport * from \"d3-dsv\";\nexport * from \"d3-ease\";\nexport * from \"d3-fetch\";\nexport * from \"d3-force\";\nexport * from \"d3-format\";\nexport * from \"d3-geo\";\nexport * from \"d3-hierarchy\";\nexport * from \"d3-interpolate\";\nexport * from \"d3-path\";\nexport * from \"d3-polygon\";\nexport * from \"d3-quadtree\";\nexport * from \"d3-random\";\nexport * from \"d3-scale\";\nexport * from \"d3-scale-chromatic\";\nexport * from \"d3-selection\";\nexport * from \"d3-shape\";\nexport * from \"d3-time\";\nexport * from \"d3-time-format\";\nexport * from \"d3-timer\";\nexport * from \"d3-transition\";\nexport * from \"d3-zoom\";\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nimport {orient2d} from 'robust-predicates';\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0, minDist = Infinity; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        // find the point closest to the seed\n        for (let i = 0, minDist = Infinity; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                const d = this._dists[id];\n                if (d > d0) {\n                    hull[j++] = id;\n                    d0 = d;\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","/*! dom-to-image-more 16-10-2024 */\n(l=>{let f=(()=>{let e=0;return{escape:function(e){return e.replace(/([.*+?^${}()|[\\]/\\\\])/g,\"\\\\$1\")},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(t){if(t.toBlob)return new Promise(function(e){t.toBlob(e)});return(r=>new Promise(function(e){var t=u(r.toDataURL().split(\",\")[1]),n=t.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=t.charCodeAt(e);e(new Blob([o],{type:\"image/png\"}))}))(t)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),o=n.createElement(\"base\"),r=(n.head.appendChild(o),n.createElement(\"a\"));return n.body.appendChild(r),o.href=t,r.href=e,r.href},getAndEncode:function(s){let e=a.impl.urlCache.find(function(e){return e.url===s});e||(e={url:s,promise:null},a.impl.urlCache.push(e));null===e.promise&&(a.impl.options.cacheBust&&(s+=(/\\?/.test(s)?\"&\":\"?\")+(new Date).getTime()),e.promise=new Promise(function(t){let e=a.impl.options.httpTimeout,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState)if(300<=r.status)n?t(n):l(`cannot fetch resource: ${s}, status: `+r.status);else{let e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(r.response)}},r.ontimeout=function(){n?t(n):l(`timeout of ${e}ms occured while fetching resource: `+s)},r.responseType=\"blob\",r.timeout=e,0<a.impl.options.useCredentialsFilters.length&&(a.impl.options.useCredentials=0<a.impl.options.useCredentialsFilters.filter(e=>0<=s.search(e)).length),a.impl.options.useCredentials&&(r.withCredentials=!0),a.impl.options.corsImg&&0===s.indexOf(\"http\")&&-1===s.indexOf(window.location.origin)){var i=\"POST\"===(a.impl.options.corsImg.method||\"GET\").toUpperCase()?\"POST\":\"GET\";r.open(i,(a.impl.options.corsImg.url||\"\").replace(\"#{cors}\",s),!0);let t=!1,n=a.impl.options.corsImg.headers||{},o=(Object.keys(n).forEach(function(e){-1!==n[e].indexOf(\"application/json\")&&(t=!0),r.setRequestHeader(e,n[e])}),(e=>{try{return JSON.parse(JSON.stringify(e))}catch(e){l(\"corsImg.data is missing or invalid:\"+e.toString())}})(a.impl.options.corsImg.data||\"\"));Object.keys(o).forEach(function(e){\"string\"==typeof o[e]&&(o[e]=o[e].replace(\"#{cors}\",s))}),r.send(t?JSON.stringify(o):o)}else r.open(\"GET\",s,!0),r.send();let n;function l(e){console.error(e),t(\"\")}a.impl.options.imagePlaceholder&&(i=a.impl.options.imagePlaceholder.split(/,/))&&i[1]&&(n=i[1])}));return e.promise},uid:function(){return\"u\"+(\"0000\"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++},delay:function(n){return function(t){return new Promise(function(e){setTimeout(function(){e(t)},n)})}},asArray:function(t){var n=[],o=t.length;for(let e=0;e<o;e++)n.push(t[e]);return n},escapeXhtml:function(e){return e.replace(/%/g,\"%25\").replace(/#/g,\"%23\").replace(/\\n/g,\"%0A\")},makeImage:function(r){return\"data:,\"!==r?new Promise(function(e,t){let n=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),o=new Image;a.impl.options.useCredentials&&(o.crossOrigin=\"use-credentials\"),o.onload=function(){document.body.removeChild(n),window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){e(o)}):e(o)},o.onerror=e=>{document.body.removeChild(n),t(e)},n.appendChild(o),o.src=r,document.body.appendChild(n)}):Promise.resolve()},width:function(e){var t=i(e,\"width\");if(!isNaN(t))return t;var t=i(e,\"border-left-width\"),n=i(e,\"border-right-width\");return e.scrollWidth+t+n},height:function(e){var t=i(e,\"height\");if(!isNaN(t))return t;var t=i(e,\"border-top-width\"),n=i(e,\"border-bottom-width\");return e.scrollHeight+t+n},getWindow:t,isElement:r,isElementHostForOpenShadowRoot:function(e){return r(e)&&null!==e.shadowRoot},isShadowRoot:n,isInShadowRoot:o,isHTMLElement:function(e){return e instanceof t(e).HTMLElement},isHTMLCanvasElement:function(e){return e instanceof t(e).HTMLCanvasElement},isHTMLInputElement:function(e){return e instanceof t(e).HTMLInputElement},isHTMLImageElement:function(e){return e instanceof t(e).HTMLImageElement},isHTMLLinkElement:function(e){return e instanceof t(e).HTMLLinkElement},isHTMLScriptElement:function(e){return e instanceof t(e).HTMLScriptElement},isHTMLStyleElement:function(e){return e instanceof t(e).HTMLStyleElement},isHTMLTextAreaElement:function(e){return e instanceof t(e).HTMLTextAreaElement},isShadowSlotElement:function(e){return o(e)&&e instanceof t(e).HTMLSlotElement},isSVGElement:function(e){return e instanceof t(e).SVGElement},isSVGRectElement:function(e){return e instanceof t(e).SVGRectElement},isDimensionMissing:function(e){return isNaN(e)||e<=0}};function t(e){e=e?e.ownerDocument:void 0;return(e?e.defaultView:void 0)||window||l}function n(e){return e instanceof t(e).ShadowRoot}function o(e){return null!=e&&void 0!==e.getRootNode&&n(e.getRootNode())}function r(e){return e instanceof t(e).Element}function i(t,n){if(t.nodeType===c){let e=m(t).getPropertyValue(n);if(\"px\"===e.slice(-2))return e=e.slice(0,-2),parseFloat(e)}return NaN}})(),r=(()=>{let o=/url\\(['\"]?([^'\"]+?)['\"]?\\)/g;return{inlineAll:function(t,o,r){if(!e(t))return Promise.resolve(t);return Promise.resolve(t).then(n).then(function(e){let n=Promise.resolve(t);return e.forEach(function(t){n=n.then(function(e){return i(e,t,o,r)})}),n})},shouldProcess:e,impl:{readUrls:n,inline:i}};function e(e){return-1!==e.search(o)}function n(e){for(var t,n=[];null!==(t=o.exec(e));)n.push(t[1]);return n.filter(function(e){return!f.isDataUrl(e)})}function i(n,o,t,e){return Promise.resolve(o).then(function(e){return t?f.resolveUrl(e,t):e}).then(e||f.getAndEncode).then(function(e){return n.replace((t=o,new RegExp(`(url\\\\(['\"]?)(${f.escape(t)})(['\"]?\\\\))`,\"g\")),`$1${e}$3`);var t})}})(),e={resolveAll:function(){return t().then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join(\"\\n\")})},impl:{readAll:t}};function t(){return Promise.resolve(f.asArray(document.styleSheets)).then(function(e){let n=[];return e.forEach(function(t){var e=Object.getPrototypeOf(t);if(Object.prototype.hasOwnProperty.call(e,\"cssRules\"))try{f.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.error(\"domtoimage: Error while reading CSS rules from \"+t.href,e.toString())}}),n}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return r.shouldProcess(e.style.getPropertyValue(\"src\"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue(\"src\")}}}}let n={inlineAll:function t(e){if(!f.isElement(e))return Promise.resolve(e);return n(e).then(function(){return f.isHTMLImageElement(e)?o(e).inline():Promise.all(f.asArray(e.childNodes).map(function(e){return t(e)}))});function n(o){let e=[\"background\",\"background-image\"],t=e.map(function(t){let e=o.style.getPropertyValue(t),n=o.style.getPropertyPriority(t);return e?r.inlineAll(e).then(function(e){o.style.setProperty(t,e,n)}):Promise.resolve()});return Promise.all(t).then(function(){return o})}},impl:{newImage:o}};function o(n){return{inline:function(e){if(f.isDataUrl(n.src))return Promise.resolve();return Promise.resolve(n.src).then(e||f.getAndEncode).then(function(t){return new Promise(function(e){n.onload=e,n.onerror=e,n.src=t})})}}}let s={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:\"strict\",corsImg:void 0,adjustClonedNode:void 0},a={toSvg:d,toPng:function(e,t){return i(e,t).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return i(e,t).then(function(e){return e.toDataURL(\"image/jpeg\",(t?t.quality:void 0)||1)})},toBlob:function(e,t){return i(e,t).then(f.canvasToBlob)},toPixelData:function(t,e){return i(t,e).then(function(e){return e.getContext(\"2d\").getImageData(0,0,f.width(t),f.height(t)).data})},toCanvas:i,impl:{fontFaces:e,images:n,util:f,inliner:r,urlCache:[],options:{}}},c=(\"object\"==typeof exports&&\"object\"==typeof module?module.exports=a:l.domtoimage=a,(\"undefined\"!=typeof Node?Node.ELEMENT_NODE:void 0)||1),m=(void 0!==l?l.getComputedStyle:void 0)||(\"undefined\"!=typeof window?window.getComputedStyle:void 0)||globalThis.getComputedStyle,u=(void 0!==l?l.atob:void 0)||(\"undefined\"!=typeof window?window.atob:void 0)||globalThis.atob;function d(e,r){let t=a.impl.util.getWindow(e);var n=r=r||{};void 0===n.copyDefaultStyles?a.impl.options.copyDefaultStyles=s.copyDefaultStyles:a.impl.options.copyDefaultStyles=n.copyDefaultStyles,a.impl.options.imagePlaceholder=(void 0===n.imagePlaceholder?s:n).imagePlaceholder,a.impl.options.cacheBust=(void 0===n.cacheBust?s:n).cacheBust,a.impl.options.corsImg=(void 0===n.corsImg?s:n).corsImg,a.impl.options.useCredentials=(void 0===n.useCredentials?s:n).useCredentials,a.impl.options.useCredentialsFilters=(void 0===n.useCredentialsFilters?s:n).useCredentialsFilters,a.impl.options.httpTimeout=(void 0===n.httpTimeout?s:n).httpTimeout,a.impl.options.styleCaching=(void 0===n.styleCaching?s:n).styleCaching;let i=[];return Promise.resolve(e).then(function(e){if(e.nodeType===c)return e;var t=e,n=e.parentNode,o=document.createElement(\"span\");return n.replaceChild(o,t),o.append(e),i.push({parent:n,child:t,wrapper:o}),o}).then(function(e){return function l(t,s,r,u){let e=s.filter;if(t===h||f.isHTMLScriptElement(t)||f.isHTMLStyleElement(t)||f.isHTMLLinkElement(t)||null!==r&&e&&!e(t))return Promise.resolve();return Promise.resolve(t).then(n).then(o).then(function(e){return c(e,a(t))}).then(i).then(function(e){return d(e,t)});function n(e){return f.isHTMLCanvasElement(e)?f.makeImage(e.toDataURL()):e.cloneNode(!1)}function o(e){return s.adjustClonedNode&&s.adjustClonedNode(t,e,!1),Promise.resolve(e)}function i(e){return s.adjustClonedNode&&s.adjustClonedNode(t,e,!0),Promise.resolve(e)}function a(e){return f.isElementHostForOpenShadowRoot(e)?e.shadowRoot:e}function c(n,e){let o=t(e),r=Promise.resolve();if(0!==o.length){let t=m(i(e));f.asArray(o).forEach(function(e){r=r.then(function(){return l(e,s,t,u).then(function(e){e&&n.appendChild(e)})})})}return r.then(function(){return n});function i(e){return f.isShadowRoot(e)?e.host:e}function t(t){if(f.isShadowSlotElement(t)){let e=t.assignedNodes();if(e&&0<e.length)return e}return t.childNodes}}function d(u,a){return!f.isElement(u)||f.isShadowSlotElement(a)?Promise.resolve(u):Promise.resolve().then(e).then(t).then(n).then(o).then(function(){return u});function e(){function o(e,t){t.font=e.font,t.fontFamily=e.fontFamily,t.fontFeatureSettings=e.fontFeatureSettings,t.fontKerning=e.fontKerning,t.fontSize=e.fontSize,t.fontStretch=e.fontStretch,t.fontStyle=e.fontStyle,t.fontVariant=e.fontVariant,t.fontVariantCaps=e.fontVariantCaps,t.fontVariantEastAsian=e.fontVariantEastAsian,t.fontVariantLigatures=e.fontVariantLigatures,t.fontVariantNumeric=e.fontVariantNumeric,t.fontVariationSettings=e.fontVariationSettings,t.fontWeight=e.fontWeight}function e(e,t){let n=m(e);n.cssText?(t.style.cssText=n.cssText,o(n,t.style)):(y(s,e,n,r,t),null===r&&([\"inset-block\",\"inset-block-start\",\"inset-block-end\"].forEach(e=>t.style.removeProperty(e)),[\"left\",\"right\",\"top\",\"bottom\"].forEach(e=>{t.style.getPropertyValue(e)&&t.style.setProperty(e,\"0px\")})))}e(a,u)}function t(){let s=f.uid();function t(r){let i=m(a,r),l=i.getPropertyValue(\"content\");if(\"\"!==l&&\"none\"!==l){let e=u.getAttribute(\"class\")||\"\",t=(u.setAttribute(\"class\",e+\" \"+s),document.createElement(\"style\"));function n(){let e=`.${s}:`+r,t=(i.cssText?n:o)();return document.createTextNode(e+`{${t}}`);function n(){return`${i.cssText} content: ${l};`}function o(){let e=f.asArray(i).map(t).join(\"; \");return e+\";\";function t(e){let t=i.getPropertyValue(e),n=i.getPropertyPriority(e)?\" !important\":\"\";return e+\": \"+t+n}}}t.appendChild(n()),u.appendChild(t)}}[\":before\",\":after\"].forEach(function(e){t(e)})}function n(){f.isHTMLTextAreaElement(a)&&(u.innerHTML=a.value),f.isHTMLInputElement(a)&&u.setAttribute(\"value\",a.value)}function o(){f.isSVGElement(u)&&(u.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),f.isSVGRectElement(u))&&[\"width\",\"height\"].forEach(function(e){let t=u.getAttribute(e);t&&u.style.setProperty(e,t)})}}}(e,r,null,t)}).then(r.disableEmbedFonts?Promise.resolve(e):p).then(g).then(function(t){r.bgcolor&&(t.style.backgroundColor=r.bgcolor);r.width&&(t.style.width=r.width+\"px\");r.height&&(t.style.height=r.height+\"px\");r.style&&Object.keys(r.style).forEach(function(e){t.style[e]=r.style[e]});let e=null;\"function\"==typeof r.onclone&&(e=r.onclone(t));return Promise.resolve(e).then(function(){return t})}).then(function(e){let n=r.width||f.width(e),o=r.height||f.height(e);return Promise.resolve(e).then(function(e){return e.setAttribute(\"xmlns\",\"http://www.w3.org/1999/xhtml\"),(new XMLSerializer).serializeToString(e)}).then(f.escapeXhtml).then(function(e){var t=(f.isDimensionMissing(n)?' width=\"100%\"':` width=\"${n}\"`)+(f.isDimensionMissing(o)?' height=\"100%\"':` height=\"${o}\"`);return`<svg xmlns=\"http://www.w3.org/2000/svg\"${(f.isDimensionMissing(n)?\"\":` width=\"${n}\"`)+(f.isDimensionMissing(o)?\"\":` height=\"${o}\"`)}><foreignObject${t}>${e}</foreignObject></svg>`}).then(function(e){return\"data:image/svg+xml;charset=utf-8,\"+e})}).then(function(e){for(;0<i.length;){var t=i.pop();t.parent.replaceChild(t.child,t.wrapper)}return e}).then(function(e){return a.impl.urlCache=[],(()=>{h&&(document.body.removeChild(h),h=null),v&&clearTimeout(v),v=setTimeout(()=>{v=null,w={}},2e4)})(),e})}function i(r,i){return d(r,i=i||{}).then(f.makeImage).then(function(e){var t=\"number\"!=typeof i.scale?1:i.scale,n=((e,t)=>{let n=i.width||f.width(e),o=i.height||f.height(e);return f.isDimensionMissing(n)&&(n=f.isDimensionMissing(o)?300:2*o),f.isDimensionMissing(o)&&(o=n/2),(e=document.createElement(\"canvas\")).width=n*t,e.height=o*t,i.bgcolor&&((t=e.getContext(\"2d\")).fillStyle=i.bgcolor,t.fillRect(0,0,e.width,e.height)),e})(r,t),o=n.getContext(\"2d\");return o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,e&&(o.scale(t,t),o.drawImage(e,0,0)),n})}let h=null;function p(n){return e.resolveAll().then(function(e){var t;return\"\"!==e&&(t=document.createElement(\"style\"),n.appendChild(t),t.appendChild(document.createTextNode(e))),n})}function g(e){return n.inlineAll(e).then(function(){return e})}function y(e,t,i,l,n){let s=a.impl.options.copyDefaultStyles?((t,e)=>{var n,o=(e=>(\"relaxed\"!==t.styleCaching?e:e.filter((e,t,n)=>0===t||t===n.length-1)).join(\">\"))(e=(e=>{var t=[];do{if(e.nodeType===c){var n=e.tagName;if(t.push(n),E.includes(n))break}}while(e=e.parentNode);return t})(e));{if(w[o])return w[o];e=((e,t)=>{let n=e.body;do{var o=t.pop(),o=e.createElement(o);n.appendChild(o),n=o}while(0<t.length);return n.textContent=\"​\",n})((n=(()=>{if(h)return h.contentWindow;t=document.characterSet||\"UTF-8\",e=(e=document.doctype)?(`<!DOCTYPE ${s(e.name)} ${s(e.publicId)} `+s(e.systemId)).trim()+\">\":\"\",(h=document.createElement(\"iframe\")).id=\"domtoimage-sandbox-\"+f.uid(),h.style.visibility=\"hidden\",h.style.position=\"fixed\",document.body.appendChild(h);var e,t,n=h,o=\"domtoimage-sandbox\";try{return n.contentWindow.document.write(e+`<html><head><meta charset='${t}'><title>${o}</title></head><body></body></html>`),n.contentWindow}catch(e){}var r=document.createElement(\"meta\");r.setAttribute(\"charset\",t);try{var i=document.implementation.createHTMLDocument(o),l=(i.head.appendChild(r),e+i.documentElement.outerHTML);return n.setAttribute(\"srcdoc\",l),n.contentWindow}catch(e){}return n.contentDocument.head.appendChild(r),n.contentDocument.title=o,n.contentWindow;function s(e){var t;return e?((t=document.createElement(\"div\")).innerText=e,t.innerHTML):\"\"}})()).document,e),n=((e,t)=>{let n={},o=e.getComputedStyle(t);return f.asArray(o).forEach(function(e){n[e]=\"width\"===e||\"height\"===e?\"auto\":o.getPropertyValue(e)}),n})(n,e);var r=e;do{var i=r.parentElement;null!==i&&i.removeChild(r),r=i}while(r&&\"BODY\"!==r.tagName);return w[o]=n}})(e,t):{},u=n.style;f.asArray(i).forEach(function(e){var t,n=i.getPropertyValue(e),o=s[e],r=l?l.getPropertyValue(e):void 0;u.getPropertyValue(e)||(n!==o||l&&n!==r)&&(o=i.getPropertyPriority(e),r=u,n=n,o=o,t=0<=[\"background-clip\"].indexOf(e=e),o?(r.setProperty(e,n,o),t&&r.setProperty(\"-webkit-\"+e,n,o)):(r.setProperty(e,n),t&&r.setProperty(\"-webkit-\"+e,n)))})}let v=null,w={},E=[\"ADDRESS\",\"ARTICLE\",\"ASIDE\",\"BLOCKQUOTE\",\"DETAILS\",\"DIALOG\",\"DD\",\"DIV\",\"DL\",\"DT\",\"FIELDSET\",\"FIGCAPTION\",\"FIGURE\",\"FOOTER\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"HEADER\",\"HGROUP\",\"HR\",\"LI\",\"MAIN\",\"NAV\",\"OL\",\"P\",\"PRE\",\"SECTION\",\"SVG\",\"TABLE\",\"UL\",\"math\",\"svg\",\"BODY\",\"HEAD\",\"HTML\"]})(this);\n//# sourceMappingURL=dom-to-image-more.min.js.map","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","/**\n * Utility module to work with Arrays.\n *\n * @module array\n */\n\nimport * as set from './set.js'\n\n/**\n * Return the last element of an array. The element must exist\n *\n * @template L\n * @param {ArrayLike<L>} arr\n * @return {L}\n */\nexport const last = arr => arr[arr.length - 1]\n\n/**\n * @template C\n * @return {Array<C>}\n */\nexport const create = () => /** @type {Array<C>} */ ([])\n\n/**\n * @template D\n * @param {Array<D>} a\n * @return {Array<D>}\n */\nexport const copy = a => /** @type {Array<D>} */ (a.slice())\n\n/**\n * Append elements from src to dest\n *\n * @template M\n * @param {Array<M>} dest\n * @param {Array<M>} src\n */\nexport const appendTo = (dest, src) => {\n  for (let i = 0; i < src.length; i++) {\n    dest.push(src[i])\n  }\n}\n\n/**\n * Transforms something array-like to an actual Array.\n *\n * @function\n * @template T\n * @param {ArrayLike<T>|Iterable<T>} arraylike\n * @return {T}\n */\nexport const from = Array.from\n\n/**\n * True iff condition holds on every element in the Array.\n *\n * @function\n * @template ITEM\n * @template {ArrayLike<ITEM>} ARR\n *\n * @param {ARR} arr\n * @param {function(ITEM, number, ARR):boolean} f\n * @return {boolean}\n */\nexport const every = (arr, f) => {\n  for (let i = 0; i < arr.length; i++) {\n    if (!f(arr[i], i, arr)) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * True iff condition holds on some element in the Array.\n *\n * @function\n * @template S\n * @template {ArrayLike<S>} ARR\n * @param {ARR} arr\n * @param {function(S, number, ARR):boolean} f\n * @return {boolean}\n */\nexport const some = (arr, f) => {\n  for (let i = 0; i < arr.length; i++) {\n    if (f(arr[i], i, arr)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * @template ELEM\n *\n * @param {ArrayLike<ELEM>} a\n * @param {ArrayLike<ELEM>} b\n * @return {boolean}\n */\nexport const equalFlat = (a, b) => a.length === b.length && every(a, (item, index) => item === b[index])\n\n/**\n * @template ELEM\n * @param {Array<Array<ELEM>>} arr\n * @return {Array<ELEM>}\n */\nexport const flatten = arr => fold(arr, /** @type {Array<ELEM>} */ ([]), (acc, val) => acc.concat(val))\n\n/**\n * @template T\n * @param {number} len\n * @param {function(number, Array<T>):T} f\n * @return {Array<T>}\n */\nexport const unfold = (len, f) => {\n  const array = new Array(len)\n  for (let i = 0; i < len; i++) {\n    array[i] = f(i, array)\n  }\n  return array\n}\n\n/**\n * @template T\n * @template RESULT\n * @param {Array<T>} arr\n * @param {RESULT} seed\n * @param {function(RESULT, T, number):RESULT} folder\n */\nexport const fold = (arr, seed, folder) => arr.reduce(folder, seed)\n\nexport const isArray = Array.isArray\n\n/**\n * @template T\n * @param {Array<T>} arr\n * @return {Array<T>}\n */\nexport const unique = arr => from(set.from(arr))\n\n/**\n * @template T\n * @template M\n * @param {ArrayLike<T>} arr\n * @param {function(T):M} mapper\n * @return {Array<T>}\n */\nexport const uniqueBy = (arr, mapper) => {\n  /**\n   * @type {Set<M>}\n   */\n  const happened = set.create()\n  /**\n   * @type {Array<T>}\n   */\n  const result = []\n  for (let i = 0; i < arr.length; i++) {\n    const el = arr[i]\n    const mapped = mapper(el)\n    if (!happened.has(mapped)) {\n      happened.add(mapped)\n      result.push(el)\n    }\n  }\n  return result\n}\n\n/**\n * @template {ArrayLike<any>} ARR\n * @template {function(ARR extends ArrayLike<infer T> ? T : never, number, ARR):any} MAPPER\n * @param {ARR} arr\n * @param {MAPPER} mapper\n * @return {Array<MAPPER extends function(...any): infer M ? M : never>}\n */\nexport const map = (arr, mapper) => {\n  /**\n   * @type {Array<any>}\n   */\n  const res = Array(arr.length)\n  for (let i = 0; i < arr.length; i++) {\n    res[i] = mapper(/** @type {any} */ (arr[i]), i, /** @type {any} */ (arr))\n  }\n  return /** @type {any} */ (res)\n}\n\n/**\n * This function bubble-sorts a single item to the correct position. The sort happens in-place and\n * might be useful to ensure that a single item is at the correct position in an otherwise sorted\n * array.\n *\n * @example\n *  const arr = [3, 2, 5]\n *  arr.sort((a, b) => a - b)\n *  arr // => [2, 3, 5]\n *  arr.splice(1, 0, 7)\n *  array.bubbleSortItem(arr, 1, (a, b) => a - b)\n *  arr // => [2, 3, 5, 7]\n *\n * @template T\n * @param {Array<T>} arr\n * @param {number} i\n * @param {(a:T,b:T) => number} compareFn\n */\nexport const bubblesortItem = (arr, i, compareFn) => {\n  const n = arr[i]\n  let j = i\n  // try to sort to the right\n  while (j + 1 < arr.length && compareFn(n, arr[j + 1]) > 0) {\n    arr[j] = arr[j + 1]\n    arr[++j] = n\n  }\n  if (i === j && j > 0) { // no change yet\n    // sort to the left\n    while (j > 0 && compareFn(arr[j - 1], n) > 0) {\n      arr[j] = arr[j - 1]\n      arr[--j] = n\n    }\n  }\n  return j\n}\n","/* eslint-env browser */\n\n/**\n * Binary data constants.\n *\n * @module binary\n */\n\n/**\n * n-th bit activated.\n *\n * @type {number}\n */\nexport const BIT1 = 1\nexport const BIT2 = 2\nexport const BIT3 = 4\nexport const BIT4 = 8\nexport const BIT5 = 16\nexport const BIT6 = 32\nexport const BIT7 = 64\nexport const BIT8 = 128\nexport const BIT9 = 256\nexport const BIT10 = 512\nexport const BIT11 = 1024\nexport const BIT12 = 2048\nexport const BIT13 = 4096\nexport const BIT14 = 8192\nexport const BIT15 = 16384\nexport const BIT16 = 32768\nexport const BIT17 = 65536\nexport const BIT18 = 1 << 17\nexport const BIT19 = 1 << 18\nexport const BIT20 = 1 << 19\nexport const BIT21 = 1 << 20\nexport const BIT22 = 1 << 21\nexport const BIT23 = 1 << 22\nexport const BIT24 = 1 << 23\nexport const BIT25 = 1 << 24\nexport const BIT26 = 1 << 25\nexport const BIT27 = 1 << 26\nexport const BIT28 = 1 << 27\nexport const BIT29 = 1 << 28\nexport const BIT30 = 1 << 29\nexport const BIT31 = 1 << 30\nexport const BIT32 = 1 << 31\n\n/**\n * First n bits activated.\n *\n * @type {number}\n */\nexport const BITS0 = 0\nexport const BITS1 = 1\nexport const BITS2 = 3\nexport const BITS3 = 7\nexport const BITS4 = 15\nexport const BITS5 = 31\nexport const BITS6 = 63\nexport const BITS7 = 127\nexport const BITS8 = 255\nexport const BITS9 = 511\nexport const BITS10 = 1023\nexport const BITS11 = 2047\nexport const BITS12 = 4095\nexport const BITS13 = 8191\nexport const BITS14 = 16383\nexport const BITS15 = 32767\nexport const BITS16 = 65535\nexport const BITS17 = BIT18 - 1\nexport const BITS18 = BIT19 - 1\nexport const BITS19 = BIT20 - 1\nexport const BITS20 = BIT21 - 1\nexport const BITS21 = BIT22 - 1\nexport const BITS22 = BIT23 - 1\nexport const BITS23 = BIT24 - 1\nexport const BITS24 = BIT25 - 1\nexport const BITS25 = BIT26 - 1\nexport const BITS26 = BIT27 - 1\nexport const BITS27 = BIT28 - 1\nexport const BITS28 = BIT29 - 1\nexport const BITS29 = BIT30 - 1\nexport const BITS30 = BIT31 - 1\n/**\n * @type {number}\n */\nexport const BITS31 = 0x7FFFFFFF\n/**\n * @type {number}\n */\nexport const BITS32 = 0xFFFFFFFF\n","/* eslint-env browser */\n\n/**\n * Helpers for cross-tab communication using broadcastchannel with LocalStorage fallback.\n *\n * ```js\n * // In browser window A:\n * broadcastchannel.subscribe('my events', data => console.log(data))\n * broadcastchannel.publish('my events', 'Hello world!') // => A: 'Hello world!' fires synchronously in same tab\n *\n * // In browser window B:\n * broadcastchannel.publish('my events', 'hello from tab B') // => A: 'hello from tab B'\n * ```\n *\n * @module broadcastchannel\n */\n\n// @todo before next major: use Uint8Array instead as buffer object\n\nimport * as map from './map.js'\nimport * as set from './set.js'\nimport * as buffer from './buffer.js'\nimport * as storage from './storage.js'\n\n/**\n * @typedef {Object} Channel\n * @property {Set<function(any, any):any>} Channel.subs\n * @property {any} Channel.bc\n */\n\n/**\n * @type {Map<string, Channel>}\n */\nconst channels = new Map()\n\n/* c8 ignore start */\nclass LocalStoragePolyfill {\n  /**\n   * @param {string} room\n   */\n  constructor (room) {\n    this.room = room\n    /**\n     * @type {null|function({data:ArrayBuffer}):void}\n     */\n    this.onmessage = null\n    /**\n     * @param {any} e\n     */\n    this._onChange = e => e.key === room && this.onmessage !== null && this.onmessage({ data: buffer.fromBase64(e.newValue || '') })\n    storage.onChange(this._onChange)\n  }\n\n  /**\n   * @param {ArrayBuffer} buf\n   */\n  postMessage (buf) {\n    storage.varStorage.setItem(this.room, buffer.toBase64(buffer.createUint8ArrayFromArrayBuffer(buf)))\n  }\n\n  close () {\n    storage.offChange(this._onChange)\n  }\n}\n/* c8 ignore stop */\n\n// Use BroadcastChannel or Polyfill\n/* c8 ignore next */\nconst BC = typeof BroadcastChannel === 'undefined' ? LocalStoragePolyfill : BroadcastChannel\n\n/**\n * @param {string} room\n * @return {Channel}\n */\nconst getChannel = room =>\n  map.setIfUndefined(channels, room, () => {\n    const subs = set.create()\n    const bc = new BC(room)\n    /**\n     * @param {{data:ArrayBuffer}} e\n     */\n    /* c8 ignore next */\n    bc.onmessage = e => subs.forEach(sub => sub(e.data, 'broadcastchannel'))\n    return {\n      bc, subs\n    }\n  })\n\n/**\n * Subscribe to global `publish` events.\n *\n * @function\n * @param {string} room\n * @param {function(any, any):any} f\n */\nexport const subscribe = (room, f) => {\n  getChannel(room).subs.add(f)\n  return f\n}\n\n/**\n * Unsubscribe from `publish` global events.\n *\n * @function\n * @param {string} room\n * @param {function(any, any):any} f\n */\nexport const unsubscribe = (room, f) => {\n  const channel = getChannel(room)\n  const unsubscribed = channel.subs.delete(f)\n  if (unsubscribed && channel.subs.size === 0) {\n    channel.bc.close()\n    channels.delete(room)\n  }\n  return unsubscribed\n}\n\n/**\n * Publish data to all subscribers (including subscribers on this tab)\n *\n * @function\n * @param {string} room\n * @param {any} data\n * @param {any} [origin]\n */\nexport const publish = (room, data, origin = null) => {\n  const c = getChannel(room)\n  c.bc.postMessage(data)\n  c.subs.forEach(sub => sub(data, origin))\n}\n","/**\n * Utility functions to work with buffers (Uint8Array).\n *\n * @module buffer\n */\n\nimport * as string from './string.js'\nimport * as env from './environment.js'\nimport * as array from './array.js'\nimport * as math from './math.js'\nimport * as encoding from './encoding.js'\nimport * as decoding from './decoding.js'\n\n/**\n * @param {number} len\n */\nexport const createUint8ArrayFromLen = len => new Uint8Array(len)\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n * @param {number} byteOffset\n * @param {number} length\n */\nexport const createUint8ArrayViewFromArrayBuffer = (buffer, byteOffset, length) => new Uint8Array(buffer, byteOffset, length)\n\n/**\n * Create Uint8Array with initial content from buffer\n *\n * @param {ArrayBuffer} buffer\n */\nexport const createUint8ArrayFromArrayBuffer = buffer => new Uint8Array(buffer)\n\n/* c8 ignore start */\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nconst toBase64Browser = bytes => {\n  let s = ''\n  for (let i = 0; i < bytes.byteLength; i++) {\n    s += string.fromCharCode(bytes[i])\n  }\n  // eslint-disable-next-line no-undef\n  return btoa(s)\n}\n/* c8 ignore stop */\n\n/**\n * @param {Uint8Array} bytes\n * @return {string}\n */\nconst toBase64Node = bytes => Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength).toString('base64')\n\n/* c8 ignore start */\n/**\n * @param {string} s\n * @return {Uint8Array}\n */\nconst fromBase64Browser = s => {\n  // eslint-disable-next-line no-undef\n  const a = atob(s)\n  const bytes = createUint8ArrayFromLen(a.length)\n  for (let i = 0; i < a.length; i++) {\n    bytes[i] = a.charCodeAt(i)\n  }\n  return bytes\n}\n/* c8 ignore stop */\n\n/**\n * @param {string} s\n */\nconst fromBase64Node = s => {\n  const buf = Buffer.from(s, 'base64')\n  return createUint8ArrayViewFromArrayBuffer(buf.buffer, buf.byteOffset, buf.byteLength)\n}\n\n/* c8 ignore next */\nexport const toBase64 = env.isBrowser ? toBase64Browser : toBase64Node\n\n/* c8 ignore next */\nexport const fromBase64 = env.isBrowser ? fromBase64Browser : fromBase64Node\n\n/**\n * Implements base64url - see https://datatracker.ietf.org/doc/html/rfc4648#section-5\n * @param {Uint8Array} buf\n */\nexport const toBase64UrlEncoded = buf => toBase64(buf).replaceAll('+', '-').replaceAll('/', '_').replaceAll('=', '')\n\n/**\n * @param {string} base64\n */\nexport const fromBase64UrlEncoded = base64 => fromBase64(base64.replaceAll('-', '+').replaceAll('_', '/'))\n\n/**\n * Base64 is always a more efficient choice. This exists for utility purposes only.\n *\n * @param {Uint8Array} buf\n */\nexport const toHexString = buf => array.map(buf, b => b.toString(16).padStart(2, '0')).join('')\n\n/**\n * Note: This function expects that the hex doesn't start with 0x..\n *\n * @param {string} hex\n */\nexport const fromHexString = hex => {\n  const hlen = hex.length\n  const buf = new Uint8Array(math.ceil(hlen / 2))\n  for (let i = 0; i < hlen; i += 2) {\n    buf[buf.length - i / 2 - 1] = Number.parseInt(hex.slice(hlen - i - 2, hlen - i), 16)\n  }\n  return buf\n}\n\n/**\n * Copy the content of an Uint8Array view to a new ArrayBuffer.\n *\n * @param {Uint8Array} uint8Array\n * @return {Uint8Array}\n */\nexport const copyUint8Array = uint8Array => {\n  const newBuf = createUint8ArrayFromLen(uint8Array.byteLength)\n  newBuf.set(uint8Array)\n  return newBuf\n}\n\n/**\n * Encode anything as a UInt8Array. It's a pun on typescripts's `any` type.\n * See encoding.writeAny for more information.\n *\n * @param {any} data\n * @return {Uint8Array}\n */\nexport const encodeAny = data =>\n  encoding.encode(encoder => encoding.writeAny(encoder, data))\n\n/**\n * Decode an any-encoded value.\n *\n * @param {Uint8Array} buf\n * @return {any}\n */\nexport const decodeAny = buf => decoding.readAny(decoding.createDecoder(buf))\n\n/**\n * Shift Byte Array {N} bits to the left. Does not expand byte array.\n *\n * @param {Uint8Array} bs\n * @param {number} N should be in the range of [0-7]\n */\nexport const shiftNBitsLeft = (bs, N) => {\n  if (N === 0) return bs\n  bs = new Uint8Array(bs)\n  bs[0] <<= N\n  for (let i = 1; i < bs.length; i++) {\n    bs[i - 1] |= bs[i] >>> (8 - N)\n    bs[i] <<= N\n  }\n  return bs\n}\n","/**\n * Often used conditions.\n *\n * @module conditions\n */\n\n/**\n * @template T\n * @param {T|null|undefined} v\n * @return {T|null}\n */\n/* c8 ignore next */\nexport const undefinedToNull = v => v === undefined ? null : v\n","/**\n * Efficient schema-less binary decoding with support for variable length encoding.\n *\n * Use [lib0/decoding] with [lib0/encoding]. Every encoding function has a corresponding decoding function.\n *\n * Encodes numbers in little-endian order (least to most significant byte order)\n * and is compatible with Golang's binary encoding (https://golang.org/pkg/encoding/binary/)\n * which is also used in Protocol Buffers.\n *\n * ```js\n * // encoding step\n * const encoder = encoding.createEncoder()\n * encoding.writeVarUint(encoder, 256)\n * encoding.writeVarString(encoder, 'Hello world!')\n * const buf = encoding.toUint8Array(encoder)\n * ```\n *\n * ```js\n * // decoding step\n * const decoder = decoding.createDecoder(buf)\n * decoding.readVarUint(decoder) // => 256\n * decoding.readVarString(decoder) // => 'Hello world!'\n * decoding.hasContent(decoder) // => false - all data is read\n * ```\n *\n * @module decoding\n */\n\nimport * as binary from './binary.js'\nimport * as math from './math.js'\nimport * as number from './number.js'\nimport * as string from './string.js'\nimport * as error from './error.js'\nimport * as encoding from './encoding.js'\n\nconst errorUnexpectedEndOfArray = error.create('Unexpected end of array')\nconst errorIntegerOutOfRange = error.create('Integer out of Range')\n\n/**\n * A Decoder handles the decoding of an Uint8Array.\n */\nexport class Decoder {\n  /**\n   * @param {Uint8Array} uint8Array Binary data to decode\n   */\n  constructor (uint8Array) {\n    /**\n     * Decoding target.\n     *\n     * @type {Uint8Array}\n     */\n    this.arr = uint8Array\n    /**\n     * Current decoding position.\n     *\n     * @type {number}\n     */\n    this.pos = 0\n  }\n}\n\n/**\n * @function\n * @param {Uint8Array} uint8Array\n * @return {Decoder}\n */\nexport const createDecoder = uint8Array => new Decoder(uint8Array)\n\n/**\n * @function\n * @param {Decoder} decoder\n * @return {boolean}\n */\nexport const hasContent = decoder => decoder.pos !== decoder.arr.length\n\n/**\n * Clone a decoder instance.\n * Optionally set a new position parameter.\n *\n * @function\n * @param {Decoder} decoder The decoder instance\n * @param {number} [newPos] Defaults to current position\n * @return {Decoder} A clone of `decoder`\n */\nexport const clone = (decoder, newPos = decoder.pos) => {\n  const _decoder = createDecoder(decoder.arr)\n  _decoder.pos = newPos\n  return _decoder\n}\n\n/**\n * Create an Uint8Array view of the next `len` bytes and advance the position by `len`.\n *\n * Important: The Uint8Array still points to the underlying ArrayBuffer. Make sure to discard the result as soon as possible to prevent any memory leaks.\n *            Use `buffer.copyUint8Array` to copy the result into a new Uint8Array.\n *\n * @function\n * @param {Decoder} decoder The decoder instance\n * @param {number} len The length of bytes to read\n * @return {Uint8Array}\n */\nexport const readUint8Array = (decoder, len) => {\n  const view = new Uint8Array(decoder.arr.buffer, decoder.pos + decoder.arr.byteOffset, len)\n  decoder.pos += len\n  return view\n}\n\n/**\n * Read variable length Uint8Array.\n *\n * Important: The Uint8Array still points to the underlying ArrayBuffer. Make sure to discard the result as soon as possible to prevent any memory leaks.\n *            Use `buffer.copyUint8Array` to copy the result into a new Uint8Array.\n *\n * @function\n * @param {Decoder} decoder\n * @return {Uint8Array}\n */\nexport const readVarUint8Array = decoder => readUint8Array(decoder, readVarUint(decoder))\n\n/**\n * Read the rest of the content as an ArrayBuffer\n * @function\n * @param {Decoder} decoder\n * @return {Uint8Array}\n */\nexport const readTailAsUint8Array = decoder => readUint8Array(decoder, decoder.arr.length - decoder.pos)\n\n/**\n * Skip one byte, jump to the next position.\n * @function\n * @param {Decoder} decoder The decoder instance\n * @return {number} The next position\n */\nexport const skip8 = decoder => decoder.pos++\n\n/**\n * Read one byte as unsigned integer.\n * @function\n * @param {Decoder} decoder The decoder instance\n * @return {number} Unsigned 8-bit integer\n */\nexport const readUint8 = decoder => decoder.arr[decoder.pos++]\n\n/**\n * Read 2 bytes as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const readUint16 = decoder => {\n  const uint =\n    decoder.arr[decoder.pos] +\n    (decoder.arr[decoder.pos + 1] << 8)\n  decoder.pos += 2\n  return uint\n}\n\n/**\n * Read 4 bytes as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const readUint32 = decoder => {\n  const uint =\n    (decoder.arr[decoder.pos] +\n    (decoder.arr[decoder.pos + 1] << 8) +\n    (decoder.arr[decoder.pos + 2] << 16) +\n    (decoder.arr[decoder.pos + 3] << 24)) >>> 0\n  decoder.pos += 4\n  return uint\n}\n\n/**\n * Read 4 bytes as unsigned integer in big endian order.\n * (most significant byte first)\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const readUint32BigEndian = decoder => {\n  const uint =\n    (decoder.arr[decoder.pos + 3] +\n    (decoder.arr[decoder.pos + 2] << 8) +\n    (decoder.arr[decoder.pos + 1] << 16) +\n    (decoder.arr[decoder.pos] << 24)) >>> 0\n  decoder.pos += 4\n  return uint\n}\n\n/**\n * Look ahead without incrementing the position\n * to the next byte and read it as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const peekUint8 = decoder => decoder.arr[decoder.pos]\n\n/**\n * Look ahead without incrementing the position\n * to the next byte and read it as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const peekUint16 = decoder =>\n  decoder.arr[decoder.pos] +\n  (decoder.arr[decoder.pos + 1] << 8)\n\n/**\n * Look ahead without incrementing the position\n * to the next byte and read it as unsigned integer.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.\n */\nexport const peekUint32 = decoder => (\n  decoder.arr[decoder.pos] +\n  (decoder.arr[decoder.pos + 1] << 8) +\n  (decoder.arr[decoder.pos + 2] << 16) +\n  (decoder.arr[decoder.pos + 3] << 24)\n) >>> 0\n\n/**\n * Read unsigned integer (32bit) with variable length.\n * 1/8th of the storage is used as encoding overhead.\n *  * numbers < 2^7 is stored in one bytlength\n *  * numbers < 2^14 is stored in two bylength\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.length\n */\nexport const readVarUint = decoder => {\n  let num = 0\n  let mult = 1\n  const len = decoder.arr.length\n  while (decoder.pos < len) {\n    const r = decoder.arr[decoder.pos++]\n    // num = num | ((r & binary.BITS7) << len)\n    num = num + (r & binary.BITS7) * mult // shift $r << (7*#iterations) and add it to num\n    mult *= 128 // next iteration, shift 7 \"more\" to the left\n    if (r < binary.BIT8) {\n      return num\n    }\n    /* c8 ignore start */\n    if (num > number.MAX_SAFE_INTEGER) {\n      throw errorIntegerOutOfRange\n    }\n    /* c8 ignore stop */\n  }\n  throw errorUnexpectedEndOfArray\n}\n\n/**\n * Read signed integer (32bit) with variable length.\n * 1/8th of the storage is used as encoding overhead.\n *  * numbers < 2^7 is stored in one bytlength\n *  * numbers < 2^14 is stored in two bylength\n * @todo This should probably create the inverse ~num if number is negative - but this would be a breaking change.\n *\n * @function\n * @param {Decoder} decoder\n * @return {number} An unsigned integer.length\n */\nexport const readVarInt = decoder => {\n  let r = decoder.arr[decoder.pos++]\n  let num = r & binary.BITS6\n  let mult = 64\n  const sign = (r & binary.BIT7) > 0 ? -1 : 1\n  if ((r & binary.BIT8) === 0) {\n    // don't continue reading\n    return sign * num\n  }\n  const len = decoder.arr.length\n  while (decoder.pos < len) {\n    r = decoder.arr[decoder.pos++]\n    // num = num | ((r & binary.BITS7) << len)\n    num = num + (r & binary.BITS7) * mult\n    mult *= 128\n    if (r < binary.BIT8) {\n      return sign * num\n    }\n    /* c8 ignore start */\n    if (num > number.MAX_SAFE_INTEGER) {\n      throw errorIntegerOutOfRange\n    }\n    /* c8 ignore stop */\n  }\n  throw errorUnexpectedEndOfArray\n}\n\n/**\n * Look ahead and read varUint without incrementing position\n *\n * @function\n * @param {Decoder} decoder\n * @return {number}\n */\nexport const peekVarUint = decoder => {\n  const pos = decoder.pos\n  const s = readVarUint(decoder)\n  decoder.pos = pos\n  return s\n}\n\n/**\n * Look ahead and read varUint without incrementing position\n *\n * @function\n * @param {Decoder} decoder\n * @return {number}\n */\nexport const peekVarInt = decoder => {\n  const pos = decoder.pos\n  const s = readVarInt(decoder)\n  decoder.pos = pos\n  return s\n}\n\n/**\n * We don't test this function anymore as we use native decoding/encoding by default now.\n * Better not modify this anymore..\n *\n * Transforming utf8 to a string is pretty expensive. The code performs 10x better\n * when String.fromCodePoint is fed with all characters as arguments.\n * But most environments have a maximum number of arguments per functions.\n * For effiency reasons we apply a maximum of 10000 characters at once.\n *\n * @function\n * @param {Decoder} decoder\n * @return {String} The read String.\n */\n/* c8 ignore start */\nexport const _readVarStringPolyfill = decoder => {\n  let remainingLen = readVarUint(decoder)\n  if (remainingLen === 0) {\n    return ''\n  } else {\n    let encodedString = String.fromCodePoint(readUint8(decoder)) // remember to decrease remainingLen\n    if (--remainingLen < 100) { // do not create a Uint8Array for small strings\n      while (remainingLen--) {\n        encodedString += String.fromCodePoint(readUint8(decoder))\n      }\n    } else {\n      while (remainingLen > 0) {\n        const nextLen = remainingLen < 10000 ? remainingLen : 10000\n        // this is dangerous, we create a fresh array view from the existing buffer\n        const bytes = decoder.arr.subarray(decoder.pos, decoder.pos + nextLen)\n        decoder.pos += nextLen\n        // Starting with ES5.1 we can supply a generic array-like object as arguments\n        encodedString += String.fromCodePoint.apply(null, /** @type {any} */ (bytes))\n        remainingLen -= nextLen\n      }\n    }\n    return decodeURIComponent(escape(encodedString))\n  }\n}\n/* c8 ignore stop */\n\n/**\n * @function\n * @param {Decoder} decoder\n * @return {String} The read String\n */\nexport const _readVarStringNative = decoder =>\n  /** @type any */ (string.utf8TextDecoder).decode(readVarUint8Array(decoder))\n\n/**\n * Read string of variable length\n * * varUint is used to store the length of the string\n *\n * @function\n * @param {Decoder} decoder\n * @return {String} The read String\n *\n */\n/* c8 ignore next */\nexport const readVarString = string.utf8TextDecoder ? _readVarStringNative : _readVarStringPolyfill\n\n/**\n * @param {Decoder} decoder\n * @return {Uint8Array}\n */\nexport const readTerminatedUint8Array = decoder => {\n  const encoder = encoding.createEncoder()\n  let b\n  while (true) {\n    b = readUint8(decoder)\n    if (b === 0) {\n      return encoding.toUint8Array(encoder)\n    }\n    if (b === 1) {\n      b = readUint8(decoder)\n    }\n    encoding.write(encoder, b)\n  }\n}\n\n/**\n * @param {Decoder} decoder\n * @return {string}\n */\nexport const readTerminatedString = decoder => string.decodeUtf8(readTerminatedUint8Array(decoder))\n\n/**\n * Look ahead and read varString without incrementing position\n *\n * @function\n * @param {Decoder} decoder\n * @return {string}\n */\nexport const peekVarString = decoder => {\n  const pos = decoder.pos\n  const s = readVarString(decoder)\n  decoder.pos = pos\n  return s\n}\n\n/**\n * @param {Decoder} decoder\n * @param {number} len\n * @return {DataView}\n */\nexport const readFromDataView = (decoder, len) => {\n  const dv = new DataView(decoder.arr.buffer, decoder.arr.byteOffset + decoder.pos, len)\n  decoder.pos += len\n  return dv\n}\n\n/**\n * @param {Decoder} decoder\n */\nexport const readFloat32 = decoder => readFromDataView(decoder, 4).getFloat32(0, false)\n\n/**\n * @param {Decoder} decoder\n */\nexport const readFloat64 = decoder => readFromDataView(decoder, 8).getFloat64(0, false)\n\n/**\n * @param {Decoder} decoder\n */\nexport const readBigInt64 = decoder => /** @type {any} */ (readFromDataView(decoder, 8)).getBigInt64(0, false)\n\n/**\n * @param {Decoder} decoder\n */\nexport const readBigUint64 = decoder => /** @type {any} */ (readFromDataView(decoder, 8)).getBigUint64(0, false)\n\n/**\n * @type {Array<function(Decoder):any>}\n */\nconst readAnyLookupTable = [\n  decoder => undefined, // CASE 127: undefined\n  decoder => null, // CASE 126: null\n  readVarInt, // CASE 125: integer\n  readFloat32, // CASE 124: float32\n  readFloat64, // CASE 123: float64\n  readBigInt64, // CASE 122: bigint\n  decoder => false, // CASE 121: boolean (false)\n  decoder => true, // CASE 120: boolean (true)\n  readVarString, // CASE 119: string\n  decoder => { // CASE 118: object<string,any>\n    const len = readVarUint(decoder)\n    /**\n     * @type {Object<string,any>}\n     */\n    const obj = {}\n    for (let i = 0; i < len; i++) {\n      const key = readVarString(decoder)\n      obj[key] = readAny(decoder)\n    }\n    return obj\n  },\n  decoder => { // CASE 117: array<any>\n    const len = readVarUint(decoder)\n    const arr = []\n    for (let i = 0; i < len; i++) {\n      arr.push(readAny(decoder))\n    }\n    return arr\n  },\n  readVarUint8Array // CASE 116: Uint8Array\n]\n\n/**\n * @param {Decoder} decoder\n */\nexport const readAny = decoder => readAnyLookupTable[127 - readUint8(decoder)](decoder)\n\n/**\n * T must not be null.\n *\n * @template T\n */\nexport class RleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   * @param {function(Decoder):T} reader\n   */\n  constructor (uint8Array, reader) {\n    super(uint8Array)\n    /**\n     * The reader\n     */\n    this.reader = reader\n    /**\n     * Current state\n     * @type {T|null}\n     */\n    this.s = null\n    this.count = 0\n  }\n\n  read () {\n    if (this.count === 0) {\n      this.s = this.reader(this)\n      if (hasContent(this)) {\n        this.count = readVarUint(this) + 1 // see encoder implementation for the reason why this is incremented\n      } else {\n        this.count = -1 // read the current value forever\n      }\n    }\n    this.count--\n    return /** @type {T} */ (this.s)\n  }\n}\n\nexport class IntDiffDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   * @param {number} start\n   */\n  constructor (uint8Array, start) {\n    super(uint8Array)\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n  }\n\n  /**\n   * @return {number}\n   */\n  read () {\n    this.s += readVarInt(this)\n    return this.s\n  }\n}\n\nexport class RleIntDiffDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   * @param {number} start\n   */\n  constructor (uint8Array, start) {\n    super(uint8Array)\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n    this.count = 0\n  }\n\n  /**\n   * @return {number}\n   */\n  read () {\n    if (this.count === 0) {\n      this.s += readVarInt(this)\n      if (hasContent(this)) {\n        this.count = readVarUint(this) + 1 // see encoder implementation for the reason why this is incremented\n      } else {\n        this.count = -1 // read the current value forever\n      }\n    }\n    this.count--\n    return /** @type {number} */ (this.s)\n  }\n}\n\nexport class UintOptRleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    super(uint8Array)\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  read () {\n    if (this.count === 0) {\n      this.s = readVarInt(this)\n      // if the sign is negative, we read the count too, otherwise count is 1\n      const isNegative = math.isNegativeZero(this.s)\n      this.count = 1\n      if (isNegative) {\n        this.s = -this.s\n        this.count = readVarUint(this) + 2\n      }\n    }\n    this.count--\n    return /** @type {number} */ (this.s)\n  }\n}\n\nexport class IncUintOptRleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    super(uint8Array)\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  read () {\n    if (this.count === 0) {\n      this.s = readVarInt(this)\n      // if the sign is negative, we read the count too, otherwise count is 1\n      const isNegative = math.isNegativeZero(this.s)\n      this.count = 1\n      if (isNegative) {\n        this.s = -this.s\n        this.count = readVarUint(this) + 2\n      }\n    }\n    this.count--\n    return /** @type {number} */ (this.s++)\n  }\n}\n\nexport class IntDiffOptRleDecoder extends Decoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    super(uint8Array)\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n    this.diff = 0\n  }\n\n  /**\n   * @return {number}\n   */\n  read () {\n    if (this.count === 0) {\n      const diff = readVarInt(this)\n      // if the first bit is set, we read more data\n      const hasCount = diff & 1\n      this.diff = math.floor(diff / 2) // shift >> 1\n      this.count = 1\n      if (hasCount) {\n        this.count = readVarUint(this) + 2\n      }\n    }\n    this.s += this.diff\n    this.count--\n    return this.s\n  }\n}\n\nexport class StringDecoder {\n  /**\n   * @param {Uint8Array} uint8Array\n   */\n  constructor (uint8Array) {\n    this.decoder = new UintOptRleDecoder(uint8Array)\n    this.str = readVarString(this.decoder)\n    /**\n     * @type {number}\n     */\n    this.spos = 0\n  }\n\n  /**\n   * @return {string}\n   */\n  read () {\n    const end = this.spos + this.decoder.read()\n    const res = this.str.slice(this.spos, end)\n    this.spos = end\n    return res\n  }\n}\n","/* eslint-env browser */\n\n/**\n * Utility module to work with the DOM.\n *\n * @module dom\n */\n\nimport * as pair from './pair.js'\nimport * as map from './map.js'\n\n/* c8 ignore start */\n/**\n * @type {Document}\n */\nexport const doc = /** @type {Document} */ (typeof document !== 'undefined' ? document : {})\n\n/**\n * @param {string} name\n * @return {HTMLElement}\n */\nexport const createElement = name => doc.createElement(name)\n\n/**\n * @return {DocumentFragment}\n */\nexport const createDocumentFragment = () => doc.createDocumentFragment()\n\n/**\n * @param {string} text\n * @return {Text}\n */\nexport const createTextNode = text => doc.createTextNode(text)\n\nexport const domParser = /** @type {DOMParser} */ (typeof DOMParser !== 'undefined' ? new DOMParser() : null)\n\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Object} opts\n */\nexport const emitCustomEvent = (el, name, opts) => el.dispatchEvent(new CustomEvent(name, opts))\n\n/**\n * @param {Element} el\n * @param {Array<pair.Pair<string,string|boolean>>} attrs Array of key-value pairs\n * @return {Element}\n */\nexport const setAttributes = (el, attrs) => {\n  pair.forEach(attrs, (key, value) => {\n    if (value === false) {\n      el.removeAttribute(key)\n    } else if (value === true) {\n      el.setAttribute(key, '')\n    } else {\n      // @ts-ignore\n      el.setAttribute(key, value)\n    }\n  })\n  return el\n}\n\n/**\n * @param {Element} el\n * @param {Map<string, string>} attrs Array of key-value pairs\n * @return {Element}\n */\nexport const setAttributesMap = (el, attrs) => {\n  attrs.forEach((value, key) => { el.setAttribute(key, value) })\n  return el\n}\n\n/**\n * @param {Array<Node>|HTMLCollection} children\n * @return {DocumentFragment}\n */\nexport const fragment = children => {\n  const fragment = createDocumentFragment()\n  for (let i = 0; i < children.length; i++) {\n    appendChild(fragment, children[i])\n  }\n  return fragment\n}\n\n/**\n * @param {Element} parent\n * @param {Array<Node>} nodes\n * @return {Element}\n */\nexport const append = (parent, nodes) => {\n  appendChild(parent, fragment(nodes))\n  return parent\n}\n\n/**\n * @param {HTMLElement} el\n */\nexport const remove = el => el.remove()\n\n/**\n * @param {EventTarget} el\n * @param {string} name\n * @param {EventListener} f\n */\nexport const addEventListener = (el, name, f) => el.addEventListener(name, f)\n\n/**\n * @param {EventTarget} el\n * @param {string} name\n * @param {EventListener} f\n */\nexport const removeEventListener = (el, name, f) => el.removeEventListener(name, f)\n\n/**\n * @param {Node} node\n * @param {Array<pair.Pair<string,EventListener>>} listeners\n * @return {Node}\n */\nexport const addEventListeners = (node, listeners) => {\n  pair.forEach(listeners, (name, f) => addEventListener(node, name, f))\n  return node\n}\n\n/**\n * @param {Node} node\n * @param {Array<pair.Pair<string,EventListener>>} listeners\n * @return {Node}\n */\nexport const removeEventListeners = (node, listeners) => {\n  pair.forEach(listeners, (name, f) => removeEventListener(node, name, f))\n  return node\n}\n\n/**\n * @param {string} name\n * @param {Array<pair.Pair<string,string>|pair.Pair<string,boolean>>} attrs Array of key-value pairs\n * @param {Array<Node>} children\n * @return {Element}\n */\nexport const element = (name, attrs = [], children = []) =>\n  append(setAttributes(createElement(name), attrs), children)\n\n/**\n * @param {number} width\n * @param {number} height\n */\nexport const canvas = (width, height) => {\n  const c = /** @type {HTMLCanvasElement} */ (createElement('canvas'))\n  c.height = height\n  c.width = width\n  return c\n}\n\n/**\n * @param {string} t\n * @return {Text}\n */\nexport const text = createTextNode\n\n/**\n * @param {pair.Pair<string,string>} pair\n */\nexport const pairToStyleString = pair => `${pair.left}:${pair.right};`\n\n/**\n * @param {Array<pair.Pair<string,string>>} pairs\n * @return {string}\n */\nexport const pairsToStyleString = pairs => pairs.map(pairToStyleString).join('')\n\n/**\n * @param {Map<string,string>} m\n * @return {string}\n */\nexport const mapToStyleString = m => map.map(m, (value, key) => `${key}:${value};`).join('')\n\n/**\n * @todo should always query on a dom element\n *\n * @param {HTMLElement|ShadowRoot} el\n * @param {string} query\n * @return {HTMLElement | null}\n */\nexport const querySelector = (el, query) => el.querySelector(query)\n\n/**\n * @param {HTMLElement|ShadowRoot} el\n * @param {string} query\n * @return {NodeListOf<HTMLElement>}\n */\nexport const querySelectorAll = (el, query) => el.querySelectorAll(query)\n\n/**\n * @param {string} id\n * @return {HTMLElement}\n */\nexport const getElementById = id => /** @type {HTMLElement} */ (doc.getElementById(id))\n\n/**\n * @param {string} html\n * @return {HTMLElement}\n */\nconst _parse = html => domParser.parseFromString(`<html><body>${html}</body></html>`, 'text/html').body\n\n/**\n * @param {string} html\n * @return {DocumentFragment}\n */\nexport const parseFragment = html => fragment(/** @type {any} */ (_parse(html).childNodes))\n\n/**\n * @param {string} html\n * @return {HTMLElement}\n */\nexport const parseElement = html => /** @type HTMLElement */ (_parse(html).firstElementChild)\n\n/**\n * @param {HTMLElement} oldEl\n * @param {HTMLElement|DocumentFragment} newEl\n */\nexport const replaceWith = (oldEl, newEl) => oldEl.replaceWith(newEl)\n\n/**\n * @param {HTMLElement} parent\n * @param {HTMLElement} el\n * @param {Node|null} ref\n * @return {HTMLElement}\n */\nexport const insertBefore = (parent, el, ref) => parent.insertBefore(el, ref)\n\n/**\n * @param {Node} parent\n * @param {Node} child\n * @return {Node}\n */\nexport const appendChild = (parent, child) => parent.appendChild(child)\n\nexport const ELEMENT_NODE = doc.ELEMENT_NODE\nexport const TEXT_NODE = doc.TEXT_NODE\nexport const CDATA_SECTION_NODE = doc.CDATA_SECTION_NODE\nexport const COMMENT_NODE = doc.COMMENT_NODE\nexport const DOCUMENT_NODE = doc.DOCUMENT_NODE\nexport const DOCUMENT_TYPE_NODE = doc.DOCUMENT_TYPE_NODE\nexport const DOCUMENT_FRAGMENT_NODE = doc.DOCUMENT_FRAGMENT_NODE\n\n/**\n * @param {any} node\n * @param {number} type\n */\nexport const checkNodeType = (node, type) => node.nodeType === type\n\n/**\n * @param {Node} parent\n * @param {HTMLElement} child\n */\nexport const isParentOf = (parent, child) => {\n  let p = child.parentNode\n  while (p && p !== parent) {\n    p = p.parentNode\n  }\n  return p === parent\n}\n/* c8 ignore stop */\n","/**\n * Efficient schema-less binary encoding with support for variable length encoding.\n *\n * Use [lib0/encoding] with [lib0/decoding]. Every encoding function has a corresponding decoding function.\n *\n * Encodes numbers in little-endian order (least to most significant byte order)\n * and is compatible with Golang's binary encoding (https://golang.org/pkg/encoding/binary/)\n * which is also used in Protocol Buffers.\n *\n * ```js\n * // encoding step\n * const encoder = encoding.createEncoder()\n * encoding.writeVarUint(encoder, 256)\n * encoding.writeVarString(encoder, 'Hello world!')\n * const buf = encoding.toUint8Array(encoder)\n * ```\n *\n * ```js\n * // decoding step\n * const decoder = decoding.createDecoder(buf)\n * decoding.readVarUint(decoder) // => 256\n * decoding.readVarString(decoder) // => 'Hello world!'\n * decoding.hasContent(decoder) // => false - all data is read\n * ```\n *\n * @module encoding\n */\n\nimport * as math from './math.js'\nimport * as number from './number.js'\nimport * as binary from './binary.js'\nimport * as string from './string.js'\nimport * as array from './array.js'\n\n/**\n * A BinaryEncoder handles the encoding to an Uint8Array.\n */\nexport class Encoder {\n  constructor () {\n    this.cpos = 0\n    this.cbuf = new Uint8Array(100)\n    /**\n     * @type {Array<Uint8Array>}\n     */\n    this.bufs = []\n  }\n}\n\n/**\n * @function\n * @return {Encoder}\n */\nexport const createEncoder = () => new Encoder()\n\n/**\n * @param {function(Encoder):void} f\n */\nexport const encode = (f) => {\n  const encoder = createEncoder()\n  f(encoder)\n  return toUint8Array(encoder)\n}\n\n/**\n * The current length of the encoded data.\n *\n * @function\n * @param {Encoder} encoder\n * @return {number}\n */\nexport const length = encoder => {\n  let len = encoder.cpos\n  for (let i = 0; i < encoder.bufs.length; i++) {\n    len += encoder.bufs[i].length\n  }\n  return len\n}\n\n/**\n * Check whether encoder is empty.\n *\n * @function\n * @param {Encoder} encoder\n * @return {boolean}\n */\nexport const hasContent = encoder => encoder.cpos > 0 || encoder.bufs.length > 0\n\n/**\n * Transform to Uint8Array.\n *\n * @function\n * @param {Encoder} encoder\n * @return {Uint8Array} The created ArrayBuffer.\n */\nexport const toUint8Array = encoder => {\n  const uint8arr = new Uint8Array(length(encoder))\n  let curPos = 0\n  for (let i = 0; i < encoder.bufs.length; i++) {\n    const d = encoder.bufs[i]\n    uint8arr.set(d, curPos)\n    curPos += d.length\n  }\n  uint8arr.set(new Uint8Array(encoder.cbuf.buffer, 0, encoder.cpos), curPos)\n  return uint8arr\n}\n\n/**\n * Verify that it is possible to write `len` bytes wtihout checking. If\n * necessary, a new Buffer with the required length is attached.\n *\n * @param {Encoder} encoder\n * @param {number} len\n */\nexport const verifyLen = (encoder, len) => {\n  const bufferLen = encoder.cbuf.length\n  if (bufferLen - encoder.cpos < len) {\n    encoder.bufs.push(new Uint8Array(encoder.cbuf.buffer, 0, encoder.cpos))\n    encoder.cbuf = new Uint8Array(math.max(bufferLen, len) * 2)\n    encoder.cpos = 0\n  }\n}\n\n/**\n * Write one byte to the encoder.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The byte that is to be encoded.\n */\nexport const write = (encoder, num) => {\n  const bufferLen = encoder.cbuf.length\n  if (encoder.cpos === bufferLen) {\n    encoder.bufs.push(encoder.cbuf)\n    encoder.cbuf = new Uint8Array(bufferLen * 2)\n    encoder.cpos = 0\n  }\n  encoder.cbuf[encoder.cpos++] = num\n}\n\n/**\n * Write one byte at a specific position.\n * Position must already be written (i.e. encoder.length > pos)\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos Position to which to write data\n * @param {number} num Unsigned 8-bit integer\n */\nexport const set = (encoder, pos, num) => {\n  let buffer = null\n  // iterate all buffers and adjust position\n  for (let i = 0; i < encoder.bufs.length && buffer === null; i++) {\n    const b = encoder.bufs[i]\n    if (pos < b.length) {\n      buffer = b // found buffer\n    } else {\n      pos -= b.length\n    }\n  }\n  if (buffer === null) {\n    // use current buffer\n    buffer = encoder.cbuf\n  }\n  buffer[pos] = num\n}\n\n/**\n * Write one byte as an unsigned integer.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint8 = write\n\n/**\n * Write one byte as an unsigned Integer at a specific location.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos The location where the data will be written.\n * @param {number} num The number that is to be encoded.\n */\nexport const setUint8 = set\n\n/**\n * Write two bytes as an unsigned integer.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint16 = (encoder, num) => {\n  write(encoder, num & binary.BITS8)\n  write(encoder, (num >>> 8) & binary.BITS8)\n}\n/**\n * Write two bytes as an unsigned integer at a specific location.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos The location where the data will be written.\n * @param {number} num The number that is to be encoded.\n */\nexport const setUint16 = (encoder, pos, num) => {\n  set(encoder, pos, num & binary.BITS8)\n  set(encoder, pos + 1, (num >>> 8) & binary.BITS8)\n}\n\n/**\n * Write two bytes as an unsigned integer\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint32 = (encoder, num) => {\n  for (let i = 0; i < 4; i++) {\n    write(encoder, num & binary.BITS8)\n    num >>>= 8\n  }\n}\n\n/**\n * Write two bytes as an unsigned integer in big endian order.\n * (most significant byte first)\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeUint32BigEndian = (encoder, num) => {\n  for (let i = 3; i >= 0; i--) {\n    write(encoder, (num >>> (8 * i)) & binary.BITS8)\n  }\n}\n\n/**\n * Write two bytes as an unsigned integer at a specific location.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} pos The location where the data will be written.\n * @param {number} num The number that is to be encoded.\n */\nexport const setUint32 = (encoder, pos, num) => {\n  for (let i = 0; i < 4; i++) {\n    set(encoder, pos + i, num & binary.BITS8)\n    num >>>= 8\n  }\n}\n\n/**\n * Write a variable length unsigned integer. Max encodable integer is 2^53.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeVarUint = (encoder, num) => {\n  while (num > binary.BITS7) {\n    write(encoder, binary.BIT8 | (binary.BITS7 & num))\n    num = math.floor(num / 128) // shift >>> 7\n  }\n  write(encoder, binary.BITS7 & num)\n}\n\n/**\n * Write a variable length integer.\n *\n * We use the 7th bit instead for signaling that this is a negative number.\n *\n * @function\n * @param {Encoder} encoder\n * @param {number} num The number that is to be encoded.\n */\nexport const writeVarInt = (encoder, num) => {\n  const isNegative = math.isNegativeZero(num)\n  if (isNegative) {\n    num = -num\n  }\n  //             |- whether to continue reading         |- whether is negative     |- number\n  write(encoder, (num > binary.BITS6 ? binary.BIT8 : 0) | (isNegative ? binary.BIT7 : 0) | (binary.BITS6 & num))\n  num = math.floor(num / 64) // shift >>> 6\n  // We don't need to consider the case of num === 0 so we can use a different\n  // pattern here than above.\n  while (num > 0) {\n    write(encoder, (num > binary.BITS7 ? binary.BIT8 : 0) | (binary.BITS7 & num))\n    num = math.floor(num / 128) // shift >>> 7\n  }\n}\n\n/**\n * A cache to store strings temporarily\n */\nconst _strBuffer = new Uint8Array(30000)\nconst _maxStrBSize = _strBuffer.length / 3\n\n/**\n * Write a variable length string.\n *\n * @function\n * @param {Encoder} encoder\n * @param {String} str The string that is to be encoded.\n */\nexport const _writeVarStringNative = (encoder, str) => {\n  if (str.length < _maxStrBSize) {\n    // We can encode the string into the existing buffer\n    /* c8 ignore next */\n    const written = string.utf8TextEncoder.encodeInto(str, _strBuffer).written || 0\n    writeVarUint(encoder, written)\n    for (let i = 0; i < written; i++) {\n      write(encoder, _strBuffer[i])\n    }\n  } else {\n    writeVarUint8Array(encoder, string.encodeUtf8(str))\n  }\n}\n\n/**\n * Write a variable length string.\n *\n * @function\n * @param {Encoder} encoder\n * @param {String} str The string that is to be encoded.\n */\nexport const _writeVarStringPolyfill = (encoder, str) => {\n  const encodedString = unescape(encodeURIComponent(str))\n  const len = encodedString.length\n  writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    write(encoder, /** @type {number} */ (encodedString.codePointAt(i)))\n  }\n}\n\n/**\n * Write a variable length string.\n *\n * @function\n * @param {Encoder} encoder\n * @param {String} str The string that is to be encoded.\n */\n/* c8 ignore next */\nexport const writeVarString = (string.utf8TextEncoder && /** @type {any} */ (string.utf8TextEncoder).encodeInto) ? _writeVarStringNative : _writeVarStringPolyfill\n\n/**\n * Write a string terminated by a special byte sequence. This is not very performant and is\n * generally discouraged. However, the resulting byte arrays are lexiographically ordered which\n * makes this a nice feature for databases.\n *\n * The string will be encoded using utf8 and then terminated and escaped using writeTerminatingUint8Array.\n *\n * @function\n * @param {Encoder} encoder\n * @param {String} str The string that is to be encoded.\n */\nexport const writeTerminatedString = (encoder, str) =>\n  writeTerminatedUint8Array(encoder, string.encodeUtf8(str))\n\n/**\n * Write a terminating Uint8Array. Note that this is not performant and is generally\n * discouraged. There are few situations when this is needed.\n *\n * We use 0x0 as a terminating character. 0x1 serves as an escape character for 0x0 and 0x1.\n *\n * Example: [0,1,2] is encoded to [1,0,1,1,2,0]. 0x0, and 0x1 needed to be escaped using 0x1. Then\n * the result is terminated using the 0x0 character.\n *\n * This is basically how many systems implement null terminated strings. However, we use an escape\n * character 0x1 to avoid issues and potenial attacks on our database (if this is used as a key\n * encoder for NoSql databases).\n *\n * @function\n * @param {Encoder} encoder\n * @param {Uint8Array} buf The string that is to be encoded.\n */\nexport const writeTerminatedUint8Array = (encoder, buf) => {\n  for (let i = 0; i < buf.length; i++) {\n    const b = buf[i]\n    if (b === 0 || b === 1) {\n      write(encoder, 1)\n    }\n    write(encoder, buf[i])\n  }\n  write(encoder, 0)\n}\n\n/**\n * Write the content of another Encoder.\n *\n * @TODO: can be improved!\n *        - Note: Should consider that when appending a lot of small Encoders, we should rather clone than referencing the old structure.\n *                Encoders start with a rather big initial buffer.\n *\n * @function\n * @param {Encoder} encoder The enUint8Arr\n * @param {Encoder} append The BinaryEncoder to be written.\n */\nexport const writeBinaryEncoder = (encoder, append) => writeUint8Array(encoder, toUint8Array(append))\n\n/**\n * Append fixed-length Uint8Array to the encoder.\n *\n * @function\n * @param {Encoder} encoder\n * @param {Uint8Array} uint8Array\n */\nexport const writeUint8Array = (encoder, uint8Array) => {\n  const bufferLen = encoder.cbuf.length\n  const cpos = encoder.cpos\n  const leftCopyLen = math.min(bufferLen - cpos, uint8Array.length)\n  const rightCopyLen = uint8Array.length - leftCopyLen\n  encoder.cbuf.set(uint8Array.subarray(0, leftCopyLen), cpos)\n  encoder.cpos += leftCopyLen\n  if (rightCopyLen > 0) {\n    // Still something to write, write right half..\n    // Append new buffer\n    encoder.bufs.push(encoder.cbuf)\n    // must have at least size of remaining buffer\n    encoder.cbuf = new Uint8Array(math.max(bufferLen * 2, rightCopyLen))\n    // copy array\n    encoder.cbuf.set(uint8Array.subarray(leftCopyLen))\n    encoder.cpos = rightCopyLen\n  }\n}\n\n/**\n * Append an Uint8Array to Encoder.\n *\n * @function\n * @param {Encoder} encoder\n * @param {Uint8Array} uint8Array\n */\nexport const writeVarUint8Array = (encoder, uint8Array) => {\n  writeVarUint(encoder, uint8Array.byteLength)\n  writeUint8Array(encoder, uint8Array)\n}\n\n/**\n * Create an DataView of the next `len` bytes. Use it to write data after\n * calling this function.\n *\n * ```js\n * // write float32 using DataView\n * const dv = writeOnDataView(encoder, 4)\n * dv.setFloat32(0, 1.1)\n * // read float32 using DataView\n * const dv = readFromDataView(encoder, 4)\n * dv.getFloat32(0) // => 1.100000023841858 (leaving it to the reader to find out why this is the correct result)\n * ```\n *\n * @param {Encoder} encoder\n * @param {number} len\n * @return {DataView}\n */\nexport const writeOnDataView = (encoder, len) => {\n  verifyLen(encoder, len)\n  const dview = new DataView(encoder.cbuf.buffer, encoder.cpos, len)\n  encoder.cpos += len\n  return dview\n}\n\n/**\n * @param {Encoder} encoder\n * @param {number} num\n */\nexport const writeFloat32 = (encoder, num) => writeOnDataView(encoder, 4).setFloat32(0, num, false)\n\n/**\n * @param {Encoder} encoder\n * @param {number} num\n */\nexport const writeFloat64 = (encoder, num) => writeOnDataView(encoder, 8).setFloat64(0, num, false)\n\n/**\n * @param {Encoder} encoder\n * @param {bigint} num\n */\nexport const writeBigInt64 = (encoder, num) => /** @type {any} */ (writeOnDataView(encoder, 8)).setBigInt64(0, num, false)\n\n/**\n * @param {Encoder} encoder\n * @param {bigint} num\n */\nexport const writeBigUint64 = (encoder, num) => /** @type {any} */ (writeOnDataView(encoder, 8)).setBigUint64(0, num, false)\n\nconst floatTestBed = new DataView(new ArrayBuffer(4))\n/**\n * Check if a number can be encoded as a 32 bit float.\n *\n * @param {number} num\n * @return {boolean}\n */\nconst isFloat32 = num => {\n  floatTestBed.setFloat32(0, num)\n  return floatTestBed.getFloat32(0) === num\n}\n\n/**\n * Encode data with efficient binary format.\n *\n * Differences to JSON:\n * • Transforms data to a binary format (not to a string)\n * • Encodes undefined, NaN, and ArrayBuffer (these can't be represented in JSON)\n * • Numbers are efficiently encoded either as a variable length integer, as a\n *   32 bit float, as a 64 bit float, or as a 64 bit bigint.\n *\n * Encoding table:\n *\n * | Data Type           | Prefix   | Encoding Method    | Comment |\n * | ------------------- | -------- | ------------------ | ------- |\n * | undefined           | 127      |                    | Functions, symbol, and everything that cannot be identified is encoded as undefined |\n * | null                | 126      |                    | |\n * | integer             | 125      | writeVarInt        | Only encodes 32 bit signed integers |\n * | float32             | 124      | writeFloat32       | |\n * | float64             | 123      | writeFloat64       | |\n * | bigint              | 122      | writeBigInt64      | |\n * | boolean (false)     | 121      |                    | True and false are different data types so we save the following byte |\n * | boolean (true)      | 120      |                    | - 0b01111000 so the last bit determines whether true or false |\n * | string              | 119      | writeVarString     | |\n * | object<string,any>  | 118      | custom             | Writes {length} then {length} key-value pairs |\n * | array<any>          | 117      | custom             | Writes {length} then {length} json values |\n * | Uint8Array          | 116      | writeVarUint8Array | We use Uint8Array for any kind of binary data |\n *\n * Reasons for the decreasing prefix:\n * We need the first bit for extendability (later we may want to encode the\n * prefix with writeVarUint). The remaining 7 bits are divided as follows:\n * [0-30]   the beginning of the data range is used for custom purposes\n *          (defined by the function that uses this library)\n * [31-127] the end of the data range is used for data encoding by\n *          lib0/encoding.js\n *\n * @param {Encoder} encoder\n * @param {undefined|null|number|bigint|boolean|string|Object<string,any>|Array<any>|Uint8Array} data\n */\nexport const writeAny = (encoder, data) => {\n  switch (typeof data) {\n    case 'string':\n      // TYPE 119: STRING\n      write(encoder, 119)\n      writeVarString(encoder, data)\n      break\n    case 'number':\n      if (number.isInteger(data) && math.abs(data) <= binary.BITS31) {\n        // TYPE 125: INTEGER\n        write(encoder, 125)\n        writeVarInt(encoder, data)\n      } else if (isFloat32(data)) {\n        // TYPE 124: FLOAT32\n        write(encoder, 124)\n        writeFloat32(encoder, data)\n      } else {\n        // TYPE 123: FLOAT64\n        write(encoder, 123)\n        writeFloat64(encoder, data)\n      }\n      break\n    case 'bigint':\n      // TYPE 122: BigInt\n      write(encoder, 122)\n      writeBigInt64(encoder, data)\n      break\n    case 'object':\n      if (data === null) {\n        // TYPE 126: null\n        write(encoder, 126)\n      } else if (array.isArray(data)) {\n        // TYPE 117: Array\n        write(encoder, 117)\n        writeVarUint(encoder, data.length)\n        for (let i = 0; i < data.length; i++) {\n          writeAny(encoder, data[i])\n        }\n      } else if (data instanceof Uint8Array) {\n        // TYPE 116: ArrayBuffer\n        write(encoder, 116)\n        writeVarUint8Array(encoder, data)\n      } else {\n        // TYPE 118: Object\n        write(encoder, 118)\n        const keys = Object.keys(data)\n        writeVarUint(encoder, keys.length)\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i]\n          writeVarString(encoder, key)\n          writeAny(encoder, data[key])\n        }\n      }\n      break\n    case 'boolean':\n      // TYPE 120/121: boolean (true/false)\n      write(encoder, data ? 120 : 121)\n      break\n    default:\n      // TYPE 127: undefined\n      write(encoder, 127)\n  }\n}\n\n/**\n * Now come a few stateful encoder that have their own classes.\n */\n\n/**\n * Basic Run Length Encoder - a basic compression implementation.\n *\n * Encodes [1,1,1,7] to [1,3,7,1] (3 times 1, 1 time 7). This encoder might do more harm than good if there are a lot of values that are not repeated.\n *\n * It was originally used for image compression. Cool .. article http://csbruce.com/cbm/transactor/pdfs/trans_v7_i06.pdf\n *\n * @note T must not be null!\n *\n * @template T\n */\nexport class RleEncoder extends Encoder {\n  /**\n   * @param {function(Encoder, T):void} writer\n   */\n  constructor (writer) {\n    super()\n    /**\n     * The writer\n     */\n    this.w = writer\n    /**\n     * Current state\n     * @type {T|null}\n     */\n    this.s = null\n    this.count = 0\n  }\n\n  /**\n   * @param {T} v\n   */\n  write (v) {\n    if (this.s === v) {\n      this.count++\n    } else {\n      if (this.count > 0) {\n        // flush counter, unless this is the first value (count = 0)\n        writeVarUint(this, this.count - 1) // since count is always > 0, we can decrement by one. non-standard encoding ftw\n      }\n      this.count = 1\n      // write first value\n      this.w(this, v)\n      this.s = v\n    }\n  }\n}\n\n/**\n * Basic diff decoder using variable length encoding.\n *\n * Encodes the values [3, 1100, 1101, 1050, 0] to [3, 1097, 1, -51, -1050] using writeVarInt.\n */\nexport class IntDiffEncoder extends Encoder {\n  /**\n   * @param {number} start\n   */\n  constructor (start) {\n    super()\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    writeVarInt(this, v - this.s)\n    this.s = v\n  }\n}\n\n/**\n * A combination of IntDiffEncoder and RleEncoder.\n *\n * Basically first writes the IntDiffEncoder and then counts duplicate diffs using RleEncoding.\n *\n * Encodes the values [1,1,1,2,3,4,5,6] as [1,1,0,2,1,5] (RLE([1,0,0,1,1,1,1,1]) ⇒ RleIntDiff[1,1,0,2,1,5])\n */\nexport class RleIntDiffEncoder extends Encoder {\n  /**\n   * @param {number} start\n   */\n  constructor (start) {\n    super()\n    /**\n     * Current state\n     * @type {number}\n     */\n    this.s = start\n    this.count = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.s === v && this.count > 0) {\n      this.count++\n    } else {\n      if (this.count > 0) {\n        // flush counter, unless this is the first value (count = 0)\n        writeVarUint(this, this.count - 1) // since count is always > 0, we can decrement by one. non-standard encoding ftw\n      }\n      this.count = 1\n      // write first value\n      writeVarInt(this, v - this.s)\n      this.s = v\n    }\n  }\n}\n\n/**\n * @param {UintOptRleEncoder} encoder\n */\nconst flushUintOptRleEncoder = encoder => {\n  if (encoder.count > 0) {\n    // flush counter, unless this is the first value (count = 0)\n    // case 1: just a single value. set sign to positive\n    // case 2: write several values. set sign to negative to indicate that there is a length coming\n    writeVarInt(encoder.encoder, encoder.count === 1 ? encoder.s : -encoder.s)\n    if (encoder.count > 1) {\n      writeVarUint(encoder.encoder, encoder.count - 2) // since count is always > 1, we can decrement by one. non-standard encoding ftw\n    }\n  }\n}\n\n/**\n * Optimized Rle encoder that does not suffer from the mentioned problem of the basic Rle encoder.\n *\n * Internally uses VarInt encoder to write unsigned integers. If the input occurs multiple times, we write\n * write it as a negative number. The UintOptRleDecoder then understands that it needs to read a count.\n *\n * Encodes [1,2,3,3,3] as [1,2,-3,3] (once 1, once 2, three times 3)\n */\nexport class UintOptRleEncoder {\n  constructor () {\n    this.encoder = new Encoder()\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.s === v) {\n      this.count++\n    } else {\n      flushUintOptRleEncoder(this)\n      this.count = 1\n      this.s = v\n    }\n  }\n\n  /**\n   * Flush the encoded state and transform this to a Uint8Array.\n   *\n   * Note that this should only be called once.\n   */\n  toUint8Array () {\n    flushUintOptRleEncoder(this)\n    return toUint8Array(this.encoder)\n  }\n}\n\n/**\n * Increasing Uint Optimized RLE Encoder\n *\n * The RLE encoder counts the number of same occurences of the same value.\n * The IncUintOptRle encoder counts if the value increases.\n * I.e. 7, 8, 9, 10 will be encoded as [-7, 4]. 1, 3, 5 will be encoded\n * as [1, 3, 5].\n */\nexport class IncUintOptRleEncoder {\n  constructor () {\n    this.encoder = new Encoder()\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.s + this.count === v) {\n      this.count++\n    } else {\n      flushUintOptRleEncoder(this)\n      this.count = 1\n      this.s = v\n    }\n  }\n\n  /**\n   * Flush the encoded state and transform this to a Uint8Array.\n   *\n   * Note that this should only be called once.\n   */\n  toUint8Array () {\n    flushUintOptRleEncoder(this)\n    return toUint8Array(this.encoder)\n  }\n}\n\n/**\n * @param {IntDiffOptRleEncoder} encoder\n */\nconst flushIntDiffOptRleEncoder = encoder => {\n  if (encoder.count > 0) {\n    //          31 bit making up the diff | wether to write the counter\n    // const encodedDiff = encoder.diff << 1 | (encoder.count === 1 ? 0 : 1)\n    const encodedDiff = encoder.diff * 2 + (encoder.count === 1 ? 0 : 1)\n    // flush counter, unless this is the first value (count = 0)\n    // case 1: just a single value. set first bit to positive\n    // case 2: write several values. set first bit to negative to indicate that there is a length coming\n    writeVarInt(encoder.encoder, encodedDiff)\n    if (encoder.count > 1) {\n      writeVarUint(encoder.encoder, encoder.count - 2) // since count is always > 1, we can decrement by one. non-standard encoding ftw\n    }\n  }\n}\n\n/**\n * A combination of the IntDiffEncoder and the UintOptRleEncoder.\n *\n * The count approach is similar to the UintDiffOptRleEncoder, but instead of using the negative bitflag, it encodes\n * in the LSB whether a count is to be read. Therefore this Encoder only supports 31 bit integers!\n *\n * Encodes [1, 2, 3, 2] as [3, 1, 6, -1] (more specifically [(1 << 1) | 1, (3 << 0) | 0, -1])\n *\n * Internally uses variable length encoding. Contrary to normal UintVar encoding, the first byte contains:\n * * 1 bit that denotes whether the next value is a count (LSB)\n * * 1 bit that denotes whether this value is negative (MSB - 1)\n * * 1 bit that denotes whether to continue reading the variable length integer (MSB)\n *\n * Therefore, only five bits remain to encode diff ranges.\n *\n * Use this Encoder only when appropriate. In most cases, this is probably a bad idea.\n */\nexport class IntDiffOptRleEncoder {\n  constructor () {\n    this.encoder = new Encoder()\n    /**\n     * @type {number}\n     */\n    this.s = 0\n    this.count = 0\n    this.diff = 0\n  }\n\n  /**\n   * @param {number} v\n   */\n  write (v) {\n    if (this.diff === v - this.s) {\n      this.s = v\n      this.count++\n    } else {\n      flushIntDiffOptRleEncoder(this)\n      this.count = 1\n      this.diff = v - this.s\n      this.s = v\n    }\n  }\n\n  /**\n   * Flush the encoded state and transform this to a Uint8Array.\n   *\n   * Note that this should only be called once.\n   */\n  toUint8Array () {\n    flushIntDiffOptRleEncoder(this)\n    return toUint8Array(this.encoder)\n  }\n}\n\n/**\n * Optimized String Encoder.\n *\n * Encoding many small strings in a simple Encoder is not very efficient. The function call to decode a string takes some time and creates references that must be eventually deleted.\n * In practice, when decoding several million small strings, the GC will kick in more and more often to collect orphaned string objects (or maybe there is another reason?).\n *\n * This string encoder solves the above problem. All strings are concatenated and written as a single string using a single encoding call.\n *\n * The lengths are encoded using a UintOptRleEncoder.\n */\nexport class StringEncoder {\n  constructor () {\n    /**\n     * @type {Array<string>}\n     */\n    this.sarr = []\n    this.s = ''\n    this.lensE = new UintOptRleEncoder()\n  }\n\n  /**\n   * @param {string} string\n   */\n  write (string) {\n    this.s += string\n    if (this.s.length > 19) {\n      this.sarr.push(this.s)\n      this.s = ''\n    }\n    this.lensE.write(string.length)\n  }\n\n  toUint8Array () {\n    const encoder = new Encoder()\n    this.sarr.push(this.s)\n    this.s = ''\n    writeVarString(encoder, this.sarr.join(''))\n    writeUint8Array(encoder, this.lensE.toUint8Array())\n    return toUint8Array(encoder)\n  }\n}\n","/**\n * Isomorphic module to work access the environment (query params, env variables).\n *\n * @module environment\n */\n\nimport * as map from './map.js'\nimport * as string from './string.js'\nimport * as conditions from './conditions.js'\nimport * as storage from './storage.js'\nimport * as f from './function.js'\n\n/* c8 ignore next 2 */\n// @ts-ignore\nexport const isNode = typeof process !== 'undefined' && process.release && /node|io\\.js/.test(process.release.name) && Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]'\n\n/* c8 ignore next */\nexport const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && !isNode\n/* c8 ignore next 3 */\nexport const isMac = typeof navigator !== 'undefined'\n  ? /Mac/.test(navigator.platform)\n  : false\n\n/**\n * @type {Map<string,string>}\n */\nlet params\nconst args = []\n\n/* c8 ignore start */\nconst computeParams = () => {\n  if (params === undefined) {\n    if (isNode) {\n      params = map.create()\n      const pargs = process.argv\n      let currParamName = null\n      for (let i = 0; i < pargs.length; i++) {\n        const parg = pargs[i]\n        if (parg[0] === '-') {\n          if (currParamName !== null) {\n            params.set(currParamName, '')\n          }\n          currParamName = parg\n        } else {\n          if (currParamName !== null) {\n            params.set(currParamName, parg)\n            currParamName = null\n          } else {\n            args.push(parg)\n          }\n        }\n      }\n      if (currParamName !== null) {\n        params.set(currParamName, '')\n      }\n      // in ReactNative for example this would not be true (unless connected to the Remote Debugger)\n    } else if (typeof location === 'object') {\n      params = map.create(); // eslint-disable-next-line no-undef\n      (location.search || '?').slice(1).split('&').forEach((kv) => {\n        if (kv.length !== 0) {\n          const [key, value] = kv.split('=')\n          params.set(`--${string.fromCamelCase(key, '-')}`, value)\n          params.set(`-${string.fromCamelCase(key, '-')}`, value)\n        }\n      })\n    } else {\n      params = map.create()\n    }\n  }\n  return params\n}\n/* c8 ignore stop */\n\n/**\n * @param {string} name\n * @return {boolean}\n */\n/* c8 ignore next */\nexport const hasParam = (name) => computeParams().has(name)\n\n/**\n * @param {string} name\n * @param {string} defaultVal\n * @return {string}\n */\n/* c8 ignore next 2 */\nexport const getParam = (name, defaultVal) =>\n  computeParams().get(name) || defaultVal\n\n/**\n * @param {string} name\n * @return {string|null}\n */\n/* c8 ignore next 4 */\nexport const getVariable = (name) =>\n  isNode\n    ? conditions.undefinedToNull(process.env[name.toUpperCase().replaceAll('-', '_')])\n    : conditions.undefinedToNull(storage.varStorage.getItem(name))\n\n/**\n * @param {string} name\n * @return {string|null}\n */\n/* c8 ignore next 2 */\nexport const getConf = (name) =>\n  computeParams().get('--' + name) || getVariable(name)\n\n/**\n * @param {string} name\n * @return {string}\n */\n/* c8 ignore next 5 */\nexport const ensureConf = (name) => {\n  const c = getConf(name)\n  if (c == null) throw new Error(`Expected configuration \"${name.toUpperCase().replaceAll('-', '_')}\"`)\n  return c\n}\n\n/**\n * @param {string} name\n * @return {boolean}\n */\n/* c8 ignore next 2 */\nexport const hasConf = (name) =>\n  hasParam('--' + name) || getVariable(name) !== null\n\n/* c8 ignore next */\nexport const production = hasConf('production')\n\n/* c8 ignore next 2 */\nconst forceColor = isNode &&\n  f.isOneOf(process.env.FORCE_COLOR, ['true', '1', '2'])\n\n/* c8 ignore start */\n/**\n * Color is enabled by default if the terminal supports it.\n *\n * Explicitly enable color using `--color` parameter\n * Disable color using `--no-color` parameter or using `NO_COLOR=1` environment variable.\n * `FORCE_COLOR=1` enables color and takes precedence over all.\n */\nexport const supportsColor = forceColor || (\n  !hasParam('--no-colors') && // @todo deprecate --no-colors\n  !hasConf('no-color') &&\n  (!isNode || process.stdout.isTTY) && (\n    !isNode ||\n    hasParam('--color') ||\n    getVariable('COLORTERM') !== null ||\n    (getVariable('TERM') || '').includes('color')\n  )\n)\n/* c8 ignore stop */\n","/**\n * Error helpers.\n *\n * @module error\n */\n\n/**\n * @param {string} s\n * @return {Error}\n */\n/* c8 ignore next */\nexport const create = s => new Error(s)\n\n/**\n * @throws {Error}\n * @return {never}\n */\n/* c8 ignore next 3 */\nexport const methodUnimplemented = () => {\n  throw create('Method unimplemented')\n}\n\n/**\n * @throws {Error}\n * @return {never}\n */\n/* c8 ignore next 3 */\nexport const unexpectedCase = () => {\n  throw create('Unexpected case')\n}\n","/* global requestIdleCallback, requestAnimationFrame, cancelIdleCallback, cancelAnimationFrame */\n\nimport * as time from './time.js'\n\n/**\n * Utility module to work with EcmaScript's event loop.\n *\n * @module eventloop\n */\n\n/**\n * @type {Array<function>}\n */\nlet queue = []\n\nconst _runQueue = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]()\n  }\n  queue = []\n}\n\n/**\n * @param {function():void} f\n */\nexport const enqueue = f => {\n  queue.push(f)\n  if (queue.length === 1) {\n    setTimeout(_runQueue, 0)\n  }\n}\n\n/**\n * @typedef {Object} TimeoutObject\n * @property {function} TimeoutObject.destroy\n */\n\n/**\n * @param {function(number):void} clearFunction\n */\nconst createTimeoutClass = clearFunction => class TT {\n  /**\n   * @param {number} timeoutId\n   */\n  constructor (timeoutId) {\n    this._ = timeoutId\n  }\n\n  destroy () {\n    clearFunction(this._)\n  }\n}\n\nconst Timeout = createTimeoutClass(clearTimeout)\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport const timeout = (timeout, callback) => new Timeout(setTimeout(callback, timeout))\n\nconst Interval = createTimeoutClass(clearInterval)\n\n/**\n * @param {number} timeout\n * @param {function} callback\n * @return {TimeoutObject}\n */\nexport const interval = (timeout, callback) => new Interval(setInterval(callback, timeout))\n\n/* c8 ignore next */\nexport const Animation = createTimeoutClass(arg => typeof requestAnimationFrame !== 'undefined' && cancelAnimationFrame(arg))\n\n/**\n * @param {function(number):void} cb\n * @return {TimeoutObject}\n */\n/* c8 ignore next */\nexport const animationFrame = cb => typeof requestAnimationFrame === 'undefined' ? timeout(0, cb) : new Animation(requestAnimationFrame(cb))\n\n/* c8 ignore next */\n// @ts-ignore\nconst Idle = createTimeoutClass(arg => typeof cancelIdleCallback !== 'undefined' && cancelIdleCallback(arg))\n\n/**\n * Note: this is experimental and is probably only useful in browsers.\n *\n * @param {function} cb\n * @return {TimeoutObject}\n */\n/* c8 ignore next 2 */\n// @ts-ignore\nexport const idleCallback = cb => typeof requestIdleCallback !== 'undefined' ? new Idle(requestIdleCallback(cb)) : timeout(1000, cb)\n\n/**\n * @param {number} timeout Timeout of the debounce action\n * @param {number} triggerAfter Optional. Trigger callback after a certain amount of time\n *                              without waiting for debounce.\n */\nexport const createDebouncer = (timeout, triggerAfter = -1) => {\n  let timer = -1\n  /**\n   * @type {number?}\n    */\n  let lastCall = null\n  /**\n   * @param {((...args: any)=>void)?} cb function to trigger after debounce. If null, it will reset the\n   *                         debounce.\n   */\n  return cb => {\n    clearTimeout(timer)\n    if (cb) {\n      if (triggerAfter >= 0) {\n        const now = time.getUnixTime()\n        if (lastCall === null) lastCall = now\n        if (now - lastCall > triggerAfter) {\n          lastCall = null\n          timer = /** @type {any} */ (setTimeout(cb, 0))\n          return\n        }\n      }\n      timer = /** @type {any} */ (setTimeout(() => { lastCall = null; cb() }, timeout))\n    } else {\n      lastCall = null\n    }\n  }\n}\n","/**\n * Common functions and function call helpers.\n *\n * @module function\n */\n\nimport * as array from './array.js'\nimport * as object from './object.js'\nimport * as traits from './traits.js'\n\n/**\n * Calls all functions in `fs` with args. Only throws after all functions were called.\n *\n * @param {Array<function>} fs\n * @param {Array<any>} args\n */\nexport const callAll = (fs, args, i = 0) => {\n  try {\n    for (; i < fs.length; i++) {\n      fs[i](...args)\n    }\n  } finally {\n    if (i < fs.length) {\n      callAll(fs, args, i + 1)\n    }\n  }\n}\n\nexport const nop = () => {}\n\n/**\n * @template T\n * @param {function():T} f\n * @return {T}\n */\nexport const apply = f => f()\n\n/**\n * @template A\n *\n * @param {A} a\n * @return {A}\n */\nexport const id = a => a\n\n/**\n * @template T\n *\n * @param {T} a\n * @param {T} b\n * @return {boolean}\n */\nexport const equalityStrict = (a, b) => a === b\n\n/**\n * @template T\n *\n * @param {Array<T>|object} a\n * @param {Array<T>|object} b\n * @return {boolean}\n */\nexport const equalityFlat = (a, b) => a === b || (a != null && b != null && a.constructor === b.constructor && ((array.isArray(a) && array.equalFlat(a, /** @type {Array<T>} */ (b))) || (typeof a === 'object' && object.equalFlat(a, b))))\n\n/* c8 ignore start */\n\n/**\n * @param {any} a\n * @param {any} b\n * @return {boolean}\n */\nexport const equalityDeep = (a, b) => {\n  if (a === b) {\n    return true\n  }\n  if (a == null || b == null || a.constructor !== b.constructor) {\n    return false\n  }\n  if (a[traits.EqualityTraitSymbol] != null) {\n    return a[traits.EqualityTraitSymbol](b)\n  }\n  switch (a.constructor) {\n    case ArrayBuffer:\n      a = new Uint8Array(a)\n      b = new Uint8Array(b)\n    // eslint-disable-next-line no-fallthrough\n    case Uint8Array: {\n      if (a.byteLength !== b.byteLength) {\n        return false\n      }\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n          return false\n        }\n      }\n      break\n    }\n    case Set: {\n      if (a.size !== b.size) {\n        return false\n      }\n      for (const value of a) {\n        if (!b.has(value)) {\n          return false\n        }\n      }\n      break\n    }\n    case Map: {\n      if (a.size !== b.size) {\n        return false\n      }\n      for (const key of a.keys()) {\n        if (!b.has(key) || !equalityDeep(a.get(key), b.get(key))) {\n          return false\n        }\n      }\n      break\n    }\n    case Object:\n      if (object.length(a) !== object.length(b)) {\n        return false\n      }\n      for (const key in a) {\n        if (!object.hasProperty(a, key) || !equalityDeep(a[key], b[key])) {\n          return false\n        }\n      }\n      break\n    case Array:\n      if (a.length !== b.length) {\n        return false\n      }\n      for (let i = 0; i < a.length; i++) {\n        if (!equalityDeep(a[i], b[i])) {\n          return false\n        }\n      }\n      break\n    default:\n      return false\n  }\n  return true\n}\n\n/**\n * @template V\n * @template {V} OPTS\n *\n * @param {V} value\n * @param {Array<OPTS>} options\n */\n// @ts-ignore\nexport const isOneOf = (value, options) => options.includes(value)\n/* c8 ignore stop */\n\nexport const isArray = array.isArray\n\n/**\n * @param {any} s\n * @return {s is String}\n */\nexport const isString = (s) => s && s.constructor === String\n\n/**\n * @param {any} n\n * @return {n is Number}\n */\nexport const isNumber = n => n != null && n.constructor === Number\n\n/**\n * @template {abstract new (...args: any) => any} TYPE\n * @param {any} n\n * @param {TYPE} T\n * @return {n is InstanceType<TYPE>}\n */\nexport const is = (n, T) => n && n.constructor === T\n\n/**\n * @template {abstract new (...args: any) => any} TYPE\n * @param {TYPE} T\n */\nexport const isTemplate = (T) =>\n  /**\n   * @param {any} n\n   * @return {n is InstanceType<TYPE>}\n   **/\n  n => n && n.constructor === T\n","/**\n * Utility module to create and manipulate Iterators.\n *\n * @module iterator\n */\n\n/**\n * @template T,R\n * @param {Iterator<T>} iterator\n * @param {function(T):R} f\n * @return {IterableIterator<R>}\n */\nexport const mapIterator = (iterator, f) => ({\n  [Symbol.iterator] () {\n    return this\n  },\n  // @ts-ignore\n  next () {\n    const r = iterator.next()\n    return { value: r.done ? undefined : f(r.value), done: r.done }\n  }\n})\n\n/**\n * @template T\n * @param {function():IteratorResult<T>} next\n * @return {IterableIterator<T>}\n */\nexport const createIterator = next => ({\n  /**\n   * @return {IterableIterator<T>}\n   */\n  [Symbol.iterator] () {\n    return this\n  },\n  // @ts-ignore\n  next\n})\n\n/**\n * @template T\n * @param {Iterator<T>} iterator\n * @param {function(T):boolean} filter\n */\nexport const iteratorFilter = (iterator, filter) => createIterator(() => {\n  let res\n  do {\n    res = iterator.next()\n  } while (!res.done && !filter(res.value))\n  return res\n})\n\n/**\n * @template T,M\n * @param {Iterator<T>} iterator\n * @param {function(T):M} fmap\n */\nexport const iteratorMap = (iterator, fmap) => createIterator(() => {\n  const { done, value } = iterator.next()\n  return { done, value: done ? undefined : fmap(value) }\n})\n","/**\n * JSON utility functions.\n *\n * @module json\n */\n\n/**\n * Transform JavaScript object to JSON.\n *\n * @param {any} object\n * @return {string}\n */\nexport const stringify = JSON.stringify\n\n/**\n * Parse JSON object.\n *\n * @param {string} json\n * @return {any}\n */\nexport const parse = JSON.parse\n","import * as symbol from './symbol.js'\nimport * as time from './time.js'\nimport * as env from './environment.js'\nimport * as func from './function.js'\nimport * as json from './json.js'\n\nexport const BOLD = symbol.create()\nexport const UNBOLD = symbol.create()\nexport const BLUE = symbol.create()\nexport const GREY = symbol.create()\nexport const GREEN = symbol.create()\nexport const RED = symbol.create()\nexport const PURPLE = symbol.create()\nexport const ORANGE = symbol.create()\nexport const UNCOLOR = symbol.create()\n\n/* c8 ignore start */\n/**\n * @param {Array<undefined|string|Symbol|Object|number|function():any>} args\n * @return {Array<string|object|number|undefined>}\n */\nexport const computeNoColorLoggingArgs = args => {\n  if (args.length === 1 && args[0]?.constructor === Function) {\n    args = /** @type {Array<string|Symbol|Object|number>} */ (/** @type {[function]} */ (args)[0]())\n  }\n  const strBuilder = []\n  const logArgs = []\n  // try with formatting until we find something unsupported\n  let i = 0\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    if (arg === undefined) {\n      break\n    } else if (arg.constructor === String || arg.constructor === Number) {\n      strBuilder.push(arg)\n    } else if (arg.constructor === Object) {\n      break\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs.push(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n/* c8 ignore stop */\n\nconst loggingColors = [GREEN, PURPLE, ORANGE, BLUE]\nlet nextColor = 0\nlet lastLoggingTime = time.getUnixTime()\n\n/* c8 ignore start */\n/**\n * @param {function(...any):void} _print\n * @param {string} moduleName\n * @return {function(...any):void}\n */\nexport const createModuleLogger = (_print, moduleName) => {\n  const color = loggingColors[nextColor]\n  const debugRegexVar = env.getVariable('log')\n  const doLogging = debugRegexVar !== null &&\n    (debugRegexVar === '*' || debugRegexVar === 'true' ||\n      new RegExp(debugRegexVar, 'gi').test(moduleName))\n  nextColor = (nextColor + 1) % loggingColors.length\n  moduleName += ': '\n  return !doLogging\n    ? func.nop\n    : (...args) => {\n        if (args.length === 1 && args[0]?.constructor === Function) {\n          args = args[0]()\n        }\n        const timeNow = time.getUnixTime()\n        const timeDiff = timeNow - lastLoggingTime\n        lastLoggingTime = timeNow\n        _print(\n          color,\n          moduleName,\n          UNCOLOR,\n          ...args.map((arg) => {\n            if (arg != null && arg.constructor === Uint8Array) {\n              arg = Array.from(arg)\n            }\n            const t = typeof arg\n            switch (t) {\n              case 'string':\n              case 'symbol':\n                return arg\n              default: {\n                return json.stringify(arg)\n              }\n            }\n          }),\n          color,\n          ' +' + timeDiff + 'ms'\n        )\n      }\n}\n/* c8 ignore stop */\n","/**\n * Isomorphic logging module with support for colors!\n *\n * @module logging\n */\n\nimport * as env from './environment.js'\nimport * as set from './set.js'\nimport * as pair from './pair.js'\nimport * as dom from './dom.js'\nimport * as json from './json.js'\nimport * as map from './map.js'\nimport * as eventloop from './eventloop.js'\nimport * as math from './math.js'\nimport * as common from './logging.common.js'\n\nexport { BOLD, UNBOLD, BLUE, GREY, GREEN, RED, PURPLE, ORANGE, UNCOLOR } from './logging.common.js'\n\n/**\n * @type {Object<Symbol,pair.Pair<string,string>>}\n */\nconst _browserStyleMap = {\n  [common.BOLD]: pair.create('font-weight', 'bold'),\n  [common.UNBOLD]: pair.create('font-weight', 'normal'),\n  [common.BLUE]: pair.create('color', 'blue'),\n  [common.GREEN]: pair.create('color', 'green'),\n  [common.GREY]: pair.create('color', 'grey'),\n  [common.RED]: pair.create('color', 'red'),\n  [common.PURPLE]: pair.create('color', 'purple'),\n  [common.ORANGE]: pair.create('color', 'orange'), // not well supported in chrome when debugging node with inspector - TODO: deprecate\n  [common.UNCOLOR]: pair.create('color', 'black')\n}\n\n/**\n * @param {Array<string|Symbol|Object|number|function():any>} args\n * @return {Array<string|object|number>}\n */\n/* c8 ignore start */\nconst computeBrowserLoggingArgs = (args) => {\n  if (args.length === 1 && args[0]?.constructor === Function) {\n    args = /** @type {Array<string|Symbol|Object|number>} */ (/** @type {[function]} */ (args)[0]())\n  }\n  const strBuilder = []\n  const styles = []\n  const currentStyle = map.create()\n  /**\n   * @type {Array<string|Object|number>}\n   */\n  let logArgs = []\n  // try with formatting until we find something unsupported\n  let i = 0\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg === undefined) {\n        break\n      }\n      if (arg.constructor === String || arg.constructor === Number) {\n        const style = dom.mapToStyleString(currentStyle)\n        if (i > 0 || style.length > 0) {\n          strBuilder.push('%c' + arg)\n          styles.push(style)\n        } else {\n          strBuilder.push(arg)\n        }\n      } else {\n        break\n      }\n    }\n  }\n  if (i > 0) {\n    // create logArgs with what we have so far\n    logArgs = styles\n    logArgs.unshift(strBuilder.join(''))\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    const arg = args[i]\n    if (!(arg instanceof Symbol)) {\n      logArgs.push(arg)\n    }\n  }\n  return logArgs\n}\n/* c8 ignore stop */\n\n/* c8 ignore start */\nconst computeLoggingArgs = env.supportsColor\n  ? computeBrowserLoggingArgs\n  : common.computeNoColorLoggingArgs\n/* c8 ignore stop */\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const print = (...args) => {\n  console.log(...computeLoggingArgs(args))\n  /* c8 ignore next */\n  vconsoles.forEach((vc) => vc.print(args))\n}\n\n/* c8 ignore start */\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const warn = (...args) => {\n  console.warn(...computeLoggingArgs(args))\n  args.unshift(common.ORANGE)\n  vconsoles.forEach((vc) => vc.print(args))\n}\n/* c8 ignore stop */\n\n/**\n * @param {Error} err\n */\n/* c8 ignore start */\nexport const printError = (err) => {\n  console.error(err)\n  vconsoles.forEach((vc) => vc.printError(err))\n}\n/* c8 ignore stop */\n\n/**\n * @param {string} url image location\n * @param {number} height height of the image in pixel\n */\n/* c8 ignore start */\nexport const printImg = (url, height) => {\n  if (env.isBrowser) {\n    console.log(\n      '%c                      ',\n      `font-size: ${height}px; background-size: contain; background-repeat: no-repeat; background-image: url(${url})`\n    )\n    // console.log('%c                ', `font-size: ${height}x; background: url(${url}) no-repeat;`)\n  }\n  vconsoles.forEach((vc) => vc.printImg(url, height))\n}\n/* c8 ignore stop */\n\n/**\n * @param {string} base64\n * @param {number} height\n */\n/* c8 ignore next 2 */\nexport const printImgBase64 = (base64, height) =>\n  printImg(`data:image/gif;base64,${base64}`, height)\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const group = (...args) => {\n  console.group(...computeLoggingArgs(args))\n  /* c8 ignore next */\n  vconsoles.forEach((vc) => vc.group(args))\n}\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n */\nexport const groupCollapsed = (...args) => {\n  console.groupCollapsed(...computeLoggingArgs(args))\n  /* c8 ignore next */\n  vconsoles.forEach((vc) => vc.groupCollapsed(args))\n}\n\nexport const groupEnd = () => {\n  console.groupEnd()\n  /* c8 ignore next */\n  vconsoles.forEach((vc) => vc.groupEnd())\n}\n\n/**\n * @param {function():Node} createNode\n */\n/* c8 ignore next 2 */\nexport const printDom = (createNode) =>\n  vconsoles.forEach((vc) => vc.printDom(createNode()))\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {number} height\n */\n/* c8 ignore next 2 */\nexport const printCanvas = (canvas, height) =>\n  printImg(canvas.toDataURL(), height)\n\nexport const vconsoles = set.create()\n\n/**\n * @param {Array<string|Symbol|Object|number>} args\n * @return {Array<Element>}\n */\n/* c8 ignore start */\nconst _computeLineSpans = (args) => {\n  const spans = []\n  const currentStyle = new Map()\n  // try with formatting until we find something unsupported\n  let i = 0\n  for (; i < args.length; i++) {\n    let arg = args[i]\n    // @ts-ignore\n    const style = _browserStyleMap[arg]\n    if (style !== undefined) {\n      currentStyle.set(style.left, style.right)\n    } else {\n      if (arg === undefined) {\n        arg = 'undefined '\n      }\n      if (arg.constructor === String || arg.constructor === Number) {\n        // @ts-ignore\n        const span = dom.element('span', [\n          pair.create('style', dom.mapToStyleString(currentStyle))\n        ], [dom.text(arg.toString())])\n        if (span.innerHTML === '') {\n          span.innerHTML = '&nbsp;'\n        }\n        spans.push(span)\n      } else {\n        break\n      }\n    }\n  }\n  // append the rest\n  for (; i < args.length; i++) {\n    let content = args[i]\n    if (!(content instanceof Symbol)) {\n      if (content.constructor !== String && content.constructor !== Number) {\n        content = ' ' + json.stringify(content) + ' '\n      }\n      spans.push(\n        dom.element('span', [], [dom.text(/** @type {string} */ (content))])\n      )\n    }\n  }\n  return spans\n}\n/* c8 ignore stop */\n\nconst lineStyle =\n  'font-family:monospace;border-bottom:1px solid #e2e2e2;padding:2px;'\n\n/* c8 ignore start */\nexport class VConsole {\n  /**\n   * @param {Element} dom\n   */\n  constructor (dom) {\n    this.dom = dom\n    /**\n     * @type {Element}\n     */\n    this.ccontainer = this.dom\n    this.depth = 0\n    vconsoles.add(this)\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   * @param {boolean} collapsed\n   */\n  group (args, collapsed = false) {\n    eventloop.enqueue(() => {\n      const triangleDown = dom.element('span', [\n        pair.create('hidden', collapsed),\n        pair.create('style', 'color:grey;font-size:120%;')\n      ], [dom.text('▼')])\n      const triangleRight = dom.element('span', [\n        pair.create('hidden', !collapsed),\n        pair.create('style', 'color:grey;font-size:125%;')\n      ], [dom.text('▶')])\n      const content = dom.element(\n        'div',\n        [pair.create(\n          'style',\n          `${lineStyle};padding-left:${this.depth * 10}px`\n        )],\n        [triangleDown, triangleRight, dom.text(' ')].concat(\n          _computeLineSpans(args)\n        )\n      )\n      const nextContainer = dom.element('div', [\n        pair.create('hidden', collapsed)\n      ])\n      const nextLine = dom.element('div', [], [content, nextContainer])\n      dom.append(this.ccontainer, [nextLine])\n      this.ccontainer = nextContainer\n      this.depth++\n      // when header is clicked, collapse/uncollapse container\n      dom.addEventListener(content, 'click', (_event) => {\n        nextContainer.toggleAttribute('hidden')\n        triangleDown.toggleAttribute('hidden')\n        triangleRight.toggleAttribute('hidden')\n      })\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  groupCollapsed (args) {\n    this.group(args, true)\n  }\n\n  groupEnd () {\n    eventloop.enqueue(() => {\n      if (this.depth > 0) {\n        this.depth--\n        // @ts-ignore\n        this.ccontainer = this.ccontainer.parentElement.parentElement\n      }\n    })\n  }\n\n  /**\n   * @param {Array<string|Symbol|Object|number>} args\n   */\n  print (args) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [\n        dom.element('div', [\n          pair.create(\n            'style',\n            `${lineStyle};padding-left:${this.depth * 10}px`\n          )\n        ], _computeLineSpans(args))\n      ])\n    })\n  }\n\n  /**\n   * @param {Error} err\n   */\n  printError (err) {\n    this.print([common.RED, common.BOLD, err.toString()])\n  }\n\n  /**\n   * @param {string} url\n   * @param {number} height\n   */\n  printImg (url, height) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [\n        dom.element('img', [\n          pair.create('src', url),\n          pair.create('height', `${math.round(height * 1.5)}px`)\n        ])\n      ])\n    })\n  }\n\n  /**\n   * @param {Node} node\n   */\n  printDom (node) {\n    eventloop.enqueue(() => {\n      dom.append(this.ccontainer, [node])\n    })\n  }\n\n  destroy () {\n    eventloop.enqueue(() => {\n      vconsoles.delete(this)\n    })\n  }\n}\n/* c8 ignore stop */\n\n/**\n * @param {Element} dom\n */\n/* c8 ignore next */\nexport const createVConsole = (dom) => new VConsole(dom)\n\n/**\n * @param {string} moduleName\n * @return {function(...any):void}\n */\nexport const createModuleLogger = (moduleName) => common.createModuleLogger(print, moduleName)\n","/**\n * Utility module to work with key-value stores.\n *\n * @module map\n */\n\n/**\n * Creates a new Map instance.\n *\n * @function\n * @return {Map<any, any>}\n *\n * @function\n */\nexport const create = () => new Map()\n\n/**\n * Copy a Map object into a fresh Map object.\n *\n * @function\n * @template K,V\n * @param {Map<K,V>} m\n * @return {Map<K,V>}\n */\nexport const copy = m => {\n  const r = create()\n  m.forEach((v, k) => { r.set(k, v) })\n  return r\n}\n\n/**\n * Get map property. Create T if property is undefined and set T on map.\n *\n * ```js\n * const listeners = map.setIfUndefined(events, 'eventName', set.create)\n * listeners.add(listener)\n * ```\n *\n * @function\n * @template {Map<any, any>} MAP\n * @template {MAP extends Map<any,infer V> ? function():V : unknown} CF\n * @param {MAP} map\n * @param {MAP extends Map<infer K,any> ? K : unknown} key\n * @param {CF} createT\n * @return {ReturnType<CF>}\n */\nexport const setIfUndefined = (map, key, createT) => {\n  let set = map.get(key)\n  if (set === undefined) {\n    map.set(key, set = createT())\n  }\n  return set\n}\n\n/**\n * Creates an Array and populates it with the content of all key-value pairs using the `f(value, key)` function.\n *\n * @function\n * @template K\n * @template V\n * @template R\n * @param {Map<K,V>} m\n * @param {function(V,K):R} f\n * @return {Array<R>}\n */\nexport const map = (m, f) => {\n  const res = []\n  for (const [key, value] of m) {\n    res.push(f(value, key))\n  }\n  return res\n}\n\n/**\n * Tests whether any key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @todo should rename to some - similarly to Array.some\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const any = (m, f) => {\n  for (const [key, value] of m) {\n    if (f(value, key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Tests whether all key-value pairs pass the test implemented by `f(value, key)`.\n *\n * @function\n * @template K\n * @template V\n * @param {Map<K,V>} m\n * @param {function(V,K):boolean} f\n * @return {boolean}\n */\nexport const all = (m, f) => {\n  for (const [key, value] of m) {\n    if (!f(value, key)) {\n      return false\n    }\n  }\n  return true\n}\n","/**\n * Common Math expressions.\n *\n * @module math\n */\n\nexport const floor = Math.floor\nexport const ceil = Math.ceil\nexport const abs = Math.abs\nexport const imul = Math.imul\nexport const round = Math.round\nexport const log10 = Math.log10\nexport const log2 = Math.log2\nexport const log = Math.log\nexport const sqrt = Math.sqrt\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The sum of a and b\n */\nexport const add = (a, b) => a + b\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The smaller element of a and b\n */\nexport const min = (a, b) => a < b ? a : b\n\n/**\n * @function\n * @param {number} a\n * @param {number} b\n * @return {number} The bigger element of a and b\n */\nexport const max = (a, b) => a > b ? a : b\n\nexport const isNaN = Number.isNaN\n\nexport const pow = Math.pow\n/**\n * Base 10 exponential function. Returns the value of 10 raised to the power of pow.\n *\n * @param {number} exp\n * @return {number}\n */\nexport const exp10 = exp => Math.pow(10, exp)\n\nexport const sign = Math.sign\n\n/**\n * @param {number} n\n * @return {boolean} Wether n is negative. This function also differentiates between -0 and +0\n */\nexport const isNegativeZero = n => n !== 0 ? n < 0 : 1 / n < 0\n","/**\n * Utility module to convert metric values.\n *\n * @module metric\n */\n\nimport * as math from './math.js'\n\nexport const yotta = 1e24\nexport const zetta = 1e21\nexport const exa = 1e18\nexport const peta = 1e15\nexport const tera = 1e12\nexport const giga = 1e9\nexport const mega = 1e6\nexport const kilo = 1e3\nexport const hecto = 1e2\nexport const deca = 10\nexport const deci = 0.1\nexport const centi = 0.01\nexport const milli = 1e-3\nexport const micro = 1e-6\nexport const nano = 1e-9\nexport const pico = 1e-12\nexport const femto = 1e-15\nexport const atto = 1e-18\nexport const zepto = 1e-21\nexport const yocto = 1e-24\n\nconst prefixUp = ['', 'k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y']\nconst prefixDown = ['', 'm', 'μ', 'n', 'p', 'f', 'a', 'z', 'y']\n\n/**\n * Calculate the metric prefix for a number. Assumes E.g. `prefix(1000) = { n: 1, prefix: 'k' }`\n *\n * @param {number} n\n * @param {number} [baseMultiplier] Multiplier of the base (10^(3*baseMultiplier)). E.g. `convert(time, -3)` if time is already in milli seconds\n * @return {{n:number,prefix:string}}\n */\nexport const prefix = (n, baseMultiplier = 0) => {\n  const nPow = n === 0 ? 0 : math.log10(n)\n  let mult = 0\n  while (nPow < mult * 3 && baseMultiplier > -8) {\n    baseMultiplier--\n    mult--\n  }\n  while (nPow >= 3 + mult * 3 && baseMultiplier < 8) {\n    baseMultiplier++\n    mult++\n  }\n  const prefix = baseMultiplier < 0 ? prefixDown[-baseMultiplier] : prefixUp[baseMultiplier]\n  return {\n    n: math.round((mult > 0 ? n / math.exp10(mult * 3) : n * math.exp10(mult * -3)) * 1e12) / 1e12,\n    prefix\n  }\n}\n","/**\n * Utility helpers for working with numbers.\n *\n * @module number\n */\n\nimport * as math from './math.js'\nimport * as binary from './binary.js'\n\nexport const MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER\nexport const MIN_SAFE_INTEGER = Number.MIN_SAFE_INTEGER\n\nexport const LOWEST_INT32 = 1 << 31\nexport const HIGHEST_INT32 = binary.BITS31\nexport const HIGHEST_UINT32 = binary.BITS32\n\n/* c8 ignore next */\nexport const isInteger = Number.isInteger || (num => typeof num === 'number' && isFinite(num) && math.floor(num) === num)\nexport const isNaN = Number.isNaN\nexport const parseInt = Number.parseInt\n\n/**\n * Count the number of \"1\" bits in an unsigned 32bit number.\n *\n * Super fun bitcount algorithm by Brian Kernighan.\n *\n * @param {number} n\n */\nexport const countBits = n => {\n  n &= binary.BITS32\n  let count = 0\n  while (n) {\n    n &= (n - 1)\n    count++\n  }\n  return count\n}\n","/**\n * Utility functions for working with EcmaScript objects.\n *\n * @module object\n */\n\n/**\n * @return {Object<string,any>} obj\n */\nexport const create = () => Object.create(null)\n\n/**\n * Object.assign\n */\nexport const assign = Object.assign\n\n/**\n * @param {Object<string,any>} obj\n */\nexport const keys = Object.keys\n\n/**\n * @template V\n * @param {{[k:string]:V}} obj\n * @param {function(V,string):any} f\n */\nexport const forEach = (obj, f) => {\n  for (const key in obj) {\n    f(obj[key], key)\n  }\n}\n\n/**\n * @todo implement mapToArray & map\n *\n * @template R\n * @param {Object<string,any>} obj\n * @param {function(any,string):R} f\n * @return {Array<R>}\n */\nexport const map = (obj, f) => {\n  const results = []\n  for (const key in obj) {\n    results.push(f(obj[key], key))\n  }\n  return results\n}\n\n/**\n * @deprecated use object.size instead\n * @param {Object<string,any>} obj\n * @return {number}\n */\nexport const length = obj => keys(obj).length\n\n/**\n * @param {Object<string,any>} obj\n * @return {number}\n */\nexport const size = obj => keys(obj).length\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):boolean} f\n * @return {boolean}\n */\nexport const some = (obj, f) => {\n  for (const key in obj) {\n    if (f(obj[key], key)) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * @param {Object|null|undefined} obj\n */\nexport const isEmpty = obj => {\n  // eslint-disable-next-line no-unreachable-loop\n  for (const _k in obj) {\n    return false\n  }\n  return true\n}\n\n/**\n * @param {Object<string,any>} obj\n * @param {function(any,string):boolean} f\n * @return {boolean}\n */\nexport const every = (obj, f) => {\n  for (const key in obj) {\n    if (!f(obj[key], key)) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Calls `Object.prototype.hasOwnProperty`.\n *\n * @param {any} obj\n * @param {string|symbol} key\n * @return {boolean}\n */\nexport const hasProperty = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key)\n\n/**\n * @param {Object<string,any>} a\n * @param {Object<string,any>} b\n * @return {boolean}\n */\nexport const equalFlat = (a, b) => a === b || (size(a) === size(b) && every(a, (val, key) => (val !== undefined || hasProperty(b, key)) && b[key] === val))\n\n/**\n * Make an object immutable. This hurts performance and is usually not needed if you perform good\n * coding practices.\n */\nexport const freeze = Object.freeze\n\n/**\n * Make an object and all its children immutable.\n * This *really* hurts performance and is usually not needed if you perform good coding practices.\n *\n * @template {any} T\n * @param {T} o\n * @return {Readonly<T>}\n */\nexport const deepFreeze = (o) => {\n  for (const key in o) {\n    const c = o[key]\n    if (typeof c === 'object' || typeof c === 'function') {\n      deepFreeze(o[key])\n    }\n  }\n  return freeze(o)\n}\n","/**\n * Observable class prototype.\n *\n * @module observable\n */\n\nimport * as map from './map.js'\nimport * as set from './set.js'\nimport * as array from './array.js'\n\n/**\n * Handles named events.\n * @experimental\n *\n * This is basically a (better typed) duplicate of Observable, which will replace Observable in the\n * next release.\n *\n * @template {{[key in keyof EVENTS]: function(...any):void}} EVENTS\n */\nexport class ObservableV2 {\n  constructor () {\n    /**\n     * Some desc.\n     * @type {Map<string, Set<any>>}\n     */\n    this._observers = map.create()\n  }\n\n  /**\n   * @template {keyof EVENTS & string} NAME\n   * @param {NAME} name\n   * @param {EVENTS[NAME]} f\n   */\n  on (name, f) {\n    map.setIfUndefined(this._observers, /** @type {string} */ (name), set.create).add(f)\n    return f\n  }\n\n  /**\n   * @template {keyof EVENTS & string} NAME\n   * @param {NAME} name\n   * @param {EVENTS[NAME]} f\n   */\n  once (name, f) {\n    /**\n     * @param  {...any} args\n     */\n    const _f = (...args) => {\n      this.off(name, /** @type {any} */ (_f))\n      f(...args)\n    }\n    this.on(name, /** @type {any} */ (_f))\n  }\n\n  /**\n   * @template {keyof EVENTS & string} NAME\n   * @param {NAME} name\n   * @param {EVENTS[NAME]} f\n   */\n  off (name, f) {\n    const observers = this._observers.get(name)\n    if (observers !== undefined) {\n      observers.delete(f)\n      if (observers.size === 0) {\n        this._observers.delete(name)\n      }\n    }\n  }\n\n  /**\n   * Emit a named event. All registered event listeners that listen to the\n   * specified name will receive the event.\n   *\n   * @todo This should catch exceptions\n   *\n   * @template {keyof EVENTS & string} NAME\n   * @param {NAME} name The event name.\n   * @param {Parameters<EVENTS[NAME]>} args The arguments that are applied to the event listener.\n   */\n  emit (name, args) {\n    // copy all listeners to an array first to make sure that no event is emitted to listeners that are subscribed while the event handler is called.\n    return array.from((this._observers.get(name) || map.create()).values()).forEach(f => f(...args))\n  }\n\n  destroy () {\n    this._observers = map.create()\n  }\n}\n\n/* c8 ignore start */\n/**\n * Handles named events.\n *\n * @deprecated\n * @template N\n */\nexport class Observable {\n  constructor () {\n    /**\n     * Some desc.\n     * @type {Map<N, any>}\n     */\n    this._observers = map.create()\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  on (name, f) {\n    map.setIfUndefined(this._observers, name, set.create).add(f)\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  once (name, f) {\n    /**\n     * @param  {...any} args\n     */\n    const _f = (...args) => {\n      this.off(name, _f)\n      f(...args)\n    }\n    this.on(name, _f)\n  }\n\n  /**\n   * @param {N} name\n   * @param {function} f\n   */\n  off (name, f) {\n    const observers = this._observers.get(name)\n    if (observers !== undefined) {\n      observers.delete(f)\n      if (observers.size === 0) {\n        this._observers.delete(name)\n      }\n    }\n  }\n\n  /**\n   * Emit a named event. All registered event listeners that listen to the\n   * specified name will receive the event.\n   *\n   * @todo This should catch exceptions\n   *\n   * @param {N} name The event name.\n   * @param {Array<any>} args The arguments that are applied to the event listener.\n   */\n  emit (name, args) {\n    // copy all listeners to an array first to make sure that no event is emitted to listeners that are subscribed while the event handler is called.\n    return array.from((this._observers.get(name) || map.create()).values()).forEach(f => f(...args))\n  }\n\n  destroy () {\n    this._observers = map.create()\n  }\n}\n/* c8 ignore end */\n","/**\n * Working with value pairs.\n *\n * @module pair\n */\n\n/**\n * @template L,R\n */\nexport class Pair {\n  /**\n   * @param {L} left\n   * @param {R} right\n   */\n  constructor (left, right) {\n    this.left = left\n    this.right = right\n  }\n}\n\n/**\n * @template L,R\n * @param {L} left\n * @param {R} right\n * @return {Pair<L,R>}\n */\nexport const create = (left, right) => new Pair(left, right)\n\n/**\n * @template L,R\n * @param {R} right\n * @param {L} left\n * @return {Pair<L,R>}\n */\nexport const createReversed = (right, left) => new Pair(left, right)\n\n/**\n * @template L,R\n * @param {Array<Pair<L,R>>} arr\n * @param {function(L, R):any} f\n */\nexport const forEach = (arr, f) => arr.forEach(p => f(p.left, p.right))\n\n/**\n * @template L,R,X\n * @param {Array<Pair<L,R>>} arr\n * @param {function(L, R):X} f\n * @return {Array<X>}\n */\nexport const map = (arr, f) => arr.map(p => f(p.left, p.right))\n","/**\n * Utility helpers to work with promises.\n *\n * @module promise\n */\n\nimport * as time from './time.js'\n\n/**\n * @template T\n * @callback PromiseResolve\n * @param {T|PromiseLike<T>} [result]\n */\n\n/**\n * @template T\n * @param {function(PromiseResolve<T>,function(Error):void):any} f\n * @return {Promise<T>}\n */\nexport const create = f => /** @type {Promise<T>} */ (new Promise(f))\n\n/**\n * @param {function(function():void,function(Error):void):void} f\n * @return {Promise<void>}\n */\nexport const createEmpty = f => new Promise(f)\n\n/**\n * `Promise.all` wait for all promises in the array to resolve and return the result\n * @template {unknown[] | []} PS\n *\n * @param {PS} ps\n * @return {Promise<{ -readonly [P in keyof PS]: Awaited<PS[P]> }>}\n */\nexport const all = Promise.all.bind(Promise)\n\n/**\n * @param {Error} [reason]\n * @return {Promise<never>}\n */\nexport const reject = reason => Promise.reject(reason)\n\n/**\n * @template T\n * @param {T|void} res\n * @return {Promise<T|void>}\n */\nexport const resolve = res => Promise.resolve(res)\n\n/**\n * @template T\n * @param {T} res\n * @return {Promise<T>}\n */\nexport const resolveWith = res => Promise.resolve(res)\n\n/**\n * @todo Next version, reorder parameters: check, [timeout, [intervalResolution]]\n * @deprecated use untilAsync instead\n *\n * @param {number} timeout\n * @param {function():boolean} check\n * @param {number} [intervalResolution]\n * @return {Promise<void>}\n */\nexport const until = (timeout, check, intervalResolution = 10) => create((resolve, reject) => {\n  const startTime = time.getUnixTime()\n  const hasTimeout = timeout > 0\n  const untilInterval = () => {\n    if (check()) {\n      clearInterval(intervalHandle)\n      resolve()\n    } else if (hasTimeout) {\n      /* c8 ignore else */\n      if (time.getUnixTime() - startTime > timeout) {\n        clearInterval(intervalHandle)\n        reject(new Error('Timeout'))\n      }\n    }\n  }\n  const intervalHandle = setInterval(untilInterval, intervalResolution)\n})\n\n/**\n * @param {()=>Promise<boolean>|boolean} check\n * @param {number} timeout\n * @param {number} intervalResolution\n * @return {Promise<void>}\n */\nexport const untilAsync = async (check, timeout = 0, intervalResolution = 10) => {\n  const startTime = time.getUnixTime()\n  const noTimeout = timeout <= 0\n  // eslint-disable-next-line no-unmodified-loop-condition\n  while (noTimeout || time.getUnixTime() - startTime <= timeout) {\n    if (await check()) return\n    await wait(intervalResolution)\n  }\n  throw new Error('Timeout')\n}\n\n/**\n * @param {number} timeout\n * @return {Promise<undefined>}\n */\nexport const wait = timeout => create((resolve, _reject) => setTimeout(resolve, timeout))\n\n/**\n * Checks if an object is a promise using ducktyping.\n *\n * Promises are often polyfilled, so it makes sense to add some additional guarantees if the user of this\n * library has some insane environment where global Promise objects are overwritten.\n *\n * @param {any} p\n * @return {boolean}\n */\nexport const isPromise = p => p instanceof Promise || (p && p.then && p.catch && p.finally)\n","/**\n * Isomorphic module for true random numbers / buffers / uuids.\n *\n * Attention: falls back to Math.random if the browser does not support crypto.\n *\n * @module random\n */\n\nimport * as math from './math.js'\nimport * as binary from './binary.js'\nimport { getRandomValues } from 'lib0/webcrypto'\n\nexport const rand = Math.random\n\nexport const uint32 = () => getRandomValues(new Uint32Array(1))[0]\n\nexport const uint53 = () => {\n  const arr = getRandomValues(new Uint32Array(8))\n  return (arr[0] & binary.BITS21) * (binary.BITS32 + 1) + (arr[1] >>> 0)\n}\n\n/**\n * @template T\n * @param {Array<T>} arr\n * @return {T}\n */\nexport const oneOf = arr => arr[math.floor(rand() * arr.length)]\n\n// @ts-ignore\nconst uuidv4Template = [1e7] + -1e3 + -4e3 + -8e3 + -1e11\n\n/**\n * @return {string}\n */\nexport const uuidv4 = () => uuidv4Template.replace(/[018]/g, /** @param {number} c */ c =>\n  (c ^ uint32() & 15 >> c / 4).toString(16)\n)\n","/**\n * Utility module to work with sets.\n *\n * @module set\n */\n\nexport const create = () => new Set()\n\n/**\n * @template T\n * @param {Set<T>} set\n * @return {Array<T>}\n */\nexport const toArray = set => Array.from(set)\n\n/**\n * @template T\n * @param {Set<T>} set\n * @return {T}\n */\nexport const first = set =>\n  set.values().next().value ?? undefined\n\n/**\n * @template T\n * @param {Iterable<T>} entries\n * @return {Set<T>}\n */\nexport const from = entries => new Set(entries)\n","/* eslint-env browser */\n\n/**\n * Isomorphic variable storage.\n *\n * Uses LocalStorage in the browser and falls back to in-memory storage.\n *\n * @module storage\n */\n\n/* c8 ignore start */\nclass VarStoragePolyfill {\n  constructor () {\n    this.map = new Map()\n  }\n\n  /**\n   * @param {string} key\n   * @param {any} newValue\n   */\n  setItem (key, newValue) {\n    this.map.set(key, newValue)\n  }\n\n  /**\n   * @param {string} key\n   */\n  getItem (key) {\n    return this.map.get(key)\n  }\n}\n/* c8 ignore stop */\n\n/**\n * @type {any}\n */\nlet _localStorage = new VarStoragePolyfill()\nlet usePolyfill = true\n\n/* c8 ignore start */\ntry {\n  // if the same-origin rule is violated, accessing localStorage might thrown an error\n  if (typeof localStorage !== 'undefined' && localStorage) {\n    _localStorage = localStorage\n    usePolyfill = false\n  }\n} catch (e) { }\n/* c8 ignore stop */\n\n/**\n * This is basically localStorage in browser, or a polyfill in nodejs\n */\n/* c8 ignore next */\nexport const varStorage = _localStorage\n\n/**\n * A polyfill for `addEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\n/* c8 ignore next */\nexport const onChange = eventHandler => usePolyfill || addEventListener('storage', /** @type {any} */ (eventHandler))\n\n/**\n * A polyfill for `removeEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\n/* c8 ignore next */\nexport const offChange = eventHandler => usePolyfill || removeEventListener('storage', /** @type {any} */ (eventHandler))\n","import * as array from './array.js'\n\n/**\n * Utility module to work with strings.\n *\n * @module string\n */\n\nexport const fromCharCode = String.fromCharCode\nexport const fromCodePoint = String.fromCodePoint\n\n/**\n * The largest utf16 character.\n * Corresponds to Uint8Array([255, 255]) or charcodeof(2x2^8)\n */\nexport const MAX_UTF16_CHARACTER = fromCharCode(65535)\n\n/**\n * @param {string} s\n * @return {string}\n */\nconst toLowerCase = s => s.toLowerCase()\n\nconst trimLeftRegex = /^\\s*/g\n\n/**\n * @param {string} s\n * @return {string}\n */\nexport const trimLeft = s => s.replace(trimLeftRegex, '')\n\nconst fromCamelCaseRegex = /([A-Z])/g\n\n/**\n * @param {string} s\n * @param {string} separator\n * @return {string}\n */\nexport const fromCamelCase = (s, separator) => trimLeft(s.replace(fromCamelCaseRegex, match => `${separator}${toLowerCase(match)}`))\n\n/**\n * Compute the utf8ByteLength\n * @param {string} str\n * @return {number}\n */\nexport const utf8ByteLength = str => unescape(encodeURIComponent(str)).length\n\n/**\n * @param {string} str\n * @return {Uint8Array}\n */\nexport const _encodeUtf8Polyfill = str => {\n  const encodedString = unescape(encodeURIComponent(str))\n  const len = encodedString.length\n  const buf = new Uint8Array(len)\n  for (let i = 0; i < len; i++) {\n    buf[i] = /** @type {number} */ (encodedString.codePointAt(i))\n  }\n  return buf\n}\n\n/* c8 ignore next */\nexport const utf8TextEncoder = /** @type {TextEncoder} */ (typeof TextEncoder !== 'undefined' ? new TextEncoder() : null)\n\n/**\n * @param {string} str\n * @return {Uint8Array}\n */\nexport const _encodeUtf8Native = str => utf8TextEncoder.encode(str)\n\n/**\n * @param {string} str\n * @return {Uint8Array}\n */\n/* c8 ignore next */\nexport const encodeUtf8 = utf8TextEncoder ? _encodeUtf8Native : _encodeUtf8Polyfill\n\n/**\n * @param {Uint8Array} buf\n * @return {string}\n */\nexport const _decodeUtf8Polyfill = buf => {\n  let remainingLen = buf.length\n  let encodedString = ''\n  let bufPos = 0\n  while (remainingLen > 0) {\n    const nextLen = remainingLen < 10000 ? remainingLen : 10000\n    const bytes = buf.subarray(bufPos, bufPos + nextLen)\n    bufPos += nextLen\n    // Starting with ES5.1 we can supply a generic array-like object as arguments\n    encodedString += String.fromCodePoint.apply(null, /** @type {any} */ (bytes))\n    remainingLen -= nextLen\n  }\n  return decodeURIComponent(escape(encodedString))\n}\n\n/* c8 ignore next */\nexport let utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf-8', { fatal: true, ignoreBOM: true })\n\n/* c8 ignore start */\nif (utf8TextDecoder && utf8TextDecoder.decode(new Uint8Array()).length === 1) {\n  // Safari doesn't handle BOM correctly.\n  // This fixes a bug in Safari 13.0.5 where it produces a BOM the first time it is called.\n  // utf8TextDecoder.decode(new Uint8Array()).length === 1 on the first call and\n  // utf8TextDecoder.decode(new Uint8Array()).length === 1 on the second call\n  // Another issue is that from then on no BOM chars are recognized anymore\n  /* c8 ignore next */\n  utf8TextDecoder = null\n}\n/* c8 ignore stop */\n\n/**\n * @param {Uint8Array} buf\n * @return {string}\n */\nexport const _decodeUtf8Native = buf => /** @type {TextDecoder} */ (utf8TextDecoder).decode(buf)\n\n/**\n * @param {Uint8Array} buf\n * @return {string}\n */\n/* c8 ignore next */\nexport const decodeUtf8 = utf8TextDecoder ? _decodeUtf8Native : _decodeUtf8Polyfill\n\n/**\n * @param {string} str The initial string\n * @param {number} index Starting position\n * @param {number} remove Number of characters to remove\n * @param {string} insert New content to insert\n */\nexport const splice = (str, index, remove, insert = '') => str.slice(0, index) + insert + str.slice(index + remove)\n\n/**\n * @param {string} source\n * @param {number} n\n */\nexport const repeat = (source, n) => array.unfold(n, () => source).join('')\n\n/**\n * Escape HTML characters &,<,>,',\" to their respective HTML entities &amp;,&lt;,&gt;,&#39;,&quot;\n *\n * @param {string} str\n */\nexport const escapeHTML = str =>\n  str.replace(/[&<>'\"]/g, r => /** @type {string} */ ({\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    \"'\": '&#39;',\n    '\"': '&quot;'\n  }[r]))\n\n/**\n * Reverse of `escapeHTML`\n *\n * @param {string} str\n */\nexport const unescapeHTML = str =>\n  str.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g, r => /** @type {string} */ ({\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&#39;': \"'\",\n    '&quot;': '\"'\n  }[r]))\n","/**\n * Utility module to work with EcmaScript Symbols.\n *\n * @module symbol\n */\n\n/**\n * Return fresh symbol.\n */\nexport const create = Symbol\n\n/**\n * @param {any} s\n * @return {boolean}\n */\nexport const isSymbol = s => typeof s === 'symbol'\n","/**\n * Utility module to work with time.\n *\n * @module time\n */\n\nimport * as metric from './metric.js'\nimport * as math from './math.js'\n\n/**\n * Return current time.\n *\n * @return {Date}\n */\nexport const getDate = () => new Date()\n\n/**\n * Return current unix time.\n *\n * @return {number}\n */\nexport const getUnixTime = Date.now\n\n/**\n * Transform time (in ms) to a human readable format. E.g. 1100 => 1.1s. 60s => 1min. .001 => 10μs.\n *\n * @param {number} d duration in milliseconds\n * @return {string} humanized approximation of time\n */\nexport const humanizeDuration = d => {\n  if (d < 60000) {\n    const p = metric.prefix(d, -1)\n    return math.round(p.n * 100) / 100 + p.prefix + 's'\n  }\n  d = math.floor(d / 1000)\n  const seconds = d % 60\n  const minutes = math.floor(d / 60) % 60\n  const hours = math.floor(d / 3600) % 24\n  const days = math.floor(d / 86400)\n  if (days > 0) {\n    return days + 'd' + ((hours > 0 || minutes > 30) ? ' ' + (minutes > 30 ? hours + 1 : hours) + 'h' : '')\n  }\n  if (hours > 0) {\n    /* c8 ignore next */\n    return hours + 'h' + ((minutes > 0 || seconds > 30) ? ' ' + (seconds > 30 ? minutes + 1 : minutes) + 'min' : '')\n  }\n  return minutes + 'min' + (seconds > 0 ? ' ' + seconds + 's' : '')\n}\n","export const EqualityTraitSymbol = Symbol('Equality')\n\n/**\n * @typedef {{ [EqualityTraitSymbol]:(other:EqualityTrait)=>boolean }} EqualityTrait\n */\n","/**\n * Utility module to work with urls.\n *\n * @module url\n */\n\nimport * as object from './object.js'\n\n/**\n * Parse query parameters from an url.\n *\n * @param {string} url\n * @return {Object<string,string>}\n */\nexport const decodeQueryParams = url => {\n  /**\n   * @type {Object<string,string>}\n   */\n  const query = {}\n  const urlQuerySplit = url.split('?')\n  const pairs = urlQuerySplit[urlQuerySplit.length - 1].split('&')\n  for (let i = 0; i < pairs.length; i++) {\n    const item = pairs[i]\n    if (item.length > 0) {\n      const pair = item.split('=')\n      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '')\n    }\n  }\n  return query\n}\n\n/**\n * @param {Object<string,string>} params\n * @return {string}\n */\nexport const encodeQueryParams = params =>\n  object.map(params, (val, key) => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`).join('&')\n","/* eslint-env browser */\n\nexport const subtle = crypto.subtle\nexport const getRandomValues = crypto.getRandomValues.bind(crypto)\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\n\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst aa = vec(4);\nconst bb = vec(4);\nconst cc = vec(4);\nconst u = vec(4);\nconst v = vec(4);\nconst axtbc = vec(8);\nconst aytbc = vec(8);\nconst bxtca = vec(8);\nconst bytca = vec(8);\nconst cxtab = vec(8);\nconst cytab = vec(8);\nconst abt = vec(8);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abtt = vec(4);\nconst bctt = vec(4);\nconst catt = vec(4);\n\nconst _8 = vec(8);\nconst _16 = vec(16);\nconst _16b = vec(16);\nconst _16c = vec(16);\nconst _32 = vec(32);\nconst _32b = vec(32);\nconst _48 = vec(48);\nconst _64 = vec(64);\n\nlet fin = vec(1152);\nlet fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n    finlen = sum(finlen, fin, a, alen, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n    let abtlen, bctlen, catlen;\n    let abttlen, bcttlen, cattlen;\n    let n1, n0;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            sum(\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\n            sum(\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\n        sum(\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = iccerrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n        return det;\n    }\n\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n        s1 = adx * adx;\n        c = splitter * adx;\n        ahi = c - (c - adx);\n        alo = adx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = ady * ady;\n        c = splitter * ady;\n        ahi = c - (c - ady);\n        alo = ady - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        aa[3] = u3;\n    }\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n        s1 = bdx * bdx;\n        c = splitter * bdx;\n        ahi = c - (c - bdx);\n        alo = bdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = bdy * bdy;\n        c = splitter * bdy;\n        ahi = c - (c - bdy);\n        alo = bdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        bb[3] = u3;\n    }\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n        s1 = cdx * cdx;\n        c = splitter * cdx;\n        ahi = c - (c - cdx);\n        alo = cdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = cdy * cdy;\n        c = splitter * cdy;\n        ahi = c - (c - cdy);\n        alo = cdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        cc[3] = u3;\n    }\n\n    if (adxtail !== 0) {\n        axtbclen = scale(4, bc, adxtail, axtbc);\n        finlen = finadd(finlen, sum_three(\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n    }\n    if (adytail !== 0) {\n        aytbclen = scale(4, bc, adytail, aytbc);\n        finlen = finadd(finlen, sum_three(\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n    }\n    if (bdxtail !== 0) {\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\n        finlen = finadd(finlen, sum_three(\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n    }\n    if (bdytail !== 0) {\n        bytcalen = scale(4, ca, bdytail, bytca);\n        finlen = finadd(finlen, sum_three(\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n    }\n    if (cdxtail !== 0) {\n        cxtablen = scale(4, ab, cdxtail, cxtab);\n        finlen = finadd(finlen, sum_three(\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n    }\n    if (cdytail !== 0) {\n        cytablen = scale(4, ab, cdytail, cytab);\n        finlen = finadd(finlen, sum_three(\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n    }\n\n    if (adxtail !== 0 || adytail !== 0) {\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n            s1 = bdxtail * cdy;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdy;\n            bhi = c - (c - cdy);\n            blo = cdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * cdytail;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            s1 = cdxtail * -bdy;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * -bdy;\n            bhi = c - (c - -bdy);\n            blo = -bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * -bdytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * -bdytail;\n            bhi = c - (c - -bdytail);\n            blo = -bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            bctlen = sum(4, u, 4, v, bct);\n            s1 = bdxtail * cdytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdxtail * bdytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            bctt[3] = u3;\n            bcttlen = 4;\n        } else {\n            bct[0] = 0;\n            bctlen = 1;\n            bctt[0] = 0;\n            bcttlen = 1;\n        }\n        if (adxtail !== 0) {\n            const len = scale(bctlen, bct, adxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(axtbclen, axtbc, adxtail, _16), _16,\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * adx, _16), _16,\n                scale(len2, _8, adxtail, _16b), _16b,\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n            }\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n            }\n        }\n        if (adytail !== 0) {\n            const len = scale(bctlen, bct, adytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(aytbclen, aytbc, adytail, _16), _16,\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * ady, _16), _16,\n                scale(len2, _8, adytail, _16b), _16b,\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\n        }\n    }\n    if (bdxtail !== 0 || bdytail !== 0) {\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n            s1 = cdxtail * ady;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * ady;\n            bhi = c - (c - ady);\n            blo = ady - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * adytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -cdy;\n            n0 = -cdytail;\n            s1 = adxtail * n1;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * n0;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            catlen = sum(4, u, 4, v, cat);\n            s1 = cdxtail * adytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adxtail * cdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            catt[3] = u3;\n            cattlen = 4;\n        } else {\n            cat[0] = 0;\n            catlen = 1;\n            catt[0] = 0;\n            cattlen = 1;\n        }\n        if (bdxtail !== 0) {\n            const len = scale(catlen, cat, bdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdx, _16), _16,\n                scale(len2, _8, bdxtail, _16b), _16b,\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n            }\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n            }\n        }\n        if (bdytail !== 0) {\n            const len = scale(catlen, cat, bdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bytcalen, bytca, bdytail, _16), _16,\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdy, _16), _16,\n                scale(len2, _8, bdytail, _16b), _16b,\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\n        }\n    }\n    if (cdxtail !== 0 || cdytail !== 0) {\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n            s1 = adxtail * bdy;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdy;\n            bhi = c - (c - bdy);\n            blo = bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * bdytail;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -ady;\n            n0 = -adytail;\n            s1 = bdxtail * n1;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * n0;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            abtlen = sum(4, u, 4, v, abt);\n            s1 = adxtail * bdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdxtail * adytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            abtt[3] = u3;\n            abttlen = 4;\n        } else {\n            abt[0] = 0;\n            abtlen = 1;\n            abtt[0] = 0;\n            abttlen = 1;\n        }\n        if (cdxtail !== 0) {\n            const len = scale(abtlen, abt, cdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdx, _16), _16,\n                scale(len2, _8, cdxtail, _16b), _16b,\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n            }\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n            }\n        }\n        if (cdytail !== 0) {\n            const len = scale(abtlen, abt, cdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cytablen, cytab, cdytail, _16), _16,\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdy, _16), _16,\n                scale(len2, _8, cdytail, _16b), _16b,\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n    const alift = adx * adx + ady * ady;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n    const blift = bdx * bdx + bdy * bdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n    const clift = cdx * cdx + cdy * cdy;\n\n    const det =\n        alift * (bdxcdy - cdxbdy) +\n        blift * (cdxady - adxcdy) +\n        clift * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n\n    const errbound = iccerrboundA * permanent;\n\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\n\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const ady = ay - dy;\n    const bdx = bx - dx;\n    const bdy = by - dy;\n    const cdx = cx - dx;\n    const cdy = cy - dy;\n\n    const abdet = adx * bdy - bdx * ady;\n    const bcdet = bdx * cdy - cdx * bdy;\n    const cadet = cdx * ady - adx * cdy;\n    const alift = adx * adx + ady * ady;\n    const blift = bdx * bdx + bdy * bdy;\n    const clift = cdx * cdx + cdy * cdy;\n\n    return alift * bcdet + blift * cadet + clift * abdet;\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\n\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\n\nconst ab = vec(4);\nconst bc = vec(4);\nconst cd = vec(4);\nconst de = vec(4);\nconst ea = vec(4);\nconst ac = vec(4);\nconst bd = vec(4);\nconst ce = vec(4);\nconst da = vec(4);\nconst eb = vec(4);\n\nconst abc = vec(24);\nconst bcd = vec(24);\nconst cde = vec(24);\nconst dea = vec(24);\nconst eab = vec(24);\nconst abd = vec(24);\nconst bce = vec(24);\nconst cda = vec(24);\nconst deb = vec(24);\nconst eac = vec(24);\n\nconst adet = vec(1152);\nconst bdet = vec(1152);\nconst cdet = vec(1152);\nconst ddet = vec(1152);\nconst edet = vec(1152);\nconst abdet = vec(2304);\nconst cddet = vec(2304);\nconst cdedet = vec(3456);\nconst deter = vec(5760);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _8c = vec(8);\nconst _16 = vec(16);\nconst _24 = vec(24);\nconst _48 = vec(48);\nconst _48b = vec(48);\nconst _96 = vec(96);\nconst _192 = vec(192);\nconst _384x = vec(384);\nconst _384y = vec(384);\nconst _384z = vec(384);\nconst _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n    return sum_three(\n        scale(4, a, az, _8), _8,\n        scale(4, b, bz, _8b), _8b,\n        scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n    const len = sum(\n        sum(alen, a, blen, b, _48), _48,\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n\n    return sum_three(\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    s1 = ax * by;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ay;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n    s1 = bx * cy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * by;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cx * dy;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * cy;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cd[3] = u3;\n    s1 = dx * ey;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * dy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    de[3] = u3;\n    s1 = ex * ay;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * ey;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ea[3] = u3;\n    s1 = ax * cy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * ay;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ac[3] = u3;\n    s1 = bx * dy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * by;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bd[3] = u3;\n    s1 = cx * ey;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * cy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ce[3] = u3;\n    s1 = dx * ay;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * dy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    da[3] = u3;\n    s1 = ex * by;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ey;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    eb[3] = u3;\n\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n\n    const deterlen = sum_three(\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\n        sum_three(\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n\n    return deter[deterlen - 1];\n}\n\nconst xdet = vec(96);\nconst ydet = vec(96);\nconst zdet = vec(96);\nconst fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\n    return sum_three(\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n    let ab3, bc3, cd3, da3, ac3, bd3;\n\n    let aextail, bextail, cextail, dextail;\n    let aeytail, beytail, ceytail, deytail;\n    let aeztail, beztail, ceztail, deztail;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    s1 = aex * bey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bex * aey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ab3 = _j + _i;\n    bvirt = ab3 - _j;\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n    ab[3] = ab3;\n    s1 = bex * cey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * bey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bc3 = _j + _i;\n    bvirt = bc3 - _j;\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n    bc[3] = bc3;\n    s1 = cex * dey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * cey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    cd3 = _j + _i;\n    bvirt = cd3 - _j;\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n    cd[3] = cd3;\n    s1 = dex * aey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = aex * dey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    da3 = _j + _i;\n    bvirt = da3 - _j;\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n    da[3] = da3;\n    s1 = aex * cey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * aey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ac3 = _j + _i;\n    bvirt = ac3 - _j;\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n    ac[3] = ac3;\n    s1 = bex * dey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * bey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bd3 = _j + _i;\n    bvirt = bd3 - _j;\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n    bd[3] = bd3;\n\n    const finlen = sum(\n        sum(\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\n        sum(\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = isperrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - aex;\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\n    bvirt = ay - aey;\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\n    bvirt = az - aez;\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\n    bvirt = bx - bex;\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\n    bvirt = by - bey;\n    beytail = by - (bey + bvirt) + (bvirt - ey);\n    bvirt = bz - bez;\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\n    bvirt = cx - cex;\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\n    bvirt = cy - cey;\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\n    bvirt = cz - cez;\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\n    bvirt = dx - dex;\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\n    bvirt = dy - dey;\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\n    bvirt = dz - dez;\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\n        bextail === 0 && beytail === 0 && beztail === 0 &&\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\n        dextail === 0 && deytail === 0 && deztail === 0) {\n        return det;\n    }\n\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\n    det +=\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    const aexbey = aex * bey;\n    const bexaey = bex * aey;\n    const ab = aexbey - bexaey;\n    const bexcey = bex * cey;\n    const cexbey = cex * bey;\n    const bc = bexcey - cexbey;\n    const cexdey = cex * dey;\n    const dexcey = dex * cey;\n    const cd = cexdey - dexcey;\n    const dexaey = dex * aey;\n    const aexdey = aex * dey;\n    const da = dexaey - aexdey;\n    const aexcey = aex * cey;\n    const cexaey = cex * aey;\n    const ac = aexcey - cexaey;\n    const bexdey = bex * dey;\n    const dexbey = dex * bey;\n    const bd = bexdey - dexbey;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    const det =\n        (clift * (dez * ab + aez * bd + bez * da) - dlift * (aez * bc - bez * ac + cez * ab)) +\n        (alift * (bez * cd - cez * bd + dez * bc) - blift * (cez * da + dez * ac + aez * cd));\n\n    const aezplus = Math.abs(aez);\n    const bezplus = Math.abs(bez);\n    const cezplus = Math.abs(cez);\n    const dezplus = Math.abs(dez);\n    const aexbeyplus = Math.abs(aexbey) + Math.abs(bexaey);\n    const bexceyplus = Math.abs(bexcey) + Math.abs(cexbey);\n    const cexdeyplus = Math.abs(cexdey) + Math.abs(dexcey);\n    const dexaeyplus = Math.abs(dexaey) + Math.abs(aexdey);\n    const aexceyplus = Math.abs(aexcey) + Math.abs(cexaey);\n    const bexdeyplus = Math.abs(bexdey) + Math.abs(dexbey);\n    const permanent =\n        (cexdeyplus * bezplus + bexdeyplus * cezplus + bexceyplus * dezplus) * alift +\n        (dexaeyplus * cezplus + aexceyplus * dezplus + cexdeyplus * aezplus) * blift +\n        (aexbeyplus * dezplus + bexdeyplus * aezplus + dexaeyplus * bezplus) * clift +\n        (bexceyplus * aezplus + aexceyplus * bezplus + aexbeyplus * cezplus) * dlift;\n\n    const errbound = isperrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\n\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n    const aex = pax - pex;\n    const bex = pbx - pex;\n    const cex = pcx - pex;\n    const dex = pdx - pex;\n    const aey = pay - pey;\n    const bey = pby - pey;\n    const cey = pcy - pey;\n    const dey = pdy - pey;\n    const aez = paz - pez;\n    const bez = pbz - pez;\n    const cez = pcz - pez;\n    const dez = pdz - pez;\n\n    const ab = aex * bey - bex * aey;\n    const bc = bex * cey - cex * bey;\n    const cd = cex * dey - dex * cey;\n    const da = dex * aey - aex * dey;\n    const ac = aex * cey - cex * aey;\n    const bd = bex * dey - dex * bey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\n\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst at_b = vec(4);\nconst at_c = vec(4);\nconst bt_c = vec(4);\nconst bt_a = vec(4);\nconst ct_a = vec(4);\nconst ct_b = vec(4);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abt = vec(8);\nconst u = vec(4);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _16 = vec(8);\nconst _12 = vec(12);\n\nlet fin = vec(192);\nlet fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n    finlen = sum(finlen, fin, alen, a, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n    if (xtail === 0) {\n        if (ytail === 0) {\n            a[0] = 0;\n            b[0] = 0;\n            return 1;\n        } else {\n            negate = -ytail;\n            s1 = negate * ax;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        }\n    } else {\n        if (ytail === 0) {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            negate = -xtail;\n            s1 = negate * by;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        } else {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = ytail * ax;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            a[3] = u3;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = xtail * by;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            b[3] = u3;\n            return 4;\n        }\n    }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n    s1 = a * b;\n    c = splitter * a;\n    ahi = c - (c - a);\n    alo = a - ahi;\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    c = splitter * k;\n    bhi = c - (c - k);\n    blo = k - bhi;\n    _i = s0 * k;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * k;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n    if (z !== 0) {\n        c = splitter * z;\n        bhi = c - (c - z);\n        blo = z - bhi;\n        _i = s0 * z;\n        c = splitter * s0;\n        ahi = c - (c - s0);\n        alo = s0 - ahi;\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n        _j = s1 * z;\n        c = splitter * s1;\n        ahi = c - (c - s1);\n        alo = s1 - ahi;\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n        _k = _i + _0;\n        bvirt = _k - _i;\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n        u3 = _j + _k;\n        u[2] = _k - (u3 - _j);\n        u[3] = u3;\n        finlen = finadd(finlen, 4, u);\n    }\n    return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail;\n    let adytail, bdytail, cdytail;\n    let adztail, bdztail, cdztail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            scale(4, bc, adz, _8), _8,\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\n        scale(4, ab, cdz, _8), _8, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = o3derrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    bvirt = az - adz;\n    adztail = az - (adz + bvirt) + (bvirt - dz);\n    bvirt = bz - bdz;\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n    bvirt = cz - cdz;\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\n        return det;\n    }\n\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n    det +=\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n    if (adztail !== 0) {\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n    }\n    if (bdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n    }\n    if (cdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n    }\n\n    if (adxtail !== 0) {\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n        }\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n        }\n    }\n    if (bdxtail !== 0) {\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n        }\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n        }\n    }\n    if (cdxtail !== 0) {\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n        }\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n\n    const det =\n        adz * (bdxcdy - cdxbdy) +\n        bdz * (cdxady - adxcdy) +\n        cdz * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n\n    const errbound = o3derrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\n\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    return adx * (bdy * cdz - bdz * cdy) +\n        bdx * (cdy * adz - cdz * ady) +\n        cdx * (ady * bdz - adz * bdy);\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","\nexport {orient2d, orient2dfast} from './esm/orient2d.js';\nexport {orient3d, orient3dfast} from './esm/orient3d.js';\nexport {incircle, incirclefast} from './esm/incircle.js';\nexport {insphere, inspherefast} from './esm/insphere.js';\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","/**\n * @typedef {Object} AutoOptions\n * @description Options for configuring the `auto` decorator.\n * @property {boolean} [cancelIfUnchanged=true] - If true, cancels the setter if the new value is the same as the\n * current value. Defaults to `true`.\n * @property {(value: Type) => Type} [callBefore] - Optional callback to execute on the value just before it is set.\n * @property {boolean} [returnDefinedGetterValue] - If true and a getter is defined, will not modify the latter.\n * @template Type\n */\n\n/**\n * @typedef {Object} CacheOptions\n * @property {number} [timeout] - The duration (in milliseconds) after which the cache should expire.\n * @property {string | string[]} [onEvent] - A string of one or more space-separated event names or an array of\n * event names. The cache will be cleared when one of these events occur.\n * @property {() => boolean | Promise<boolean>} [onCallback] - A callback function that returns a boolean or a\n * promise resolving to a boolean. The cache will be cleared if the function returns true.\n * @property {number} [onCallbackFrequency] - The frequency (in milliseconds) at which the onCallback function is called.\n * @property {string | Function | (string | Function)[]} [onFieldChange] - The field or function names to watch for\n * changes. The cache will be cleared when any of these change. Multiple field names can be provided in the same.\n * @property {boolean} [clearOnNextFrame] - If set to true, the cache will be cleared on the next animation frame.\n * space-separated string.\n */\n\n/**\n * @typedef {Object} ElementTagDefinition\n * @template {ValidTag} Tag\n * @description Represents an element's definition of its tag and its namespace (both optional).\n *\n * @property {Tag} [tag=\"div\"] - The HTML tag of the element (e.g., \"div\", \"span\", \"input\"). Defaults to \"div.\"\n * @property {string} [namespace] - The namespace of the element. Defaults to HTML. If \"svgManipulation\" or \"mathML\" is provided,\n * the corresponding namespace will be used to create the element. Otherwise, the custom namespace provided will be used.\n */\n\n/**\n * @typedef {Object} TurboHeadlessProperties\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n * @description Object containing properties for configuring a headless (non-HTML) element, with possibly MVC properties.\n */\n\n/**\n * @typedef {Object} TurboProperties\n * @template {ValidTag} Tag - The HTML (or other) tag of the element, if passing it as a property. Defaults to \"div\".\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n *\n * @description Object containing properties for configuring a TurboElement, or any Element. A tag (and\n * possibly a namespace) can be provided for TurboProxiedElements for element creation. TurboElements will ignore these\n * properties if set.\n * Any HTML attribute can be passed as key to be processed by the class/function. A few of these attributes were\n * explicitly defined here for autocompletion in JavaScript. Use TypeScript for optimal autocompletion (with the target\n * generic type, if needed). The type also has the following described custom properties:\n *\n * @property {string} [id] - The ID of the element.\n * @property {string | string[]} [classes] - The CSS class(es) to apply to the element (either a string of\n * space-separated classes or an array of class names).\n * @property {string} [style] - The inline style of the element. Use the css literal function for autocompletion.\n * @property {string} [stylesheet] - The associated stylesheet (if any) with the element. Declaring this property will\n * generate automatically a new style element in the element's corresponding root. Use the css literal function\n * for autocompletion.\n * @property {Record<string, EventListenerOrEventListenerObject | ((e: Event, el: Element) => void)>} [listeners]\n * - An object containing event listeners to be applied to this element.\n * @property {Element | Element[]} [children] - An array of child wrappers or elements to append to\n * the created element.\n * @property {Element} [parent] - The parent element to which the created element will be appended.\n * @property {string | Element} [out] - If defined, declares (or sets) the element in the parent as a field with the given value\n * as name.\n * @property {string} [text] - The text content of the element (if any).\n * @property {boolean} [shadowDOM] - If true, indicate that the element will be created under a shadow root.\n *\n * @property alt\n * @property src\n * @property href\n * @property target\n * @property action\n * @property method\n * @property type\n * @property value\n * @property placeholder\n * @property name\n * @property disabled\n * @property checked\n * @property selected\n */\n\n/**\n * @typedef {Object} TurboCustomProperties\n * @extends TurboProperties\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n *\n * @description Object containing properties for configuring a custom HTML element. Is basically TurboProperties\n * without the tag.\n */\n\n/**\n * @typedef {Object} StylesRoot\n * @description A type that represents entities that can hold a <style> object (Shadow root or HTML head).\n */\n\n/**\n * @typedef {Object} StylesType\n * @description A type that represents types that are accepted as styles entries (mainly by the HTMLElement.setStyles()\n * method).\n */\n\n/**\n * @typedef {Object} ChildHandler\n * @description A type that represents all entities that can hold and manage children (an element or a shadow root).\n */\n\n/**\n * @typedef {Object} TurboButtonProperties\n * @description Properties object for configuring a Button. Extends TurboElementProperties.\n * @extends TurboProperties\n *\n * @property {string | Element} [buttonText] - The text content of the button.\n * @property {string | Element} [leftIcon] - An icon to be placed on the left side of the button text. Can be a\n * string (icon name/path) or an Icon instance.\n * @property {string | Element} [rightIcon] - An icon to be placed on the right side of the button text. Can be a\n * string (icon name/path) or an Icon instance.\n * @property {Element | Element[]} [leftCustomElements] - Custom elements\n * to be placed on the left side of the button (before the left icon).\n * @property {Element | Element[]} [rightCustomElements] - Custom elements\n * to be placed on the right side of the button (after the right icon).\n * @property {\"button\" | \"submit\" | \"reset\"} [type] - The type of the button (Can be \"button\", \"submit\", or \"reset\").\n * @property {ValidTag} [customTextTag] - The HTML tag to be used for the buttonText element (if the latter is passed as\n * a string). If not specified, the default text tag specified in the Button class will be used.\n * @property {boolean} [unsetDefaultClasses] - Set to true to not add the default classes specified in TurboConfig.Button\n * to this instance of Button.\n */\n\n/**\n * @typedef {Object} ButtonChildren\n * @description Holds references to the button's child elements for internal management.\n *\n * @property {Element | Element[] | null} leftCustomElements - Elements placed\n * on the left side of the button.\n * @property {Element | null} leftIcon - The icon placed on the left side of the button.\n * @property {Element | null} text - The text element of the button.\n * @property {Element | null} rightIcon - The icon placed on the right side of the button.\n * @property {Element | Element[] | null} rightCustomElements - Elements placed\n * on the right side of the button.\n */\n\n/**\n * @typedef {Object} TurboButtonConfig\n * @description Configuration object for the Button class. Set it via TurboConfig.Button.\n *\n * @property {ValidTag} [defaultElementTag] - The default HTML tag for the creation of the text\n * element in the button.\n * @property {string | string[]} [defaultClasses] - The default classes to assign to newly created buttons.\n */\n\n/**\n * @typedef {Object} TurboIconProperties\n * @description Properties object that extends TurboElementProperties with properties specific to icons.\n * @extends TurboProperties\n *\n * @property {string} icon - The name of the icon.\n * @property {string} [iconColor] - The color of the icon.\n * @property {((svgManipulation: SVGElement) => {})} [onLoaded] - Custom function that takes an SVG element to execute on the\n * SVG icon (if it is one) once it is loaded. This property will be disregarded if the icon is not of type SVG.\n *\n * @property {string} [type] - Custom type of the icon, overrides the default type assigned to\n * TurboIcon.config.type (whose default value is \"svgManipulation\").\n * @property {string} [directory] - Custom directory to the icon, overrides the default directory assigned to\n * TurboIcon.config.directory.\n * @property {boolean} [unsetDefaultClasses] - Set to true to not add the default classes specified in\n * TurboIcon.config.defaultClasses to this instance of Icon.\n */\n\n/**\n * @typedef {Object} TurboIconConfig\n * @description Configuration object for the Icon class. Set it via TurboConfig.Icon.\n *\n * @property {string} [type] - The default type to assign to newly created Icons. Defaults to \"svgManipulation\".\n * @property {string} [[path]] - The default path to the directory containing the icons in the project. Specify the\n * directory once here to not type it again at every Icon generation.\n * @property {string | string[]} [defaultClasses] - The default classes to assign to newly created icons.\n */\n\n/**\n * @typedef {Object} TurboRichElementProperties\n * @description Properties object for configuring a Button. Extends TurboElementProperties.\n * @extends TurboProperties\n *\n * @property {string} [text] - The text to set to the rich element's main element.\n *\n * @property {Element | Element[]} [leftCustomElements] - Custom elements\n * to be placed on the left side of the button (before the left icon).\n * @property {string | TurboIcon} [leftIcon] - An icon to be placed on the left side of the button text. Can be a\n * string (icon name/path) or an Icon instance.\n * @property {string | TurboProperties<ElementTag> | ValidElement<ElementTag>} [buttonText] - The text content of the button.\n * @property {string | TurboIcon} [rightIcon] - An icon to be placed on the right side of the button text. Can be a\n * string (icon name/path) or an Icon instance.\n * @property {Element | Element[]} [rightCustomElements] - Custom elements\n * to be placed on the right side of the button (after the right icon).\n *\n * @property {ValidTag} [customTextTag] - The HTML tag to be used for the buttonText element (if the latter is passed as\n * a string). If not specified, the default text tag specified in the Button class will be used.\n * @property {boolean} [unsetDefaultClasses] - Set to true to not add the default classes specified in TurboConfig.Button\n * to this instance of Button.\n *\n * @template {ValidTag} ElementTag=\"p\"\n */\n\n/**\n * @typedef {Object} TurboRichElementChildren\n * @description Holds references to the button's child elements for internal management.\n *\n * @property {Element | Element[] | null} leftCustomElements - Elements placed\n * on the left side of the button.\n * @property {Element | null} leftIcon - The icon placed on the left side of the button.\n * @property {Element | null} text - The text element of the button.\n * @property {Element | null} rightIcon - The icon placed on the right side of the button.\n * @property {Element | Element[] | null} rightCustomElements - Elements placed\n * on the right side of the button.\n */\n\n/**\n * @typedef {Object} TurboRichElementConfig\n * @description Configuration object for the Button class. Set it via TurboConfig.Button.\n *\n * @property {HTMLTag} [defaultElementTag] - The default HTML tag for the creation of the text\n * element in the button.\n * @property {string | string[]} [defaultClasses] - The default classes to assign to newly created buttons.\n */\n\n/**\n * @typedef {Object} TurboSelectEntryProperties\n * @description Properties for configuring a DropdownEntry.\n * @extends TurboProperties\n *\n * @property {string} value - The value associated with the dropdown entry.\n * @property {boolean} [selected=false] - Indicates whether the entry is initially selected.\n * @property {string | string[]} [selectedClasses=\"\"] - CSS class(es) applied to the entry when it is selected.\n */\n\n/**\n * @typedef {Object} TurboDropdownProperties\n * @description Properties for configuring a Dropdown.\n * @extends TurboProperties\n *\n * @property {(string | HTMLElement)} [selector] - Element or descriptor used as the dropdown selector. If a\n * string is passed, a Button with the given string as text will be assigned as the selector.\n * @property {HTMLElement} [popup] - The element used as a container for the dropdown entries.\n *\n * @property {boolean} [multiSelection=false] - Enables selection of multiple dropdown entries.\n *\n * @property {ValidTag} [customSelectorTag] - Custom HTML tag for the selector's text. Overrides the\n * default tag set in TurboConfig.Dropdown.\n * @property {ValidTag} [customEntryTag] - Custom HTML tag for dropdown entries.  Overrides the\n * default tag set in TurboConfig.Dropdown.\n *\n * @property {string | string[]} [customSelectorClasses] - Custom CSS class(es) for the selector. Overrides the default\n * classes set in TurboConfig.Dropdown.\n * @property {string | string[]} [customPopupClasses] - Custom CSS class(es) for the popup container. Overrides the\n * default classes set in TurboConfig.Dropdown.\n * @property {string | string[]} [customEntriesClasses] - Custom CSS class(es) for dropdown entries.  Overrides the\n * default classes set in TurboConfig.Dropdown.\n * @property {string | string[]} [customSelectedEntriesClasses] - Custom CSS class(es) for selected entries.  Overrides\n * the default classes set in TurboConfig.Dropdown.\n */\n\n/**\n * @typedef {Object} TurboDropdownConfig\n * @description Configuration object for the Dropdown class. Set it via TurboConfig.Dropdown.\n *\n * @property {ValidTag} [defaultEntryTag] - The default HTML tag for the creation of generic\n * dropdown entries.\n * @property {ValidTag} [defaultSelectorTag] - The default HTML tag for the creation of the text\n * element in generic selectors (which are Buttons).\n *\n * @property {string | string[]} [defaultSelectorClasses] - The default classes to assign to the selector.\n * @property {string | string[]} [defaultPopupClasses] - The default classes to assign to the popup element.\n * @property {string | string[]} [defaultEntriesClasses] - The default classes to assign to the dropdown entries.\n * @property {string | string[]} [defaultSelectedEntriesClasses] - The default classes to assign to the selected\n * dropdown entries.\n */\n\n/**\n * @typedef {Object} FontProperties\n * @description An object representing a local font, or a family of fonts.\n *\n * @property {string} name - The name of the font. The font's filename should also match.\n * @property {string} pathOrDirectory - The path to the local font file, or the path to the local font family's directory.\n * @property {Record<string, string> | Record<number, Record<string, string>>} [weight] - If loading a single font, a\n * record in the form {weight: style}. Defaults to {\"normal\": \"normal\"}. If loading a family, a record in the form\n * {weight: {fontSubName: style}}, such that every font file in the family is named in the form fontName-fontSubName.\n * Defaults to an object containing common sub-names and styles for weights from 100 to 900.\n * @property {string} [format] - The format of the font. Defaults to \"woff2\".\n * @property {string} [extension] - The extension of the font file(s). Defaults to \".ttf\".\n */\n\n/**\n * @function auto\n * @description A decorator that automatically creates a getter or setter if only one of them is defined. Works only\n * with public fields.\n * @param {AutoOptions} [options] - Optional object to configure the decorator.\n * @returns {Function} - The updated property descriptor.\n * @template Type\n */\nfunction auto(options) {\n    return function (target, propertyKey, descriptor) {\n        const originalGetter = descriptor?.get;\n        const originalSetter = descriptor?.set;\n        if (!originalSetter && !(options?.callBefore))\n            return descriptor;\n        const hiddenPropertyKey = Symbol(`__${String(propertyKey)}__`);\n        const newGetter = function () {\n            if (originalGetter) {\n                const value = originalGetter.call(this);\n                if (options?.returnDefinedGetterValue)\n                    return value;\n            }\n            return this[hiddenPropertyKey];\n        };\n        const newSetter = function (value) {\n            if (options?.cancelIfUnchanged != false && value == this[hiddenPropertyKey])\n                return;\n            if (options?.callBefore)\n                value = (function () {\n                    return options.callBefore.call(this, value);\n                }).call(this);\n            this[hiddenPropertyKey] = value;\n            if (originalSetter)\n                originalSetter.call(this, value);\n        };\n        if (descriptor) {\n            if (options?.returnDefinedGetterValue || !originalGetter)\n                descriptor.get = newGetter;\n            descriptor.set = newSetter;\n        }\n        else {\n            Object.defineProperty(target, propertyKey, {\n                get: newGetter,\n                set: newSetter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n        return descriptor;\n    };\n}\n\n/**\n * @function callOnce\n * @description A decorator that ensures a method is called only once on a given instance. If the method is called\n * more than once, a warning is logged to the console.\n * @param {any} target - The target object.\n * @param {string} propertyKey - The name of the method being decorated.\n * @param {PropertyDescriptor} [descriptor=Object.getOwnPropertyDescriptor(target, propertyKey)] - The property\n * descriptor of the method.\n * @returns {PropertyDescriptor} - The updated property descriptor.\n */\nfunction callOnce(target, propertyKey, descriptor = Object.getOwnPropertyDescriptor(target, propertyKey)) {\n    const originalMethod = descriptor?.value;\n    if (!originalMethod)\n        throw new Error(`No method ${propertyKey} found on target`);\n    const calledFlagKey = Symbol(`__callOnce__${propertyKey}`);\n    descriptor.value = function (...args) {\n        if (!this[calledFlagKey]) {\n            this[calledFlagKey] = true;\n            return originalMethod.apply(this, args);\n        }\n        else {\n            console.warn(`Function ${propertyKey} has already been called once on this instance and will not be called again.`);\n        }\n    };\n    return descriptor;\n}\n/**\n * @function callOncePerInstance\n * @description A function wrapper that ensures the wrapped function is called only once per instance.\n * @param {Function} fn - The function to wrap.\n * @param {string|symbol} [key=Symbol(`__callOncePerInstance__${fn.name}`)] - A unique key to track if the function\n * has been called.\n * @returns {Function} - The wrapped function that will only execute once per instance.\n */\nfunction callOncePerInstance(fn, key = Symbol(`__callOncePerInstance__${fn.name}`)) {\n    return function (...args) {\n        if (!this[key]) {\n            this[key] = true;\n            return fn.apply(this, args);\n        }\n    };\n}\n\n/**\n * @function cache\n * @description Decorator for caching the result of a method or getter.\n * @param {CacheOptions} [options={}] - Configuration options for the cache.\n * @returns {Function} - A decorator function.\n */\nfunction cache(options = {}) {\n    return function (target, propertyKey, descriptor = Object.getOwnPropertyDescriptor(target, propertyKey)) {\n        const originalMethod = descriptor?.value || descriptor?.get;\n        if (!originalMethod)\n            throw new Error(`No method ${propertyKey} found on target`);\n        const isGetter = !!descriptor.get;\n        const cacheKey = Symbol(`__cache__${propertyKey}`);\n        const setupKey = Symbol(`__cache__setup__${propertyKey}`);\n        const timeoutIds = [];\n        const deleteCallback = function (b = true) {\n            deleteCacheEntry.call(this, isGetter, cacheKey, timeoutIds, b);\n        };\n        const setupOptionsCallback = callOncePerInstance(function (instance) {\n            setupOptions(instance, propertyKey, options, target, deleteCallback);\n        }, setupKey);\n        if (isGetter) {\n            descriptor.get = function () {\n                const instance = this || target;\n                if (!instance[cacheKey]) {\n                    setupOptionsCallback.call(instance, instance);\n                    instance[cacheKey] = originalMethod.apply(instance);\n                    if (options.timeout)\n                        timeoutIds.push(setTimeout(() => deleteCallback.call(instance), options.timeout));\n                    if (options.clearOnNextFrame)\n                        requestAnimationFrame(() => deleteCallback.call(instance));\n                }\n                return instance[cacheKey];\n            };\n        }\n        else {\n            descriptor.value = function (...args) {\n                const instance = this || target;\n                if (!instance[cacheKey]) {\n                    instance[cacheKey] = new Map();\n                    setupOptionsCallback.call(instance, instance);\n                }\n                const key = args.length == 0 ? \"__no_args__\" : JSON.stringify(args.map(value => {\n                    if (typeof value == \"function\")\n                        return `function:${value.name}`;\n                    if (typeof value == \"object\" && value != null)\n                        return JSON.stringify(Object.entries(value).sort());\n                    return value == undefined ? \"undefined\" : value;\n                }));\n                if (instance[cacheKey].has(key)) {\n                    return instance[cacheKey].get(key);\n                }\n                else {\n                    const result = originalMethod.apply(instance, args);\n                    instance[cacheKey].set(key, result);\n                    if (options.timeout)\n                        timeoutIds.push(setTimeout(() => instance[cacheKey].delete(key), options.timeout));\n                    if (options.clearOnNextFrame)\n                        requestAnimationFrame(() => deleteCallback.call(instance));\n                    return result;\n                }\n            };\n        }\n    };\n}\n/**\n * @function deleteCacheEntry\n * @description Deletes the cache entry for the given property.\n * @param {boolean} isGetter - Whether the cache is for a getter.\n * @param {symbol} cacheKey - The cache key.\n * @param {NodeJS.Timeout[]} timeoutIds - List of timeout IDs.\n * @param {boolean} [b] - Whether to proceed with the deletion.\n */\nfunction deleteCacheEntry(isGetter, cacheKey, timeoutIds, b) {\n    if (!b)\n        return;\n    if (isGetter)\n        delete this[cacheKey];\n    else\n        this[cacheKey]?.clear();\n    timeoutIds.forEach(timeoutId => clearTimeout(timeoutId));\n    timeoutIds.splice(0, timeoutIds.length);\n}\n/**\n * @function setupOptions\n * @description Sets up the cache invalidation options.\n * @param {any} instance - The instance of the class.\n * @param {string} propertyKey - The property key.\n * @param {CacheOptions} options - The cache options.\n * @param {any} target - The target class.\n * @param {Function} deleteCallback - The callback to delete the cache.\n */\nfunction setupOptions(instance, propertyKey, options, target, deleteCallback) {\n    //Handle onEvent\n    if (options.onEvent) {\n        const eventTarget = typeof target.addEventListener == \"function\" ? target : document;\n        const eventNames = Array.isArray(options.onEvent)\n            ? options.onEvent\n            : options.onEvent.split(\" \");\n        eventNames.forEach(eventName => eventTarget.addEventListener(eventName, () => deleteCallback.call(instance)));\n    }\n    //Handle onFieldChange\n    if (options.onFieldChange) {\n        const observedFields = Array.isArray(options.onFieldChange)\n            ? options.onFieldChange\n            : [options.onFieldChange];\n        observedFields.forEach(fieldOrFunction => {\n            if (typeof fieldOrFunction == \"string\")\n                fieldOrFunction.split(\" \")\n                    .forEach(entry => clearCacheOnFieldChange(instance, entry, propertyKey, deleteCallback));\n            else\n                clearCacheOnFieldChange(instance, fieldOrFunction.name, propertyKey, deleteCallback);\n        });\n    }\n    //Handle onCallback\n    if (options.onCallback) {\n        const intervalId = setInterval(() => {\n            const result = options.onCallback.call(instance);\n            if (result instanceof Promise)\n                result.then(value => deleteCallback.call(instance, value));\n            else\n                deleteCallback.call(instance, result);\n        }, options.onCallbackFrequency || 50);\n        if (typeof target.addEventListener == \"function\") {\n            target.addEventListener(\"destroy\", () => clearInterval(intervalId));\n        }\n    }\n}\n/**\n * @function clearCacheOnFieldChange\n * @description Clears the cache when the specified field or method is changed or called.\n * @param {any} instance - The instance of the class.\n * @param {string} fieldName - The field name.\n * @param {string} propertyKey - The property key.\n * @param {Function} deleteCallback - The callback to delete the cache.\n */\nfunction clearCacheOnFieldChange(instance, fieldName, propertyKey, deleteCallback) {\n    const originalField = instance[fieldName];\n    if (originalField == undefined) {\n        console.warn(`No method ${propertyKey} found on target. It will be ignored.`);\n        return;\n    }\n    if (typeof originalField == \"function\") {\n        instance[fieldName] = function (...args) {\n            deleteCallback.call(instance);\n            return originalField.apply(instance, args);\n        };\n    }\n    else {\n        const originalFieldDescriptor = Object.getOwnPropertyDescriptor(instance, fieldName);\n        console.log(originalFieldDescriptor);\n        Object.defineProperty(instance, fieldName, {\n            get() {\n                return originalFieldDescriptor?.get?.call(instance) || instance[originalField];\n            },\n            set(newValue) {\n                deleteCallback.call(instance);\n                if (originalFieldDescriptor?.set)\n                    originalFieldDescriptor.set.call(instance, newValue);\n                else\n                    instance[originalField] = newValue;\n            },\n            configurable: true,\n            enumerable: true\n        });\n    }\n}\n/**\n * @function clearCache\n * @description Clears all cache entries for the given instance.\n * @param {any} instance - The instance to clear the cache from.\n */\nfunction clearCache(instance) {\n    for (const key of Object.getOwnPropertySymbols(instance)) {\n        if (key.toString().startsWith(\"Symbol(__cache__)\"))\n            delete instance[key];\n    }\n}\n/**\n * @function clearCacheEntry\n * @description Clears the cache entry for the provided field in the given instance.\n * @param {any} instance - The instance to clear the cache from.\n * @param {string | Function} field - The name of the field or the field itself (if it is a method) to clear.\n */\nfunction clearCacheEntry(instance, field) {\n    const fieldName = typeof field === \"function\" ? field.name : field;\n    const cacheKey = Object.getOwnPropertySymbols(instance)\n        .find(symbol => symbol.toString() === `Symbol(__cache__${fieldName})`);\n    if (cacheKey && instance[cacheKey])\n        delete instance[cacheKey];\n}\n\n/**\n * @description Converts the passed variable into a string.\n * @param value - The variable to convert to string\n * @returns {string} - The string representation of the value\n */\nfunction stringify(value) {\n    if (value === null || value === undefined)\n        return \"\";\n    switch (typeof value) {\n        case \"string\":\n            return value;\n        case \"number\":\n        case \"boolean\":\n        case \"bigint\":\n        case \"symbol\":\n        case \"function\":\n            return value.toString();\n        case \"object\":\n            if (Array.isArray(value))\n                return JSON.stringify(value);\n            else if (value instanceof Date)\n                return value.toISOString();\n            else {\n                try {\n                    return JSON.stringify(value);\n                }\n                catch {\n                    return \"[object Object]\";\n                }\n            }\n        default:\n            return String(value);\n    }\n}\n/**\n * @description Attempts to convert the passed string back to its original type.\n * @param str - The string to convert back to its original type\n * @returns {any} - The original value\n */\nfunction parse(str) {\n    switch (str) {\n        case \"\":\n            return undefined;\n        case \"null\":\n            return null;\n        case \"true\":\n            return true;\n        case \"false\":\n            return false;\n    }\n    if (!isNaN(Number(str)))\n        return Number(str);\n    if (/^\\d+n$/.test(str))\n        return BigInt(str.slice(0, -1));\n    if (str.startsWith(\"function\") || str.startsWith(\"(\")) {\n        try {\n            const parsedFunction = new Function(`return (${str})`)();\n            if (typeof parsedFunction === \"function\")\n                return parsedFunction;\n        }\n        catch {\n        }\n    }\n    try {\n        const parsed = JSON.parse(str);\n        if (typeof parsed === \"object\" && parsed != null)\n            return parsed;\n    }\n    catch {\n    }\n    return str;\n}\n/**\n * @description Extracts the extension from the given filename or path (e.g.: \".png\").\n * @param {string} str - The filename or path\n * @return The extension, or an empty string if not found.\n */\nfunction getFileExtension(str) {\n    if (!str || str.length == 0)\n        return \"\";\n    const match = str.match(/\\.\\S{1,4}$/);\n    return match ? match[0] : \"\";\n}\n/**\n * @description converts the provided string from camelCase to kebab-case.\n * @param {string} str - The string to convert\n */\nfunction camelToKebabCase(str) {\n    if (!str || str.length == 0)\n        return;\n    return str.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n/**\n * @description converts the provided string from kebab-case to camelCase.\n * @param {string} str - The string to convert\n */\nfunction kebabToCamelCase(str) {\n    if (!str || str.length == 0)\n        return;\n    return str.replace(/-([a-z])/g, g => g[1].toUpperCase());\n}\n\n/**\n * @description Defines the element as a custom element with the given name. Use as class decorator in TypeScript\n * (e.g.: @define(\"my-class\")), and as a regular function call in JavaScript (e.g.: define(\"my-class\")(MyClass)).\n * If the elementName is not provided, it defaults to the class name.\n * @param {string} [elementName] - The name of the custom element.\n */\nconst define = (elementName) => (constructor) => {\n    customElements.define(elementName || camelToKebabCase(constructor.name), constructor);\n};\n\nfunction getPropertyDescriptor(prototype, field) {\n    while (prototype) {\n        const descriptor = Object.getOwnPropertyDescriptor(prototype, field);\n        if (descriptor)\n            return descriptor;\n        prototype = Object.getPrototypeOf(prototype);\n    }\n    return undefined;\n}\n/**\n * @description Sets the corresponding property as observed, to sync its changes with a corresponding HTML attribute.\n * @param {HTMLElement} target - The HTML element to observe\n * @param {string} propertyKey - The name of the field to observe\n */\nfunction observe(target, propertyKey) {\n    let constructor = target.constructor;\n    if (!constructor.observedAttributes)\n        constructor.observedAttributes = [];\n    const attributeName = camelToKebabCase(propertyKey);\n    const observedFieldKey = Symbol(`__observed__${propertyKey}`);\n    constructor.observedAttributes.push(attributeName);\n    let descriptor = getPropertyDescriptor(constructor.prototype, propertyKey) || {\n        enumerable: true,\n        configurable: true\n    };\n    Object.defineProperty(constructor.prototype, propertyKey, {\n        get: descriptor.get || function () {\n            return this[observedFieldKey];\n        },\n        set: function (value) {\n            if (this[propertyKey] === value)\n                return;\n            if (descriptor.set)\n                descriptor.set.call(this, value);\n            else\n                this[observedFieldKey] = value;\n            if (typeof this.setAttribute === \"function\")\n                this.setAttribute(attributeName, stringify(this[observedFieldKey]));\n        },\n        enumerable: descriptor.enumerable,\n        configurable: descriptor.configurable\n    });\n}\n\nconst SvgNamespace = \"http://www.w3.org/2000/svg\";\nconst MathMLNamespace = \"http://www.w3.org/1998/Math/MathML\";\nconst SvgTagsDefinitions = {\n    a: SVGAElement,\n    animate: SVGAnimateElement,\n    animateMotion: SVGAnimateMotionElement,\n    animateTransform: SVGAnimateTransformElement,\n    circle: SVGCircleElement,\n    clipPath: SVGClipPathElement,\n    defs: SVGDefsElement,\n    desc: SVGDescElement,\n    ellipse: SVGEllipseElement,\n    feBlend: SVGFEBlendElement,\n    feColorMatrix: SVGFEColorMatrixElement,\n    feComponentTransfer: SVGFEComponentTransferElement,\n    feComposite: SVGFECompositeElement,\n    feConvolveMatrix: SVGFEConvolveMatrixElement,\n    feDiffuseLighting: SVGFEDiffuseLightingElement,\n    feDisplacementMap: SVGFEDisplacementMapElement,\n    feDistantLight: SVGFEDistantLightElement,\n    feDropShadow: SVGFEDropShadowElement,\n    feFlood: SVGFEFloodElement,\n    feFuncA: SVGFEFuncAElement,\n    feFuncB: SVGFEFuncBElement,\n    feFuncG: SVGFEFuncGElement,\n    feFuncR: SVGFEFuncRElement,\n    feGaussianBlur: SVGFEGaussianBlurElement,\n    feImage: SVGFEImageElement,\n    feMerge: SVGFEMergeElement,\n    feMergeNode: SVGFEMergeNodeElement,\n    feMorphology: SVGFEMorphologyElement,\n    feOffset: SVGFEOffsetElement,\n    fePointLight: SVGFEPointLightElement,\n    feSpecularLighting: SVGFESpecularLightingElement,\n    feSpotLight: SVGFESpotLightElement,\n    feTile: SVGFETileElement,\n    feTurbulence: SVGFETurbulenceElement,\n    filter: SVGFilterElement,\n    foreignObject: SVGForeignObjectElement,\n    g: SVGGElement,\n    image: SVGImageElement,\n    line: SVGLineElement,\n    linearGradient: SVGLinearGradientElement,\n    marker: SVGMarkerElement,\n    mask: SVGMaskElement,\n    metadata: SVGMetadataElement,\n    mpath: SVGMPathElement,\n    path: SVGPathElement,\n    pattern: SVGPatternElement,\n    polygon: SVGPolygonElement,\n    polyline: SVGPolylineElement,\n    radialGradient: SVGRadialGradientElement,\n    rect: SVGRectElement,\n    script: SVGScriptElement,\n    set: SVGSetElement,\n    stop: SVGStopElement,\n    style: SVGStyleElement,\n    svg: SVGSVGElement,\n    switch: SVGSwitchElement,\n    symbol: SVGSymbolElement,\n    text: SVGTextElement,\n    textPath: SVGTextPathElement,\n    title: SVGTitleElement,\n    tspan: SVGTSpanElement,\n    use: SVGUseElement,\n    view: SVGViewElement,\n};\nconst MathMLTagsDefinitions = {\n    annotation: MathMLElement,\n    \"annotation-xml\": MathMLElement,\n    maction: MathMLElement,\n    math: MathMLElement,\n    merror: MathMLElement,\n    mfrac: MathMLElement,\n    mi: MathMLElement,\n    mmultiscripts: MathMLElement,\n    mn: MathMLElement,\n    mo: MathMLElement,\n    mover: MathMLElement,\n    mpadded: MathMLElement,\n    mphantom: MathMLElement,\n    mprescripts: MathMLElement,\n    mroot: MathMLElement,\n    mrow: MathMLElement,\n    ms: MathMLElement,\n    mspace: MathMLElement,\n    msqrt: MathMLElement,\n    mstyle: MathMLElement,\n    msub: MathMLElement,\n    msubsup: MathMLElement,\n    msup: MathMLElement,\n    mtable: MathMLElement,\n    mtd: MathMLElement,\n    mtext: MathMLElement,\n    mtr: MathMLElement,\n    munder: MathMLElement,\n    munderover: MathMLElement,\n    semantics: MathMLElement\n};\n/**\n * @description Evaluates whether the provided string is an SVG tag.\n * @param {string} [tag] - The string to evaluate\n * @return A boolean indicating whether the tag is in the SVG namespace or not.\n */\nfunction isSvgTag(tag) {\n    return Object.keys(SvgTagsDefinitions).includes(tag) || tag?.startsWith(\"svg\");\n}\n/**\n * @description Evaluates whether the provided string is a MathML tag.\n * @param {string} [tag] - The string to evaluate\n * @return A boolean indicating whether the tag is in the MathML namespace or not.\n */\nfunction isMathMLTag(tag) {\n    return Object.keys(MathMLTagsDefinitions).includes(tag) || tag?.startsWith(\"math\");\n}\n\n/**\n * @description Create an element with the specified properties (and the specified namespace if applicable).\n * @param {TurboProperties<Tag>} [properties] - Object containing properties of the element.\n * @returns {ValidElement<Tag>} The created element.\n * @template Tag\n */\nfunction element(properties = {}) {\n    let element;\n    if (properties.namespace) {\n        if (properties.namespace == \"svg\")\n            element = document.createElementNS(SvgNamespace, properties.tag || \"svg\");\n        else if (properties.namespace == \"mathML\")\n            element = document.createElementNS(MathMLNamespace, properties.tag || \"math\");\n        else\n            element = document.createElementNS(properties.namespace, properties.tag || \"div\");\n    }\n    else {\n        element = document.createElement(properties.tag || \"div\");\n    }\n    if (properties.shadowDOM)\n        element.attachShadow({ mode: \"open\" });\n    element.setProperties(properties);\n    return element;\n}\n/**\n * @description Create an element with the specified properties. Supports SVG and MathML.\n * @param {TurboProperties<Tag>} [properties] - Object containing properties of the element.\n * @returns {ValidElement<Tag>} The created element.\n * @template Tag\n */\nfunction blindElement(properties = {}) {\n    let element;\n    if (isSvgTag(properties.tag))\n        element = document.createElementNS(SvgNamespace, properties.tag || \"svg\");\n    else if (isMathMLTag(properties.tag))\n        element = document.createElementNS(MathMLNamespace, properties.tag || \"math\");\n    else\n        element = document.createElement(properties.tag || \"div\");\n    if (properties.shadowDOM)\n        element.attachShadow({ mode: \"open\" });\n    element.setProperties(properties);\n    return element;\n}\n\n/**\n * @description returns a function that generates an HTML element with the provided tag that takes TurboProperties\n * as input.\n * @param {keyof ElementTagMap} tag - The tag to generate the function from.\n * @return The function\n */\nfunction generateTagFunction(tag) {\n    return (properties = {}) => {\n        properties.tag = tag;\n        return element({ ...properties, tag: tag });\n    };\n}\n/**\n * @description Creates an \"a\" element with the specified properties.\n * @param {TurboProperties<\"a\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"a\">} The created element.\n */\nfunction a(properties = {}) {\n    return element({ ...properties, tag: \"a\" });\n}\n/**\n * @description Creates a \"canvas\" element with the specified properties.\n * @param {TurboProperties<\"canvas\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"canvas\">} The created element.\n */\nfunction canvas(properties = {}) {\n    return element({ ...properties, tag: \"canvas\" });\n}\n/**\n * @description Creates a \"div\" element with the specified properties.\n * @param {TurboProperties<\"div\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"div\">} The created element.\n */\nfunction div(properties = {}) {\n    return element({ ...properties, tag: \"div\" });\n}\n/**\n * @description Creates a \"form\" element with the specified properties.\n * @param {TurboProperties<\"form\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"form\">} The created element.\n */\nfunction form(properties = {}) {\n    return element({ ...properties, tag: \"form\" });\n}\n/**\n * @description Creates a \"h1\" element with the specified properties.\n * @param {TurboProperties<\"h1\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"h1\">} The created element.\n */\nfunction h1(properties = {}) {\n    return element({ ...properties, tag: \"h1\" });\n}\n/**\n * @description Creates a \"h2\" element with the specified properties.\n * @param {TurboProperties<\"h2\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"h2\">} The created element.\n */\nfunction h2(properties = {}) {\n    return element({ ...properties, tag: \"h2\" });\n}\n/**\n * @description Creates a \"h3\" element with the specified properties.\n * @param {TurboProperties<\"h3\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"h3\">} The created element.\n */\nfunction h3(properties = {}) {\n    return element({ ...properties, tag: \"h3\" });\n}\n/**\n * @description Creates a \"h4\" element with the specified properties.\n * @param {TurboProperties<\"h4\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"h4\">} The created element.\n */\nfunction h4(properties = {}) {\n    return element({ ...properties, tag: \"h4\" });\n}\n/**\n * @description Creates a \"h5\" element with the specified properties.\n * @param {TurboProperties<\"h5\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"h5\">} The created element.\n */\nfunction h5(properties = {}) {\n    return element({ ...properties, tag: \"h5\" });\n}\n/**\n * @description Creates a \"h6\" element with the specified properties.\n * @param {TurboProperties<\"h6\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"h6\">} The created element.\n */\nfunction h6(properties = {}) {\n    return element({ ...properties, tag: \"h6\" });\n}\n/**\n * @description Creates an \"img\" element with the specified properties.\n * @param {TurboProperties<\"img\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"img\">} The created element.\n */\nfunction img(properties = {}) {\n    return element({ ...properties, tag: \"img\" });\n}\n/**\n * @description Creates an \"input\" element with the specified properties.\n * @param {TurboProperties<\"input\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"input\">} The created element.\n */\nfunction input(properties = {}) {\n    return element({ ...properties, tag: \"input\" });\n}\n/**\n * @description Creates a \"link\" element with the specified properties.\n * @param {TurboProperties<\"link\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"link\">} The created element.\n */\nfunction link(properties = {}) {\n    return element({ ...properties, tag: \"link\" });\n}\n/**\n * @description Creates a \"p\" element with the specified properties.\n * @param {TurboProperties<\"p\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"p\">} The created element.\n */\nfunction p(properties = {}) {\n    return element({ ...properties, tag: \"p\" });\n}\n/**\n * @description Creates a \"span\" element with the specified properties.\n * @param {TurboProperties<\"span\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"span\">} The created element.\n */\nfunction span(properties = {}) {\n    return element({ ...properties, tag: \"span\" });\n}\n/**\n * @description Creates a \"style\" element with the specified properties.\n * @param {TurboProperties<\"style\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"style\">} The created element.\n */\nfunction style(properties = {}) {\n    return element({ ...properties, tag: \"style\" });\n}\n/**\n * @description Creates a \"textarea\" element with the specified properties.\n * @param {TurboProperties<\"textarea\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"textarea\">} The created element.\n */\nfunction textarea(properties = {}) {\n    return element({ ...properties, tag: \"textarea\" });\n}\n/**\n * @description Creates a \"video\" element with the specified properties.\n * @param {TurboProperties<\"video\">} [properties] - Object containing properties of the element.\n * @returns {ValidElement<\"video\">} The created element.\n */\nfunction video(properties = {}) {\n    return element({ ...properties, tag: \"video\" });\n}\n\n/**\n * @description Create a flex column element.\n * @param {TurboProperties<Tag>} properties - Object containing properties of the element.\n * @returns {ValidHTMLElement<Tag>} The created flex element.\n * @template {HTMLTag} Tag\n */\nfunction flexCol(properties) {\n    const el = element(properties);\n    el.setStyles({ display: \"flex\", flexDirection: \"column\" }, true);\n    return el;\n}\n/**\n * @description Create a flex column element.\n * @param {TurboProperties<Tag>} properties - Object containing properties of the element.\n * @returns {ValidHTMLElement<Tag>} The created flex element.\n * @template {HTMLTag} Tag\n */\nfunction flexColCenter(properties) {\n    const el = flexCol(properties);\n    el.setStyles({ justifyContent: \"center\", alignItems: \"center\" }, true);\n    return el;\n}\n/**\n * @description Create a flex row element.\n * @param {TurboProperties<Tag>} properties - Object containing properties of the element.\n * @returns {ValidHTMLElement<Tag>} The created flex element.\n * @template {HTMLTag} Tag\n */\nfunction flexRow(properties) {\n    const el = element(properties);\n    el.setStyles({ display: \"flex\", flexDirection: \"row\" }, true);\n    return el;\n}\n/**\n * @description Create a flex row element.\n * @param {TurboProperties<Tag>} properties - Object containing properties of the element.\n * @returns {ValidHTMLElement<Tag>} The created flex element.\n * @template {HTMLTag} Tag\n */\nfunction flexRowCenter(properties) {\n    const el = flexRow(properties);\n    el.setStyles({ justifyContent: \"center\", alignItems: \"center\" }, true);\n    return el;\n}\n/**\n * @description Create a spacer element.\n * @param {TurboProperties<Tag>} properties - Object containing properties of the element.\n * @returns {ValidHTMLElement<Tag>} The created spacer element.\n * @template {HTMLTag} Tag\n */\nfunction spacer(properties) {\n    const el = element(properties);\n    el.setStyle(\"flexGrow\", 1, true);\n    return el;\n}\n\n/**\n * @description Adds the provided string as a new style element to the provided root.\n * @param {string} [styles] - The css string. Use the css literal function for autocompletion.\n * @param {StylesRoot} [root] - The root to which the style element will be added.\n */\nfunction stylesheet(styles, root = document.head) {\n    if (!styles)\n        return;\n    const stylesheet = style({ innerHTML: styles });\n    root.addChild(stylesheet);\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/**\n * @class TurboEmitter\n * @template {TurboModel} ModelType -The element's MVC model type.\n * @description The base MVC emitter class. Its role is basically an event bus. It allows the different parts of the\n * MVC structure to fire events or listen to some, with various methods.\n */\nclass TurboEmitter {\n    /**\n     * @description Map containing all callbacks.\n     * @protected\n     */\n    callbacks = new Map();\n    /**\n     * @description The attached MVC model.\n     */\n    model;\n    constructor(model) {\n        this.model = model;\n    }\n    /**\n     * @function getBlock\n     * @description Retrieves the callback block by the given blockKey.\n     * @param {number | string} [blockKey] - The key of the block to retrieve.\n     * @protected\n     */\n    getBlock(blockKey) {\n        return this.callbacks.get(blockKey?.toString());\n    }\n    /**\n     * @function getOrGenerateBlock\n     * @description Retrieves or creates a callback map for a given blockKey.\n     * @param {number | string} [blockKey] - The block key.\n     * @returns {Map<string, ((...args: any[]) => void)[]>} - The ensured callback map.\n     * @protected\n     */\n    getOrGenerateBlock(blockKey) {\n        if (!this.callbacks.has(blockKey.toString()))\n            this.callbacks.set(blockKey.toString(), new Map());\n        return this.callbacks.get(blockKey.toString());\n    }\n    /**\n     * @function getKey\n     * @description Gets all callbacks for a given event key within a block.\n     * @param {string} key - The event name.\n     * @param {number | string} [blockKey] - The block in which the event is scoped.\n     * @returns {((...args: any[]) => void)[]} - An array of callbacks for that event.\n     * @protected\n     */\n    getKey(key, blockKey) {\n        const block = this.getBlock(blockKey);\n        return block ? block.get(key) : [];\n    }\n    /**\n     * @function getOrGenerateKey\n     * @description Ensures and returns the array of callbacks for a given event key within a block.\n     * @param {string} key - The event name.\n     * @param {number | string} [blockKey] - The block in which the event is scoped.\n     * @returns {((...args: any[]) => void)[]} - An array of callbacks for that event.\n     * @protected\n     */\n    getOrGenerateKey(key, blockKey) {\n        const block = this.getOrGenerateBlock(blockKey);\n        if (!block.has(key))\n            block.set(key, []);\n        return block.get(key);\n    }\n    /**\n     * @function addWithBlock\n     * @description Registers a callback for an event key within a specified block -- usually for the corresponding\n     * data block in the model.\n     * @param {string} key - The event name.\n     * @param {number | string} blockKey - The block to register the event in.\n     * @param {(...args: any[]) => void} callback - The callback function to invoke when the event is fired.\n     */\n    addWithBlock(key, blockKey, callback) {\n        this.getOrGenerateKey(key, blockKey).push(callback);\n    }\n    /**\n     * @function add\n     * @description Registers a callback for an event key in the default block.\n     * @param {string} key - The event name.\n     * @param {(...args: any[]) => void} callback - The callback function.\n     */\n    add(key, callback) {\n        this.addWithBlock(key, this.model.defaultBlockKey, callback);\n    }\n    /**\n     * @function removeWithBlock\n     * @description Removes a specific callback or all callbacks for a key within a block.\n     * @param {string} key - The event name.\n     * @param {number | string} blockKey - The block from which to remove the event.\n     * @param {(...args: any[]) => void} [callback] - The specific callback to remove. If undefined, all callbacks\n     * for the key are removed.\n     */\n    removeWithBlock(key, blockKey, callback) {\n        if (callback == undefined)\n            this.getBlock(blockKey)?.delete(key);\n        else {\n            const callbacks = this.getKey(key, blockKey);\n            const index = callbacks.indexOf(callback);\n            if (index >= 0)\n                callbacks.splice(index, 1);\n        }\n    }\n    /**\n     * @function remove\n     * @description Removes a specific callback or all callbacks for a key in the default block.\n     * @param {string} key - The event name.\n     * @param {(...args: any[]) => void} [callback] - The callback to remove. If omitted, all callbacks are removed.\n     */\n    remove(key, callback) {\n        this.removeWithBlock(key, this.model.defaultBlockKey, callback);\n    }\n    /**\n     * @function fireWithBlock\n     * @description Triggers all callbacks associated with an event key in a specified block.\n     * @param {string} key - The event name.\n     * @param {number | string} blockKey - The block in which the event is scoped.\n     * @param {...any[]} args - Arguments passed to each callback.\n     */\n    fireWithBlock(key, blockKey, ...args) {\n        this.callbacks.get(blockKey.toString())?.get(key)?.forEach((callback) => {\n            if (callback && typeof callback == \"function\")\n                callback(...args);\n        });\n    }\n    /**\n     * @function fire\n     * @description Triggers all callbacks associated with an event key in the default block.\n     * @param {string} key - The event name.\n     * @param {...any[]} args - Arguments passed to the callback.\n     */\n    fire(key, ...args) {\n        this.fireWithBlock(key, this.model.defaultBlockKey, ...args);\n    }\n}\n\n/**\n * @class MvcHandler\n * @description MVC -- Model-View-Component -- handler. Generates and manages an MVC structure for a certain object.\n * @template {object} ElementType - The type of the object that will be turned into MVC.\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n * */\nclass MvcHandler {\n    element;\n    _model;\n    controllers = new Map();\n    constructor(properties) {\n        if (properties.element)\n            this.element = properties.element;\n        if (properties.emitter)\n            this.emitter = properties.emitter;\n        if (properties.view)\n            this.view = properties.view;\n        if (properties.model) {\n            this.model = properties.model;\n            if (properties.data)\n                this.model.data = properties.data;\n        }\n        if (properties.generate)\n            this.generate(properties);\n    }\n    /**\n     * @description The view (if any) of the current MVC structure. Setting it will link the current model (if any)\n     * to this new view.\n     */\n    set view(value) {\n        this.linkModelToView();\n    }\n    /**\n     * @description The model (if any) of the current MVC structure. Setting it will de-link the previous model and link\n     * the new one to the current view (if any) and emitter (if any).\n     */\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this.deLinkModelFromEmitter();\n        this._model = model;\n        this.linkModelToEmitter();\n        this.linkModelToView();\n    }\n    /**\n     * @description The emitter (if any) of the current MVC structure. Setting it will link the current model (if any)\n     * to this new emitter.\n     */\n    set emitter(emitter) {\n        this.linkModelToEmitter();\n    }\n    /**\n     * @description The main data block (if any) attached to the element, taken from its model (if any).\n     */\n    get data() {\n        return this.model?.data;\n    }\n    set data(data) {\n        if (this.model)\n            this.model.data = data;\n    }\n    /**\n     * @description The ID of the main data block (if any) of the element, taken from its model (if any).\n     */\n    get dataId() {\n        return this.model?.dataId;\n    }\n    set dataId(value) {\n        if (this.model)\n            this.model.dataId = value;\n    }\n    /**\n     * @description The numerical index of the main data block (if any) of the element, taken from its model (if any).\n     */\n    get dataIndex() {\n        return Number.parseInt(this.dataId);\n    }\n    set dataIndex(value) {\n        if (this.model)\n            this.model.dataId = value.toString();\n    }\n    /**\n     * @description The size (number) of the main data block (if any) of the element, taken from its model (if any).\n     */\n    get dataSize() {\n        return this.model?.getSize();\n    }\n    /**\n     * @function getController\n     * @description Retrieves the attached MVC controller with the given key.\n     * By default, unless manually defined in the controller, if the element's class name is MyElement\n     * and the controller's class name is MyElementSomethingController, the key would be \"something\".\n     * @param {string} key - The controller's key.\n     * @return {TurboController} - The controller.\n     */\n    getController(key) {\n        return this.controllers.get(key);\n    }\n    /**\n     * @function addController\n     * @description Adds the given controller to the MVC structure.\n     * @param {TurboController} controller - The controller to add.\n     */\n    addController(controller) {\n        if (!controller.keyName)\n            controller.keyName =\n                this.extractClassEssenceName(controller.constructor);\n        this.controllers.set(controller.keyName, controller);\n    }\n    /**\n     * @function getHandler\n     * @description Retrieves the attached MVC handler with the given key.\n     * By default, unless manually defined in the handler, if the element's class name is MyElement\n     * and the handler's class name is MyElementSomethingHandler, the key would be \"something\".\n     * @param {string} key - The handler's key.\n     * @return {TurboHandler} - The handler.\n     */\n    getHandler(key) {\n        return this.model.getHandler(key);\n    }\n    /**\n     * @function addHandler\n     * @description Adds the given handler to the MVC structure.\n     * @param {TurboHandler} handler - The handler to add.\n     */\n    addHandler(handler) {\n        if (!handler.keyName)\n            handler.keyName =\n                this.extractClassEssenceName(handler.constructor);\n        this.model.addHandler(handler.keyName, handler);\n    }\n    /**\n     * @function generate\n     * @description Generates the MVC structure based on the provided properties.\n     * If no model or modelConstructor is defined, no model will be generated. Similarly for the view.\n     * If the structure contains a model, an emitter will be created, even if it is not defined in the properties.\n     * @param {MvcGenerationProperties<ViewType, DataType, ModelType, EmitterType>} properties - The properties to use\n     * to generate the MVC structure.\n     */\n    generate(properties = {}) {\n        if (properties.initialize == undefined)\n            properties.initialize = true;\n        if (properties.modelConstructor && (!this.model || properties.force)) {\n            this.model = new properties.modelConstructor(properties.data);\n        }\n        if ((properties.emitterConstructor || properties.modelConstructor || this.model)\n            && (!this.emitter || properties.force)) {\n            this.emitter = properties.emitterConstructor\n                ? new properties.emitterConstructor(this.model)\n                : new TurboEmitter(this.model);\n        }\n        if (properties.viewConstructor && (!this.view || properties.force)) {\n            this.view = new properties.viewConstructor({\n                element: this.element,\n                model: this.model,\n                emitter: this.emitter\n            });\n        }\n        if (properties.controllerConstructors) {\n            const controllerProperties = {\n                element: this.element,\n                view: this.view,\n                model: this.model,\n                emitter: this.emitter\n            };\n            properties.controllerConstructors.forEach(controllerConstructor => this.addController(new controllerConstructor(controllerProperties)));\n        }\n        if (properties.handlerConstructors) {\n            properties.handlerConstructors.forEach(handlerConstructor => this.addHandler(new handlerConstructor(this.model)));\n        }\n        if (properties.initialize)\n            this.initialize();\n    }\n    /**\n     * @function initialize\n     * @description Initializes the MVC parts: the view, the controllers, and the model (in this order). The model is\n     * initialized last to allow for the view and controllers to setup their change callbacks.\n     */\n    initialize() {\n        this.view?.initialize();\n        this.controllers.forEach((controller) => controller.initialize());\n        this.model?.initialize();\n    }\n    linkModelToView() {\n        if (!this.view || !this.model)\n            return;\n        this.view.model = this.model;\n    }\n    emitterFireCallback = (keyName, blockKey, ...args) => this.emitter.fireWithBlock(keyName, blockKey, ...args);\n    deLinkModelFromEmitter() {\n        if (!this.emitter || !this.model)\n            return;\n        this.model.keyChangedCallback.remove(this.emitterFireCallback);\n    }\n    linkModelToEmitter() {\n        if (!this.emitter || !this.model)\n            return;\n        this.emitter.model = this.model;\n        this.model.keyChangedCallback.add(this.emitterFireCallback);\n    }\n    extractClassEssenceName(constructor) {\n        let className = constructor.name;\n        let prototype = Object.getPrototypeOf(this.element);\n        while (prototype && prototype.constructor !== Object) {\n            const name = prototype.constructor.name;\n            if (className.startsWith(name)) {\n                className = className.slice(name.length);\n                break;\n            }\n            prototype = Object.getPrototypeOf(prototype);\n        }\n        if (className.endsWith(\"Handler\"))\n            className = className.slice(0, -(\"Handler\".length));\n        else if (className.endsWith(\"Controller\"))\n            className = className.slice(0, -(\"Controller\".length));\n        return className.charAt(0).toLowerCase() + className.slice(1);\n    }\n}\n__decorate([\n    auto()\n], MvcHandler.prototype, \"view\", null);\n__decorate([\n    auto()\n], MvcHandler.prototype, \"emitter\", null);\n\n/**\n * @class TurboController\n * @description The MVC base controller class. Its main job is to handle  (some part of or all of) the logic of the\n * component. It has access to the element, the model to read and write data, the view to update the UI, and the\n * emitter to listen for changes in the model. It can only communicate with other controllers via the emitter\n * (by firing or listening for changes on a certain key).\n * @template {object} ElementType - The type of the main component.\n * @template {TurboView} ViewType - The element's MVC view type.\n * @template {TurboModel} ModelType - The element's MVC model type.\n * @template {TurboEmitter} EmitterType - The element's MVC emitter type.\n */\nclass TurboController {\n    /**\n     * @description The key of the controller. Used to retrieve it in the main component. If not set, if the element's\n     * class name is MyElement and the controller's class name is MyElementSomethingController, the key would\n     * default to \"something\".\n     */\n    keyName;\n    /**\n     * @description A reference to the component.\n     * @protected\n     */\n    element;\n    /**\n     * @description A reference to the MVC view.\n     * @protected\n     */\n    view;\n    /**\n     * @description A reference to the MVC model.\n     * @protected\n     */\n    model;\n    /**\n     * @description A reference to the MVC emitter.\n     * @protected\n     */\n    emitter;\n    constructor(properties) {\n        this.element = properties.element;\n        this.view = properties.view;\n        this.model = properties.model;\n        this.emitter = properties.emitter;\n    }\n    /**\n     * @function initialize\n     * @description Initializes the controller. Specifically, it will setup the change callbacks.\n     */\n    initialize() {\n        this.setupChangedCallbacks();\n    }\n    /**\n     * @function setupChangedCallbacks\n     * @description Setup method intended to initialize change listeners and callbacks.\n     * @protected\n     */\n    setupChangedCallbacks() {\n    }\n}\n\n/**\n * @class TurboHandler\n * @description The MVC base handler class. It's an extension of the model, and its main job is to provide some utility\n * functions to manipulate the model's data.\n * @template {TurboModel} ModelType - The element's MVC model type.\n */\nclass TurboHandler {\n    /**\n     * @description The key of the handler. Used to retrieve it in the main component. If not set, if the element's\n     * class name is MyElement and the handler's class name is MyElementSomethingHandler, the key would\n     * default to \"something\".\n     */\n    keyName;\n    /**\n     * @description A reference to the MVC model.\n     * @protected\n     */\n    model;\n    constructor(model) {\n        this.model = model;\n    }\n}\n\nclass Delegate {\n    callbacks = new Set();\n    /**\n     * @description Adds a callback to the list.\n     * @param callback - The callback function to add.\n     */\n    add(callback) {\n        this.callbacks.add(callback);\n    }\n    /**\n     * @description Removes a callback from the list.\n     * @param callback - The callback function to remove.\n     * @returns A boolean indicating whether the callback was found and removed.\n     */\n    remove(callback) {\n        return this.callbacks.delete(callback);\n    }\n    /**\n     * @description Invokes all callbacks with the provided arguments.\n     * @param args - The arguments to pass to the callbacks.\n     */\n    fire(...args) {\n        for (const callback of this.callbacks) {\n            try {\n                callback(...args);\n            }\n            catch (error) {\n                console.error(\"Error invoking callback:\", error);\n            }\n        }\n    }\n    /**\n     * @description Clears added callbacks\n     */\n    clear() {\n        this.callbacks.clear();\n    }\n}\n\n/**\n * @class TurboModel\n * @template DataType - The type of the data stored in each block.\n * @template {string | number | symbol} KeyType - The type of the keys used to access data in blocks.\n * @template {string | number | symbol} IdType - The type of the block IDs.\n * @template {\"array\" | \"map\"} BlocksType - Whether data blocks are stored as an array or a map.\n * @template {MvcDataBlock<DataType, IdType>} BlockType - The structure of each data block.\n * @description A base class representing a model in MVC, which manages one or more data blocks and handles change\n * propagation.\n */\nclass TurboModel {\n    isDataBlocksArray = false;\n    dataBlocks;\n    handlers = new Map();\n    /**\n     * @description Delegate triggered when a key changes.\n     */\n    keyChangedCallback;\n    /**\n     * @constructor\n     * @param {DataType} [data] - Initial data. Not initialized if provided\n     * @param {BlocksType} [dataBlocksType] - Type of data blocks (array or map).\n     */\n    constructor(data, dataBlocksType) {\n        this.keyChangedCallback = new Delegate();\n        if (dataBlocksType === \"array\") {\n            this.isDataBlocksArray = true;\n            this.dataBlocks = [];\n        }\n        else {\n            this.isDataBlocksArray = false;\n            this.dataBlocks = new Map();\n        }\n        this.enabledCallbacks = true;\n        this.setBlock(data, undefined, this.defaultBlockKey, false);\n    }\n    /**\n     * @description The data of the default block.\n     */\n    get data() {\n        return this.getBlockData();\n    }\n    set data(value) {\n        this.setBlock(value);\n    }\n    /**\n     * @description The ID of the default block.\n     */\n    get dataId() {\n        return this.getBlockId();\n    }\n    set dataId(value) {\n        this.setBlockId(value);\n    }\n    /**\n     * @description Whether callbacks are enabled or disabled.\n     */\n    set enabledCallbacks(value) { }\n    /**\n     * @function getData\n     * @description Retrieves the value associated with a given key in the specified block.\n     * @param {KeyType} key - The key to retrieve.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block from which to retrieve the\n     * data.\n     * @returns {unknown} The value associated with the key, or null if not found.\n     */\n    getData(key, blockKey = this.defaultBlockKey) {\n        if (!this.isValidBlockKey(blockKey))\n            return null;\n        return this.getBlockData(blockKey)?.[key];\n    }\n    /**\n     * @function setData\n     * @description Sets the value for a given key in the specified block and triggers callbacks (if enabled).\n     * @param {KeyType} key - The key to update.\n     * @param {unknown} value - The value to assign.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block to update.\n     */\n    setData(key, value, blockKey = this.defaultBlockKey) {\n        if (!this.isValidBlockKey(blockKey))\n            return;\n        const data = this.getBlockData(blockKey);\n        if (data)\n            data[key] = value;\n        if (this.enabledCallbacks)\n            this.fireKeyChangedCallback(key, blockKey);\n    }\n    /**\n     * @function getSize\n     * @description Returns the size of the specified block.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block to check.\n     * @returns {number} The size.\n     */\n    getSize(blockKey = this.defaultBlockKey) {\n        return this.getAllKeys(blockKey)?.length ?? 0;\n    }\n    /**\n     * @function getBlock\n     * @description Retrieves the data block for the given blockKey.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key to retrieve.\n     * @returns {BlockType | null} The block or null if it doesn't exist.\n     */\n    getBlock(blockKey = this.defaultBlockKey) {\n        if (!this.isValidBlockKey(blockKey))\n            return null;\n        if (this.isDataBlocksArray) {\n            const index = Number(blockKey);\n            return Number.isInteger(index) && index >= 0\n                ? this.dataBlocks[index] ?? null\n                : null;\n        }\n        else {\n            return this.dataBlocks.get(blockKey.toString()) ?? null;\n        }\n    }\n    /**\n     * @function createBlock\n     * @description Creates a data block entry.\n     * @param {DataType} value - The data of the block.\n     * @param {IdType} [id] - The optional ID of the data.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The key of the block.\n     * @protected\n     * @return {BlockType} - The created block.\n     */\n    createBlock(value, id, blockKey = this.defaultBlockKey) {\n        return { id: id ?? null, data: value };\n    }\n    /**\n     * @function setBlock\n     * @description Creates and sets a data block at the specified key.\n     * @param {DataType} value - The data to set.\n     * @param {IdType} [id] - Optional block ID.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The key of the block.\n     * @param {boolean} [initialize = true] - Whether to initialize the block after setting.\n     */\n    setBlock(value, id, blockKey = this.defaultBlockKey, initialize = true) {\n        if (!this.isValidBlockKey(blockKey) || value === null || value === undefined)\n            return;\n        const block = this.createBlock(value, id, blockKey);\n        if (this.isDataBlocksArray) {\n            const index = Number(blockKey);\n            if (Number.isInteger(index) && index >= 0) {\n                this.dataBlocks[index] = block;\n            }\n        }\n        else {\n            this.dataBlocks.set(blockKey.toString(), block);\n        }\n        if (initialize)\n            this.initialize(blockKey);\n    }\n    /**\n     * @function hasBlock\n     * @description Check if a block exists at the given key.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey] - Block key.\n     * @return {boolean} - Whether the block exists or not.\n     */\n    hasBlock(blockKey) {\n        if (this.isDataBlocksArray) {\n            const index = Number(blockKey);\n            return Number.isInteger(index) && index >= 0 && index < this.dataBlocks.length;\n        }\n        return this.dataBlocks.has(blockKey.toString());\n    }\n    /**\n     * @function addBlock\n     * @description Adds a new block into the structure. Appends or inserts based on key if using array.\n     * @param {DataType} value - The block data.\n     * @param {IdType} [id] - Optional block ID.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey] - Block key (used for insertion in arrays).\n     * @param {boolean} [initialize=true] - Whether to initialize after adding.\n     */\n    addBlock(value, id, blockKey, initialize = true) {\n        if (!value)\n            return;\n        if (!this.isDataBlocksArray)\n            return this.setBlock(value, id, blockKey, initialize);\n        const block = this.createBlock(value, id, blockKey);\n        let index = Number(blockKey);\n        if (!Number.isInteger(index) || index < 0)\n            index = this.dataBlocks.length;\n        this.dataBlocks.splice(index, 0, block);\n        if (initialize)\n            this.initialize(index);\n    }\n    /**\n     * @function getBlockData\n     * @description Retrieves the data from a specific block.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key.\n     * @returns {DataType | null} The block's data or  if it doesn't exist.\n     */\n    getBlockData(blockKey = this.defaultBlockKey) {\n        const block = this.getBlock(blockKey);\n        return block ? block.data : null;\n    }\n    /**\n     * @function getBlockId\n     * @description Retrieves the ID from a specific block.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key.\n     * @returns {IdType | null} The block ID or null.\n     */\n    getBlockId(blockKey = this.defaultBlockKey) {\n        const block = this.getBlock(blockKey);\n        return block ? block.id : null;\n    }\n    /**\n     * @function setBlockId\n     * @description Sets the ID for a specific block.\n     * @param {IdType} value - The new ID.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultBlockKey] - The block key.\n     */\n    setBlockId(value, blockKey = this.defaultBlockKey) {\n        if (!value)\n            return;\n        const block = this.getBlock(blockKey);\n        if (block)\n            block.id = value;\n    }\n    /**\n     * @function fireKeyChangedCallback\n     * @description Fires the emitter's change callback for the given key in a block, passing it the data at the key's value.\n     * @param {KeyType} key - The key that changed.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultBlockKey] - The block where the change occurred.\n     * @param {boolean} [deleted=false] - Whether the key was deleted.\n     */\n    fireKeyChangedCallback(key, blockKey = this.defaultBlockKey, deleted = false) {\n        if (!this.isValidBlockKey(blockKey))\n            blockKey = this.getAllBlockKeys()[0];\n        this.keyChangedCallback.fire(key, blockKey, deleted ? undefined : this.getData(key, blockKey));\n    }\n    /**\n     * @function fireCallback\n     * @description Fires the emitter's change callback for the given key in the default blocks.\n     * @param {string | KeyType} key - The key to fire for.\n     * @param {...any[]} args - Additional arguments.\n     */\n    fireCallback(key, ...args) {\n        this.keyChangedCallback.fire(key, this.defaultBlockKey, ...args);\n    }\n    /**\n     * @function fireBlockCallback\n     * @description Fires the emitter's change callback for the given key in a specific block with custom arguments.\n     * @param {string | KeyType} key - The key to fire for.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultBlockKey] - The block key.\n     * @param {...any[]} args - Additional arguments.\n     */\n    fireBlockCallback(key, blockKey = this.defaultBlockKey, ...args) {\n        if (!this.isValidBlockKey(blockKey))\n            blockKey = this.getAllBlockKeys()[0];\n        this.keyChangedCallback.fire(key, blockKey, ...args);\n    }\n    /**\n     * @function initialize\n     * @description Initializes the block at the given key, and triggers callbacks for all the keys in its data.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key.\n     */\n    initialize(blockKey = this.defaultBlockKey) {\n        const keys = this.getAllKeys(blockKey);\n        if (!keys || !this.enabledCallbacks)\n            return;\n        keys.forEach(key => this.fireKeyChangedCallback(key, blockKey));\n    }\n    /**\n     * @function clear\n     * @description Clears the block data at the given key.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey = this.defaultBlockKey] - The block key.\n     */\n    clear(blockKey = this.defaultBlockKey) {\n    }\n    /**\n     * @description The default block key based on whether the data structure is an array or map.\n     */\n    get defaultBlockKey() {\n        return (this.isDataBlocksArray ? 0 : \"__turbo_default_block_key__\");\n    }\n    /**\n     * @description The default block key if there's only one block, otherwise null.\n     */\n    get defaultComputationBlockKey() {\n        const size = this.isDataBlocksArray\n            ? this.dataBlocks.length\n            : this.dataBlocks.size;\n        return size > 1 ? null : this.defaultBlockKey;\n    }\n    /**\n     * @function isValidBlockKey\n     * @description Checks if the block key is a valid string or number.\n     * @param {MvcBlockKeyType<BlocksType>} blockKey - The block key to validate.\n     * @returns {boolean} True if valid, false otherwise.\n     */\n    isValidBlockKey(blockKey) {\n        return blockKey !== undefined && blockKey !== null\n            && ((typeof blockKey === \"string\" && blockKey.length !== 0)\n                || typeof blockKey === \"number\");\n    }\n    /**\n     * @function getAllBlockKeys\n     * @description Retrieves all block keys in the model.\n     * @returns {MvcBlockKeyType<BlocksType>[]} Array of block keys.\n     */\n    getAllBlockKeys() {\n        if (this.isDataBlocksArray)\n            return this.dataBlocks.map((_, index) => index);\n        else\n            return Array.from(this.dataBlocks.keys());\n    }\n    /**\n     * @function getAllIds\n     * @description Retrieves all block (data) IDs in the model.\n     * @returns {IdType[]} Array of IDs.\n     */\n    getAllIds() {\n        if (this.isDataBlocksArray)\n            return this.dataBlocks.map(entry => entry.id);\n        else\n            return Array.from(this.dataBlocks.values()).map(entry => entry.id);\n    }\n    /**\n     * @function getAllBlocks\n     * @description Retrieves all blocks or a specific one if blockKey is defined.\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultComputationBlockKey] - The block key.\n     * @returns {BlockType[]} Array of blocks.\n     */\n    getAllBlocks(blockKey = this.defaultComputationBlockKey) {\n        const output = [];\n        if (blockKey !== null) {\n            const block = this.getBlock(blockKey);\n            if (block)\n                output.push(block);\n        }\n        else {\n            for (const key of this.getAllBlockKeys()) {\n                const block = this.getBlock(key);\n                if (block)\n                    output.push(block);\n            }\n        }\n        return output;\n    }\n    /**\n     * @function getAllKeys\n     * @description Retrieves all keys within the given block(s).\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultComputationBlockKey] - The block key.\n     * @returns {KeyType[]} Array of keys.\n     */\n    getAllKeys(blockKey = this.defaultComputationBlockKey) {\n        return this.getAllBlocks(blockKey).flatMap(block => Object.keys(block.data));\n    }\n    /**\n     * @function getAllData\n     * @description Retrieves all values across block(s).\n     * @param {MvcBlockKeyType<BlocksType>} [blockKey=this.defaultComputationBlockKey] - The block key.\n     * @returns {unknown[]} Array of values.\n     */\n    getAllData(blockKey = this.defaultComputationBlockKey) {\n        return this.getAllBlocks(blockKey).flatMap(block => Object.values(block.data));\n    }\n    /**\n     * @function getHandler\n     * @description Retrieves the attached MVC handler with the given key.\n     * By default, unless manually defined in the handler, if the element's class name is MyElement\n     * and the handler's class name is MyElementSomethingHandler, the key would be \"something\".\n     * @param {string} key - The handler's key.\n     * @return {TurboHandler} - The handler.\n     */\n    getHandler(key) {\n        return this.handlers.get(key);\n    }\n    /**\n     * @function addHandler\n     * @description Registers a TurboHandler for the given key.\n     * @param {string} key - The identifier for the handler.\n     * @param {TurboHandler} handler - The handler instance to register.\n     */\n    addHandler(key, handler) {\n        this.handlers.set(key, handler);\n    }\n}\n__decorate([\n    auto()\n], TurboModel.prototype, \"enabledCallbacks\", null);\n\n/**\n * @class TurboView\n * @template {object} ElementType - The type of the element attached to the view.\n * @template {TurboModel} ModelType - The model type used in this view.\n * @template {TurboEmitter} EmitterType - The emitter type used in this view.\n * @description A base view class for MVC elements, providing structure for initializing and managing UI setup and\n * event listeners. Designed to be devoid of logic and only handle direct UI changes.\n */\nclass TurboView {\n    /**\n     * @description The main component this view is attached to.\n     */\n    element;\n    /**\n     * @description The model instance this view is bound to.\n     */\n    model;\n    /**\n     * @description The emitter instance used for event communication.\n     */\n    emitter;\n    /**\n     * @constructor\n     * @param {MvcViewProperties<ElementType, ModelType, EmitterType>} properties - Properties to initialize the view with.\n     */\n    constructor(properties) {\n        this.element = properties.element;\n        this.emitter = properties.emitter;\n        this.model = properties.model;\n    }\n    /**\n     * @function initialize\n     * @description Initializes the view by setting up change callbacks, UI elements, layout, and event listeners.\n     */\n    initialize() {\n        this.setupChangedCallbacks();\n        this.setupUIElements();\n        this.setupUILayout();\n        this.setupUIListeners();\n    }\n    /**\n     * @function setupChangedCallbacks\n     * @description Setup method for initializing data/model change listeners and associated UI logic.\n     * @protected\n     */\n    setupChangedCallbacks() {\n    }\n    /**\n     * @function setupUIElements\n     * @description Setup method for initializing and storing sub-elements of the UI.\n     * @protected\n     */\n    setupUIElements() {\n    }\n    /**\n     * @function setupUILayout\n     * @description Setup method for creating the layout structure and injecting sub-elements into the DOM tree.\n     * @protected\n     */\n    setupUILayout() {\n    }\n    /**\n     * @function setupUIListeners\n     * @description Setup method for defining DOM and input event listeners.\n     * @protected\n     */\n    setupUIListeners() {\n    }\n}\n\n/**\n * @class TurboElement\n * @extends HTMLElement\n * @description Base TurboElement class, extending the base HTML element with a few powerful tools and functions.\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n * */\nclass TurboElement extends HTMLElement {\n    /**\n     * @description Static configuration object.\n     */\n    static config = { shadowDOM: false, defaultSelectedClass: \"selected\" };\n    /**\n     * @description The MVC handler of the element. If initialized, turns the element into an MVC structure.\n     * @protected\n     */\n    mvc;\n    /**\n     * @description Delegate fired when the element is attached to DOM.\n     */\n    onAttach = new Delegate();\n    /**\n     * @description Delegate fired when the element is detached from the DOM.\n     */\n    onDetach = new Delegate();\n    /**\n     * @description Delegate fired when the element is adopted by a new parent in the DOM.\n     */\n    onAdopt = new Delegate();\n    /**\n     * @description Update the class's static configurations. Will only overwrite the set properties.\n     * @property {typeof this.config} value - The object containing the new configurations.\n     */\n    static configure(value) {\n        Object.entries(value).forEach(([key, val]) => {\n            if (val !== undefined)\n                this.config[key] = val;\n        });\n    }\n    constructor(properties = {}) {\n        super();\n        if (this.getPropertiesValue(properties.shadowDOM, \"shadowDOM\"))\n            this.attachShadow({ mode: \"open\" });\n        this.setProperties(properties, true);\n        this.mvc = new MvcHandler({ ...properties, element: this });\n    }\n    connectedCallback() {\n        this.onAttach.fire();\n    }\n    disconnectedCallback() {\n        this.onDetach.fire();\n    }\n    adoptedCallback() {\n        this.onAdopt.fire();\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (!newValue || newValue == oldValue)\n            return;\n        this[kebabToCamelCase(name)] = parse(newValue);\n    }\n    /**\n     * @function initializeUI\n     * @description Initializes the element's UI by calling all the setup methods (setupChangedCallbacks,\n     * setupUIElements, setupUILayout, setupUIListeners).\n     */\n    initializeUI() {\n        this.setupChangedCallbacks();\n        this.setupUIElements();\n        this.setupUILayout();\n        this.setupUIListeners();\n    }\n    /**\n     * @function setupChangedCallbacks\n     * @description Setup method intended to initialize change listeners and callbacks.\n     * @protected\n     */\n    setupChangedCallbacks() {\n    }\n    /**\n     * @function setupUIElements\n     * @description Setup method intended to initialize all direct sub-elements attached to this element, and store\n     * them in fields.\n     * @protected\n     */\n    setupUIElements() {\n    }\n    /**\n     * @function setupUILayout\n     * @description Setup method to create the layout structure of the element by adding all created sub-elements to\n     * this element's child tree.\n     * @protected\n     */\n    setupUILayout() {\n    }\n    /**\n     * @function setupUIListeners\n     * @description Setup method to initialize and define all input/DOM event listeners of the element.\n     * @protected\n     */\n    setupUIListeners() {\n    }\n    /**\n     * @description Whether the element is selected or not. Setting it will accordingly toggle the \"selected\" CSS\n     * class (or whichever default selected class was set in the config) on the element and update the UI.\n     */\n    set selected(value) {\n        const selectedClass = this.getPropertiesValue(null, \"defaultSelectedClass\", \"selected\");\n        this.toggleClass(selectedClass, value);\n    }\n    /**\n     * @description The view (if any) of the element. Only when initializing MVC.\n     */\n    get view() {\n        return this.mvc.view;\n    }\n    set view(view) {\n        this.mvc.view = view;\n    }\n    /**\n     * @description The model (if any) of the element. Only when initializing MVC.\n     */\n    get model() {\n        return this.mvc.model;\n    }\n    set model(model) {\n        this.mvc.model = model;\n    }\n    /**\n     * @description The main data block (if any) attached to the element, taken from its model (if any). Only when\n     * initializing MVC.\n     */\n    get data() {\n        return this.mvc.data;\n    }\n    set data(data) {\n        this.mvc.data = data;\n    }\n    /**\n     * @description The ID of the main data block (if any) of the element, taken from its model (if any). Only when\n     * initializing MVC.\n     */\n    get dataId() {\n        return this.mvc.dataId;\n    }\n    set dataId(value) {\n        this.mvc.dataId = value;\n    }\n    /**\n     * @description The numerical index of the main data block (if any) of the element, taken from its model (if any).\n     * Only when initializing MVC.\n     */\n    get dataIndex() {\n        return this.mvc.dataIndex;\n    }\n    set dataIndex(value) {\n        this.mvc.dataIndex = value;\n    }\n    /**\n     * @description The size (number) of the main data block (if any) of the element, taken from its model (if any).\n     * Only when initializing MVC.\n     */\n    get dataSize() {\n        return this.mvc.dataSize;\n    }\n    /**\n     * @function getPropertiesValue\n     * @description Returns the value with some fallback mechanisms on the static config field and a default value.\n     * @param {Type} propertiesValue - The actual value; could be null.\n     * @param {string} [configFieldName] - The field name of the associated value in the static config. Will be returned\n     * if the actual value is null.\n     * @param {Type} [defaultValue] - The default fallback value. Will be returned if both the actual and\n     * config values are null.\n     * @protected\n     */\n    getPropertiesValue(propertiesValue, configFieldName, defaultValue) {\n        if (propertiesValue !== undefined && propertiesValue !== null)\n            return propertiesValue;\n        const configValue = this.constructor.config[configFieldName];\n        if (configValue !== undefined && configValue !== null)\n            return configValue;\n        return defaultValue;\n    }\n}\n__decorate([\n    auto()\n], TurboElement.prototype, \"selected\", null);\n\n/**\n * @class TurboHeadlessElement\n * @description TurboHeadlessElement class, similar to TurboElement but without extending HTMLElement.\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n */\nclass TurboHeadlessElement {\n    /**\n     * @description Static configuration object.\n     */\n    static config = {};\n    /**\n     * @description Update the class's static configurations. Will only overwrite the set properties.\n     * @property {typeof this.config} value - The object containing the new configurations.\n     */\n    static configure(value) {\n        Object.entries(value).forEach(([key, val]) => {\n            if (val !== undefined)\n                this.config[key] = val;\n        });\n    }\n    /**\n     * @description The MVC handler of the element. If initialized, turns the element into an MVC structure.\n     * @protected\n     */\n    mvc;\n    constructor(properties = {}) {\n        this.mvc = new MvcHandler({ ...properties, element: this });\n    }\n    /**\n     * @description Whether the element is selected or not.\n     */\n    set selected(value) {\n    }\n    /**\n     * @description The view (if any) of the element. Only when initializing MVC.\n     */\n    get view() {\n        return this.mvc.view;\n    }\n    set view(view) {\n        this.mvc.view = view;\n    }\n    /**\n     * @description The model (if any) of the element. Only when initializing MVC.\n     */\n    get model() {\n        return this.mvc.model;\n    }\n    set model(model) {\n        this.mvc.model = model;\n    }\n    /**\n     * @description The main data block (if any) attached to the element, taken from its model (if any). Only when\n     * initializing MVC.\n     */\n    get data() {\n        return this.mvc.data;\n    }\n    set data(data) {\n        this.mvc.data = data;\n    }\n    /**\n     * @description The ID of the main data block (if any) of the element, taken from its model (if any). Only when\n     * initializing MVC.\n     */\n    get dataId() {\n        return this.mvc.dataId;\n    }\n    set dataId(value) {\n        this.mvc.dataId = value;\n    }\n    /**\n     * @description The numerical index of the main data block (if any) of the element, taken from its model (if any).\n     * Only when initializing MVC.\n     */\n    get dataIndex() {\n        return this.mvc.dataIndex;\n    }\n    set dataIndex(value) {\n        this.mvc.dataIndex = value;\n    }\n    /**\n     * @description The size (number) of the main data block (if any) of the element, taken from its model (if any).\n     * Only when initializing MVC.\n     */\n    get dataSize() {\n        return this.mvc.dataSize;\n    }\n    /**\n     * @function getPropertiesValue\n     * @description Returns the value with some fallback mechanisms on the static config field and a default value.\n     * @param {Type} propertiesValue - The actual value; could be null.\n     * @param {string} [configFieldName] - The field name of the associated value in the static config. Will be returned\n     * if the actual value is null.\n     * @param {Type} [defaultValue] - The default fallback value. Will be returned if both the actual and\n     * config values are null.\n     * @protected\n     */\n    getPropertiesValue(propertiesValue, configFieldName, defaultValue) {\n        if (propertiesValue !== undefined && propertiesValue !== null)\n            return propertiesValue;\n        const configValue = this.constructor.config[configFieldName];\n        if (configValue !== undefined && configValue !== null)\n            return configValue;\n        return defaultValue;\n    }\n}\n__decorate([\n    auto()\n], TurboHeadlessElement.prototype, \"selected\", null);\n\n/**\n * @class TurboProxiedElement\n * @description TurboProxiedElement class, similar to TurboElement but containing an HTML element instead of being one.\n * @template {TurboView} ViewType - The element's view type, if initializing MVC.\n * @template {object} DataType - The element's data type, if initializing MVC.\n * @template {TurboModel<DataType>} ModelType - The element's model type, if initializing MVC.\n * @template {TurboEmitter} EmitterType - The element's emitter type, if initializing MVC.\n */\nclass TurboProxiedElement {\n    /**\n     * @description Static configuration object.\n     */\n    static config = { shadowDOM: false, defaultSelectedClass: \"selected\" };\n    /**\n     * @description Update the class's static configurations. Will only overwrite the set properties.\n     * @property {typeof this.config} value - The object containing the new configurations.\n     */\n    static configure(value) {\n        Object.entries(value).forEach(([key, val]) => {\n            if (val !== undefined)\n                this.config[key] = val;\n        });\n    }\n    /**\n     * @description The HTML (or other) element wrapped inside this instance.\n     */\n    element;\n    /**\n     * @description The MVC handler of the element. If initialized, turns the element into an MVC structure.\n     * @protected\n     */\n    mvc;\n    constructor(properties = {}) {\n        this.element = blindElement(properties);\n        if (this.getPropertiesValue(properties.shadowDOM, \"shadowDOM\"))\n            this.element.attachShadow({ mode: \"open\" });\n        this.mvc = new MvcHandler({ ...properties, element: this });\n    }\n    attributeChangedCallback(name, oldValue, newValue) {\n        if (!newValue || newValue == oldValue)\n            return;\n        this[kebabToCamelCase(name)] = parse(newValue);\n    }\n    initializeUI() {\n        this.setupChangedCallbacks();\n        this.setupUIElements();\n        this.setupUILayout();\n        this.setupUIListeners();\n    }\n    setupChangedCallbacks() {\n    }\n    setupUIElements() {\n    }\n    setupUILayout() {\n    }\n    setupUIListeners() {\n    }\n    /**\n     * @description Whether the element is selected or not. Setting it will accordingly toggle the \"selected\" CSS\n     * class (or whichever default selected class was set in the config) on the element and update the UI.\n     */\n    set selected(value) {\n        const selectedClass = this.getPropertiesValue(null, \"defaultSelectedClass\", \"selected\");\n        this.element.toggleClass(selectedClass, value);\n    }\n    /**\n     * @description The view (if any) of the element. Only when initializing MVC.\n     */\n    get view() {\n        return this.mvc.view;\n    }\n    set view(view) {\n        this.mvc.view = view;\n    }\n    /**\n     * @description The model (if any) of the element. Only when initializing MVC.\n     */\n    get model() {\n        return this.mvc.model;\n    }\n    set model(model) {\n        this.mvc.model = model;\n    }\n    /**\n     * @description The main data block (if any) attached to the element, taken from its model (if any). Only when\n     * initializing MVC.\n     */\n    get data() {\n        return this.mvc.data;\n    }\n    set data(data) {\n        this.mvc.data = data;\n    }\n    /**\n     * @description The ID of the main data block (if any) of the element, taken from its model (if any). Only when\n     * initializing MVC.\n     */\n    get dataId() {\n        return this.mvc.dataId;\n    }\n    set dataId(value) {\n        this.mvc.dataId = value;\n    }\n    /**\n     * @description The numerical index of the main data block (if any) of the element, taken from its model (if any).\n     * Only when initializing MVC.\n     */\n    get dataIndex() {\n        return this.mvc.dataIndex;\n    }\n    set dataIndex(value) {\n        this.mvc.dataIndex = value;\n    }\n    /**\n     * @description The size (number) of the main data block (if any) of the element, taken from its model (if any).\n     * Only when initializing MVC.\n     */\n    get dataSize() {\n        return this.mvc.dataSize;\n    }\n    /**\n     * @function getPropertiesValue\n     * @description Returns the value with some fallback mechanisms on the static config field and a default value.\n     * @param {Type} propertiesValue - The actual value; could be null.\n     * @param {string} [configFieldName] - The field name of the associated value in the static config. Will be returned\n     * if the actual value is null.\n     * @param {Type} [defaultValue] - The default fallback value. Will be returned if both the actual and\n     * config values are null.\n     * @protected\n     */\n    getPropertiesValue(propertiesValue, configFieldName, defaultValue) {\n        if (propertiesValue !== undefined && propertiesValue !== null)\n            return propertiesValue;\n        const configValue = this.constructor.config[configFieldName];\n        if (configValue !== undefined && configValue !== null)\n            return configValue;\n        return defaultValue;\n    }\n}\n__decorate([\n    auto()\n], TurboProxiedElement.prototype, \"selected\", null);\n\nfunction updateChainingPropertiesInElementPrototype() {\n    const originalSetAttribute = Element.prototype.setAttribute;\n    const originalRemoveAttribute = Element.prototype.removeAttribute;\n    const originalBlur = HTMLElement.prototype.blur;\n    const originalFocus = HTMLElement.prototype.focus;\n    /**\n     * @description Execute a callback on the node while still benefiting from chaining.\n     * @param {(el: this) => void} callback The function to execute, with 1 parameter representing the instance itself.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.execute = function _execute(callback) {\n        callback(this);\n        return this;\n    };\n    /**\n     * @description Sets the value of an attribute on the underlying element.\n     * @param {string} name The name of the attribute.\n     * @param {string | number | boolean} [value] The value of the attribute. Can be left blank to represent a\n     * true boolean.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Element.prototype.setAttribute = function _setAttribute(name, value) {\n        originalSetAttribute.call(this, name, value?.toString() || \"true\");\n        return this;\n    };\n    /**\n     * @description Removes an attribute from the underlying element.\n     * @param {string} name The name of the attribute to remove.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Element.prototype.removeAttribute = function _removeAttribute(name) {\n        originalRemoveAttribute.call(this, name);\n        return this;\n    };\n    /**\n     * @description Causes the element to lose focus.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    HTMLElement.prototype.blur = function _blur() {\n        originalBlur.call(this);\n        return this;\n    };\n    /**\n     * @description Sets focus on the element.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    HTMLElement.prototype.focus = function _focus() {\n        originalFocus.call(this);\n        return this;\n    };\n}\n\nfunction addChildManipulationToElementPrototype() {\n    const originalRemoveChild = Node.prototype.removeChild;\n    const originalRemove = Element.prototype.remove;\n    const originalClosest = Element.prototype.closest;\n    //Readonly fields\n    /**\n     * @description The child handler object associated with the node. It is the node itself (if it is handling\n     * its children) or its shadow root (if defined). Set it to change the node where the children are added/removed/\n     * queried from when manipulating the node's children.\n     */\n    Object.defineProperty(Node.prototype, \"childHandler\", {\n        set: function (value) {\n            this[\"__childHandler__\"] = value;\n        },\n        get: function () {\n            if (this[\"__childHandler__\"])\n                return this[\"__childHandler__\"];\n            if (this instanceof Element && this.shadowRoot)\n                return this.shadowRoot;\n            return this;\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Static array of all the child nodes of the node.\n     */\n    Object.defineProperty(Node.prototype, \"childNodesArray\", {\n        get: function () {\n            return Array.from(this.childHandler.childNodes);\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Static array of all the child elements of the node.\n     */\n    Object.defineProperty(Node.prototype, \"childrenArray\", {\n        get: function () {\n            return this.childNodesArray.filter((node) => node.nodeType === 1);\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Static array of all the sibling nodes (including the node itself) of the node.\n     */\n    Object.defineProperty(Node.prototype, \"siblingNodes\", {\n        get: function () {\n            return this.parentNode?.childNodesArray || [];\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Static array of all the sibling elements (including the element itself, if it is one) of the node.\n     */\n    Object.defineProperty(Node.prototype, \"siblings\", {\n        get: function () {\n            return this.parentElement?.childrenArray;\n        },\n        configurable: false,\n        enumerable: true\n    });\n    //Self manipulation\n    Node.prototype.bringToFront = function _bringToFront() {\n        this.parentNode?.addChild(this);\n        return this;\n    };\n    Node.prototype.sendToBack = function _sendToBack() {\n        this.parentNode?.addChild(this, 0);\n        return this;\n    };\n    /**\n     * @description Removes the node from the document.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.remove = function _remove() {\n        this.parentNode?.removeChild(this);\n        return this;\n    };\n    /**\n     * @description Removes the element from the document.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Element.prototype.remove = function _remove() {\n        originalRemove.call(this);\n        return this;\n    };\n    //Child manipulation\n    /**\n     * @description Add one or more children to the referenced parent node.\n     * @param {Node | Node[]} [children] - Array of (or single) child nodes.\n     * @param {number} [index] - The position at which to add the child relative to the parent's child list.\n     * Leave undefined to add the child at the end.\n     * @param {Node[] | NodeListOf<Node>} [referenceList=this.childrenArray] - The child list to\n     * use as computation reference for index placement. Defaults to the node's `childrenArray`.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.addChild = function _addChild(children, index, referenceList = this.childrenArray) {\n        if (!this || !children)\n            return this;\n        if (index !== undefined && (index < 0 || index > referenceList.length))\n            index = undefined;\n        if (index != undefined)\n            this.addChildBefore(children, referenceList[index]);\n        else\n            try {\n                // Try to append every provided child (according to its type)\n                if (!Array.isArray(children))\n                    children = [children];\n                children.forEach((child) => {\n                    if (!child)\n                        return;\n                    this.childHandler.appendChild(child);\n                    if (child[\"__outName\"] && !this[child[\"__outName\"]])\n                        this[child[\"__outName\"]] = child;\n                });\n            }\n            catch (e) {\n                console.error(e);\n            }\n        return this;\n    };\n    /**\n     * @description Remove one or more children from the referenced parent node.\n     * @param {Node | Node[]} [children] - Array of (or single) child nodes.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.removeChild = function _removeChild(children) {\n        if (!this || !children)\n            return this;\n        // Try to remove every provided child (according to its type)\n        try {\n            if (!Array.isArray(children))\n                children = [children];\n            children.forEach(child => {\n                if (!child)\n                    return;\n                originalRemoveChild.call(this.childHandler, child);\n            });\n        }\n        catch (e) {\n            console.error(e);\n        }\n        return this;\n    };\n    /**\n     * @description Add one or more children to the referenced parent node before the provided sibling. If the\n     * sibling is not found in the parent's children, the nodes will be added to the end of the parent's child list.\n     * @param {Node | Node[]} [children] - Array of (or single) child nodes to insert before sibling.\n     * @param {Node} [sibling] - The sibling node to insert the children before.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.addChildBefore = function _addChildBefore(children, sibling) {\n        if (!this || !children)\n            return this;\n        if (!sibling)\n            return this.addChild(children);\n        // Try to append every provided child (according to its type)\n        try {\n            if (!Array.isArray(children))\n                children = [children];\n            children.forEach((child) => {\n                if (!child)\n                    return;\n                this.childHandler.insertBefore(child, sibling);\n            });\n        }\n        catch (e) {\n            console.error(e);\n        }\n        return this;\n    };\n    /**\n     * @description Remove one or more child nodes from the referenced parent node.\n     * @param {number} [index] - The index of the child(ren) to remove.\n     * @param {number} [count=1] - The number of children to remove.\n     * @param {Node[] | NodeListOf<Node>} [referenceList=this.childrenArray] - The child list to\n     * use as computation reference for index placement and count. Defaults to the node's `childrenArray`.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.removeChildAt = function _removeChildAt(index, count = 1, referenceList = this.childrenArray) {\n        if (!this || index === undefined || index < 0)\n            return this;\n        if (index >= referenceList.length)\n            return this;\n        // Try to remove every provided child (according to its type)\n        try {\n            for (let i = index + count - 1; i >= index; i--) {\n                if (i >= referenceList.length)\n                    continue;\n                this.removeChild(referenceList[i]);\n            }\n        }\n        catch (e) {\n            console.error(e);\n        }\n        return this;\n    };\n    /**\n     * @description Remove all children of the node.\n     * @param {Node[] | NodeListOf<Node>} [referenceList=this.childrenArray] - The child list to\n     * representing all the nodes to remove. Defaults to the node's `childrenArray`.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.removeAllChildren = function _removeAllChildren(referenceList = this.childrenArray) {\n        if (!this)\n            return this;\n        try {\n            for (let i = 0; i < referenceList.length; i++) {\n                this.removeChild(referenceList[i]);\n            }\n        }\n        catch (e) {\n            console.error(e);\n        }\n        return this;\n    };\n    //Child identification\n    /**\n     * @description Returns the child of the parent node at the given index. Any number inputted (including negatives)\n     * will be reduced modulo length of the list size.\n     * @param {number} [index] - The index of the child to retrieve.\n     * @param {Node[] | NodeListOf<Node>} [referenceList=this.childrenArray] - The child list to\n     * use as computation reference for index placement. Defaults to the node's `childrenArray`.\n     * @returns {Node | Element | null} The child at the given index, or `null` if the index is invalid.\n     */\n    Node.prototype.childAt = function _childAt(index, referenceList = this.childrenArray) {\n        if (!this || index === undefined)\n            return null;\n        if (index >= referenceList.length)\n            index = referenceList.length - 1;\n        while (index < 0)\n            index += referenceList.length;\n        return referenceList[index];\n    };\n    /**\n     * @description Returns the index of the given child.\n     * @param {Node} [child] - The child element to find.\n     * @param {Node[] | Element[] | NodeListOf<Node>} [referenceList=this.childrenArray] - The child list to\n     * use as computation reference for index placement. Defaults to the node's `childrenArray`.\n     * @returns {number} The index of the child node in the provided list, or -1 if the child is not found.\n     */\n    Node.prototype.indexOfChild = function _indexOfChild(child, referenceList = this.childrenArray) {\n        if (!this || !child)\n            return -1;\n        if (!(referenceList instanceof Array))\n            referenceList = Array.from(referenceList);\n        return referenceList.indexOf(child);\n    };\n    /**\n     * @description Identify whether one or more children belong to this parent node.\n     * @param {Node | Node[]} [children] - Array of (or single) child nodes.\n     * @returns {boolean} A boolean indicating whether the provided nodes belong to the parent or not.\n     */\n    Node.prototype.hasChild = function _hasChild(children) {\n        if (!this || !children)\n            return false;\n        const nodesArray = Array.from(this.childNodes);\n        if (children instanceof Node)\n            return nodesArray.includes(children);\n        for (const child of children) {\n            if (!nodesArray.includes(child))\n                return false;\n        }\n        return true;\n    };\n    /**\n     * Finds the closest ancestor of the current element (or the current element itself) that matches the provided\n     * CSS selector or element type.\n     * @param {ValidTag | (new (...args: any[]) => Element)} type - The (valid) CSS selector string, or element\n     * constructor/class to match.\n     * @returns {Element | null} The matching ancestor element, or null if no match is found.\n     */\n    Element.prototype.closest = function _closest(type) {\n        if (!this || !type)\n            return null;\n        if (typeof type === \"string\") {\n            return originalClosest.call(this, type);\n        }\n        else if (typeof type === \"function\") {\n            let element = this;\n            while (element && !(element instanceof type))\n                element = element.parentElement;\n            return element || null;\n        }\n        return null;\n    };\n    //Parent identification\n    /**\n     * @description Finds whether this node is within the given parent(s).\n     * @param {Node | Node[]} [parents] - The parent(s) to check.\n     * @returns {boolean} True if the node is within the given parents, false otherwise.\n     */\n    Node.prototype.findInParents = function _findInParents(parents) {\n        if (!parents)\n            return false;\n        if (parents instanceof Node)\n            parents = [parents];\n        let element = this;\n        let count = 0;\n        while (element && count < parents.length) {\n            if (parents.includes(element))\n                count++;\n            element = element.parentNode;\n        }\n        return count === parents.length;\n    };\n    /**\n     * @description Finds whether one or more children belong to this node.\n     * @param {Node | Node[]} [children] - The child or children to check.\n     * @returns {boolean} True if the children belong to the node, false otherwise.\n     */\n    Node.prototype.findInSubTree = function _findInSubTree(children) {\n        if (!children)\n            return false;\n        if (children instanceof Node)\n            children = [children];\n        let count = 0;\n        const recur = (node) => {\n            if (children.includes(node))\n                count++;\n            if (count >= children.length)\n                return;\n            node.childNodes.forEach(child => recur(child));\n        };\n        recur(this);\n        return count >= children.length;\n    };\n    /**\n     * @description Finds whether one or more children belong to this node.\n     * @param {Node[]} [referenceList=this.siblings] - The siblings list to use as computation\n     * reference for index placement. Defaults to the node's `siblings`.\n     * @returns {boolean} True if the children belong to the node, false otherwise.\n     */\n    Node.prototype.indexInParent = function _indexInParent(referenceList = this.siblings) {\n        if (!referenceList)\n            return -1;\n        return referenceList.indexOf(this);\n    };\n}\n\nfunction addClassManipulationToElementPrototype() {\n    /**\n     * @description Utility function to operate on the provided classes\n     * @param element\n     * @param classes\n     * @param callback\n     */\n    function operateOnClasses(element, classes, callback = (() => { })) {\n        if (!element || !classes)\n            return element;\n        try {\n            // If string provided --> split by spaces\n            if (typeof classes === \"string\")\n                classes = classes.split(\" \");\n            classes.filter(entry => entry.trim().length > 0)\n                .forEach(entry => callback(entry));\n        }\n        catch (e) {\n            console.error(e);\n        }\n        return element;\n    }\n    /**\n     * @description Add one or more CSS classes to the element.\n     * @param {string | string[]} [classes] - String of classes separated by spaces, or array of strings.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Element.prototype.addClass = function _addClass(classes) {\n        return operateOnClasses(this, classes, entry => this.classList.add(entry));\n    };\n    /**\n     * @description Remove one or more CSS classes from the element.\n     * @param {string | string[]} [classes] - String of classes separated by spaces, or array of strings.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Element.prototype.removeClass = function _removeClass(classes) {\n        return operateOnClasses(this, classes, entry => this.classList.remove(entry));\n    };\n    /**\n     * @description Toggle one or more CSS classes in the element.\n     * @param {string | string[]} [classes] - String of classes separated by spaces, or array of strings.\n     * @param {boolean} force - (Optional) Boolean that turns the toggle into a one way-only operation. If set to false,\n     * then the class will only be removed, but not added. If set to true, then token will only be added, but not removed.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Element.prototype.toggleClass = function _toggleClass(classes, force) {\n        return operateOnClasses(this, classes, entry => this.classList.toggle(entry, force));\n    };\n    /**\n     * @description Check if the element's class list contains the provided class(es).\n     * @param {string | string[]} [classes] - String of classes separated by spaces, or array of strings\n     * @return A boolean indicating whether the provided classes are included\n     */\n    Element.prototype.hasClass = function _hasClass(classes) {\n        if (!this || !classes)\n            return false;\n        if (typeof classes === \"string\")\n            return this.classList.contains(classes);\n        for (let entry of classes) {\n            if (!this.classList.contains(entry))\n                return false;\n        }\n        return true;\n    };\n}\n\nfunction addElementManipulationToElementPrototype() {\n    /**\n     * Sets the declared properties to the element.\n     * @param {TurboProperties<Tag>} [properties] - The properties object.\n     * @param {boolean} [setOnlyBaseProperties=false] - If set to true, will only set the base turbo properties (classes,\n     * text, style, id, children, parent, etc.) and ignore all other properties not explicitly defined in TurboProperties.\n     * @returns {this} Itself, allowing for method chaining.\n     * @template Tag\n     */\n    Element.prototype.setProperties = function _setProperties(properties = {}, setOnlyBaseProperties = false) {\n        if (!this)\n            return this;\n        if (properties.out) {\n            if (typeof properties.out == \"string\")\n                this[\"__outName\"] = properties.out;\n            else\n                Object.assign(properties.out, this);\n        }\n        Object.keys(properties).forEach(property => {\n            switch (property) {\n                case \"tag\":\n                case \"namespace\":\n                case \"shadowDOM\":\n                    return;\n                case \"text\":\n                    if (!(this instanceof HTMLElement))\n                        return;\n                    this.innerText = properties.text;\n                    return;\n                case \"style\":\n                    if (!(this instanceof HTMLElement || this instanceof SVGElement))\n                        return;\n                    this.style.cssText += properties.style;\n                    return;\n                case \"stylesheet\":\n                    stylesheet(properties.stylesheet, this.closestRoot);\n                    return;\n                case \"id\":\n                    this.id = properties.id;\n                    return;\n                case \"classes\":\n                    this.addClass(properties.classes);\n                    return;\n                case \"listeners\":\n                    Object.keys(properties.listeners).forEach(listenerType => this.addListener(listenerType, properties.listeners[listenerType], this));\n                    return;\n                case \"children\":\n                    this.addChild(properties.children);\n                    return;\n                case \"parent\":\n                    if (!properties.parent)\n                        return;\n                    properties.parent.addChild(this);\n                    return;\n                default:\n                    if (setOnlyBaseProperties)\n                        return;\n                    try {\n                        this[property] = properties[property];\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                    return;\n            }\n        });\n        return this;\n    };\n    /**\n     * @description Destroys the node by removing it from the document and removing all its bound listeners.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.destroy = function _destroy() {\n        this.removeAllListeners();\n        this.remove();\n        return this;\n    };\n}\n\nfunction addListenerManipulationToElementPrototype() {\n    /**\n     * @description Initializes a `boundListeners` set in the Node prototype, that will hold all the element's bound\n     * listeners.\n     */\n    Object.defineProperty(Node.prototype, \"boundListeners\", {\n        value: new Set(),\n        writable: false,\n        configurable: true,\n        enumerable: true\n    });\n    /**\n     * @description Adds an event listener to the element.\n     * @param {string} type - The type of the event.\n     * @param {EventListenerOrEventListenerObject | (e: Event, el: this) => void} listener - The function\n     * or object that receives a notification.\n     * @param {Node} [boundTo=this] - The element or node to which the listener is bound. Defaults to the element itself.\n     * @param {boolean | AddEventListenerOptions} [options] - An options object that specifies characteristics about\n     * the event listener.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.addListener = function _addListener(type, listener, boundTo = this, options) {\n        const wrappedListener = ((e) => {\n            if (typeof listener === \"object\" && listener.handleEvent)\n                listener.handleEvent(e);\n            if (typeof listener === \"function\")\n                listener(e, this);\n        });\n        boundTo.boundListeners.add({\n            target: this,\n            type: type,\n            originalListener: listener,\n            listener: wrappedListener,\n            options: options\n        });\n        this.addEventListener(type, wrappedListener, options);\n        return this;\n    };\n    /**\n     * @description Removes an event listener that is bound to the element (in its boundListeners list).\n     * @param {string} type - The type of the event.\n     * @param {EventListenerOrEventListenerObject | (e: Event, el: this) => void} listener - The function\n     * or object that receives a notification.\n     * @param {boolean | EventListenerOptions} [options] - An options object that specifies characteristics about the\n     * event listener.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.removeListener = function _removeListener(type, listener, options) {\n        for (let entry of this.boundListeners) {\n            if (entry.type === type && entry.originalListener === listener && entry.options === options) {\n                entry.target.removeEventListener(type, entry.listener, options);\n                this.boundListeners.delete(entry);\n                break;\n            }\n        }\n        return this;\n    };\n    /**\n     * @description Removes all event listeners bound to the element (in its boundListeners list) assigned to the\n     * specified type.\n     * @param {string} type - The type of the event.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.removeListenersByType = function _removeListenersByType(type) {\n        for (let entry of this.boundListeners) {\n            if (entry.type === type) {\n                this.removeEventListener(type, entry.listener, entry.options);\n                this.boundListeners.delete(entry);\n            }\n        }\n        return this;\n    };\n    /**\n     * @description Removes all event listeners bound to the element (in its boundListeners list).\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.removeAllListeners = function _removeListeners() {\n        for (let entry of this.boundListeners) {\n            this.removeEventListener(entry.type, entry.listener, entry.options);\n            this.boundListeners.delete(entry);\n        }\n        return this;\n    };\n}\n\nfunction addStylesManipulationToElementPrototype() {\n    /**\n     * @description The closest root to the element in the document (the closest ShadowRoot, or the document's head).\n     */\n    Object.defineProperty(Node.prototype, \"closestRoot\", {\n        get: function () {\n            let node = this;\n            while (node) {\n                if (node instanceof Element && node.shadowRoot)\n                    return node.shadowRoot;\n                node = node.parentElement;\n            }\n            return document.head;\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Set a certain style attribute of the element to the provided value.\n     * @param {keyof CSSStyleDeclaration} attribute - A string representing the style attribute to set.\n     * @param {string | number} value - A string representing the value to set the attribute to.\n     * @param {boolean} [instant=false] - If true, will set the fields directly. Otherwise, will set them on next\n     * animation frame.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.setStyle = function _setStyle(attribute, value, instant = false) {\n        if (!attribute || value == undefined)\n            return this;\n        if (!(this instanceof HTMLElement) && !(this instanceof SVGElement))\n            return this;\n        if (!this.pendingStyles)\n            this.pendingStyles = {};\n        if (instant)\n            this.style[attribute] = value.toString();\n        else\n            this.pendingStyles[attribute] = value.toString();\n        if (!instant)\n            this.applyStyles();\n        return this;\n    };\n    /**\n     * @description Set a certain style attribute of the element to the provided value.\n     * @param {keyof CSSStyleDeclaration} attribute - A string representing the style attribute to set.\n     * @param {string} value - A string representing the value to set the attribute to.\n     * @param {string} [separator=\", \"] - The separator to use between the existing and new value.\n     * @param {boolean} [instant=false] - If true, will set the fields directly. Otherwise, will set them on next\n     * animation frame.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.appendStyle = function _appendStyle(attribute, value, separator = \", \", instant = false) {\n        if (!attribute || value == undefined)\n            return this;\n        if (!(this instanceof HTMLElement) && !(this instanceof SVGElement))\n            return this;\n        if (!this.pendingStyles)\n            this.pendingStyles = {};\n        const currentStyle = (this.style[attribute] || \"\");\n        separator = currentStyle.length > 0 ? separator : \"\";\n        if (instant)\n            this.style[attribute] = currentStyle + separator + value;\n        else\n            this.pendingStyles[attribute] = currentStyle + separator + value;\n        if (!instant)\n            this.applyStyles();\n        return this;\n    };\n    /**\n     * @description Parses and applies the given CSS to the element's inline styles.\n     * @param {StylesType} styles - A CSS string of style attributes and their values, seperated by semicolons,\n     * or an object of CSS properties. Use the css literal function for autocompletion.\n     * @param {boolean} [instant=false] - If true, will set the fields directly. Otherwise, will set them on next\n     * animation frame.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.setStyles = function _setStyles(styles, instant = false) {\n        if (!styles || typeof styles == \"number\")\n            return this;\n        if (!(this instanceof HTMLElement) && !(this instanceof SVGElement))\n            return this;\n        if (!this.pendingStyles)\n            this.pendingStyles = {};\n        if (typeof styles == \"string\")\n            styles.split(\";\").forEach(entry => {\n                const [property, value] = entry.split(\":\").map(part => part.trim());\n                if (!property || !value)\n                    return;\n                if (instant)\n                    this.style[property] = value;\n                else\n                    this.pendingStyles[property] = value;\n            });\n        else\n            for (const [property, value] of Object.entries(styles)) {\n                if (instant)\n                    this.style[property] = value.toString();\n                else\n                    this.pendingStyles[property] = value.toString();\n            }\n        if (!instant)\n            this.applyStyles();\n        return this;\n    };\n    /**\n     * @description Apply the pending styles to the element.\n     */\n    Node.prototype.applyStyles = function _applyStyles() {\n        if (!(this instanceof HTMLElement) && !(this instanceof SVGElement))\n            return;\n        requestAnimationFrame(() => {\n            for (const property in this.pendingStyles) {\n                if (property == \"cssText\")\n                    this.style.cssText += \";\" + this.pendingStyles[\"cssText\"];\n                else\n                    this.style[property] = this.pendingStyles[property];\n            }\n            this.pendingStyles = {};\n        });\n    };\n}\n\nvar Direction;\n(function (Direction) {\n    Direction[\"vertical\"] = \"vertical\";\n    Direction[\"horizontal\"] = \"horizontal\";\n})(Direction || (Direction = {}));\nvar SideH;\n(function (SideH) {\n    SideH[\"left\"] = \"left\";\n    SideH[\"right\"] = \"right\";\n})(SideH || (SideH = {}));\nvar SideV;\n(function (SideV) {\n    SideV[\"top\"] = \"top\";\n    SideV[\"bottom\"] = \"bottom\";\n})(SideV || (SideV = {}));\nvar Side;\n(function (Side) {\n    Side[\"top\"] = \"top\";\n    Side[\"bottom\"] = \"bottom\";\n    Side[\"left\"] = \"left\";\n    Side[\"right\"] = \"right\";\n})(Side || (Side = {}));\nvar InOut;\n(function (InOut) {\n    InOut[\"in\"] = \"in\";\n    InOut[\"out\"] = \"out\";\n})(InOut || (InOut = {}));\nvar OnOff;\n(function (OnOff) {\n    OnOff[\"on\"] = \"on\";\n    OnOff[\"off\"] = \"off\";\n})(OnOff || (OnOff = {}));\nvar Open;\n(function (Open) {\n    Open[\"open\"] = \"open\";\n    Open[\"closed\"] = \"closed\";\n})(Open || (Open = {}));\nvar Shown;\n(function (Shown) {\n    Shown[\"visible\"] = \"visible\";\n    Shown[\"hidden\"] = \"hidden\";\n})(Shown || (Shown = {}));\nvar AccessLevel;\n(function (AccessLevel) {\n    AccessLevel[\"public\"] = \"public\";\n    AccessLevel[\"protected\"] = \"protected\";\n    AccessLevel[\"private\"] = \"private\";\n})(AccessLevel || (AccessLevel = {}));\nvar Range;\n(function (Range) {\n    Range[\"min\"] = \"min\";\n    Range[\"max\"] = \"max\";\n})(Range || (Range = {}));\n\n/**\n * @class ReifectHandler\n * @description A class to handle reifects for an attached element.\n * @template {object = Node} ClassType\n */\nclass ReifectHandler {\n    attachedNode;\n    reifects;\n    _enabled;\n    /**\n     * @constructor\n     * @param {Node} attachedNode - The element to attach transitions to.\n     */\n    constructor(attachedNode) {\n        this.attachedNode = attachedNode;\n        this.reifects = [];\n        this._enabled = {};\n        this.enabled = true;\n    }\n    //Set management\n    /**\n     * @function attach\n     * @description Attach one or more transitions to the element.\n     * @param {StatefulReifect<any, ClassType>[]} reifects - The transition(s) to attach.\n     * @returns {this} The element's TransitionHandler instance.\n     */\n    attach(...reifects) {\n        reifects.forEach(entry => {\n            if (this.reifects.some(ref => ref.deref() == entry))\n                return;\n            this.reifects.push(new WeakRef(entry));\n            entry.attach(this.attachedNode);\n        });\n        return this;\n    }\n    /**\n     * @function detach\n     * @description Detach one or more transitions from the element.\n     * @param {StatefulReifect<any, ClassType>[]} reifects - The transition(s) to detach.\n     * @returns {this} The element's TransitionHandler instance.\n     */\n    detach(...reifects) {\n        reifects.forEach(entry => {\n            const attachedEntry = this.reifects.find(ref => ref.deref() == entry);\n            if (!attachedEntry)\n                return;\n            this.reifects.splice(this.reifects.indexOf(attachedEntry), 1);\n            entry.detach(this.attachedNode);\n        });\n        return this;\n    }\n    //Transition methods\n    /**\n     * @function initialize\n     * @description Initializes the element to the corresponding transition direction and styles.\n     * @param {StatefulReifect<State, ClassType>} reifect - The transition to initialize.\n     * @param {InOut} direction - The direction of the transition.\n     * @param {ReifectAppliedOptions<State, ClassType>} [options] - Optional styles to override the defaults. Set to\n     * `null` to not set any styles on the element.\n     * @returns {this} The element's TransitionHandler instance.\n     * @template {string | symbol | number} State\n     * @template {object} ClassType\n     */\n    initialize(reifect, direction, options) {\n        reifect.initialize(direction, this.attachedNode, options);\n        return this;\n    }\n    /**\n     * @function initialize\n     * @description Initializes the element to the corresponding transition direction and styles.\n     * @param {StatefulReifect<State, ClassType>} reifect - The transition to initialize.\n     * @param {InOut} direction - The direction of the transition.\n     * @param {ReifectAppliedOptions<State, ClassType>} [options] - Optional styles to override the defaults. Set to `null` to\n     * not set any styles on the element.\n     * @returns {this} The element's TransitionHandler instance.\n     * @template {string | symbol | number} State\n     * @template {object} ClassType\n     */\n    apply(reifect, direction, options) {\n        reifect.apply(direction, this.attachedNode, options);\n        return this;\n    }\n    /**\n     * @function initialize\n     * @description Initializes the element to the corresponding transition direction and styles.\n     * @param {StatefulReifect<State, ClassType>} reifect - The transition to initialize.\n     * @param {ReifectAppliedOptions<State, ClassType>} [options] - Optional styles to override the defaults. Set to\n     * `null` to not set any styles on the element.\n     * @returns {this} The element's TransitionHandler instance.\n     * @template {string | symbol | number} State\n     * @template {object} ClassType\n     */\n    toggle(reifect, options) {\n        reifect.toggle(this.attachedNode, options);\n        return this;\n    }\n    /**\n     * @private\n     * @function clear\n     * @description Clears the set transition styles on the element.\n     */\n    clear() {\n        if (!(this.attachedNode instanceof Node))\n            return;\n        this.attachedNode.setStyle(\"transition\", \"\", true);\n    }\n    /**\n     * @function reload\n     * @description Reloads all transitions attached to the element. Doesn't recompute styles.\n     */\n    reload() {\n        this.clear();\n        this.reifects.forEach(reifect => reifect.deref()?.reloadFor(this.attachedNode));\n    }\n    /**\n     * @function reload\n     * @description Reloads all transitions attached to the element. Doesn't recompute styles.\n     */\n    reloadTransitions() {\n        this.clear();\n        this.reifects.forEach(reifect => reifect.deref()?.reloadTransitionFor(this.attachedNode));\n    }\n    //State management\n    /**\n     * @description The enabled state of the reifect (as a {@link ReifectEnabledObject}). Setting it to a boolean will\n     * accordingly update the value of `enabled.global`.\n     */\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(value) {\n        if (typeof value == \"boolean\")\n            this._enabled.global = value;\n        else if (!value)\n            return;\n        else\n            for (const [key, state] of Object.entries(value))\n                this._enabled[key] = state;\n    }\n    getReifectEnabledState(reifect) {\n        return reifect.getObjectEnabledState(this.attachedNode);\n    }\n    enableReifect(reifect, value) {\n        reifect.enableObject(this.attachedNode, value);\n    }\n}\n\nfunction isNull(value) {\n    return value == null && value != undefined;\n}\nfunction isUndefined(value) {\n    return typeof value == \"undefined\";\n}\n\nfunction areEqual(...entries) {\n    if (entries.length < 2)\n        return true;\n    for (let i = 0; i < entries.length - 1; i++) {\n        if (entries[i] != entries[i + 1])\n            return false;\n    }\n    return true;\n}\nfunction equalToAny(entry, ...values) {\n    if (values.length < 1)\n        return true;\n    for (const value of values) {\n        if (entry == value)\n            return true;\n    }\n    return false;\n}\nfunction eachEqualToAny(values, ...entries) {\n    if (entries.length < 1)\n        return true;\n    for (const entry of entries) {\n        let equals = false;\n        for (const value of values) {\n            if (entry == value)\n                equals = true;\n        }\n        if (!equals)\n            return false;\n    }\n    return true;\n}\n\nfunction trim(value, max, min = 0) {\n    if (value < min)\n        value = min;\n    if (value > max)\n        value = max;\n    return value;\n}\nfunction mod(value, modValue = 0) {\n    while (value < 0)\n        value += modValue;\n    while (value >= modValue)\n        value -= modValue;\n    return value;\n}\n\n/**\n * @class StatefulReifect\n * @description A class to manage and apply dynamic state-based properties, styles, classes, and transitions to a\n * set of objects.\n *\n * @template {string | number | symbol} State - The type of the reifier's states.\n * @template {object} ClassType - The object type this reifier will be applied to.\n */\nclass StatefulReifect {\n    timeRegex = /^(\\d+(?:\\.\\d+)?)(ms|s)?$/i;\n    //List of attached objects\n    attachedObjects = [];\n    _states;\n    values;\n    /**\n     * @description Creates an instance of StatefulReifier.\n     * @param {StatefulReifectProperties<State, ClassType>} properties - The configuration properties.\n     */\n    constructor(properties) {\n        //Initializing enabled state\n        this.enable({\n            global: true, properties: true, classes: true, styles: true,\n            replaceWith: true, transition: true\n        });\n        this.properties = properties.properties || {};\n        this.classes = properties.classes || {};\n        this.styles = properties.styles || {};\n        this.replaceWith = properties.replaceWith || {};\n        this.transition = properties.transition ?? \"all 0s linear 0s\";\n        if (properties.transitionProperties)\n            this.transitionProperties = properties.transitionProperties;\n        if (properties.transitionDuration !== undefined)\n            this.transitionDuration = properties.transitionDuration;\n        if (properties.transitionTimingFunction)\n            this.transitionTimingFunction = properties.transitionTimingFunction;\n        if (properties.transitionDelay !== undefined)\n            this.transitionDelay = properties.transitionDelay;\n        //Disable transition if undefined\n        if (!properties.transition && !properties.transitionProperties && !properties.transitionDuration\n            && !properties.transitionTimingFunction && !properties.transitionDelay)\n            this.transitionEnabled = false;\n        if (properties.states)\n            this.states = properties.states;\n        if (properties.attachedObjects)\n            this.attachAll(...properties.attachedObjects);\n    }\n    /*\n     *\n     * *********************************\n     *\n     * Attached objects management\n     *\n     * *********************************\n     *\n     */\n    /**\n     * @function attach\n     * @description Attaches an object to the reifier.\n     * @param {ClassType} object - The object to attach.\n     * @param {(state: State, index: number, total: number, object: ClassType) => void} [onSwitch] - Optional\n     * callback fired when the reifier is applied to the object. The callback takes as parameters:\n     * - `state: State`: The state being applied to the object.\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     * @param {number} [index] - Optional index to specify the position at which to insert the object in the reifier's\n     * attached list.\n     * @returns {this} - The reifier itself, for method chaining.\n     */\n    attach(object, onSwitch, index) {\n        const data = this.getData(object);\n        if (data && onSwitch)\n            data.onSwitch = onSwitch;\n        if (data)\n            return;\n        this.attachObject(object, index, onSwitch);\n        return this;\n    }\n    /**\n     * @function attachAll\n     * @description Attaches multiple objects to the reifier.\n     * @param {...ClassType[]} objects - The objects to attach.\n     * @returns {this} - The reifier itself, for method chaining.\n     */\n    attachAll(...objects) {\n        objects.forEach(object => {\n            if (this.getData(object))\n                return;\n            this.attachObject(object);\n        });\n        return this;\n    }\n    /**\n     * @function attachAllAt\n     * @description Attaches multiple objects to the reifier at a specified index.\n     * @param {number} index - The index to specify the position at which to insert the objects in the reifier's\n     * attached list.\n     * @param {...ClassType[]} objects - The objects to attach.\n     * @returns {this} - The reifier itself, for method chaining.\n     */\n    attachAllAt(index, ...objects) {\n        objects.forEach((object, count) => {\n            if (this.getData(object))\n                return;\n            this.attachObject(object, index + count);\n        });\n        return this;\n    }\n    /**\n     * @function detach\n     * @description Detaches one or more objects from the reifier.\n     * @param {...ClassType[]} objects - The objects to detach.\n     * @returns {this} - The reifier itself, for method chaining.\n     */\n    detach(...objects) {\n        objects.forEach(object => {\n            const data = this.getData(object);\n            if (!data)\n                return;\n            this.detachObject(data);\n        });\n        return this;\n    }\n    /**\n     * @protected\n     * @function attachObject\n     * @description Function used to generate a data entry for the given object, and add it to the attached list at\n     * the provided index (if any).\n     * @param {ClassType} object - The object to attach\n     * @param {number} [index] - Optional index to specify the position at which to insert the object in the reifier's\n     * attached list.\n     * @param {(state: State, index: number, total: number, object: ClassType) => void} [onSwitch] - Optional\n     * callback fired when the reifier is applied to the object. The callback takes as parameters:\n     * - `state: State`: The state being applied to the object.\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     * @returns {ReifectObjectData<State, ClassType>} - The created data entry.\n     */\n    attachObject(object, index, onSwitch) {\n        if (index == undefined || isNaN(index))\n            index = this.attachedObjects.length;\n        if (index < 0)\n            index = 0;\n        const data = this.generateNewData(object, onSwitch);\n        this.attachedObjects.splice(index, 0, data);\n        object.reifects?.attach(this);\n        data.lastState = this.stateOf(object);\n        this.applyResolvedValues(data, false, true);\n        // this.applyTransition(data);\n        return data;\n    }\n    /**\n     * @protected\n     * @function detachObject\n     * @description Function used to remove a data entry from the attached objects list.\n     * @param {ReifectObjectData<State, ClassType>} data - The data entry to remove.\n     */\n    detachObject(data) {\n        this.attachedObjects.splice(this.attachedObjects.indexOf(data), 1);\n    }\n    /**\n     * @function getData\n     * @description Retrieve the data entry of a given object.\n     * @param {ClassType} object - The object to find the data of.\n     * @returns {ReifectObjectData<State, ClassType>} - The corresponding data, or `null` if was not found.\n     */\n    getData(object) {\n        if (!object)\n            return null;\n        for (const entry of this.attachedObjects) {\n            const entryObject = this.getObject(entry);\n            if (entryObject && entryObject == object)\n                return entry;\n        }\n        return null;\n    }\n    /**\n     * @function getObject\n     * @description Retrieves the object attached to the given data entry.\n     * @param {ReifectObjectData<State, ClassType>} data - The data entry to get the corresponding object of.\n     * @returns {ClassType} The corresponding object, or `null` if was garbage collected.\n     */\n    getObject(data) {\n        if (!data)\n            return null;\n        const object = data.object.deref();\n        return object || null;\n    }\n    /*\n     *\n     * *********************************\n     *\n     * States stuff\n     *\n     * *********************************\n     *\n     */\n    /**\n     * @description All possible states.\n     */\n    get states() {\n        return this._states;\n    }\n    set states(value) {\n        if (!value)\n            this._states = this.getAllStates();\n        else\n            this._states = value;\n    }\n    /**\n     * @function stateOf\n     * @description Determine the current state of the reifect on the provided object.\n     * @param {ClassType} object - The object to determine the state for.\n     * @returns {State | undefined} - The current state of the reifect or undefined if not determinable.\n     */\n    stateOf(object) {\n        if (!object)\n            return undefined;\n        const data = this.getData(object);\n        if (!data)\n            return undefined;\n        if (data.lastState)\n            return data.lastState;\n        if (!(object instanceof HTMLElement))\n            return this.states[0];\n        if (!data.resolvedValues)\n            this.processRawProperties(data);\n        for (const state of this.states) {\n            if (!data.resolvedValues?.styles?.[state])\n                continue;\n            let matches = true;\n            for (const [property, value] of Object.entries(data.resolvedValues.styles[state])) {\n                if (object.style[property] != value) {\n                    matches = false;\n                    break;\n                }\n            }\n            if (!matches)\n                continue;\n            data.lastState = state;\n            return state;\n        }\n        return this.states[0];\n    }\n    getAllStates() {\n        const states = [...this.states];\n        for (const values of [this.properties,\n            this.classes, this.styles, this.replaceWith]) {\n            if (typeof values != \"object\")\n                continue;\n            for (const state of Object.keys(values)) {\n                if (!states.includes(state))\n                    states.push(state);\n            }\n        }\n        if (states.length == 0)\n            console.warn(\"No states found for this particular reifect:\", this);\n        return states;\n    }\n    /**\n     * @protected\n     * @function parseState\n     * @description Parses a boolean into the corresponding state value.\n     * @param {State | boolean} value - The value to parse.\n     * @returns {State} The parsed value, or `null` if the boolean could not be parsed.\n     */\n    parseState(value) {\n        if (typeof value != \"boolean\")\n            return this.states.includes(value) ? value : this.states[0];\n        else\n            for (const str of value ? [\"true\", \"on\", \"in\", \"enabled\", \"shown\"]\n                : [\"false\", \"off\", \"out\", \"disabled\", \"hidden\"]) {\n                if (!this.states.includes(str))\n                    continue;\n                return str;\n            }\n        return this.states[0];\n    }\n    /*\n     *\n     * *********************************\n     *\n     * Enabled stuff\n     *\n     * *********************************\n     *\n     */\n    set enabled(value) {\n        this.refreshResolvedValues();\n    }\n    set propertiesEnabled(value) {\n        this.refreshProperties();\n    }\n    set stylesEnabled(value) {\n        this.refreshStyles();\n    }\n    set classesEnabled(value) {\n        this.refreshClasses();\n    }\n    set replaceWithEnabled(value) {\n        this.refreshReplaceWith();\n    }\n    set transitionEnabled(value) {\n        this.refreshTransition();\n    }\n    /**\n     * @function enable\n     * @description Sets/updates the `enabled` value corresponding to the provided object for this reifier.\n     * @param {ClassType} object - The object to set the state of.\n     * @param {boolean | ReifectEnabledObject} value - The value to set/update with. Setting it to a boolean will\n     * accordingly update the value of `enabled.global`.\n     */\n    enable(value, object) {\n        if (typeof value === \"boolean\")\n            this.enabled = value;\n        else if (!value)\n            return;\n        else\n            Object.entries(value).forEach(([key, value]) => {\n                if (key == \"global\")\n                    this.enabled = value;\n                else\n                    this[key + \"Enabled\"] = value;\n            });\n    }\n    enableObject(object, value) {\n        const data = this.getData(object);\n        if (!data)\n            return;\n        if (typeof value == \"boolean\")\n            data.enabled.global = value;\n        else if (!value)\n            return;\n        else\n            Object.entries(value).forEach(([key, value]) => data.enabled[key] = value);\n    }\n    /**\n     * @function getObjectEnabledState\n     * @description Returns the `enabled` value corresponding to the provided object for this reifier.\n     * @param {ClassType} object - The object to get the state of.\n     * @returns {ReifectEnabledObject} - The corresponding enabled state.\n     */\n    getObjectEnabledState(object) {\n        return this.getData(object)?.enabled;\n    }\n    /*\n     *\n     * *********************************\n     *\n     * Properties stuff\n     *\n     * *********************************\n     *\n     */\n    /**\n     * @description The properties to be assigned to the objects. It could take:\n     * - A record of `{key: value}` pairs.\n     * - A record of `{state: {key: value} pairs or an interpolation function that would return a record of\n     * {key: value} pairs}`.\n     * - An interpolation function that would return a record of `{key: value}` pairs based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set properties(value) {\n    }\n    /**\n     * @description The styles to be assigned to the objects (only if they are eligible elements). It could take:\n     * - A record of `{CSS property: value}` pairs.\n     * - A record of `{state: {CSS property: value} pairs or an interpolation function that would return a record of\n     * {key: value} pairs}`.\n     * - An interpolation function that would return a record of `{key: value}` pairs based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set styles(value) {\n    }\n    /**\n     * @description The classes to be assigned to the objects (only if they are eligible elements). It could take:\n     * - A string of space-separated classes.\n     * - An array of classes.\n     * - A record of `{state: space-separated class string, array of classes, or an interpolation function that would\n     * return any of the latter}`.\n     * - An interpolation function that would return a string of space-separated classes or an array of classes based\n     * on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set classes(value) {\n    }\n    /**\n     * @description The object that should replace (in the DOM as well if eligible) the attached objects. It could take:\n     * - The object to be replaced with.\n     * - A record of `{state: object to be replaced with, or an interpolation function that would return an object\n     * to be replaced with}`.\n     * - An interpolation function that would return the object to be replaced with based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set replaceWith(value) {\n    }\n    /**\n     * @description The property(ies) to apply a CSS transition on, on the attached objects. Defaults to \"all\". It\n     * could take:\n     * - A string of space-separated CSS properties.\n     * - An array of CSS properties.\n     * - A record of `{state: space-separated CSS properties string, array of CSS properties, or an interpolation\n     * function that would return any of the latter}`.\n     * - An interpolation function that would return a string of space-separated CSS properties or an array of\n     * CSS properties based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set transitionProperties(value) {\n    }\n    /**\n     * @description The duration of the CSS transition to apply on the attached objects. Defaults to 0. It could take:\n     * - A numerical value (in seconds).\n     * - A record of `{state: duration (number in seconds) or an interpolation function that would return a duration\n     * (number in seconds)}`.\n     * - An interpolation function that would return a duration (number in seconds) based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set transitionDuration(value) {\n    }\n    /**\n     * @description The timing function of the CSS transition to apply on the attached objects. Defaults to \"linear.\"\n     * It could take:\n     * - A string representing the timing function to apply.\n     * - A record of `{state: timing function (string) or an interpolation function that would return a timing\n     * function (string)}`.\n     * - An interpolation function that would return a timing function (string) based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set transitionTimingFunction(value) {\n    }\n    /**\n     * @description The delay of the CSS transition to apply on the attached objects. Defaults to 0. It could take:\n     * - A numerical value (in seconds).\n     * - A record of `{state: delay (number in seconds) or an interpolation function that would return a delay\n     * (number in seconds)}`.\n     * - An interpolation function that would return a delay (number in seconds) based on the state value.\n     *\n     * The interpolation function would take as arguments:\n     * - `state: State`: the state being applied to the object(s). Only passed to the callback function if it is\n     * defined for the whole field (and not for a specific state).\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    set transitionDelay(value) {\n    }\n    set transition(value) {\n        if (!value)\n            return;\n        const object = typeof value === \"string\"\n            ? this.processTransitionString(value)\n            : this.processTransitionObject(value);\n        if (object.transitionProperties !== undefined)\n            this.transitionProperties = object.transitionProperties;\n        if (object.transitionDuration !== undefined)\n            this.transitionDuration = object.transitionDuration;\n        if (object.transitionDelay !== undefined)\n            this.transitionDelay = object.transitionDelay;\n        if (object.transitionTimingFunction !== undefined)\n            this.transitionTimingFunction = object.transitionTimingFunction;\n    }\n    processTransitionObject(transitionObject) {\n        const transitionValues = {};\n        for (const [state, entry] of Object.entries(transitionObject)) {\n            if (!this.states.includes(state))\n                continue;\n            if (typeof entry !== \"string\")\n                continue;\n            const object = this.processTransitionString(entry);\n            if (object.transitionProperties !== undefined)\n                transitionValues.transitionProperties[state] = object.transitionProperties;\n            if (object.transitionDuration !== undefined)\n                transitionValues.transitionDuration[state] = object.transitionDuration;\n            if (object.transitionDelay !== undefined)\n                transitionValues.transitionDelay[state] = object.transitionDelay;\n            if (object.transitionTimingFunction !== undefined)\n                transitionValues.transitionTimingFunction[state] = object.transitionTimingFunction;\n        }\n        return transitionValues;\n    }\n    processTransitionString(transitionString) {\n        // Normalize commas → spaces, split & filter\n        const tokens = transitionString.trim().replace(/,/g, \" \").split(/\\s+/).filter(t => t.length > 0);\n        const object = { transitionProperties: [] };\n        let i = 0;\n        //Properties\n        while (i < tokens.length && !this.timeRegex.test(tokens[i])) {\n            object.transitionProperties.push(tokens[i]);\n            i++;\n        }\n        //Duration\n        if (i < tokens.length) {\n            const duration = this.parseTime(tokens[i]);\n            if (!isNaN(duration))\n                object.transitionDuration = duration;\n            i++;\n        }\n        //Timing function\n        if (i < tokens.length) {\n            object.transitionTimingFunction = tokens[i];\n            i++;\n        }\n        //Delay\n        if (i < tokens.length) {\n            const delay = this.parseTime(tokens[i]);\n            if (!isNaN(delay))\n                object.transitionDelay = delay;\n            i++;\n        }\n        return object;\n    }\n    /**\n     * @function getTransitionString\n     * @description Gets the CSS transition string for the specified direction.\n     * @param {ReifectObjectData<State, ClassType>} data - The target element's transition data entry.\n     * @param state\n     * @returns {string} The CSS transition string.\n     */\n    getTransitionString(data, state = data.lastState) {\n        let transitionString = \"\";\n        data.resolvedValues.transitionProperties[state].forEach(property => transitionString\n            += \", \" + property + \" \" + (data.resolvedValues.transitionDuration[state] || 0) + \"s \"\n                + (data.resolvedValues.transitionTimingFunction[state] || \"linear\") + \" \"\n                + (data.resolvedValues.transitionDelay[state] || 0) + \"s\");\n        return transitionString.substring(2);\n    }\n    /*\n     *\n     * *********************************\n     *\n     * Usage methods\n     *\n     * *********************************\n     *\n     */\n    initialize(state, objects, options) {\n        if (!this.enabled)\n            return;\n        state = this.parseState(state);\n        options = this.initializeOptions(options, objects);\n        this.getEnabledObjectsData(objects, options).forEach(data => {\n            if (options.recomputeProperties || !data.resolvedValues)\n                this.processRawProperties(data, options.propertiesOverride);\n            data.lastState = state;\n            this.applyResolvedValues(data, true, options?.applyStylesInstantly);\n            if (data.onSwitch)\n                data.onSwitch(state, data.objectIndex, data.totalObjectCount, this.getObject(data));\n        });\n    }\n    apply(state, objects, options) {\n        if (!this.enabled)\n            return;\n        state = this.parseState(state);\n        options = this.initializeOptions(options, objects);\n        this.getEnabledObjectsData(objects, options).forEach(data => {\n            if (options.recomputeProperties || !data.resolvedValues)\n                this.processRawProperties(data, options.propertiesOverride);\n            data.lastState = state;\n            this.applyResolvedValues(data, false, options?.applyStylesInstantly);\n            if (data.onSwitch)\n                data.onSwitch(state, data.objectIndex, data.totalObjectCount, this.getObject(data));\n        });\n    }\n    toggle(objects, options) {\n        if (!this.enabled)\n            return;\n        if (!objects)\n            objects = [];\n        else if (objects instanceof HTMLCollection)\n            objects = [...objects];\n        else if (!Array.isArray(objects))\n            objects = [objects];\n        const previousState = this.getData(objects[0])?.lastState;\n        const nextStateIndex = mod(!previousState ? 0 : this.states.indexOf(previousState) + 1, this.states.length);\n        this.apply(this.states[nextStateIndex], objects, options);\n    }\n    /**\n     * @function reloadFor\n     * @description Generates the transition CSS string for the provided transition with the correct interpolation\n     * information.\n     * @param {ClassType} object - The element to apply the string to.\n     * @returns {this} Itself for method chaining.\n     */\n    reloadFor(object) {\n        if (!this.enabled)\n            return this;\n        const data = this.getData(object);\n        if (!data || !data.enabled || !data.enabled.global)\n            return this;\n        this.applyResolvedValues(data);\n        return this;\n    }\n    reloadTransitionFor(object) {\n        if (!this.enabled || !this.transitionEnabled)\n            return this;\n        const data = this.getData(object);\n        if (!data || !data.enabled || !data.enabled.global || !data.enabled.transition)\n            return this;\n        this.applyTransition(data, data.lastState);\n        return this;\n    }\n    getEnabledObjectsData(objects, options) {\n        if (!this.enabled) {\n            console.warn(\"The reifier object you are trying to access is disabled.\");\n            return [];\n        }\n        if (!objects)\n            objects = [];\n        else if (objects instanceof HTMLCollection)\n            objects = [...objects];\n        else if (!Array.isArray(objects))\n            objects = [objects];\n        options = this.initializeOptions(options, objects);\n        if (options.attachObjects)\n            objects.forEach(element => this.attach(element));\n        if (options.executeForAll) {\n            objects = [];\n            this.attachedObjects.forEach(entry => {\n                const object = entry.object.deref();\n                if (object)\n                    objects.push(object);\n            });\n        }\n        const enabledObjectsData = [];\n        objects.forEach((object) => {\n            const data = this.getData(object) || this.generateNewData(object);\n            if (!this.filterEnabledObjects(data))\n                return;\n            if (options.recomputeIndices || data.objectIndex == undefined)\n                data.objectIndex = enabledObjectsData.length;\n            enabledObjectsData.push(data);\n        });\n        enabledObjectsData.forEach(data => {\n            if (options.recomputeIndices || data.totalObjectCount == undefined) {\n                data.totalObjectCount = enabledObjectsData.length;\n            }\n        });\n        return enabledObjectsData;\n    }\n    /*\n     *\n     * *********************************\n     *\n     * Property setting stuff\n     *\n     * *********************************\n     *\n     */\n    applyResolvedValues(data, skipTransition = false, applyStylesInstantly = false) {\n        this.applyStyles(data, data.lastState, applyStylesInstantly);\n        if (!skipTransition) {\n            const handler = data.object.deref()?.reifects;\n            if (this.attachedObjects.includes(data) && handler)\n                handler.reloadTransitions();\n            else\n                this.applyTransition(data, data.lastState);\n        }\n        this.applyReplaceWith(data, data.lastState);\n        this.applyProperties(data, data.lastState);\n        this.applyClasses(data, data.lastState);\n    }\n    refreshResolvedValues() {\n        this.refreshProperties();\n        this.refreshStyles();\n        this.refreshClasses();\n        this.refreshReplaceWith();\n        this.refreshTransition();\n    }\n    applyProperties(data, state = data.lastState) {\n        if (!this.enabled || !this.propertiesEnabled)\n            return;\n        if (!data.enabled.global || !data.enabled.properties)\n            return;\n        const properties = data.resolvedValues?.properties?.[state];\n        if (!properties)\n            return;\n        const object = data.object.deref();\n        if (!object)\n            return;\n        for (const [field, value] of Object.entries(properties)) {\n            if (!field || value == undefined)\n                continue;\n            try {\n                object[field] = value;\n            }\n            catch (e) {\n                console.error(`Unable to set property ${field} to ${value}: ${e.message}`);\n            }\n        }\n    }\n    refreshProperties() {\n        if (!this.enabled || !this.propertiesEnabled)\n            return;\n        this.attachedObjects.forEach(data => this.applyProperties(data));\n    }\n    applyReplaceWith(data, state = data.lastState) {\n        if (!this.enabled || !this.replaceWithEnabled)\n            return;\n        if (!data.enabled.global || !data.enabled.replaceWith)\n            return;\n        const newObject = data.resolvedValues.replaceWith[state];\n        if (!newObject)\n            return;\n        try {\n            const object = data.object.deref();\n            if (object && object instanceof Node && newObject instanceof Node)\n                object.parentNode?.replaceChild(newObject, object);\n            data.object = new WeakRef(newObject);\n        }\n        catch (e) {\n            console.error(`Unable to replace object: ${e.message}`);\n        }\n    }\n    refreshReplaceWith() {\n        if (!this.enabled || !this.replaceWithEnabled)\n            return;\n        this.attachedObjects.forEach(data => this.applyReplaceWith(data));\n    }\n    applyClasses(data, state = data.lastState) {\n        if (!this.enabled || !this.classesEnabled)\n            return;\n        if (!data.enabled.global || !data.enabled.classes)\n            return;\n        const classes = data.resolvedValues.classes;\n        if (!classes)\n            return;\n        const object = data.object.deref();\n        if (!object || !(object instanceof Element))\n            return;\n        for (const [key, value] of Object.entries(classes)) {\n            object.toggleClass(value, state == key);\n        }\n    }\n    refreshClasses() {\n        if (!this.enabled || !this.classesEnabled)\n            return;\n        this.attachedObjects.forEach(data => this.applyClasses(data));\n    }\n    applyStyles(data, state = data.lastState, applyStylesInstantly = false) {\n        if (!this.enabled || !this.stylesEnabled)\n            return;\n        if (!data.enabled.global || !data.enabled.styles)\n            return;\n        const object = data.object.deref();\n        if (!object || !(object instanceof Element))\n            return;\n        object.setStyles(data.resolvedValues.styles[state], applyStylesInstantly);\n    }\n    refreshStyles() {\n        if (!this.enabled || !this.stylesEnabled)\n            return;\n        this.attachedObjects.forEach(data => this.applyStyles(data));\n    }\n    applyTransition(data, state = data.lastState) {\n        if (!this.enabled || !this.transitionEnabled)\n            return;\n        if (!data.enabled.global || !data.enabled.transition)\n            return;\n        const object = data.object.deref();\n        if (!object || !(object instanceof Element) || !data.resolvedValues)\n            return;\n        object.appendStyle(\"transition\", this.getTransitionString(data, state), \", \", true);\n    }\n    refreshTransition() {\n        for (const data of this.attachedObjects) {\n            const handler = data.object?.deref()?.reifects;\n            if (handler)\n                handler.reloadTransitions();\n        }\n    }\n    //General methods (to be overridden for custom functionalities)\n    filterEnabledObjects(data) {\n        if (!data.enabled || !data.enabled.global) {\n            console.warn(\"The reified properties instance you are trying to set on an object is \" +\n                \"disabled for this particular object.\");\n            return false;\n        }\n        return true;\n    }\n    //Utilities\n    processRawProperties(data, override) {\n        if (!data.resolvedValues)\n            data.resolvedValues = {\n                properties: undefined,\n                styles: undefined,\n                classes: undefined,\n                replaceWith: undefined,\n                transitionProperties: undefined,\n                transitionDuration: undefined,\n                transitionTimingFunction: undefined,\n                transitionDelay: undefined\n            };\n        if (isNull(override))\n            return;\n        const rawProperties = {\n            properties: this.properties,\n            styles: this.styles,\n            classes: this.classes,\n            replaceWith: this.replaceWith,\n            transitionProperties: this.transitionProperties,\n            transitionDuration: this.transitionDuration,\n            transitionTimingFunction: this.transitionTimingFunction,\n            transitionDelay: this.transitionDelay,\n            ...(override || {})\n        };\n        data.resolvedValues.properties = {};\n        this.states.forEach(state => this.processRawPropertyForState(data, \"properties\", rawProperties.properties, state));\n        if (\"transitionProperties\" in rawProperties) {\n            data.resolvedValues.transitionProperties = {};\n            this.states.forEach(state => this.processRawPropertyForState(data, \"transitionProperties\", rawProperties.transitionProperties, state));\n        }\n        for (const [field, values] of Object.entries(rawProperties)) {\n            if (field == \"transitionProperties\" || field == \"properties\")\n                continue;\n            data.resolvedValues[field] = {};\n            this.states.forEach(state => this.processRawPropertyForState(data, field, values, state));\n        }\n    }\n    generateNewData(object, onSwitch) {\n        return {\n            object: new WeakRef(object),\n            enabled: { global: true, properties: true, classes: true, styles: true, replaceWith: true, transition: true },\n            lastState: this.stateOf(object),\n            onSwitch: onSwitch\n        };\n    }\n    initializeOptions(options, objects) {\n        if (!objects)\n            objects = [];\n        else if (objects instanceof HTMLCollection)\n            objects = [...objects];\n        else if (!Array.isArray(objects))\n            objects = [objects];\n        options = options || {};\n        options.attachObjects = options.attachObjects ?? true;\n        options.executeForAll = options.executeForAll ?? (objects.length === 0);\n        options.recomputeIndices = options.recomputeIndices ?? (objects.length !== 0);\n        options.recomputeProperties = options.recomputeProperties ?? (objects.length !== 0);\n        return options;\n    }\n    /**\n     * @description Clone the reifect to create a new copy with the same properties but no attached objects.\n     * @returns {StatefulReifect<State, ClassType>} - The new reifect.\n     */\n    clone() {\n        return new StatefulReifect({\n            states: this.states,\n            properties: this.properties,\n            classes: this.classes,\n            styles: this.styles,\n            replaceWith: this.replaceWith,\n            transitionProperties: this.transitionProperties,\n            transitionDuration: this.transitionDuration,\n            transitionTimingFunction: this.transitionTimingFunction,\n            transitionDelay: this.transitionDelay,\n        });\n    }\n    processRawPropertyForState(data, field, value, state) {\n        let resolvedValue;\n        const object = data.object.deref();\n        if (!object)\n            return;\n        if (typeof value == \"function\") {\n            resolvedValue = value(state, data.objectIndex, data.totalObjectCount, object);\n        }\n        else if (typeof value == \"object\" && eachEqualToAny(this.states, ...Object.keys(value))) {\n            const currentValue = value[state];\n            if (typeof currentValue == \"function\")\n                resolvedValue = currentValue(data.objectIndex, data.totalObjectCount, object);\n            else\n                resolvedValue = currentValue;\n        }\n        else\n            resolvedValue = value;\n        if ((field == \"properties\" || field == \"transitionProperties\") && typeof resolvedValue == \"string\") {\n            resolvedValue = resolvedValue.split(\" \");\n        }\n        else if (field == \"styles\") {\n            if (data.resolvedValues.styles[state] == undefined)\n                data.resolvedValues.styles[state] = {};\n            if (typeof resolvedValue == \"number\") {\n                data.resolvedValues.transitionProperties[state].forEach(property => data.resolvedValues.styles[state][property] = resolvedValue);\n                return;\n            }\n            else if (typeof resolvedValue == \"string\") {\n                const splitStyles = resolvedValue.split(\";\")\n                    .map(entry => entry.split(\":\")\n                    .map(part => part.trim()));\n                if (splitStyles.length == 1 && splitStyles[0].length == 1) {\n                    data.resolvedValues.transitionProperties[state].forEach(property => data.resolvedValues.styles[state][property] = splitStyles[0][0]);\n                    return;\n                }\n            }\n        }\n        data.resolvedValues[field][state] = resolvedValue;\n    }\n    /**\n     * @description Processes string durations like \"200ms\" or \"0.3s\", or even \"100\".\n     * @param value\n     * @private\n     */\n    parseTime(value) {\n        const matches = value.match(this.timeRegex);\n        if (!matches)\n            return NaN;\n        const num = parseFloat(matches[1]);\n        const unit = matches[2]?.toLowerCase() ?? \"s\";\n        return unit === \"ms\" ? num / 1000 : num;\n    }\n}\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"enabled\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"propertiesEnabled\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"stylesEnabled\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"classesEnabled\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"replaceWithEnabled\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"transitionEnabled\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"properties\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"styles\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"classes\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"replaceWith\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"transitionProperties\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"transitionDuration\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"transitionTimingFunction\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"transitionDelay\", null);\n__decorate([\n    auto()\n], StatefulReifect.prototype, \"transition\", null);\nfunction statefulReifier(properties) {\n    return new StatefulReifect(properties);\n}\n\nfunction addReifectManagementToNodePrototype() {\n    const showTransition = new StatefulReifect({\n        states: [Shown.visible, Shown.hidden],\n        styles: (state) => `visibility: ${state}`\n    });\n    /**\n     * @description Adds a readonly \"reifects\" property to Node prototype.\n     */\n    Object.defineProperty(Node.prototype, \"reifects\", {\n        get: function () {\n            if (!this._reifects)\n                this._reifects = new ReifectHandler(this);\n            return this._reifects;\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Adds a configurable \"showTransition\" property to Node prototype. Defaults to a global\n     * transition assigned to all nodes.\n     */\n    Object.defineProperty(Node.prototype, \"showTransition\", {\n        value: showTransition,\n        writable: true,\n        configurable: true,\n        enumerable: true\n    });\n    /**\n     * @description Boolean indicating whether the node is shown or not, based on its showTransition.\n     */\n    Object.defineProperty(Node.prototype, \"isShown\", {\n        get: function () {\n            const state = this.showTransition.stateOf(this);\n            if (state == Shown.visible)\n                return true;\n            else if (state == Shown.hidden)\n                return false;\n            return this.style.display != \"none\" && this.style.visibility != \"hidden\" && this.style.opacity != \"0\";\n        },\n        configurable: false,\n        enumerable: true\n    });\n    /**\n     * @description Show or hide the element (based on CSS) by transitioning in/out of the element's showTransition.\n     * @param {boolean} b - Whether to show the element or not\n     * @param {ReifectAppliedOptions<Shown>} [options={executeForAll: false}] - The options to pass to the reifect\n     * execution.\n     * @returns {this} Itself, allowing for method chaining.\n     */\n    Node.prototype.show = function _show(b, options = { executeForAll: false }) {\n        if (!(this instanceof HTMLElement) && !(this instanceof SVGElement))\n            return this;\n        this.showTransition.apply(b ? Shown.visible : Shown.hidden, this, options);\n        return this;\n    };\n}\n\n//TODO ADD CONFIG\nfunction turbofy() {\n    addClassManipulationToElementPrototype();\n    addChildManipulationToElementPrototype();\n    addListenerManipulationToElementPrototype();\n    addElementManipulationToElementPrototype();\n    addStylesManipulationToElementPrototype();\n    updateChainingPropertiesInElementPrototype();\n    addReifectManagementToNodePrototype();\n}\n\nconst TurboKeyEventName = {\n    keyPressed: \"turbo-key-pressed\",\n    keyReleased: \"turbo-key-released\"\n};\nconst TurboClickEventName = {\n    click: \"turbo-click\",\n    clickStart: \"turbo-click-start\",\n    clickEnd: \"turbo-click-end\",\n    longPress: \"turbo-long-press\"\n};\nconst TurboMoveName = {\n    move: \"turbo-move\"\n};\nconst TurboDragEventName = {\n    drag: \"turbo-drag\",\n    dragStart: \"turbo-drag-start\",\n    dragEnd: \"turbo-drag-end\"\n};\nconst TurboWheelEventName = {\n    trackpadScroll: \"turbo-trackpad-scroll\",\n    trackpadPinch: \"turbo-trackpad-pinch\",\n    mouseWheel: \"turbo-mouse-wheel\"\n};\nconst TurboEventName = {\n    ...TurboClickEventName,\n    ...TurboKeyEventName,\n    ...TurboMoveName,\n    ...TurboDragEventName,\n    ...TurboWheelEventName,\n    selectInput: \"turbo-select-input\",\n};\n/**\n * @description Object containing the names of events fired by default by the turboComponents. Modifying it (prior to\n * setting up new turbo components) will subsequently alter the events that the instantiated components will listen for.\n */\nconst DefaultEventName = {\n    keyPressed: \"keydown\",\n    keyReleased: \"keyup\",\n    click: \"click\",\n    clickStart: \"mousedown\",\n    clickEnd: \"mouseup\",\n    longPress: TurboEventName.longPress,\n    move: \"mousemove\",\n    drag: TurboEventName.drag,\n    dragStart: TurboEventName.dragStart,\n    dragEnd: TurboEventName.dragEnd,\n    wheel: \"wheel\",\n    trackpadScroll: \"wheel\",\n    trackpadPinch: \"wheel\",\n    mouseWheel: \"wheel\",\n    scroll: \"scroll\",\n    input: \"input\",\n    change: \"change\",\n    focus: \"focus\",\n    blur: \"blur\",\n    resize: \"resize\"\n};\n\nvar ClosestOrigin;\n(function (ClosestOrigin) {\n    ClosestOrigin[\"target\"] = \"target\";\n    ClosestOrigin[\"position\"] = \"position\";\n})(ClosestOrigin || (ClosestOrigin = {}));\n\n/**\n * Generic turbo event\n */\nclass TurboEvent extends Event {\n    /**\n     * @description The click mode of the fired event\n     */\n    clickMode;\n    /**\n     * @description The keys pressed when the event was fired\n     */\n    keys;\n    /**\n     * @description The screen position from where the event was fired\n     */\n    position;\n    /**\n     * @description Callback function (or boolean) to be overridden to specify when to allow transformation\n     * and/or scaling.\n     */\n    authorizeScaling;\n    /**\n     * @description Callback function to be overridden to specify how to transform a position from screen to\n     * document space.\n     */\n    scalePosition;\n    constructor(position, clickMode, keys, eventName, authorizeScaling, scalePosition, eventInitDict) {\n        super(eventName, { bubbles: true, cancelable: true, ...eventInitDict });\n        this.authorizeScaling = authorizeScaling ?? true;\n        this.scalePosition = scalePosition ?? ((position) => position);\n        this.clickMode = clickMode;\n        this.keys = keys;\n        this.position = position;\n    }\n    /**\n     * @description Returns the closest element of the provided type to the target (Searches through the element and\n     * all its parents to find one of matching type).\n     * @param type\n     * @param strict\n     * @param from\n     */\n    closest(type, strict = true, from = ClosestOrigin.target) {\n        const elements = from == ClosestOrigin.target ? [this.target]\n            : document.elementsFromPoint(this.position.x, this.position.y);\n        for (let element of elements) {\n            while (element && !((element instanceof type)\n                && (!strict || this.isPositionInsideElement(this.position, element))))\n                element = element.parentElement;\n            if (element)\n                return element;\n        }\n        return null;\n    }\n    /**\n     * @description Checks if the position is inside the given element's bounding box.\n     * @param position\n     * @param element\n     */\n    isPositionInsideElement(position, element) {\n        const rect = element.getBoundingClientRect();\n        return position.x >= rect.left && position.x <= rect.right\n            && position.y >= rect.top && position.y <= rect.bottom;\n    }\n    /**\n     * @description The target of the event (as an Element - or the document)\n     */\n    get target() {\n        return super.target || document;\n    }\n    /**\n     * @description The position of the fired event transformed and/or scaled using the class's scalePosition().\n     */\n    get scaledPosition() {\n        if (!this.scalingAuthorized)\n            return this.position;\n        return this.scalePosition(this.position);\n    }\n    /**\n     * @description Specifies whether to allow transformation and/or scaling.\n     */\n    get scalingAuthorized() {\n        return typeof this.authorizeScaling == \"function\" ? this.authorizeScaling() : this.authorizeScaling;\n    }\n    /**\n     * @private\n     * @description Takes a map of points and returns a new map where each point is transformed accordingly.\n     * @param positions\n     */\n    scalePositionsMap(positions) {\n        return positions.mapValues((key, position) => this.scalePosition(position));\n    }\n}\n__decorate([\n    cache()\n], TurboEvent.prototype, \"closest\", null);\n__decorate([\n    cache()\n], TurboEvent.prototype, \"scaledPosition\", null);\n\nclass Point {\n    x;\n    y;\n    constructor(x = 0, y = typeof x == \"number\" ? x : 0) {\n        if (typeof x == \"number\") {\n            this.x = x;\n            this.y = y;\n        }\n        else if (\"clientX\" in x) {\n            this.x = x.clientX;\n            this.y = x.clientY;\n        }\n        else if (\"x\" in x) {\n            this.x = x.x;\n            this.y = x.y;\n        }\n        else {\n            this.x = x[0];\n            this.y = x[1];\n        }\n    }\n    // Static methods\n    /**\n     * @description Calculate the distance between two Position2D points.\n     * @param {Point} p1 - First point\n     * @param {Point} p2 - Second point\n     */\n    static dist(p1, p2) {\n        return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n    }\n    /**\n     * @description Calculate the mid-point from the provided points\n     * @param {Point[]} arr - Undetermined number of point parameters\n     */\n    static midPoint(...arr) {\n        if (arr.length == 0)\n            return null;\n        const x = arr.reduce((sum, p) => sum + p.x, 0) / arr.length;\n        const y = arr.reduce((sum, p) => sum + p.y, 0) / arr.length;\n        return new Point(x, y);\n    }\n    /**\n     * @description Calculate the max on both x and y from the provided points\n     * @param {Point[]} arr - Undetermined number of point parameters\n     */\n    static max(...arr) {\n        if (arr.length == 0)\n            return null;\n        const x = arr.reduce((max, p) => Math.max(max, p.x), -Infinity);\n        const y = arr.reduce((max, p) => Math.max(max, p.y), -Infinity);\n        return new Point(x, y);\n    }\n    /**\n     * @description Calculate the min on both x and y from the provided points\n     * @param {Point[]} arr - Undetermined number of point parameters\n     */\n    static min(...arr) {\n        if (arr.length == 0)\n            return null;\n        const x = arr.reduce((min, p) => Math.min(min, p.x), Infinity);\n        const y = arr.reduce((min, p) => Math.min(min, p.y), Infinity);\n        return new Point(x, y);\n    }\n    // Instance methods\n    get object() {\n        return { x: this.x, y: this.y };\n    }\n    equals(x, y = 0) {\n        if (typeof x == \"number\")\n            return this.x == x && this.y == y;\n        return this.x == x.x && this.y == x.y;\n    }\n    boundX(x1, x2) {\n        return this.x < x1 ? x1\n            : this.x > x2 ? x2\n                : this.x;\n    }\n    boundY(y1, y2) {\n        return this.y < y1 ? y1\n            : this.y > y2 ? y2\n                : this.y;\n    }\n    bound(x1, x2, y1 = x1, y2 = x2) {\n        return new Point(this.boundX(x1, x2), this.boundY(y1, y2));\n    }\n    add(x, y) {\n        if (typeof x == \"number\")\n            return new Point(this.x + x, this.y + (y || y == 0 ? y : x));\n        return new Point(this.x + x.x, this.y + x.y);\n    }\n    sub(x, y) {\n        if (typeof x == \"number\")\n            return new Point(this.x - x, this.y - (y || y == 0 ? y : x));\n        return new Point(this.x - x.x, this.y - x.y);\n    }\n    mul(x, y) {\n        if (typeof x == \"number\")\n            return new Point(this.x * x, this.y * (y || y == 0 ? y : x));\n        return new Point(this.x * x.x, this.y * x.y);\n    }\n    div(x, y) {\n        if (typeof x == \"number\")\n            return new Point(this.x / x, this.y / (y || y == 0 ? y : x));\n        return new Point(this.x / x.x, this.y / x.y);\n    }\n    mod(x, y) {\n        const modDiv = typeof x == \"number\" ?\n            { x: x, y: (y || y == 0 ? y : x) } : { x: x.x, y: x.y };\n        const temp = this.object;\n        while (temp.x < 0)\n            temp.x += modDiv.x;\n        while (temp.x >= modDiv.x)\n            temp.x -= modDiv.x;\n        while (temp.y < 0)\n            temp.y += modDiv.y;\n        while (temp.y >= modDiv.y)\n            temp.y -= modDiv.y;\n        return new Point(temp);\n    }\n    /**\n     * @description Calculate the absolute value of the coordinates\n     * @returns A new Point object with the absolute values\n     */\n    abs() {\n        return new Point(Math.abs(this.x), Math.abs(this.y));\n    }\n    /**\n     * @description Get the maximum value between x and y coordinates\n     * @returns The maximum value\n     */\n    max() {\n        return Math.max(this.x, this.y);\n    }\n    /**\n     * @description Get the minimum value between x and y coordinates\n     * @returns The minimum value\n     */\n    min() {\n        return Math.min(this.x, this.y);\n    }\n    /**\n     * @description Create a copy of the current point\n     * @returns A new Point object with the same coordinates\n     */\n    copy() {\n        return new Point(this.x, this.y);\n    }\n    /**\n     * @description Get the coordinates as an array\n     * @returns An array with x and y coordinates\n     */\n    arr() {\n        return [this.x, this.y];\n    }\n}\n\n/**\n * @class TurboDragEvent\n * @extends TurboEvent\n * @description Turbo drag event class, fired on turbo-drag, turbo-drag-start, turbo-drag-end, etc.\n */\nclass TurboDragEvent extends TurboEvent {\n    /**\n     * @description Map containing the origins of the dragging points\n     */\n    origins;\n    /**\n     * @description Map containing the previous positions of the dragging points\n     */\n    previousPositions;\n    /**\n     * @description Map containing the positions of the dragging points\n     */\n    positions;\n    constructor(origins, previousPositions, positions, clickMode, keys, eventName = TurboEventName.drag, authorizeScaling, scalePosition, eventInitDict) {\n        super(positions.first, clickMode, keys, eventName, authorizeScaling, scalePosition, { bubbles: true, cancelable: true, ...eventInitDict });\n        this.origins = origins;\n        this.previousPositions = previousPositions;\n        this.positions = positions;\n    }\n    /**\n     * @description Map of the origins mapped to the current canvas translation and scale\n     */\n    get scaledOrigins() {\n        if (!this.scalingAuthorized)\n            return this.origins;\n        return this.scalePositionsMap(this.origins);\n    }\n    /**\n     * @description Map of the previous positions mapped to the current canvas translation and scale\n     */\n    get scaledPreviousPositions() {\n        if (!this.scalingAuthorized)\n            return this.previousPositions;\n        return this.scalePositionsMap(this.previousPositions);\n    }\n    /**\n     * @description Map of the positions mapped to the current canvas translation and scale\n     */\n    get scaledPositions() {\n        if (!this.scalingAuthorized)\n            return this.positions;\n        return this.scalePositionsMap(this.positions);\n    }\n    get deltaPositions() {\n        return this.positions.mapValues((key, position) => {\n            const previousPosition = this.previousPositions.get(key);\n            if (previousPosition)\n                return position.sub(previousPosition);\n        });\n    }\n    get deltaPosition() {\n        return Point.midPoint(...this.deltaPositions.valuesArray());\n    }\n    get scaledDeltaPositions() {\n        return this.scaledPositions.mapValues((key, position) => {\n            const previousPosition = this.scaledPreviousPositions.get(key);\n            if (previousPosition)\n                return position.sub(previousPosition);\n        });\n    }\n    get scaledDeltaPosition() {\n        return Point.midPoint(...this.scaledDeltaPositions.valuesArray());\n    }\n}\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"scaledOrigins\", null);\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"scaledPreviousPositions\", null);\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"scaledPositions\", null);\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"deltaPositions\", null);\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"deltaPosition\", null);\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"scaledDeltaPositions\", null);\n__decorate([\n    cache()\n], TurboDragEvent.prototype, \"scaledDeltaPosition\", null);\n\n/**\n * @class TurboKeyEvent\n * @extends TurboEvent\n * @description Custom key event\n */\nclass TurboKeyEvent extends TurboEvent {\n    /**\n     * @description The key pressed (if any) when the event was fired\n     */\n    keyPressed;\n    /**\n     * @description The key released (if any) when the event was fired\n     */\n    keyReleased;\n    constructor(keyPressed, keyReleased, clickMode, keys, eventName = TurboEventName.keyPressed, authorizeScaling, scalePosition, eventInitDict) {\n        super(null, clickMode, keys, eventName, authorizeScaling, scalePosition, { bubbles: true, cancelable: true, ...eventInitDict });\n        this.keyPressed = keyPressed;\n        this.keyReleased = keyReleased;\n    }\n}\n\nvar ActionMode;\n(function (ActionMode) {\n    ActionMode[ActionMode[\"none\"] = 0] = \"none\";\n    ActionMode[ActionMode[\"click\"] = 1] = \"click\";\n    ActionMode[ActionMode[\"longPress\"] = 2] = \"longPress\";\n    ActionMode[ActionMode[\"drag\"] = 3] = \"drag\";\n})(ActionMode || (ActionMode = {}));\nvar ClickMode;\n(function (ClickMode) {\n    ClickMode[ClickMode[\"none\"] = 0] = \"none\";\n    ClickMode[ClickMode[\"left\"] = 1] = \"left\";\n    ClickMode[ClickMode[\"right\"] = 2] = \"right\";\n    ClickMode[ClickMode[\"middle\"] = 3] = \"middle\";\n    ClickMode[ClickMode[\"other\"] = 4] = \"other\";\n    ClickMode[ClickMode[\"key\"] = 5] = \"key\";\n})(ClickMode || (ClickMode = {}));\nvar InputDevice;\n(function (InputDevice) {\n    InputDevice[InputDevice[\"unknown\"] = 0] = \"unknown\";\n    InputDevice[InputDevice[\"mouse\"] = 1] = \"mouse\";\n    InputDevice[InputDevice[\"trackpad\"] = 2] = \"trackpad\";\n    InputDevice[InputDevice[\"touch\"] = 3] = \"touch\";\n})(InputDevice || (InputDevice = {}));\n\n/**\n * @class TurboWheelEvent\n * @extends TurboEvent\n * @description Custom wheel event\n */\nclass TurboWheelEvent extends TurboEvent {\n    /**\n     * @description The delta amount of scrolling\n     */\n    delta;\n    constructor(delta, keys, eventName, authorizeScaling, scalePosition, eventInitDict) {\n        super(null, ClickMode.none, keys, eventName, authorizeScaling, scalePosition, { bubbles: true, cancelable: true, ...eventInitDict });\n        this.delta = delta;\n    }\n}\n\nfunction setupTurboEventManagerBypassing(eventManager) {\n    HTMLElement.prototype.lockTurboEventManagerOn = (e) => false;\n    const bypassManager = function (e) {\n        const bypassingResult = this.lockTurboEventManagerOn(e);\n        if (typeof bypassingResult == \"boolean\")\n            eventManager.setLockState(this, {\n                enabled: bypassingResult,\n                preventDefaultWheel: bypassingResult,\n                preventDefaultMouse: bypassingResult,\n                preventDefaultTouch: bypassingResult\n            });\n        else\n            eventManager.setLockState(this, {\n                enabled: bypassingResult.enabled || false,\n                preventDefaultWheel: bypassingResult.preventDefaultWheel || false,\n                preventDefaultMouse: bypassingResult.preventDefaultMouse || false,\n                preventDefaultTouch: bypassingResult.preventDefaultTouch || false,\n            });\n    };\n    HTMLElement.prototype.bypassTurboEventManager = function _bypassTurboEventManager() {\n        this.addListener(\"mousedown\", (e) => bypassManager.call(this, e));\n        this.addListener(\"touchstart\", (e) => bypassManager.call(this, e));\n        return this;\n    };\n    callOnce(HTMLElement.prototype, \"bypassTurboEventManager\");\n}\n\nclass TurboMap extends Map {\n    enforceImmutability = true;\n    set(key, value) {\n        return super.set(key, this.enforceImmutability ? this.copy(value) : value);\n    }\n    get(key) {\n        const result = super.get(key);\n        return this.enforceImmutability ? this.copy(result) : result;\n    }\n    get first() {\n        if (this.size == 0)\n            return null;\n        const result = this.values().next().value;\n        return this.enforceImmutability ? this.copy(result) : result;\n    }\n    get last() {\n        if (this.size == 0)\n            return null;\n        const result = this.valuesArray()[this.size - 1];\n        return this.enforceImmutability ? this.copy(result) : result;\n    }\n    keysArray() {\n        return Array.from(this.keys());\n    }\n    valuesArray() {\n        return Array.from(this.values());\n    }\n    copy(value) {\n        if (value && typeof value == \"object\") {\n            if (value instanceof Array)\n                return value.map(item => this.copy(item));\n            if (value.constructor && value.constructor != Object) {\n                if (typeof value.clone == \"function\")\n                    return value.clone();\n                if (typeof value.copy == \"function\")\n                    return value.copy();\n            }\n            return { ...value };\n        }\n        return value;\n    }\n    mapKeys(callback) {\n        const newMap = new TurboMap();\n        for (let [key, value] of this) {\n            newMap.set(callback(key, value), value);\n        }\n        return newMap;\n    }\n    mapValues(callback) {\n        const newMap = new TurboMap();\n        for (let [key, value] of this) {\n            newMap.set(key, callback(key, value));\n        }\n        return newMap;\n    }\n    filter(callback) {\n        const newMap = new TurboMap();\n        for (let [key, value] of this) {\n            if (callback(key, value))\n                newMap.set(key, value);\n        }\n        return newMap;\n    }\n    merge(map) {\n        for (let [key, value] of map) {\n            this.set(key, value);\n        }\n        return this;\n    }\n}\n\n/**\n * @description Class that manages default mouse, trackpad, and touch events, and accordingly fires custom events for\n * easier management of input.\n */\nlet TurboEventManager = class TurboEventManager extends TurboElement {\n    _inputDevice = InputDevice.unknown;\n    //Delegate fired when the input device changes\n    onInputDeviceChange;\n    //Manager states\n    defaultState = {};\n    lockState = {};\n    disabledEventTypes = {};\n    //Input events states\n    currentKeys = [];\n    currentAction = ActionMode.none;\n    currentClick = ClickMode.none;\n    wasRecentlyTrackpad = false;\n    //Saved values (Maps to account for different touch points and their IDs)\n    origins;\n    previousPositions;\n    positions;\n    lastTargetOrigin;\n    //Single timer instance --> easily cancel it and set it again\n    timerMap;\n    //Threshold differentiating a click from a drag\n    moveThreshold;\n    //Duration to reach long press\n    longPressDuration;\n    authorizeEventScaling;\n    scaleEventPosition;\n    constructor(properties = {}) {\n        super({ parent: document.body });\n        this.onInputDeviceChange = new Delegate();\n        this.authorizeEventScaling = properties.authorizeEventScaling;\n        this.scaleEventPosition = properties.scaleEventPosition;\n        this.defaultState = {\n            enabled: properties.enabled ?? true,\n            preventDefaultWheel: properties.preventDefaultWheel ?? true,\n            preventDefaultMouse: properties.preventDefaultMouse ?? true,\n            preventDefaultTouch: properties.preventDefaultTouch ?? true,\n        };\n        this.resetLockState();\n        this.disabledEventTypes = { ...properties };\n        this.moveThreshold = properties.moveThreshold || 10;\n        this.longPressDuration = properties.longPressDuration || 500;\n        //Init positions\n        this.origins = new TurboMap();\n        this.previousPositions = new TurboMap();\n        this.timerMap = new TurboMap();\n        for (let eventName in TurboEventName) {\n            DefaultEventName[eventName] = TurboEventName[eventName];\n        }\n        this.initEvents();\n        setupTurboEventManagerBypassing(this);\n    }\n    initEvents() {\n        try {\n            if (!this.disabledEventTypes.disableKeyEvents) {\n                document.addListener(\"keydown\", this.keyDown);\n                document.addListener(\"keyup\", this.keyUp);\n                this.applyEventNames(TurboKeyEventName);\n            }\n            if (!this.disabledEventTypes.disableWheelEvents) {\n                document.body.addListener(\"wheel\", this.wheel, this, { passive: false });\n                this.applyEventNames(TurboWheelEventName);\n            }\n            if (!this.disabledEventTypes.disableMoveEvent) {\n                this.applyEventNames(TurboMoveName);\n            }\n            if (!this.disabledEventTypes.disableMouseEvents) {\n                document.body.addListener(\"mousedown\", this.pointerDown);\n                document.body.addListener(\"mousemove\", this.pointerMove);\n                document.body.addListener(\"mouseup\", this.pointerUp);\n                document.body.addListener(\"mouseleave\", this.pointerLeave);\n            }\n            if (!this.disabledEventTypes.disableTouchEvents) {\n                document.body.addListener(\"touchstart\", this.pointerDown, this, { passive: false });\n                document.body.addListener(\"touchmove\", this.pointerMove, this, { passive: false });\n                document.body.addListener(\"touchend\", this.pointerUp, this, { passive: false });\n                document.body.addListener(\"touchcancel\", this.pointerUp, this, { passive: false });\n            }\n            if (!this.disabledEventTypes.disableMouseEvents || !this.disabledEventTypes.disableTouchEvents) {\n                if (!this.disabledEventTypes.disableClickEvents)\n                    this.applyEventNames(TurboClickEventName);\n                if (!this.disabledEventTypes.disableDragEvents)\n                    this.applyEventNames(TurboDragEventName);\n            }\n        }\n        catch (error) {\n            console.error(\"Error initializing events: \", error);\n        }\n    }\n    /**\n     * @description The currently identified input device. It is not 100% accurate, especially when differentiating\n     * between mouse and trackpad.\n     */\n    get inputDevice() {\n        return this._inputDevice;\n    }\n    set inputDevice(value) {\n        if (this.inputDevice == value)\n            return;\n        if (value == InputDevice.trackpad)\n            this.wasRecentlyTrackpad = true;\n        this._inputDevice = value;\n        this.onInputDeviceChange.fire(value);\n    }\n    /**\n     * @description Sets the lock state for the event manager.\n     * @param origin - The element that initiated the lock state.\n     * @param value - The state properties to set.\n     */\n    setLockState(origin, value) {\n        this.lockState.lockOrigin = origin;\n        for (const key in value)\n            this.lockState[key] = value[key];\n    }\n    /**\n     * @description Resets the lock state to the default values.\n     */\n    resetLockState() {\n        this.lockState.enabled = this.defaultState.enabled;\n        this.lockState.preventDefaultWheel = this.defaultState.preventDefaultWheel;\n        this.lockState.preventDefaultMouse = this.defaultState.preventDefaultMouse;\n        this.lockState.preventDefaultTouch = this.defaultState.preventDefaultTouch;\n        this.lockState.lockOrigin = document.body;\n    }\n    get enabled() {\n        return this.defaultState.enabled && this.lockState.enabled;\n    }\n    get preventDefaultWheel() {\n        return this.defaultState.preventDefaultWheel && this.lockState.preventDefaultWheel;\n    }\n    get preventDefaultMouse() {\n        return this.defaultState.preventDefaultMouse && this.lockState.preventDefaultMouse;\n    }\n    get preventDefaultTouch() {\n        return this.defaultState.preventDefaultTouch && this.lockState.preventDefaultTouch;\n    }\n    //Key Events\n    keyDown = (e) => {\n        if (!this.enabled)\n            return;\n        //Return if key already pressed\n        if (this.currentKeys.includes(e.key))\n            return;\n        //Add key to currentKeys\n        this.currentKeys.push(e.key);\n        //Fire a keyPressed event (only once)\n        document.dispatchEvent(new TurboKeyEvent(e.key, null, this.currentClick, this.currentKeys, TurboEventName.keyPressed, this.authorizeEventScaling, this.scaleEventPosition));\n    };\n    keyUp = (e) => {\n        if (!this.enabled)\n            return;\n        //Return if key not pressed\n        if (!this.currentKeys.includes(e.key))\n            return;\n        //Remove key from currentKeys\n        this.currentKeys.splice(this.currentKeys.indexOf(e.key), 1);\n        //Fire a keyReleased event\n        document.dispatchEvent(new TurboKeyEvent(null, e.key, this.currentClick, this.currentKeys, TurboEventName.keyReleased, this.authorizeEventScaling, this.scaleEventPosition));\n    };\n    //Wheel Event\n    wheel = (e) => {\n        if (!this.enabled)\n            return;\n        //Prevent default scroll behavior\n        if (this.preventDefaultWheel)\n            e.preventDefault();\n        //Most likely trackpad\n        if (Math.abs(e.deltaY) <= 40 || e.deltaX != 0)\n            this.inputDevice = InputDevice.trackpad;\n        //Set input device to mouse if it wasn't trackpad recently\n        if (!this.wasRecentlyTrackpad)\n            this.inputDevice = InputDevice.mouse;\n        //Reset trackpad timer\n        this.clearTimer(\"recentlyTrackpadTimer\");\n        //Set timer to clear recently trackpad boolean after a delay\n        this.setTimer(\"recentlyTrackpadTimer\", () => {\n            if (this.inputDevice == InputDevice.trackpad)\n                this.wasRecentlyTrackpad = false;\n        }, 800);\n        //Get name of event according to input type\n        let eventName;\n        //Trackpad pinching (for some reason Ctrl key is marked as pressed in the WheelEvent)\n        if (this.inputDevice == InputDevice.trackpad && e.ctrlKey)\n            eventName = TurboEventName.trackpadPinch;\n        //Trackpad zooming\n        else if (this.inputDevice == InputDevice.trackpad)\n            eventName = TurboEventName.trackpadScroll;\n        //Mouse scrolling\n        else\n            eventName = TurboEventName.mouseWheel;\n        document.dispatchEvent(new TurboWheelEvent(new Point(e.deltaX, e.deltaY), this.currentKeys, eventName, this.authorizeEventScaling, this.scaleEventPosition));\n    };\n    //Mouse and Touch Events\n    pointerDown = (e) => {\n        if (!e.composedPath().includes(this.lockState.lockOrigin)) {\n            document.activeElement?.blur();\n            this.resetLockState();\n        }\n        if (!this.enabled)\n            return;\n        //Check if it's touch\n        const isTouch = e instanceof TouchEvent;\n        //Prevent default actions (especially useful for touch events on iOS and iPadOS)\n        if (this.preventDefaultMouse && !isTouch)\n            e.preventDefault();\n        if (this.preventDefaultTouch && isTouch)\n            e.preventDefault();\n        //Update the input device\n        if (isTouch)\n            this.inputDevice = InputDevice.touch;\n        else if (this.inputDevice == InputDevice.unknown || this.inputDevice == InputDevice.touch)\n            this.inputDevice = InputDevice.mouse;\n        //Touch start initialization\n        if (isTouch) {\n            //Loop on all changed touch points (new ones) and initialize them\n            Array.from(e.changedTouches).forEach(touchPoint => {\n                const position = new Point(touchPoint);\n                this.origins.set(touchPoint.identifier, position);\n                this.previousPositions.set(touchPoint.identifier, position);\n            });\n            //Update click mode according to number of current touch points\n            this.setClickMode(e.touches.length, true);\n        }\n        //Mouse down initialization\n        else {\n            //Initialize origin and previous position\n            const position = new Point(e);\n            this.origins.set(0, position);\n            this.previousPositions.set(0, position);\n            //Update click mode\n            this.setClickMode(e.button);\n        }\n        //Return if click events are disabled\n        if (this.disabledEventTypes.disableClickEvents)\n            return;\n        //Fire click start\n        this.fireClick(this.origins.first, TurboEventName.clickStart);\n        this.currentAction = ActionMode.click;\n        //Set long press timer\n        this.setTimer(TurboEventName.longPress, () => {\n            if (this.currentAction != ActionMode.click)\n                return;\n            //Turn a click into long press\n            this.currentAction = ActionMode.longPress;\n            //Fire long press\n            this.fireClick(this.origins.first, TurboEventName.longPress);\n        }, this.longPressDuration);\n    };\n    pointerMove = (e) => {\n        if (!this.enabled)\n            return;\n        if (this.disabledEventTypes.disableMoveEvent && this.disabledEventTypes.disableDragEvents)\n            return;\n        //Check if is touch\n        const isTouch = e instanceof TouchEvent;\n        //Prevent default actions\n        if (this.preventDefaultMouse && !isTouch)\n            e.preventDefault();\n        if (this.preventDefaultTouch && isTouch)\n            e.preventDefault();\n        //Initialize a new positions map\n        this.positions = new TurboMap();\n        //Get current position(s) for touch (or mouse)\n        if (isTouch) {\n            Array.from(e.touches).forEach(touchPoint => this.positions.set(touchPoint.identifier, new Point(touchPoint)));\n        }\n        else {\n            this.positions.set(0, new Point(e.clientX, e.clientY));\n        }\n        //Clear cached target origin if not dragging\n        if (this.currentAction != ActionMode.drag)\n            this.lastTargetOrigin = null;\n        //Fire move event if enabled\n        if (!this.disabledEventTypes.disableMoveEvent)\n            this.fireDrag(this.positions, TurboEventName.move);\n        //If drag events are enabled and user is interacting\n        if (this.currentAction != ActionMode.none && !this.disabledEventTypes.disableDragEvents) {\n            //Initialize drag\n            if (this.currentAction != ActionMode.drag) {\n                //Loop on saved origins points and check if any point's distance from its origin is greater than the threshold\n                if (!Array.from(this.origins.entries()).some(([key, origin]) => {\n                    const position = this.positions.get(key);\n                    return position && Point.dist(position, origin) > this.moveThreshold;\n                }))\n                    return;\n                //If didn't return --> fire drag start and set action to drag\n                clearCache(this);\n                this.fireDrag(this.origins, TurboEventName.dragStart);\n                this.currentAction = ActionMode.drag;\n            }\n            //Fire drag and update previous points\n            this.fireDrag(this.positions);\n        }\n        //Update previous positions\n        this.positions.forEach((position, key) => this.previousPositions.set(key, position));\n    };\n    pointerUp = (e) => {\n        if (!this.enabled)\n            return;\n        //Check if is touch\n        const isTouch = e instanceof TouchEvent;\n        //Prevent default actions\n        if (this.preventDefaultMouse && !isTouch)\n            e.preventDefault();\n        if (this.preventDefaultTouch && isTouch)\n            e.preventDefault();\n        //Clear any timer set\n        this.clearTimer(TurboEventName.longPress);\n        //Initialize a new positions map\n        this.positions = new TurboMap();\n        //Get current position(s) for touch (or mouse)\n        if (isTouch) {\n            Array.from(e.changedTouches).forEach(touchPoint => {\n                this.positions.set(touchPoint.identifier, new Point(touchPoint));\n            });\n        }\n        else {\n            this.positions.set(0, new Point(e));\n        }\n        //If action was drag --> fire drag end\n        if (this.currentAction == ActionMode.drag && !this.disabledEventTypes.disableDragEvents)\n            this.fireDrag(this.positions, TurboEventName.dragEnd);\n        //If click events are enabled\n        if (!this.disabledEventTypes.disableClickEvents) {\n            //If action is click --> fire click\n            if (this.currentAction == ActionMode.click) {\n                this.fireClick(this.positions.first, TurboEventName.click);\n            }\n            //Fire click end\n            this.fireClick(this.origins.first, TurboEventName.clickEnd);\n        }\n        //Clear saved positions (or removed lifted touch points)\n        if (isTouch) {\n            Array.from(e.changedTouches).forEach(touchPoint => {\n                this.origins.delete(touchPoint.identifier);\n                this.previousPositions.delete(touchPoint.identifier);\n            });\n        }\n        else {\n            this.origins.clear();\n            this.previousPositions.clear();\n        }\n        //Reset click mode and action\n        this.currentAction = ActionMode.none;\n        this.currentClick = ClickMode.none;\n    };\n    pointerLeave = () => {\n        if (!this.enabled)\n            return;\n        if (this.currentAction == ActionMode.none)\n            return;\n        //Clear any timer set\n        this.clearTimer(TurboEventName.longPress);\n        //If not drag --> fire click end\n        if (this.currentAction != ActionMode.drag) {\n            this.fireClick(this.origins.first, TurboEventName.clickEnd);\n            this.currentAction = ActionMode.none;\n        }\n    };\n    getFireOrigin(positions, reload = false) {\n        if (!this.lastTargetOrigin || reload) {\n            const origin = this.origins.first ? this.origins.first : positions.first;\n            this.lastTargetOrigin = document.elementFromPoint(origin.x, origin.y);\n        }\n        return this.lastTargetOrigin;\n    }\n    //Event triggering\n    /**\n     * @description Fires a custom Turbo click event at the click target with the click position\n     * @param p\n     * @param eventName\n     * @private\n     */\n    fireClick(p, eventName = TurboEventName.click) {\n        if (!p)\n            return;\n        const target = document.elementFromPoint(p.x, p.y) || document;\n        target.dispatchEvent(new TurboEvent(p, this.currentClick, this.currentKeys, eventName, this.authorizeEventScaling, this.scaleEventPosition));\n    }\n    /**\n     * @description Fires a custom Turbo drag event at the target with the origin of the drag, the last drag position, and the current position\n     * @param positions\n     * @param eventName\n     * @private\n     */\n    fireDrag(positions, eventName = TurboEventName.drag) {\n        if (!positions)\n            return;\n        this.getFireOrigin(positions).dispatchEvent(new TurboDragEvent(this.origins, this.previousPositions, positions, this.currentClick, this.currentKeys, eventName, this.authorizeEventScaling, this.scaleEventPosition));\n    }\n    //Timer\n    //Sets a timer function associated with a certain event name, with its duration\n    setTimer(timerName, callback, duration) {\n        this.clearTimer(timerName);\n        this.timerMap.set(timerName, setTimeout(() => {\n            callback();\n            this.clearTimer(timerName);\n        }, duration));\n    }\n    //Clears timer associated with the provided event name\n    clearTimer(timerName) {\n        const timer = this.timerMap.get(timerName);\n        if (!timer)\n            return;\n        clearTimeout(timer);\n        this.timerMap.delete(timerName);\n    }\n    //Click mode\n    setClickMode(button, isTouch = false) {\n        if (isTouch)\n            button--;\n        switch (button) {\n            case -1:\n                this.currentClick = ClickMode.none;\n                return;\n            case 0:\n                this.currentClick = ClickMode.left;\n                return;\n            case 1:\n                this.currentClick = ClickMode.middle;\n                return;\n            case 2:\n                this.currentClick = ClickMode.right;\n                return;\n            default:\n                this.currentClick = ClickMode.other;\n                return;\n        }\n    }\n    applyEventNames(eventNames) {\n        for (const eventName in eventNames) {\n            DefaultEventName[eventName] = eventNames[eventName];\n        }\n    }\n};\nTurboEventManager = __decorate([\n    define()\n], TurboEventManager);\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z$3 = \"turbo-button{align-items:center;background-color:#dadada;border:1px solid #000;border-radius:.4em;color:#000;display:inline-flex;flex-direction:row;gap:.4em;padding:.5em .7em;text-decoration:none}turbo-button>h4{flex-grow:1}\";\nstyleInject(css_248z$3);\n\n/**\n * @description Converts a string of tags into an Element.\n * @param {string} text - The string to convert\n * @return The Element\n */\nfunction textToElement(text) {\n    let wrapper = document.createElement(\"div\");\n    wrapper.innerHTML = text;\n    return wrapper.children[0];\n}\nfunction createProxy(self, proxied) {\n    return new Proxy(self, {\n        get(target, prop, receiver) {\n            if (prop in target)\n                return Reflect.get(target, prop, receiver);\n            if (prop in proxied)\n                return Reflect.get(proxied, prop, receiver);\n            return undefined;\n        },\n        set(target, prop, value, receiver) {\n            if (prop in target)\n                return Reflect.set(target, prop, value, receiver);\n            return Reflect.set(proxied, prop, value, receiver);\n        }\n    });\n}\n\n/**\n * @description Fetches an SVG from the given path\n * @param {string} path - The path to the SVG\n * @returns An SVGElement promise\n */\nfunction fetchSvg(path) {\n    return new Promise((resolve, reject) => {\n        if (!path || path.length === 0) {\n            reject(new Error(\"Invalid path\"));\n            return;\n        }\n        fetch(path)\n            .then(response => {\n            if (!response.ok)\n                throw new Error(\"Network response was not ok while loading your SVG\");\n            return response.text();\n        })\n            .then(svgText => {\n            const svg = textToElement(svgText);\n            if (!svg)\n                throw new Error(\"Error parsing SVG text\");\n            resolve(svg);\n        })\n            .catch(error => {\n            console.error(\"Error fetching SVG:\", error);\n            reject(error);\n        });\n    });\n}\n\nvar TurboIcon_1;\n/**\n * Icon class for creating icon elements.\n * @class TurboIcon\n * @extends TurboElement\n */\nlet TurboIcon = class TurboIcon extends TurboElement {\n    static { TurboIcon_1 = this; }\n    _element;\n    _type;\n    _directory;\n    onLoaded;\n    static config = { ...TurboElement.config, defaultType: \"svg\", defaultDirectory: \"\", customLoaders: {} };\n    static imageTypes = [\"png\", \"jpg\", \"jpeg\", \"gif\", \"webp\",\n        \"PNG\", \"JPG\", \"JPEG\", \"GIF\", \"WEBP\"];\n    /**\n     * Creates an instance of Icon.\n     * @param {TurboIconProperties} properties - Properties to configure the icon.\n     */\n    constructor(properties) {\n        super(properties);\n        if (properties.icon)\n            this.update(properties);\n    }\n    update(properties) {\n        if (properties.unsetDefaultClasses)\n            this.removeClass(TurboIcon_1.config.defaultClasses);\n        else\n            this.addClass(TurboIcon_1.config.defaultClasses);\n        this.type = properties.type;\n        this.directory = properties.directory;\n        if (properties.iconColor)\n            this.iconColor = properties.iconColor;\n        if (properties.onLoaded)\n            this.onLoaded = properties.onLoaded;\n        if (properties.icon)\n            this.icon = properties.icon;\n    }\n    //Getters and setters\n    /**\n     * @description The type of the icon.\n     */\n    get type() {\n        return this._type;\n    }\n    set type(value) {\n        if (!value || value.length == 0)\n            value = this.type || TurboIcon_1.config.defaultType || \"svg\";\n        if (value[0] == \".\")\n            value = value.substring(1);\n        this._type = value;\n    }\n    /**\n     * @description The user-provided (or statically configured) directory to the icon's file.\n     */\n    get directory() {\n        return this._directory;\n    }\n    set directory(value) {\n        if (!value)\n            value = this.directory || TurboIcon_1.config.defaultDirectory || \"\";\n        if (value.length > 0 && !value.endsWith(\"/\"))\n            value += \"/\";\n        this._directory = value;\n    }\n    /**\n     * @description The path to the icon's source file.\n     */\n    get path() {\n        let extension = (this.icon.endsWith(\".\" + this.type) || this.type.length == 0) ? \"\" : \".\" + this.type;\n        return this.directory + this.icon + extension;\n    }\n    /**\n     * @description The name (or path) of the icon. Might include the file extension (to override the icon's type).\n     * Setting it will update the icon accordingly.\n     */\n    set icon(value) {\n        const ext = getFileExtension(value).substring(1);\n        if (ext)\n            this.type = ext;\n        this.generateIcon();\n    }\n    /**\n     * @description The assigned color to the icon (if any)\n     */\n    set iconColor(value) {\n        if (value && this.element instanceof SVGElement)\n            this.element.style.fill = value;\n    }\n    /**\n     * @description The child element of the icon element (an HTML image or an SVG element).\n     */\n    set element(value) {\n        this._element = value;\n    }\n    get element() {\n        return this._element;\n    }\n    //Utilities\n    loadSvg(path) {\n        return fetchSvg(path);\n    }\n    loadImg(path) {\n        return img({ src: path, alt: this.icon, parent: this });\n    }\n    generateIcon() {\n        if (this.element instanceof HTMLImageElement\n            && equalToAny(this.type, ...TurboIcon_1.imageTypes)) {\n            this.element.src = this.path;\n            this.element.alt = this.icon;\n            return;\n        }\n        this.clear();\n        if (!this.icon)\n            return;\n        const element = this.getLoader()(this.path);\n        if (element instanceof Element)\n            this.setupLoadedElement(element);\n        else\n            element.then(element => this.setupLoadedElement(element))\n                .catch(error => console.error(`Failed to load icon: ${error}`));\n    }\n    getLoader() {\n        if (!this.type)\n            return;\n        const customLoader = TurboIcon_1.config.customLoaders[this.type];\n        if (customLoader)\n            return customLoader;\n        if (equalToAny(this.type, \"svg\", \"SVG\"))\n            return this.loadSvg;\n        if (equalToAny(this.type, ...TurboIcon_1.imageTypes))\n            return this.loadImg;\n        throw new Error(`Unsupported icon type: ${this.type}`);\n    }\n    setupLoadedElement(element) {\n        if (this.element || !element)\n            return;\n        if (element.parentElement)\n            element = element.cloneNode(true);\n        this.addChild(element);\n        if (this.iconColor && element instanceof SVGElement)\n            element.style.fill = this.iconColor;\n        if (this.onLoaded)\n            this.onLoaded(element);\n        this.element = element;\n    }\n    clear() {\n        this.element?.destroy();\n        this.element = null;\n    }\n};\n__decorate([\n    observe,\n    auto()\n], TurboIcon.prototype, \"icon\", null);\n__decorate([\n    observe,\n    auto()\n], TurboIcon.prototype, \"iconColor\", null);\n__decorate([\n    cache()\n], TurboIcon.prototype, \"loadSvg\", null);\nTurboIcon = TurboIcon_1 = __decorate([\n    define()\n], TurboIcon);\nfunction icon(properties) {\n    return new TurboIcon(properties);\n}\n\n/**\n * Class for creating a rich turbo element (an element that is possibly accompanied by icons (or other elements) on\n * its left and/or right).\n * @class TurboRichElement\n * @extends TurboElement\n * @template {ValidTag} ElementTag - The tag of the main element to create the rich element from.\n */\nlet TurboRichElement = class TurboRichElement extends TurboElement {\n    /**\n     * @description Object containing the children of the rich element.\n     */\n    elements;\n    static config = { ...TurboElement.config, defaultElementTag: \"h4\" };\n    /**\n     * Initializes a new instance of the Button class.\n     * @param {TurboButtonProperties} properties - Properties to configure the button.\n     */\n    constructor(properties) {\n        if (properties.text && !properties.element)\n            properties.element = properties.text;\n        super({ ...properties, text: null });\n        if (!properties.unsetDefaultClasses)\n            this.addClass(this.constructor.config.defaultClasses);\n        this.elementTag = properties.elementTag;\n        this.elements = {\n            leftCustomElements: null,\n            leftIcon: null,\n            prefixEntry: null,\n            element: null,\n            suffixEntry: null,\n            rightIcon: null,\n            rightCustomElements: null,\n        };\n        this.leftCustomElements = properties.leftCustomElements;\n        this.leftIcon = properties.leftIcon;\n        this.prefixEntry = properties.prefixEntry;\n        this.element = properties.element;\n        this.suffixEntry = properties.suffixEntry;\n        this.rightIcon = properties.rightIcon;\n        this.rightCustomElements = properties.rightCustomElements;\n    }\n    /**\n     * @description Adds a given element or elements to the button at a specified position.\n     * @param {Element | Element[] | null} element - The element(s) to add.\n     * @param {keyof ButtonChildren} type - The type of child element being added.\n     */\n    addAtPosition(element, type) {\n        if (!element || !type)\n            return;\n        let nextSiblingIndex = 0;\n        for (let key in this.elements) {\n            if (key == type)\n                break;\n            if (this.elements[key])\n                nextSiblingIndex++;\n        }\n        this.addChild(element, nextSiblingIndex);\n    }\n    /**\n     * @description The tag of the text element in the button\n     */\n    set elementTag(value) { }\n    /**\n     * @description The custom element(s) on the left. Can be set to new element(s) by a simple assignment.\n     */\n    get leftCustomElements() {\n        return this.elements.leftCustomElements;\n    }\n    set leftCustomElements(value) {\n        this.removeChild(this.leftCustomElements);\n        if (!value)\n            return;\n        this.addAtPosition(value, \"leftCustomElements\");\n        this.elements.leftCustomElements = value;\n    }\n    /**\n     * @description The left icon element. Can be set with a new icon by a simple assignment (the name/path of the\n     * icon, or a Turbo/HTML element).\n     */\n    get leftIcon() {\n        return this.elements.leftIcon;\n    }\n    set leftIcon(value) {\n        if (!value) {\n            this.removeChild(this.leftIcon);\n            return;\n        }\n        if (typeof value == \"string\") {\n            if (this.leftIcon) {\n                this.leftIcon.icon = value;\n                return;\n            }\n            value = new TurboIcon({ icon: value });\n        }\n        this.removeChild(this.leftIcon);\n        this.addAtPosition(value, \"leftIcon\");\n        this.elements.leftIcon = value;\n    }\n    /**\n     * @description The left icon element. Can be set with a new icon by a simple assignment (the name/path of the\n     * icon, or a Turbo/HTML element).\n     */\n    get prefixEntry() {\n        return this.elements.prefixEntry;\n    }\n    set prefixEntry(value) {\n        if (!value) {\n            this.removeChild(this.prefixEntry);\n            return;\n        }\n        if (typeof value == \"string\") {\n            if (this.prefixEntry) {\n                this.prefixEntry.innerText = value;\n                return;\n            }\n            value = element({ text: value });\n        }\n        this.removeChild(this.prefixEntry);\n        this.addAtPosition(value, \"prefixEntry\");\n        this.elements.prefixEntry = value;\n    }\n    /**\n     * @description The text element. Can be set to a new element by a simple assignment. Setting the value to a new\n     * string will update the text's innerText with the given string.\n     */\n    get element() {\n        return this.elements.element;\n    }\n    set element(value) {\n        if (!value) {\n            this.removeChild(this.element);\n            return;\n        }\n        if (typeof value == \"string\") {\n            if (this.element && \"innerText\" in this.element) {\n                this.element.innerText = value;\n                return;\n            }\n            value = element({ tag: this.elementTag, text: value });\n        }\n        else if (typeof value == \"object\" && !(value instanceof Element)) {\n            value = element(value);\n        }\n        this.removeChild(this.element);\n        this.addAtPosition(value, \"element\");\n        this.elements.element = value;\n    }\n    /**\n     * @description The text element. Can be set to a new element by a simple assignment. Setting the value to a new\n     * string will update the text's innerText with the given string.\n     */\n    get text() {\n        const element = this.elements.element;\n        if (!element)\n            return \"\";\n        if (\"innerText\" in element)\n            return element.innerText;\n        return element.innerHTML;\n    }\n    set text(value) {\n        if (!value)\n            return;\n        this.element = value;\n    }\n    /**\n     * @description The left icon element. Can be set with a new icon by a simple assignment (the name/path of the\n     * icon, or a Turbo/HTML element).\n     */\n    get suffixEntry() {\n        return this.elements.prefixEntry;\n    }\n    set suffixEntry(value) {\n        if (!value) {\n            this.removeChild(this.suffixEntry);\n            return;\n        }\n        if (typeof value == \"string\") {\n            if (this.suffixEntry) {\n                this.suffixEntry.innerText = value;\n                return;\n            }\n            value = element({ text: value });\n        }\n        this.removeChild(this.suffixEntry);\n        this.addAtPosition(value, \"suffixEntry\");\n        this.elements.suffixEntry = value;\n    }\n    /**\n     * @description The right icon element. Can be set with a new icon by a simple assignment (the name/path of the\n     * icon, or a Turbo/HTML element).\n     */\n    get rightIcon() {\n        return this.elements.rightIcon;\n    }\n    set rightIcon(value) {\n        if (!value) {\n            this.removeChild(this.rightIcon);\n            return;\n        }\n        if (typeof value == \"string\") {\n            if (this.rightIcon) {\n                this.rightIcon.icon = value;\n                return;\n            }\n            value = new TurboIcon({ icon: value });\n        }\n        this.removeChild(this.rightIcon);\n        this.addAtPosition(value, \"rightIcon\");\n        this.elements.rightIcon = value;\n    }\n    /**\n     * @description The custom element(s) on the right. Can be set to new element(s) by a simple assignment.\n     */\n    get rightCustomElements() {\n        return this.elements.rightCustomElements;\n    }\n    set rightCustomElements(value) {\n        this.removeChild(this.rightCustomElements);\n        if (!value)\n            return;\n        this.addAtPosition(value, \"rightCustomElements\");\n        this.elements.rightCustomElements = value;\n    }\n};\n__decorate([\n    auto({ callBefore: (value) => TurboRichElement.config.defaultElementTag || \"h4\" })\n], TurboRichElement.prototype, \"elementTag\", null);\nTurboRichElement = __decorate([\n    define(\"turbo-rich-element\")\n], TurboRichElement);\n\nvar TurboButton_1;\n/**\n * Button class for creating Turbo button elements.\n * @class TurboButton\n * @extends TurboElement\n */\nlet TurboButton = class TurboButton extends TurboRichElement {\n    static { TurboButton_1 = this; }\n    static config = { ...TurboRichElement.config, defaultElementTag: \"h4\" };\n    /**\n     * Initializes a new instance of the Button class.\n     * @param {TurboButtonProperties} properties - Properties to configure the button.\n     */\n    constructor(properties) {\n        super(properties);\n        if (!properties.unsetDefaultClasses)\n            this.addClass(TurboButton_1.config.defaultClasses);\n    }\n    /**\n     * @description The tag of the text element in the button\n     */\n    set elementTag(value) { }\n};\n__decorate([\n    auto({ callBefore: (value) => TurboButton.config.defaultElementTag || \"h4\" })\n], TurboButton.prototype, \"elementTag\", null);\nTurboButton = TurboButton_1 = __decorate([\n    define()\n], TurboButton);\nfunction button(properties) {\n    return new TurboButton(properties);\n}\n\nlet TurboIconSwitch = class TurboIconSwitch extends TurboIcon {\n    switchReifect;\n    /**\n     * Creates an instance of Icon.\n     * @param {TurboIconSwitchProperties<State>} properties - Properties to configure the icon.\n     */\n    constructor(properties) {\n        super({ ...properties });\n        if (properties.switchReifect instanceof StatefulReifect)\n            this.switchReifect = properties.switchReifect;\n        else\n            this.switchReifect = new StatefulReifect(properties.switchReifect || {});\n        this.switchReifect.attach(this);\n        this.appendStateToIconName = properties.appendStateToIconName;\n        if (properties.defaultState)\n            this.switchReifect.apply(properties.defaultState, this);\n    }\n    set appendStateToIconName(value) {\n        if (value) {\n            const reifectProperties = this.switchReifect.properties;\n            this.switchReifect.states.forEach(state => {\n                if (!reifectProperties[state])\n                    reifectProperties[state] = {};\n                reifectProperties[state].icon = this.icon + \"-\" + state.toString();\n            });\n        }\n    }\n};\n__decorate([\n    auto()\n], TurboIconSwitch.prototype, \"appendStateToIconName\", null);\nTurboIconSwitch = __decorate([\n    define()\n], TurboIconSwitch);\n\nlet TurboIconToggle = class TurboIconToggle extends TurboIcon {\n    onToggle;\n    constructor(properties) {\n        super(properties);\n        this.toggled = properties.toggled ?? false;\n        this.onToggle = properties.onToggle;\n        this.toggleOnClick = properties.toggleOnClick ?? false;\n    }\n    set toggled(value) {\n        if (this.onToggle)\n            this.onToggle(value, this);\n    }\n    set toggleOnClick(value) {\n        if (value)\n            this.addListener(DefaultEventName.click, this.clickListener);\n        else\n            this.removeListener(DefaultEventName.click, this.clickListener);\n    }\n    toggle() {\n        this.toggled = !this.toggled;\n    }\n    clickListener = () => this.toggle();\n};\n__decorate([\n    auto({ cancelIfUnchanged: true })\n], TurboIconToggle.prototype, \"toggled\", null);\n__decorate([\n    auto({ cancelIfUnchanged: true })\n], TurboIconToggle.prototype, \"toggleOnClick\", null);\nTurboIconToggle = __decorate([\n    define()\n], TurboIconToggle);\n\nlet TurboInput = class TurboInput extends TurboElement {\n    labelElement;\n    inputElement;\n    locked;\n    lastValueWithInputCheck;\n    lastValueWithBlurCheck;\n    constructor(properties = {}) {\n        super(properties);\n        this.locked = properties.locked || false;\n        this.lastValueWithInputCheck = \"\";\n        this.lastValueWithBlurCheck = \"\";\n        if (properties.label)\n            this.labelElement = element({ tag: \"label\", text: properties.label, parent: this });\n        this.inputElement = new TurboRichElement({\n            ...properties,\n            elementTag: properties.elementTag || \"input\",\n            element: properties.element || element({ tag: properties.elementTag || \"input\" }),\n            parent: this\n        });\n        this.setupEvents(properties);\n    }\n    setupEvents(properties) {\n        if (\"bypassTurboEventManager\" in this.inputElement.element)\n            this.inputElement.element.bypassTurboEventManager();\n        this.inputElement.element.addListener(DefaultEventName.blur, (e) => {\n            if (properties.blurRegexCheck && this.stringValue != this.lastValueWithBlurCheck)\n                this.stringValue = this.lastValueWithBlurCheck;\n            this.dispatchEvent(new FocusEvent(DefaultEventName.blur, e));\n        });\n        this.inputElement.element.addListener(DefaultEventName.focus, (e) => {\n            if (this.locked)\n                this.inputElement.blur();\n            if (properties.selectTextOnFocus)\n                this.inputElement.element.select();\n            this.dispatchEvent(new FocusEvent(DefaultEventName.focus, e));\n        });\n        this.inputElement.element.addListener(DefaultEventName.input, (e) => {\n            if (properties.dynamicVerticalResize) {\n                this.inputElement.style.height = \"\";\n                this.inputElement.style.height = this.inputElement.scrollHeight + \"px\";\n            }\n            if (properties.inputRegexCheck) {\n                const regex = new RegExp(properties.inputRegexCheck, \"g\");\n                if (!regex.test(this.stringValue))\n                    this.stringValue = this.lastValueWithInputCheck;\n            }\n            this.lastValueWithInputCheck = this.stringValue;\n            if (properties.blurRegexCheck) {\n                const regex = new RegExp(properties.blurRegexCheck, \"g\");\n                if (regex.test(this.stringValue))\n                    this.lastValueWithBlurCheck = this.stringValue;\n            }\n            if (this.stringValue.length == 0) {\n                this.lastValueWithInputCheck = \"0\";\n                this.lastValueWithBlurCheck = \"0\";\n            }\n            this.dispatchEvent(new InputEvent(DefaultEventName.input, e));\n        });\n    }\n    set stringValue(value) {\n        this.inputElement.element.value = value;\n    }\n    get stringValue() {\n        return this.inputElement.element.value;\n    }\n    get value() {\n        const value = this.stringValue;\n        // if (typeof value === \"string\" && value.trim() !== \"\") {\n        //     if (typeof th === \"number\") {\n        //         return parseFloat(value) as ValueType;\n        //     }\n        // }\n        return value;\n    }\n    set value(value) {\n        this.stringValue = value.toString();\n    }\n};\nTurboInput = __decorate([\n    define(\"turbo-input\")\n], TurboInput);\n\nlet TurboNumericalInput = class TurboNumericalInput extends TurboInput {\n    multiplier;\n    decimalPlaces;\n    min;\n    max;\n    constructor(properties = {}) {\n        //Only allow numbers (positive, negative, and decimal)\n        properties.inputRegexCheck = properties.inputRegexCheck || /^(?!-0?(\\.0+)?$)-?(0|[1-9]\\d*)?(\\.\\d+)?\\.?$|^-$|^$/;\n        properties.blurRegexCheck = properties.blurRegexCheck || /^(?!-0?(\\.0+)?$)-?(0|[1-9]\\d*)?(\\.\\d+)?(?<=\\d)$/;\n        super(properties);\n        this.multiplier = properties.multiplier || 1;\n        this.decimalPlaces = properties.decimalPlaces;\n        this.min = properties.min;\n        this.max = properties.max;\n    }\n    get value() {\n        return Number.parseFloat(this.stringValue) / this.multiplier;\n    }\n    set value(value) {\n        if (!value || value == \"\")\n            value = 0;\n        if (typeof value == \"string\")\n            value = Number.parseFloat(value);\n        value *= this.multiplier;\n        if (this.min != undefined && value < this.min)\n            value = this.min;\n        if (this.max != undefined && value > this.max)\n            value = this.max;\n        if (this.decimalPlaces != undefined) {\n            value = Math.round(value * Math.pow(10, this.decimalPlaces)) / Math.pow(10, this.decimalPlaces);\n        }\n        super.value = value;\n    }\n};\nTurboNumericalInput = __decorate([\n    define(\"turbo-numerical-input\")\n], TurboNumericalInput);\n\nvar TurboSelectEntry_1;\n/**\n * @class TurboSelectEntry\n * @description Class representing an entry within a TurboSelect.\n * @extends TurboElement\n */\nlet TurboSelectEntry = TurboSelectEntry_1 = class TurboSelectEntry extends TurboRichElement {\n    /**\n     * @description The class(es) assigned to the dropdown entry when it is selected\n     */\n    selectedClasses = \"\";\n    action;\n    onSelected;\n    onEnabled;\n    reflectedElement;\n    inputElement;\n    config = {};\n    /**\n     * @description DropdownEntry constructor\n     * @param {TurboSelectEntryProperties} properties - Properties for configuring the dropdown entry.\n     */\n    constructor(properties) {\n        super(properties);\n        if (!properties.unsetDefaultClasses)\n            this.addClass(TurboSelectEntry_1.config.defaultClasses);\n        this.selectedClasses = properties.selectedClasses;\n        this.action = properties.action || (() => { });\n        this.onSelected = properties.onSelected || (() => { });\n        this.onEnabled = properties.onEnabled || (() => { });\n        this.reflectedElement = properties.reflectValueOn ? properties.reflectValueOn : !properties.element ? this : undefined;\n        this.inputName = properties.inputName;\n        this.value = properties.value;\n        this.secondaryValue = properties.secondaryValue;\n        this.selected = properties.selected || false;\n        this.enabled = properties.enabled || true;\n    }\n    set secondaryValue(value) { }\n    /**\n     * @description The value of the dropdown entry\n     */\n    set value(value) {\n        if (this.reflectedElement) {\n            if (this.reflectedElement instanceof TurboRichElement)\n                this.reflectedElement.text = this.stringValue;\n            else\n                this.reflectedElement.innerText = this.stringValue;\n        }\n        if (this.inputElement)\n            this.inputElement.value = this.stringValue;\n    }\n    get stringValue() {\n        return stringify(this.value);\n    }\n    /**\n     * @description Whether or not the dropdown entry is selected\n     */\n    set selected(value) {\n        this.toggleClass(this.selectedClasses, value);\n        if (value)\n            this.action();\n        this.onSelected(value);\n    }\n    set enabled(value) {\n        if (!value && this.selected)\n            this.selected = false;\n        this.reifects.enabled = value;\n        this.setStyle(\"visibility\", value ? \"\" : \"hidden\");\n        this.onEnabled(value);\n    }\n    get inputName() {\n        return this.inputElement?.name || null;\n    }\n    set inputName(value) {\n        if (!value)\n            return;\n        if (!this.inputElement)\n            this.inputElement = input({\n                type: \"hidden\",\n                name: value,\n                parent: this,\n                value: this.stringValue\n            });\n        else\n            this.inputElement.name = value;\n    }\n    /**\n     * @description Toggles the selection of this dropdown entry\n     */\n    toggle() {\n        this.selected = !this.selected;\n    }\n};\n__decorate([\n    auto()\n], TurboSelectEntry.prototype, \"secondaryValue\", null);\n__decorate([\n    auto()\n], TurboSelectEntry.prototype, \"value\", null);\n__decorate([\n    auto()\n], TurboSelectEntry.prototype, \"selected\", null);\n__decorate([\n    auto()\n], TurboSelectEntry.prototype, \"enabled\", null);\nTurboSelectEntry = TurboSelectEntry_1 = __decorate([\n    define()\n], TurboSelectEntry);\n\nclass TurboSelectInputEvent extends TurboEvent {\n    toggledEntry;\n    values;\n    constructor(toggledEntry, values, clickMode = ClickMode.left, authorizeScaling, scalePosition, eventInitDict) {\n        super(null, clickMode, null, TurboEventName.selectInput, authorizeScaling, scalePosition, eventInitDict);\n        this.toggledEntry = toggledEntry;\n        this.values = values;\n    }\n}\n\nvar TurboSelect_1;\n/**\n * Base class for creating a selection menu\n * @class TurboSelect\n * @extends TurboElement\n */\nlet TurboSelect = class TurboSelect extends TurboElement {\n    static { TurboSelect_1 = this; }\n    /**\n     * The dropdown's entries.\n     */\n    entries = [];\n    entriesParent;\n    enabled;\n    /**\n     * The dropdown's underlying hidden input. Might be undefined.\n     */\n    inputName;\n    multiSelection = false;\n    forceSelection = false;\n    onSelect;\n    selectedEntryClasses;\n    static config = {};\n    /**\n     * @description Dropdown constructor\n     * @param {TurboDropdownProperties} properties - Properties for configuring the dropdown.\n     */\n    constructor(properties) {\n        super(properties);\n        if (!properties.unsetDefaultClasses)\n            this.addClass(TurboSelect_1.config.defaultClasses);\n        if (!properties.selectedValues)\n            properties.selectedValues = [];\n        this.entriesParent = properties.entriesParent ?? this;\n        this.multiSelection = properties.multiSelection ?? false;\n        this.forceSelection = properties.forceSelection ?? !this.multiSelection;\n        this.inputName = properties.inputName;\n        this.onSelect = properties.onSelect || (() => { });\n        this.selectedEntryClasses = properties.customSelectedEntryClasses || TurboSelect_1.config.defaultSelectedEntryClasses;\n        (properties.values ?? []).forEach(entry => this.addEntry(entry));\n        //TODO MAKE IT BETTER SOMEHOW (I WANT TO RUN IT AFTER CHILD CLASSES FINISH SETTING UP)\n        requestAnimationFrame(() => {\n            this.entries.forEach(entry => {\n                if (properties.selectedValues?.includes(entry.value))\n                    this.select(entry);\n            });\n        });\n    }\n    createEntry(entry) {\n        if (!(entry instanceof TurboSelectEntry)) {\n            if (typeof entry == \"object\" && \"value\" in entry) {\n                if (!entry.inputName)\n                    entry.inputName = this.inputName;\n                entry = new TurboSelectEntry(entry);\n            }\n            else {\n                entry = new TurboSelectEntry({ value: entry, inputName: this.inputName });\n            }\n        }\n        return entry;\n    }\n    addEntry(entry, index = this.entries.length) {\n        entry = this.createEntry(entry);\n        if (index === undefined || typeof index !== \"number\" || index > this.entries.length)\n            index = this.entries.length;\n        if (index < 0)\n            index = 0;\n        if (!entry.selectedClasses)\n            entry.selectedClasses = this.selectedEntryClasses;\n        entry.addListener(DefaultEventName.click, (e) => this.onEntryClick(entry, e));\n        entry.onAttach.add(() => {\n            if (!this.entries.includes(entry)) {\n                const domIndex = this.entriesParent.indexOfChild(entry);\n                const insertionIndex = Math.max(0, Math.min(domIndex, this.entries.length));\n                this.entries.splice(insertionIndex, 0, entry);\n            }\n            requestAnimationFrame(() => this.select(this.selectedEntry));\n        });\n        entry.onDetach.add(() => {\n            const i = this.entries.indexOf(entry);\n            if (i !== -1)\n                this.entries.splice(i, 1);\n            if (entry.selected)\n                entry.toggle();\n        });\n        this.entries.splice(index, 0, entry);\n        this.entriesParent.addChild(entry, index);\n        return entry;\n    }\n    onEntryClick(entry, e) {\n        this.select(entry);\n    }\n    /**\n     * @description Select an entry.\n     * @param {string | EntryType} entry - The DropdownEntry (or its string value) to select.\n     * @param selected\n     * @return {TurboSelect} - This Dropdown for chaining.\n     */\n    select(entry, selected = true) {\n        if (entry === undefined || entry === null)\n            return this;\n        if (!(entry instanceof TurboSelectEntry)) {\n            let el = this.enabledEntries.find(el => el.value == entry);\n            if (!el)\n                return this;\n            entry = el;\n        }\n        if (entry.selected === selected)\n            return this;\n        if (!this.multiSelection)\n            this.selectedEntries.forEach(selectedEntry => selectedEntry.selected = false);\n        entry.selected = selected;\n        if (this.selectedEntries.length === 0 && this.forceSelection)\n            this.select(this.enabledEntries[0]);\n        this.onSelect(entry.selected, entry, this.getIndex(entry));\n        this.dispatchEvent(new TurboSelectInputEvent(entry, this.selectedValues));\n        return this;\n    }\n    /**\n     * @description Select an entry.\n     * @param {number} index - The index of the entry to select\n     * @param {(index: number, entriesCount: number, zero?: number) => number} [preprocess=trim] - Callback to execute\n     * on the index to preprocess it. Defaults to trim().\n     * @return {TurboSelect} - This Dropdown for chaining.\n     */\n    selectByIndex(index, preprocess = trim) {\n        index = preprocess(index, this.entries.length - 1, 0);\n        return this.select(this.entries[index]);\n    }\n    getIndex(entry) {\n        return this.entries.indexOf(entry);\n    }\n    deselectAll() {\n        this.selectedEntries.forEach(entry => entry.toggle());\n    }\n    reset() {\n        this.deselectAll();\n        this.onEntryClick(this.enabledEntries[0]);\n    }\n    get enabledEntries() {\n        return this.entries.filter(entry => entry.enabled);\n    }\n    get enabledValues() {\n        return this.enabledEntries.map(entry => entry.value);\n    }\n    get enabledSecondaryValues() {\n        return this.enabledEntries.map(entry => entry.secondaryValue);\n    }\n    find(value) {\n        return this.entries.find((entry) => entry.value == value);\n    }\n    findBySecondaryValue(value) {\n        return this.entries.find((entry) => entry.secondaryValue == value);\n    }\n    findAll(...values) {\n        return this.entries.filter(entry => values.includes(entry.value));\n    }\n    findAllBySecondaryValue(...values) {\n        return this.entries.filter((entry) => values.includes(entry.secondaryValue));\n    }\n    enable(b, ...entries) {\n        entries.forEach(entry => {\n            if (entry instanceof TurboSelectEntry)\n                entry.enabled = b;\n            else\n                this.find(entry).enabled = b;\n        });\n    }\n    /**\n     * @description The dropdown's currently selected entries\n     */\n    get selectedEntries() {\n        return this.entries.filter(entry => entry.selected);\n    }\n    get selectedEntry() {\n        return this.entries.find(entry => entry.selected);\n    }\n    /**\n     * @description The dropdown's currently selected values\n     */\n    get selectedValues() {\n        return this.selectedEntries.map(entry => entry.value);\n    }\n    get selectedValue() {\n        return this.selectedEntry?.value;\n    }\n    get selectedSecondaryValues() {\n        return this.selectedEntries.map(entry => entry.secondaryValue);\n    }\n    get selectedSecondaryValue() {\n        return this.selectedEntry?.secondaryValue;\n    }\n    get stringSelectedValue() {\n        return this.selectedEntries.map(entry => entry.stringValue).join(\", \");\n    }\n    clear() {\n        for (const entry of this.entries)\n            entry.remove();\n        this.entries.splice(0, this.entries.length);\n    }\n    /**\n     * @description The dropdown's values. Setting it will update the dropdown accordingly.\n     */\n    get values() {\n        return this.entries.map(entry => entry.value);\n    }\n    set values(values) {\n        const selectedEntriesIndices = [];\n        this.entries.filter((entry, index) => entry.selected && index < values.length);\n        this.clear();\n        for (const entry of values)\n            this.addEntry(entry);\n        for (const index of selectedEntriesIndices)\n            this.select(this.entries[index]);\n        if (!this.selectedEntry && this.forceSelection)\n            this.select(this.entries[0]);\n        this.select(this.selectedEntry);\n    }\n};\nTurboSelect = TurboSelect_1 = __decorate([\n    define()\n], TurboSelect);\n\nvar css_248z$2 = \".turbo-drawer{align-items:center;display:inline-flex}.turbo-drawer.top-drawer,.turbo-drawer.top-drawer .turbo-drawer-panel-container{flex-direction:column}.turbo-drawer.bottom-drawer,.turbo-drawer.bottom-drawer .turbo-drawer-panel-container{flex-direction:column-reverse}.turbo-drawer.left-drawer,.turbo-drawer.left-drawer .turbo-drawer-panel-container{flex-direction:row}.turbo-drawer.right-drawer,.turbo-drawer.right-drawer .turbo-drawer-panel-container{flex-direction:row-reverse}.turbo-drawer>div:first-child{background-color:#fff;display:inline-block;position:relative}.turbo-drawer>div:nth-child(2){align-items:center;display:flex;position:relative}.turbo-drawer>div:nth-child(2)>:first-child{background-color:#fff;display:block}\";\nstyleInject(css_248z$2);\n\n// @ts-nocheck\n/**\n * @class Reifect\n * @description A class to manage and apply dynamic properties, styles, classes, and transitions to a\n * set of objects.\n *\n * @template {object} ClassType - The object type this reifier will be applied to.\n */\nclass Reifect extends StatefulReifect {\n    /**\n     * @description Creates an instance of StatefulReifier.\n     * @param {StatelessReifectProperties<ClassType>} properties - The configuration properties.\n     */\n    constructor(properties) {\n        properties.states = [\"\"];\n        super(properties);\n    }\n    /**\n     * @description The properties to be assigned to the objects. It could take:\n     * - A record of `{key: value}` pairs.\n     * - An interpolation function that would return a record of `{key: value}` pairs.\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get properties() {\n        const properties = super.properties;\n        if (typeof properties == \"object\" && \"\" in properties)\n            return properties[\"\"];\n        else\n            return properties;\n    }\n    set properties(value) {\n        super.properties = value;\n    }\n    /**\n     * @description The styles to be assigned to the objects (only if they are eligible elements). It could take:\n     * - A record of `{CSS property: value}` pairs.\n     * - An interpolation function that would return a record of `{key: value}` pairs.\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get styles() {\n        const styles = super.styles;\n        if (typeof styles == \"object\" && \"\" in styles)\n            return styles[\"\"];\n        else\n            return styles;\n    }\n    set styles(value) {\n        super.styles = value;\n    }\n    /**\n     * @description The classes to be assigned to the objects (only if they are eligible elements). It could take:\n     * - A string of space-separated classes.\n     * - An array of classes.\n     * - An interpolation function that would return a string of space-separated classes or an array of classes.\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get classes() {\n        const classes = super.classes;\n        if (typeof classes == \"object\" && \"\" in classes)\n            return classes[\"\"];\n        else\n            return classes;\n    }\n    set classes(value) {\n        super.classes = value;\n    }\n    /**\n     * @description The object that should replace (in the DOM as well if eligible) the attached objects. It could take:\n     * - The object to be replaced with.\n     * - An interpolation function that would return the object to be replaced with.\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get replaceWith() {\n        const replaceWith = super.replaceWith;\n        if (typeof replaceWith == \"object\" && \"\" in replaceWith)\n            return replaceWith[\"\"];\n        else\n            return replaceWith;\n    }\n    set replaceWith(value) {\n        super.replaceWith = value;\n    }\n    set transition(value) {\n        super.transition = value;\n    }\n    /**\n     * @description The property(ies) to apply a CSS transition on, on the attached objects. Defaults to \"all\". It\n     * could take:\n     * - A string of space-separated CSS properties.\n     * - An array of CSS properties.\n     * - An interpolation function that would return a string of space-separated CSS properties or an array of\n     * CSS properties.\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get transitionProperties() {\n        const transitionProperties = super.transitionProperties;\n        if (typeof transitionProperties == \"object\" && \"\" in transitionProperties)\n            return transitionProperties[\"\"];\n        else\n            return transitionProperties;\n    }\n    set transitionProperties(value) {\n        super.transitionProperties = value;\n    }\n    /**\n     * @description The duration of the CSS transition to apply on the attached objects. Defaults to 0. It could take:\n     * - A numerical value (in seconds).\n     * - An interpolation function that would return a duration (number in seconds).\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get transitionDuration() {\n        const transitionDuration = super.transitionDuration;\n        if (typeof transitionDuration == \"object\" && \"\" in transitionDuration)\n            return transitionDuration[\"\"];\n        else\n            return transitionDuration;\n    }\n    set transitionDuration(value) {\n        super.transitionDuration = value;\n    }\n    /**\n     * @description The timing function of the CSS transition to apply on the attached objects. Defaults to \"linear.\"\n     * It could take:\n     * - A string representing the timing function to apply.\n     * - An interpolation function that would return a timing function (string).\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get transitionTimingFunction() {\n        const transitionTimingFunction = super.transitionTimingFunction;\n        if (typeof transitionTimingFunction == \"object\" && \"\" in transitionTimingFunction)\n            return transitionTimingFunction[\"\"];\n        else\n            return transitionTimingFunction;\n    }\n    set transitionTimingFunction(value) {\n        super.transitionTimingFunction = value;\n    }\n    /**\n     * @description The delay of the CSS transition to apply on the attached objects. Defaults to 0. It could take:\n     * - A numerical value (in seconds).\n     * - An interpolation function that would return a delay (number in seconds).\n     *\n     * The interpolation function would take as arguments:\n     * - `index: number`: the index of the object in the applied list.\n     * - `total: number`: the total number of objects in the applied list.\n     * - `object: ClassType`: the object itself.\n     */\n    get transitionDelay() {\n        const transitionDelay = super.transitionDelay;\n        if (typeof transitionDelay == \"object\" && \"\" in transitionDelay)\n            return transitionDelay[\"\"];\n        else\n            return transitionDelay;\n    }\n    set transitionDelay(value) {\n        super.transitionDelay = value;\n    }\n    initialize(objects, options) {\n        super.initialize(\"\", objects, options);\n    }\n    apply(objects, options) {\n        super.apply(\"\", objects, options);\n    }\n}\nfunction reifect(properties) {\n    return new Reifect(properties);\n}\n\nlet TurboDrawer = class TurboDrawer extends TurboElement {\n    thumb;\n    panelContainer;\n    panel;\n    _icon;\n    _offset;\n    _translation = 0;\n    transition;\n    dragging = false;\n    animationOn = false;\n    resizeObserver;\n    constructor(properties) {\n        super(properties);\n        this.addClass(\"turbo-drawer\");\n        this.thumb = properties.thumb instanceof HTMLElement ? properties.thumb : div(properties.thumb);\n        this.panelContainer = div();\n        this.panel = properties.panel instanceof HTMLElement ? properties.panel : div(properties.panel);\n        this.thumb.addClass(\"turbo-drawer-thumb\");\n        this.panelContainer.addClass(\"turbo-drawer-panel-container\");\n        this.panel.addClass(\"turbo-drawer-panel\");\n        this.addChild([this.thumb, this.panelContainer]);\n        this.panelContainer.addChild(this.panel);\n        this.hideOverflow = properties.hideOverflow ?? false;\n        this.side = properties.side || Side.bottom;\n        this.offset = { open: properties.offset?.open || 0, closed: properties.offset?.closed || 0 };\n        this.attachSideToIconName = properties.attachSideToIconName;\n        this.rotateIconBasedOnSide = properties.rotateIconBasedOnSide;\n        this.icon = properties.icon;\n        this.childHandler = this.panel;\n        //Transition\n        this.transition = properties.transition ?? new Reifect({\n            transitionProperties: [\"transform\", this.isVertical ? \"height\" : \"width\"],\n            transitionDuration: 0.2,\n            transitionTimingFunction: \"ease-out\",\n            attachedObjects: [this, this.panelContainer]\n        });\n        let pending = false;\n        this.resizeObserver = new ResizeObserver(entries => {\n            if (!this.open || this.dragging)\n                return;\n            if (pending)\n                return;\n            pending = true;\n            requestAnimationFrame(() => {\n                const size = Array.isArray(entries[0].borderBoxSize)\n                    ? entries[0].borderBoxSize[0] : entries[0].borderBoxSize;\n                this.translation = (this.open ? this.offset.open : this.offset.closed)\n                    + (this.isVertical ? size.blockSize : size.inlineSize);\n                pending = false;\n            });\n        });\n        this.open = properties.initiallyOpen || false;\n        this.animationOn = true;\n        this.initEvents();\n    }\n    get icon() {\n        return this._icon;\n    }\n    set icon(value) {\n        if (this.icon?.parentElement === this.thumb)\n            this.thumb.removeChild(this.icon);\n        if (value instanceof Element) {\n            this._icon = value;\n            return;\n        }\n        let attachSideToIconName = this.attachSideToIconName;\n        if (typeof value === \"string\" && !attachSideToIconName && !this.rotateIconBasedOnSide)\n            attachSideToIconName = true;\n        this._icon = new TurboIconSwitch(typeof value == \"object\"\n            ? value\n            : {\n                icon: value,\n                switchReifect: { states: Object.values(Side) },\n                defaultState: this.open ? this.getOppositeSide() : this.side,\n                appendStateToIconName: attachSideToIconName,\n            });\n        this.thumb.addChild(this.icon);\n        this.attachSideToIconName = attachSideToIconName;\n    }\n    initEvents() {\n        this.thumb.addEventListener(DefaultEventName.click, (e) => {\n            e.stopImmediatePropagation();\n            this.open = !this.open;\n        });\n        this.thumb.addEventListener(TurboEventName.dragStart, (e) => {\n            e.stopImmediatePropagation();\n            this.dragging = true;\n            if (this.animationOn)\n                this.transition.enabled = false;\n        });\n        this.thumb.addEventListener(TurboEventName.drag, (e) => {\n            if (!this.dragging)\n                return;\n            e.stopImmediatePropagation();\n            this.translation += this.isVertical ? e.scaledDeltaPosition.y : e.scaledDeltaPosition.x;\n        });\n        this.thumb.addEventListener(TurboEventName.dragEnd, (e) => {\n            if (!this.dragging)\n                return;\n            e.stopImmediatePropagation();\n            this.dragging = false;\n            const delta = e.positions.first.sub(e.origins.first);\n            switch (this.side) {\n                case Side.top:\n                    if (this.open && delta.y > 100)\n                        this.open = false;\n                    else if (!this.open && delta.y < -100)\n                        this.open = true;\n                    break;\n                case Side.bottom:\n                    if (this.open && delta.y < -100)\n                        this.open = false;\n                    else if (!this.open && delta.y > 100)\n                        this.open = true;\n                    break;\n                case Side.left:\n                    if (this.open && delta.x > 100)\n                        this.open = false;\n                    else if (!this.open && delta.x < -100)\n                        this.open = true;\n                    break;\n                case Side.right:\n                    if (this.open && delta.x < -100)\n                        this.open = false;\n                    else if (!this.open && delta.x > 100)\n                        this.open = true;\n                    break;\n            }\n            this.refresh();\n        });\n    }\n    getOppositeSide(side = this.side) {\n        switch (side) {\n            case Side.top:\n                return Side.bottom;\n            case Side.bottom:\n                return Side.top;\n            case Side.left:\n                return Side.right;\n            case Side.right:\n                return Side.left;\n        }\n    }\n    getAdjacentSide(side = this.side) {\n        switch (side) {\n            case Side.top:\n                return Side.right;\n            case Side.bottom:\n                return Side.left;\n            case Side.left:\n                return Side.top;\n            case Side.right:\n                return Side.bottom;\n        }\n    }\n    set hideOverflow(value) {\n        this.panelContainer.setStyle(\"overflow\", value ? \"hidden\" : \"\");\n    }\n    set attachSideToIconName(value) {\n        if (this.icon instanceof TurboIconSwitch)\n            this.icon.appendStateToIconName = value;\n        if (value)\n            this.rotateIconBasedOnSide = false;\n    }\n    set rotateIconBasedOnSide(value) {\n        if (value)\n            this.attachSideToIconName = false;\n        if (this.icon instanceof TurboIconSwitch)\n            this.icon.switchReifect.styles = {\n                top: \"transform: rotate(180deg)\",\n                bottom: \"transform: rotate(0deg)\",\n                left: \"transform: rotate(90deg)\",\n                right: \"transform: rotate(270deg)\",\n            };\n    }\n    set side(value) {\n        this.toggleClass(\"top-drawer\", value == Side.top);\n        this.toggleClass(\"bottom-drawer\", value == Side.bottom);\n        this.toggleClass(\"left-drawer\", value == Side.left);\n        this.toggleClass(\"right-drawer\", value == Side.right);\n        this.refresh();\n    }\n    get offset() {\n        return this._offset;\n    }\n    set offset(value) {\n        if (typeof value == \"number\")\n            this._offset = { open: value, closed: value };\n        else\n            this._offset = { open: value?.open || 0, closed: value?.closed || 0 };\n    }\n    get isVertical() {\n        return this.side == Side.top || this.side == Side.bottom;\n    }\n    set open(value) {\n        if (value)\n            this.resizeObserver.observe(this.panel, { box: \"border-box\" });\n        else\n            this.resizeObserver.unobserve(this.panel);\n        this.refresh();\n    }\n    get translation() {\n        return this._translation;\n    }\n    set translation(value) {\n        this._translation = value;\n        switch (this.side) {\n            case Side.top:\n                if (this.hideOverflow)\n                    this.panelContainer.setStyle(\"height\", value + \"px\");\n                else\n                    this.setStyle(\"transform\", `translateY(${-value}px)`);\n                break;\n            case Side.bottom:\n                if (this.hideOverflow)\n                    this.panelContainer.setStyle(\"height\", value + \"px\");\n                else\n                    this.setStyle(\"transform\", `translateY(${-value}px)`);\n                break;\n            case Side.left:\n                if (this.hideOverflow)\n                    this.panelContainer.setStyle(\"width\", value + \"px\");\n                else\n                    this.setStyle(\"transform\", `translateX(${-value}px)`);\n                break;\n            case Side.right:\n                if (this.hideOverflow)\n                    this.panelContainer.setStyle(\"width\", value + \"px\");\n                else\n                    this.setStyle(\"transform\", `translateX(${-value}px)`);\n                break;\n        }\n    }\n    refresh() {\n        if (this.animationOn) {\n            this.transition.enabled = true;\n            this.transition.apply();\n        }\n        if (this.hideOverflow)\n            this.panel.setStyle(\"position\", \"absolute\", true);\n        if (this.icon instanceof TurboIconSwitch)\n            this.icon.switchReifect.apply(this.open ? this.getOppositeSide() : this.side);\n        requestAnimationFrame(() => {\n            this.translation = (this.open ? this.offset.open : this.offset.closed)\n                + (this.open ? (this.isVertical ? this.panel.offsetHeight : this.panel.offsetWidth) : 0);\n            if (this.hideOverflow)\n                this.panel.setStyle(\"position\", \"relative\", true);\n        });\n    }\n};\n__decorate([\n    auto()\n], TurboDrawer.prototype, \"hideOverflow\", null);\n__decorate([\n    auto()\n], TurboDrawer.prototype, \"attachSideToIconName\", null);\n__decorate([\n    auto()\n], TurboDrawer.prototype, \"rotateIconBasedOnSide\", null);\n__decorate([\n    auto()\n], TurboDrawer.prototype, \"side\", null);\n__decorate([\n    auto()\n], TurboDrawer.prototype, \"open\", null);\nTurboDrawer = __decorate([\n    define()\n], TurboDrawer);\n\nvar PopupFallbackMode;\n(function (PopupFallbackMode) {\n    PopupFallbackMode[\"invert\"] = \"invert\";\n    PopupFallbackMode[\"offset\"] = \"offset\";\n    PopupFallbackMode[\"none\"] = \"none\";\n})(PopupFallbackMode || (PopupFallbackMode = {}));\n\nvar css_248z$1 = \".turbo-popup{display:block;position:fixed}\";\nstyleInject(css_248z$1);\n\nvar TurboPopup_1;\nlet TurboPopup = class TurboPopup extends TurboElement {\n    static { TurboPopup_1 = this; }\n    _popupAnchor;\n    _parentAnchor;\n    _viewportMargin;\n    _offsetFromParent;\n    fallbackModes;\n    static config = {\n        defaultPopupAnchor: { x: 0, y: -100 },\n        defaultParentAnchor: { x: 0, y: 100 },\n        defaultViewportMargin: 4,\n        defaultOffsetFromParent: { x: 0, y: 4 }\n    };\n    constructor(properties = {}) {\n        super(properties);\n        this.addClass(\"turbo-popup\");\n        if (!properties.unsetDefaultClasses)\n            this.addClass(TurboPopup_1.config.defaultClasses);\n        this.popupAnchor = properties.popupAnchor || TurboPopup_1.config.defaultPopupAnchor || { x: 50, y: 0 };\n        this.parentAnchor = properties.parentAnchor || TurboPopup_1.config.defaultParentAnchor || { x: 50, y: 100 };\n        this.viewportMargin = properties.viewportMargin || TurboPopup_1.config.defaultViewportMargin || 0;\n        this.offsetFromParent = properties.offsetFromParent || TurboPopup_1.config.defaultOffsetFromParent || 0;\n        this.fallbackModes = properties.fallbackModes || {\n            x: Math.abs(this.parentAnchor.x - 50) > 25 ? PopupFallbackMode.invert : PopupFallbackMode.offset,\n            y: Math.abs(this.parentAnchor.y - 50) > 25 ? PopupFallbackMode.invert : PopupFallbackMode.offset,\n        };\n        this.addListeners();\n        this.show(false);\n    }\n    addListeners() {\n        window.addEventListener(DefaultEventName.scroll, () => this.show(false));\n        window.addEventListener(DefaultEventName.resize, () => {\n            if (this.isShown)\n                this.recomputePosition();\n        });\n        document.addListener(DefaultEventName.click, e => {\n            if (this.isShown && !this.contains(e.target))\n                this.show(false);\n        });\n    }\n    get popupAnchor() {\n        return this._popupAnchor;\n    }\n    set popupAnchor(value) {\n        this._popupAnchor = new Point(value).bound(0, 100);\n    }\n    get parentAnchor() {\n        return this._parentAnchor;\n    }\n    set parentAnchor(value) {\n        this._parentAnchor = new Point(value).bound(0, 100);\n    }\n    get viewportMargin() {\n        return this._viewportMargin;\n    }\n    set viewportMargin(value) {\n        this._viewportMargin = new Point(value);\n    }\n    get offsetFromParent() {\n        return this._offsetFromParent;\n    }\n    set offsetFromParent(value) {\n        this._offsetFromParent = new Point(value);\n    }\n    get rect() {\n        return this.getBoundingClientRect();\n    }\n    get parentRect() {\n        return this.parentElement.getBoundingClientRect();\n    }\n    get computedStyle() {\n        return window.getComputedStyle(this);\n    }\n    get parentComputedStyle() {\n        return window.getComputedStyle(this.parentElement);\n    }\n    recomputePosition() {\n        if (!this.parentElement)\n            return;\n        this.clearMaxDimensions();\n        const availableHeight = window.innerHeight - (2 * this.viewportMargin.y);\n        const availableWidth = window.innerWidth - (2 * this.viewportMargin.x);\n        this.setStyle(\"maxHeight\", `${availableHeight}px`);\n        this.setStyle(\"maxWidth\", `${availableWidth}px`);\n        const top = this.recomputeSide(Direction.vertical);\n        const left = this.recomputeSide(Direction.horizontal);\n        this.recomputeMaxSize(top, Direction.vertical);\n        this.recomputeMaxSize(left, Direction.horizontal);\n    }\n    recomputeSide(direction) {\n        const params = this.generateDimensionParameters(direction);\n        const popupSizeWithMargins = this.rect[params.size] + this.offsetFromParent[params.coordinate]\n            + parseFloat(this.computedStyle[params.marginStart]) + parseFloat(this.computedStyle[params.marginEnd]);\n        const parentAnchorOffset = this.parentRect[params.size] * this.parentAnchor[params.coordinate] / 100;\n        const popupSizeOffset = popupSizeWithMargins * this.popupAnchor[params.coordinate] / 100;\n        const totalSizeOffset = parentAnchorOffset - popupSizeOffset;\n        const incrementSign = totalSizeOffset > 0 ? 1 : -1;\n        const offsetFromParent = this.offsetFromParent[params.coordinate] * incrementSign;\n        const viewportMargin = this.viewportMargin[params.coordinate] * incrementSign;\n        let offset = this.parentRect[params.side] + totalSizeOffset + offsetFromParent;\n        const maxOffset = window[params.innerSize] - popupSizeWithMargins - viewportMargin;\n        const minOffset = viewportMargin;\n        if (this.fallbackModes[params.coordinate] === PopupFallbackMode.invert) {\n            const inverseTotalSizeOffset = (this.parentRect[params.size] - parentAnchorOffset)\n                + (popupSizeWithMargins - popupSizeOffset);\n            if ((offset + popupSizeWithMargins > maxOffset) || (offset < minOffset)) {\n                const inverseOffset = this.parentRect[params.side] - inverseTotalSizeOffset * incrementSign;\n                if (inverseOffset >= minOffset && (inverseOffset + popupSizeWithMargins) <= maxOffset) {\n                    offset = inverseOffset;\n                }\n            }\n        }\n        // Final boundary check\n        offset = Math.min(Math.max(offset, minOffset), maxOffset);\n        this.style[params.side] = `${offset}px`;\n        return offset;\n        // if (this.fallbackModes[params.coordinate] == PopupFallbackMode.invert) {\n        //     const inverseTotalSizeOffset = (this.parentRect[params.size] - parentAnchorOffset)\n        //         + (popupSizeWithMargins - popupSizeOffset);\n        //     const inverseTotalSizeOffsetWithViewportMargin = inverseTotalSizeOffset - viewportMargin;\n        //\n        //     if ((totalSizeOffset >= 0\n        //             && window[params.innerSize] - this.parentRect[params.side] <\n        //             popupSizeWithMargins + totalSizeOffsetWithViewportMargin\n        //             && this.parentRect[params.side] >= popupSizeWithMargins - inverseTotalSizeOffsetWithViewportMargin)\n        //         || (totalSizeOffset < 0\n        //             && this.parentRect[params.side] < -totalSizeOffset - totalSizeOffsetWithViewportMargin\n        //             && window[params.innerSize] - this.parentRect[params.side] >=\n        //             inverseTotalSizeOffset + inverseTotalSizeOffsetWithViewportMargin)) {\n        //         offset = this.parentRect[params.side] - inverseTotalSizeOffset * incrementSign;\n        //     }\n        // } else if (this.fallbackModes[params.coordinate] == PopupFallbackMode.offset) {\n        //     if (totalSizeOffset < 0) {\n        //         const outOfBoundsStart: number = this.parentRect[params.side] + totalSizeOffsetWithViewportMargin;\n        //         if (outOfBoundsStart < 0) offset -= outOfBoundsStart;\n        //     } else {\n        //         const outOfBoundsEnd: number = (window[params.innerSize] - this.parentRect[params.side])\n        //             - (popupSizeWithMargins + totalSizeOffsetWithViewportMargin);\n        //         if (outOfBoundsEnd > 0) offset -= outOfBoundsEnd;\n        //     }\n        // }\n        //\n        // this.style[params.side] = offset + \"px\";\n        // return offset;\n    }\n    recomputeMaxSize(offset, direction) {\n        const params = this.generateDimensionParameters(direction);\n        const totalMargins = parseFloat(this.computedStyle[params.marginStart])\n            + parseFloat(this.computedStyle[params.marginEnd])\n            + (2 * this.viewportMargin[params.coordinate]);\n        const maxSize = Math.min(window[params.innerSize] - totalMargins, // Total available space\n        window[params.innerSize] - offset - this.viewportMargin[params.coordinate] // Space from offset to edge\n        );\n        // Only set if we need to constrain the size\n        const currentMaxSize = this.computedStyle[params.maxSize]\n            ? parseFloat(this.computedStyle[params.maxSize])\n            : Infinity;\n        if (!currentMaxSize || currentMaxSize > maxSize)\n            this.style[params.maxSize] = `${maxSize}px`;\n        // const maxSize = window[params.innerSize] - offset - this.viewportMargin[params.coordinate]\n        //     - parseFloat(this.computedStyle[params.marginStart]) - parseFloat(this.computedStyle[params.marginEnd])\n        //     - parseFloat(this.parentComputedStyle[params.marginStart]) - parseFloat(this.parentComputedStyle[params.marginEnd]);\n        //\n        // if (this.computedStyle[params.maxSize] && parseFloat(this.computedStyle[params.maxSize]) <= maxSize) return;\n        // this.style[params.maxSize] = maxSize + \"px\";\n    }\n    clearMaxDimensions() {\n        this.setStyle(\"maxHeight\", \"\", true);\n        this.setStyle(\"maxWidth\", \"\", true);\n    }\n    show(b) {\n        if (this.isShown == b)\n            return this;\n        requestAnimationFrame(() => {\n            if (b)\n                this.recomputePosition();\n            else\n                this.clearMaxDimensions();\n            super.show(b);\n        });\n        return this;\n    }\n    toggle() {\n        return this.show(!this.isShown);\n    }\n    generateDimensionParameters(direction) {\n        const isVertical = direction == Direction.vertical;\n        return {\n            size: isVertical ? \"height\" : \"width\",\n            innerSize: isVertical ? \"innerHeight\" : \"innerWidth\",\n            maxSize: isVertical ? \"maxHeight\" : \"maxWidth\",\n            marginStart: isVertical ? \"marginTop\" : \"marginLeft\",\n            marginEnd: isVertical ? \"marginBottom\" : \"marginRight\",\n            side: isVertical ? \"top\" : \"left\",\n            coordinate: isVertical ? \"y\" : \"x\"\n        };\n    }\n};\n__decorate([\n    cache({ clearOnNextFrame: true })\n], TurboPopup.prototype, \"rect\", null);\n__decorate([\n    cache({ clearOnNextFrame: true })\n], TurboPopup.prototype, \"parentRect\", null);\n__decorate([\n    cache({ clearOnNextFrame: true })\n], TurboPopup.prototype, \"computedStyle\", null);\n__decorate([\n    cache({ clearOnNextFrame: true })\n], TurboPopup.prototype, \"parentComputedStyle\", null);\nTurboPopup = TurboPopup_1 = __decorate([\n    define()\n], TurboPopup);\n\nvar css_248z = \"turbo-dropdown{display:inline-block;position:relative}turbo-dropdown>.turbo-popup{background-color:#fff;border:.1em solid #5e5e5e;border-radius:.4em;display:flex;flex-direction:column;overflow:hidden}turbo-dropdown>.turbo-popup>turbo-select-entry{padding:.5em}turbo-dropdown>.turbo-popup>turbo-select-entry:not(:last-child){border-bottom:.1em solid #bdbdbd}turbo-dropdown>turbo-select-entry{padding:.5em .7em;width:100%}turbo-dropdown>turbo-select-entry:hover{background-color:#d7d7d7}turbo-dropdown>turbo-select-entry:not(:last-child){border-bottom:.1em solid #bdbdbd}\";\nstyleInject(css_248z);\n\nvar TurboDropdown_1;\n/**\n * Dropdown class for creating Turbo button elements.\n * @class TurboDropdown\n * @extends TurboElement\n */\nlet TurboDropdown = class TurboDropdown extends TurboSelect {\n    static { TurboDropdown_1 = this; }\n    /**\n     * The dropdown's selector element.\n     */\n    selector;\n    /**\n     * The dropdown's popup element.\n     */\n    popup;\n    popupOpen = false;\n    //TODO MOVE DEFAULT CLICK TO MAIN CONFIG\n    static config = { defaultEntryTag: \"h4\", defaultSelectorTag: \"h4\" };\n    /**\n     * @description Dropdown constructor\n     * @param {TurboDropdownProperties} properties - Properties for configuring the dropdown.\n     */\n    constructor(properties) {\n        properties.entriesParent = properties.popup || new TurboPopup();\n        super(properties);\n        this.selector = properties.selector instanceof HTMLElement ? properties.selector : button({ buttonText: \"\",\n            customTextTag: properties.customSelectorTag || TurboDropdown_1.config.defaultSelectorTag });\n        this.popup = properties.entriesParent;\n        this.initPopup(properties);\n        this.initSelector(properties);\n        requestAnimationFrame(() => document.addListener(DefaultEventName.click, e => {\n            if (this.popupOpen && !this.contains(e.target))\n                this.openPopup(false);\n        }));\n    }\n    initSelector(properties) {\n        if (this.selector instanceof TurboButton) {\n            if (typeof properties.selector == \"string\")\n                this.selector.text = properties.selector;\n            else if (!properties.selector) {\n                const selectorText = this.entries[0]?.value;\n                if (typeof selectorText == \"string\" && !this.selector.text)\n                    this.selector.text = selectorText;\n            }\n        }\n        this.selector.addListener(DefaultEventName.click, (e) => {\n            this.openPopup(!this.popupOpen);\n            e.stopImmediatePropagation();\n        });\n        this.addChild(this.selector);\n        this.selector.addClass(properties.customSelectorClasses\n            ? properties.customSelectorClasses\n            : TurboDropdown_1.config.defaultSelectorClasses);\n    }\n    initPopup(properties) {\n        this.addChild(this.popup);\n        this.popup.show(false);\n        this.popup.addClass(properties.customPopupClasses\n            ? properties.customPopupClasses\n            : TurboDropdown_1.config.defaultPopupClasses);\n    }\n    onEntryClick(entry) {\n        super.onEntryClick(entry);\n        this.openPopup(false);\n    }\n    select(entry, selected = true) {\n        super.select(entry, selected);\n        if (this.selector instanceof TurboButton)\n            this.selector.text = this.stringSelectedValue;\n        return this;\n    }\n    openPopup(b) {\n        if (this.popupOpen == b)\n            return;\n        this.popupOpen = b;\n        if (this.popup instanceof TurboElement)\n            this.popup.show(b);\n        else\n            this.popup.show(b);\n    }\n};\nTurboDropdown = TurboDropdown_1 = __decorate([\n    define(\"turbo-dropdown\")\n], TurboDropdown);\n\nfunction getEventPosition(e) {\n    if (e instanceof TurboEvent)\n        return e.scaledPosition;\n    if (e instanceof PointerEvent)\n        return new Point(e.clientX, e.clientY);\n    return;\n}\n\nlet TurboMarkingMenu = class TurboMarkingMenu extends TurboSelect {\n    transition;\n    semiMajor;\n    semiMinor;\n    currentOrigin;\n    minDragDistance;\n    set startAngle(value) { }\n    ;\n    set endAngle(value) { }\n    ;\n    constructor(properties = {}) {\n        super(properties);\n        super.show(false);\n        this.startAngle = 0;\n        this.endAngle = properties.endAngle ?? Math.PI * 2;\n        this.semiMajor = properties.semiMajor ?? 50;\n        this.semiMinor = properties.semiMinor ?? 45;\n        this.minDragDistance = properties.minDragDistance ?? 20;\n        this.transition = properties.transition instanceof StatefulReifect ? properties.transition\n            : this.initializeTransition(properties.transition ?? {});\n        this.transition.initialize(InOut.out, this.entries);\n        this.setStyles({ position: \"fixed\", top: 0, left: 0 });\n        this.showTransition = this.showTransition.clone();\n        this.showTransition.transitionDelay = { hidden: (index, totalCount) => 0.13 + totalCount * 0.02, visible: 0 };\n        this.initEvents();\n    }\n    get totalAngle() {\n        let totalAngle = this.endAngle - this.startAngle;\n        while (totalAngle > Math.PI * 2)\n            totalAngle -= Math.PI * 2;\n        return totalAngle;\n    }\n    initEvents() {\n        const hideOnEvent = (e) => {\n            if (e.target.findInParents(this))\n                return;\n            if (this.isShown)\n                this.show(false);\n        };\n        document.addListener(DefaultEventName.scroll, hideOnEvent);\n        document.addListener(DefaultEventName.clickEnd, hideOnEvent);\n        document.addListener(DefaultEventName.dragStart, hideOnEvent);\n    }\n    initializeTransition(properties) {\n        properties.states = [InOut.in, InOut.out];\n        if (!properties.transitionProperties)\n            properties.transitionProperties = \"opacity transform\";\n        if (properties.transitionDuration == undefined)\n            properties.transitionDuration = 0.1;\n        if (!properties.transitionTimingFunction)\n            properties.transitionTimingFunction = {\n                in: \"ease-out\",\n                out: \"ease-in\"\n            };\n        if (!properties.transitionDelay)\n            properties.transitionDelay = {\n                in: (index) => 0.01 + index * 0.02,\n                out: (index, totalCount) => 0.01 + (totalCount - index) * 0.02\n            };\n        if (!properties.styles)\n            properties.styles = {\n                in: (index, totalCount) => {\n                    //Compute angle of current entry (offset by 90 deg)\n                    const angle = this.computeAngle(index, totalCount);\n                    //Compute x and y\n                    const x = this.semiMajor * Math.cos(angle);\n                    const y = this.semiMinor * Math.sin(angle);\n                    //Translate the div to move its anchor as close as possible to the center\n                    //I.e., for x, the more it's close to 0, the more centered horizontally it gets,\n                    //and the farthest from 0, the closer it gets to the edge\n                    const translations = {\n                        x: -50 * (1 - x / this.semiMajor),\n                        y: -50 * (1 - y / this.semiMinor)\n                    };\n                    return {\n                        opacity: 1,\n                        top: y + \"px\",\n                        left: x + \"px\",\n                        transform: `translate3d(${translations.x}%, ${translations.y}%, 0)`\n                    };\n                },\n                out: { opacity: 0, transform: `translate3d(-50%, -50%, 0)` }\n            };\n        return statefulReifier(properties);\n    }\n    computeAngle(index, totalCount) {\n        const totalAngleEntriesCount = totalCount - (this.totalAngle < Math.PI * 2 ? 1 : 0);\n        let angle = this.totalAngle * index / totalAngleEntriesCount + this.startAngle;\n        angle += Math.sin((angle + (Math.PI / 2)) * 2) * 0.2;\n        while (angle < 0)\n            angle += Math.PI * 2;\n        while (angle >= Math.PI * 2)\n            angle -= Math.PI * 2;\n        return angle;\n    }\n    addEntry(entry, index = this.entries.length) {\n        entry = super.addEntry(entry, index);\n        this.transition?.initialize(this.isShown ? InOut.in : InOut.out, entry);\n        entry.setStyles({ position: \"absolute\" });\n        return entry;\n    }\n    show(b = !this.isShown, position) {\n        if (position)\n            this.currentOrigin = position;\n        else\n            this.currentOrigin = new Point(this.offsetLeft, this.offsetTop);\n        if (position && b)\n            this.setStyle(\"transform\", `translate3d(${position.x}px, ${position.y}px, 0)`);\n        this.transition.apply(b ? InOut.in : InOut.out, this.enabledEntries);\n        super.show(b);\n        return this;\n    }\n    getEntryInDirection(position) {\n        if (!this.currentOrigin)\n            return null;\n        if (Point.dist(position, this.currentOrigin) < this.minDragDistance)\n            return null;\n        let angle = Math.atan2(position.y - this.currentOrigin.y, position.x - this.currentOrigin.x);\n        if (angle < 0)\n            angle += Math.PI * 2;\n        // Find the closest entry based on the calculated angle\n        let closestEntry = null;\n        let smallestAngleDifference = Infinity;\n        this.enabledEntries.forEach((entry, index) => {\n            // Compute the angle of the current entry\n            const entryAngle = this.computeAngle(index, this.enabledEntries.length);\n            // Calculate the absolute difference between the entry angle and the position angle\n            const angleDifference = Math.abs(entryAngle - angle);\n            // Update the closest entry if this one is closer\n            if (angleDifference < smallestAngleDifference) {\n                smallestAngleDifference = angleDifference;\n                closestEntry = entry;\n            }\n        });\n        return closestEntry;\n    }\n    selectEntryInDirection(position) {\n        this.select(this.getEntryInDirection(position));\n    }\n    attachTo(element, onClick = (e) => this.show(true, getEventPosition(e)), onDragStart = (e) => this.show(true, getEventPosition(e)), onDragEnd = onDragStart\n        ? (e) => this.selectEntryInDirection(getEventPosition(e))\n        : null) {\n        //Cancel default hide operation on click end\n        element.addListener(DefaultEventName.clickEnd, (e) => e.stopImmediatePropagation());\n        //Setup click if defined\n        if (onClick)\n            element.addListener(DefaultEventName.click, (e) => {\n                e.stopImmediatePropagation();\n                onClick(e);\n            }, this);\n        //Cancel default hide operation on drag start\n        element.addListener(DefaultEventName.dragStart, (e) => {\n            e.stopImmediatePropagation();\n            //Setup drag start if defined\n            if (onDragStart)\n                onDragStart(e);\n        }, this);\n        //Setup drag end if defined\n        if (onDragEnd)\n            element.addListener(DefaultEventName.dragEnd, (e) => {\n                e.stopImmediatePropagation();\n                onDragEnd(e);\n            }, this);\n    }\n};\n__decorate([\n    auto({ callBefore: (value) => value - Math.PI / 2 })\n], TurboMarkingMenu.prototype, \"startAngle\", null);\n__decorate([\n    auto({ callBefore: (value) => value - Math.PI / 2 })\n], TurboMarkingMenu.prototype, \"endAngle\", null);\nTurboMarkingMenu = __decorate([\n    define(\"turbo-marking-menu\")\n], TurboMarkingMenu);\n\n/**\n * @description Interpolates x linearly between (x1, y1) and (x2, y2). If strict is true, then x will not be allowed\n * to go beyond [x1, x2].\n * @param x\n * @param x1\n * @param x2\n * @param y1\n * @param y2\n * @param strict\n */\nfunction linearInterpolation(x, x1, x2, y1, y2, strict = true) {\n    if (strict) {\n        const xMax = Math.max(x1, x2);\n        const xMin = Math.min(x1, x2);\n        if (x > xMax)\n            x = xMax;\n        if (x < xMin)\n            x = xMin;\n    }\n    return y1 + ((x - x1) * (y2 - y1)) / (x2 - x1);\n}\n\n/**\n * @class TurboSelectWheel\n * @extends TurboSelect\n * @description Class to create a dynamic selection wheel.\n * @template {string} ValueType\n * @template {TurboSelectEntry<ValueType, any>} EntryType\n */\nlet TurboSelectWheel = class TurboSelectWheel extends TurboSelect {\n    _currentPosition = 0;\n    _reifect;\n    _size = { max: 100, min: -100 };\n    sizePerEntry = [];\n    positionPerEntry = [];\n    totalSize = 0;\n    dragLimitOffset = 30;\n    /**\n     * @description Hides after the set time has passed. Set to a negative value to never hide the wheel. In ms.\n     */\n    openTimeout = 3000;\n    direction = Direction.horizontal;\n    scale = { max: 1, min: 0.5 };\n    generateCustomStyling;\n    dragging;\n    openTimer;\n    constructor(properties) {\n        properties.multiSelection = false;\n        properties.forceSelection = true;\n        super(properties);\n        if (properties.scale)\n            this.scale = properties.scale;\n        if (properties.direction)\n            this.direction = properties.direction;\n        this.opacity = properties.opacity ?? { max: 1, min: 0 };\n        this.size = properties.size;\n        this.generateCustomStyling = properties.generateCustomStyling;\n        this.reifect = properties.styleReifect;\n        this.setStyles({ display: \"block\", position: \"relative\" });\n        this.alwaysOpen = properties.alwaysOpen ?? false;\n        this.initializeUI();\n        if (properties.selectedValues?.length > 0)\n            this.select(properties.selectedValues[0]);\n        requestAnimationFrame(() => this.refresh());\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        requestAnimationFrame(() => this.refresh());\n    }\n    set opacity(value) { }\n    get size() {\n        return this._size;\n    }\n    set size(value) {\n        this._size = typeof value == \"object\" ? value : { max: value ?? 100, min: -(value ?? 100) };\n    }\n    get reifect() {\n        return this._reifect;\n    }\n    set reifect(value) {\n        if (value instanceof Reifect)\n            this._reifect = value;\n        else {\n            if (!value)\n                value = {};\n            if (!value.transitionProperties)\n                value.transitionProperties = \"opacity transform\";\n            if (value.transitionDuration == undefined)\n                value.transitionDuration = 0.2;\n            if (!value.transitionTimingFunction)\n                value.transitionTimingFunction = \"ease-in-out\";\n            this._reifect = new Reifect(value);\n        }\n        this._reifect.attachAll(...this.entries);\n    }\n    set alwaysOpen(value) {\n        if (value)\n            document.removeListener(DefaultEventName.click, this.closeOnClick);\n        else\n            document.addListener(DefaultEventName.click, this.closeOnClick);\n        this.open = value;\n    }\n    closeOnClick = () => this.open = false;\n    get isVertical() {\n        return this.direction == Direction.vertical;\n    }\n    set index(value) {\n        this.selectByIndex(this.trimmedIndex);\n    }\n    get trimmedIndex() {\n        return trim(Math.round(this.index), this.entries.length - 1);\n    }\n    get flooredTrimmedIndex() {\n        return trim(Math.floor(this.index), this.entries.length - 1);\n    }\n    set open(value) {\n        this.setStyle(\"overflow\", value ? \"visible\" : \"hidden\");\n    }\n    get currentPosition() {\n        return this._currentPosition;\n    }\n    set currentPosition(value) {\n        const min = -this.dragLimitOffset - this.sizePerEntry[0] / 2;\n        const max = this.totalSize + this.dragLimitOffset - this.sizePerEntry[this.sizePerEntry.length - 1] / 2;\n        if (value < min)\n            value = min;\n        if (value > max)\n            value = max;\n        this._currentPosition = value;\n        const elements = this.reifect.getEnabledObjectsData();\n        if (elements.length === 0)\n            return;\n        elements.forEach((el, index) => this.computeAndApplyStyling(el.object.deref(), this.positionPerEntry[index] - value));\n    }\n    setupUIListeners() {\n        super.setupUIListeners();\n        document.addListener(DefaultEventName.drag, (e) => {\n            if (!this.dragging)\n                return;\n            e.stopImmediatePropagation();\n            this.currentPosition += this.computeDragValue(e.scaledDeltaPosition);\n        });\n        document.addListener(DefaultEventName.dragEnd, (e) => {\n            if (!this.dragging)\n                return;\n            e.stopImmediatePropagation();\n            this.dragging = false;\n            this.recomputeIndex();\n            // this.snapTo(this.trimmedIndex);\n            if (!this.alwaysOpen)\n                this.setOpenTimer();\n        });\n    }\n    computeDragValue(delta) {\n        return -delta[this.isVertical ? \"y\" : \"x\"];\n    }\n    /**\n     * Recalculates the dimensions and positions of all entries\n     */\n    reloadEntrySizes() {\n        if (!this.reifect)\n            return;\n        this.sizePerEntry.length = 0;\n        this.positionPerEntry.length = 0;\n        this.totalSize = 0;\n        this.reifect.getEnabledObjectsData().forEach(entry => {\n            const object = entry.object.deref();\n            const size = object ? object[this.isVertical ? \"offsetHeight\" : \"offsetWidth\"] : 0;\n            this.sizePerEntry.push(size);\n            this.positionPerEntry.push(this.totalSize);\n            this.totalSize += size;\n        });\n        const flooredIndex = Math.floor(this.index);\n        const indexOffset = this.index - Math.floor(this.index);\n        this.currentPosition = 0;\n        if (this.index < 0)\n            this.currentPosition = -Math.abs(this.index) * this.sizePerEntry[0];\n        else if (this.index >= this.sizePerEntry.length)\n            this.currentPosition =\n                (this.index - this.sizePerEntry.length + 1) * this.sizePerEntry[this.sizePerEntry.length - 1];\n        else\n            this.currentPosition = this.positionPerEntry[flooredIndex] + this.sizePerEntry[flooredIndex] * indexOffset;\n    }\n    recomputeIndex() {\n        let index = 0;\n        while (index < this.positionPerEntry.length - 1 && this.positionPerEntry[index + 1] < this.currentPosition)\n            index++;\n        if (this.currentPosition - this.positionPerEntry[index] > this.sizePerEntry[index + 1] / 2)\n            index++;\n        this.index = index;\n    }\n    computeAndApplyStyling(element, translationValue, size = this.size) {\n        let opacityValue, scaleValue;\n        const bound = translationValue > 0 ? size.max : size.min;\n        opacityValue = linearInterpolation(translationValue, 0, bound, this.opacity.max, this.opacity.min);\n        scaleValue = linearInterpolation(translationValue, 0, bound, this.scale.max, this.scale.min);\n        let styles = {\n            left: \"50%\", top: \"50%\", opacity: opacityValue, transform: `translate3d(\r\n            calc(${!this.isVertical ? translationValue : 0}px - 50%), \r\n            calc(${this.isVertical ? translationValue : 0}px - 50%),\r\n            0) scale3d(${scaleValue}, ${scaleValue}, 1)`\n        };\n        if (this.generateCustomStyling)\n            styles = this.generateCustomStyling({\n                element: element,\n                translationValue: translationValue,\n                opacityValue: opacityValue,\n                scaleValue: scaleValue,\n                size: size,\n                defaultComputedStyles: styles\n            });\n        element.setStyles(styles);\n    }\n    select(entry, selected = true) {\n        super.select(entry, selected);\n        if (entry === undefined || entry === null)\n            return this;\n        const index = this.getIndex(this.selectedEntry);\n        if (index != this.index)\n            this.index = index;\n        if (this.reifect) {\n            this.reifect.transitionEnabled = true;\n            this.reloadEntrySizes();\n        }\n        const computedStyle = getComputedStyle(this.selectedEntry);\n        this.setStyles({ minWidth: computedStyle.width, minHeight: computedStyle.height }, true);\n        return this;\n    }\n    onEntryClick(entry, e) {\n        super.onEntryClick(entry, e);\n        e.stopImmediatePropagation();\n        this.open = true;\n        if (!this.alwaysOpen)\n            this.setOpenTimer();\n    }\n    addEntry(entry, index = this.entries.length) {\n        entry = this.createEntry(entry);\n        entry.onDetach.add(() => this.reifect?.detach(entry));\n        entry.onAttach.add(() => {\n            this.reifect?.attach(entry);\n            this.reloadEntrySizes();\n        });\n        entry = super.addEntry(entry, index);\n        entry.setStyles({ position: \"absolute\" });\n        entry.addListener(DefaultEventName.dragStart, (e) => {\n            e.stopImmediatePropagation();\n            this.clearOpenTimer();\n            this.open = true;\n            this.dragging = true;\n            this.reifect.transitionEnabled = false;\n            this.reloadEntrySizes();\n        });\n        let showTimer;\n        entry.addListener(\"mouseover\", () => {\n            clearTimeout(showTimer);\n            showTimer = setTimeout(() => this.open = true, 1000);\n        });\n        entry.addListener(\"mouseout\", () => {\n            if (showTimer)\n                clearTimeout(showTimer);\n            showTimer = null;\n        });\n        this.refresh();\n        return entry;\n    }\n    clear() {\n        this.reifect.detach(...this.entries);\n        super.clear();\n    }\n    refresh() {\n        if (this.selectedEntry)\n            this.select(this.selectedEntry);\n        else\n            this.reset();\n    }\n    reset() {\n        this.select(this.entries[0]);\n    }\n    clearOpenTimer() {\n        if (this.openTimer)\n            clearTimeout(this.openTimer);\n    }\n    setOpenTimer() {\n        this.clearOpenTimer();\n        if (typeof this.openTimeout !== \"number\" || this.openTimeout < 0)\n            return;\n        this.openTimer = setTimeout(() => this.open = false, this.openTimeout);\n    }\n};\n__decorate([\n    auto({ callBefore: (value) => trim(value, 1) })\n], TurboSelectWheel.prototype, \"opacity\", null);\n__decorate([\n    auto()\n], TurboSelectWheel.prototype, \"alwaysOpen\", null);\n__decorate([\n    auto({ cancelIfUnchanged: false })\n], TurboSelectWheel.prototype, \"index\", null);\n__decorate([\n    auto()\n], TurboSelectWheel.prototype, \"open\", null);\nTurboSelectWheel = __decorate([\n    define(\"turbo-select-wheel\")\n], TurboSelectWheel);\n\nclass TurboWeakSet {\n    _weakRefs;\n    constructor() {\n        this._weakRefs = new Set();\n    }\n    // Add an object as a WeakRef if it's not already in the set\n    add(obj) {\n        if (!this.has(obj))\n            this._weakRefs.add(new WeakRef(obj));\n        return this;\n    }\n    // Check if the set contains a WeakRef to the given object\n    has(obj) {\n        for (const weakRef of this._weakRefs) {\n            if (weakRef.deref() === obj)\n                return true;\n        }\n        return false;\n    }\n    // Delete the WeakRef associated with the given object\n    delete(obj) {\n        for (const weakRef of this._weakRefs) {\n            if (weakRef.deref() === obj) {\n                this._weakRefs.delete(weakRef);\n                return true;\n            }\n        }\n        return false;\n    }\n    // Clean up any WeakRefs whose objects have been garbage-collected\n    cleanup() {\n        for (const weakRef of this._weakRefs) {\n            if (weakRef.deref() === undefined)\n                this._weakRefs.delete(weakRef);\n        }\n    }\n    // Convert live objects in the TurboWeakSet to an array\n    toArray() {\n        const result = [];\n        for (const weakRef of this._weakRefs) {\n            const obj = weakRef.deref();\n            if (obj !== undefined)\n                result.push(obj);\n            else\n                this._weakRefs.delete(weakRef);\n        }\n        return result;\n    }\n    // Get the size of the TurboWeakSet (only live objects)\n    get size() {\n        this.cleanup();\n        return this.toArray().length;\n    }\n    // Clear all weak references\n    clear() {\n        this._weakRefs.clear();\n    }\n}\n\n/**\n * @description Computes the luminance of a color\n * @param {string} color - The color in Hex format\n * @return The luminance value, or NaN if the color is not valid.\n */\nfunction luminance(color) {\n    if (!color)\n        return NaN;\n    const rgb = parseInt(color.substring(1), 16);\n    const r = ((rgb >> 16) & 0xff) / 255;\n    const g = ((rgb >> 8) & 0xff) / 255;\n    const b = ((rgb >> 0) & 0xff) / 255;\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n}\n\n/**\n * @description Computes the contrast between two colors.\n * @param {string} color1 - The first color in Hex format\n * @param {string} color2 - The second color in Hex format\n * @return The contrast value, or NaN if one of the colors provided is not valid.\n */\nfunction contrast(color1, color2) {\n    if (!color1 || !color2)\n        return NaN;\n    const luminance1 = luminance(color1);\n    const luminance2 = luminance(color2);\n    return (Math.max(luminance1, luminance2) + 0.1) / (Math.min(luminance1, luminance2) + 0.1);\n}\n\n/**\n * @description Evaluates the best color out of two provided options to put on top of a base color in terms of contrast\n * (for readability).\n * @param {string} baseColor - The base color in Hex format.\n * @param {string} [overlayColor1=\"#000000\"] - The first overlay color to evaluate in Hex format. Defaults to black.\n * @param {string} [overlayColor2=\"#FFFFFF\"] - The second overlay color to evaluate in Hex format. Defaults to white.\n */\nfunction bestOverlayColor(baseColor, overlayColor1 = \"#000000\", overlayColor2 = \"#FFFFFF\") {\n    const contrastLight = contrast(baseColor, overlayColor2);\n    const contrastDark = contrast(overlayColor1, baseColor);\n    return contrastLight > contrastDark ? overlayColor2 : overlayColor1;\n}\n\n/**\n * @description Constructs a single CSS string from a template literal containing CSS rules.\n */\nfunction css(strings, ...values) {\n    let str = \"\";\n    strings.forEach((string, i) => {\n        str += string + (values[i] || '');\n    });\n    return str;\n}\n\n/**\n * @description Default font weights, sub-names, and styles when loading a font family.\n */\nconst defaultFamilyWeights = {\n    900: { \"Black\": \"normal\", \"BlackItalic\": \"italic\" },\n    800: { \"ExtraBold\": \"normal\", \"ExtraBoldItalic\": \"italic\" },\n    700: { \"Bold\": \"normal\", \"BoldItalic\": \"italic\" },\n    600: { \"SemiBold\": \"normal\", \"SemiBoldItalic\": \"italic\" },\n    500: { \"Medium\": \"normal\", \"MediumItalic\": \"italic\" },\n    400: { \"Regular\": \"normal\", \"Italic\": \"italic\" },\n    300: { \"Light\": \"normal\", \"LightItalic\": \"italic\" },\n    200: { \"ExtraLight\": \"normal\", \"ExtraLightItalic\": \"italic\" },\n    100: { \"Thin\": \"normal\", \"ThinItalic\": \"italic\" },\n};\nfunction createFontFace(name, path, format, weight, style) {\n    return css `\r\n        @font-face {\r\n            font-family: \"${name}\";\r\n            src: url(\"${path}\") format(\"${format}\"), \r\n            url(\"${path}\") format(\"woff\"),\r\n            url(\"${path}\") format(\"truetype\");\r\n            font-weight: ${typeof weight == \"string\" ? \"\\\"\" + weight + \"\\\"\" : weight};\r\n            font-style: \"${style}\";\r\n        }`;\n}\n/**\n * @description Loads a local font file, or a family of fonts from a directory.\n * @param {FontProperties} font - The font properties\n */\nfunction loadLocalFont(font) {\n    if (!font.name || !font.pathOrDirectory)\n        console.error(\"Please specify font name and path/directory\");\n    const isFamily = getFileExtension(font.pathOrDirectory).length == 0;\n    if (!font.stylesPerWeights)\n        font.stylesPerWeights = isFamily ? defaultFamilyWeights : { \"normal\": \"normal\" };\n    if (!font.format)\n        font.format = \"woff2\";\n    if (!font.extension)\n        font.extension = \".ttf\";\n    if (font.extension[0] != \".\")\n        font.extension = \".\" + font.extension;\n    stylesheet(Object.entries(font.stylesPerWeights).map(([weight, value]) => {\n        const weightNumber = Number.parseInt(weight);\n        const typedWeight = weightNumber ? weightNumber : weight;\n        if (typeof value == \"string\")\n            return createFontFace(font.name, font.pathOrDirectory, font.format, typedWeight, value);\n        return Object.entries(value).map(([weightName, style]) => createFontFace(font.name, `${font.pathOrDirectory}/${font.name}-${weightName}${font.extension}`, font.format, typedWeight, style)).join(\"\\n\");\n    }).join(\"\\n\"));\n}\n\nexport { AccessLevel, ActionMode, ClickMode, ClosestOrigin, DefaultEventName, Delegate, Direction, InOut, InputDevice, MathMLNamespace, MathMLTagsDefinitions, MvcHandler, OnOff, Open, Point, PopupFallbackMode, Range, Reifect, ReifectHandler, Shown, Side, SideH, SideV, StatefulReifect, SvgNamespace, SvgTagsDefinitions, TurboButton, TurboClickEventName, TurboController, TurboDragEvent, TurboDragEventName, TurboDrawer, TurboDropdown, TurboElement, TurboEmitter, TurboEvent, TurboEventManager, TurboEventName, TurboHandler, TurboHeadlessElement, TurboIcon, TurboIconSwitch, TurboIconToggle, TurboInput, TurboKeyEvent, TurboKeyEventName, TurboMap, TurboMarkingMenu, TurboModel, TurboMoveName, TurboNumericalInput, TurboPopup, TurboProxiedElement, TurboRichElement, TurboSelect, TurboSelectEntry, TurboSelectInputEvent, TurboSelectWheel, TurboView, TurboWeakSet, TurboWheelEvent, TurboWheelEventName, a, addChildManipulationToElementPrototype, addClassManipulationToElementPrototype, addElementManipulationToElementPrototype, addListenerManipulationToElementPrototype, addReifectManagementToNodePrototype, addStylesManipulationToElementPrototype, areEqual, auto, bestOverlayColor, blindElement, button, cache, callOnce, callOncePerInstance, camelToKebabCase, canvas, clearCache, clearCacheEntry, contrast, createProxy, css, define, div, eachEqualToAny, element, equalToAny, fetchSvg, flexCol, flexColCenter, flexRow, flexRowCenter, form, generateTagFunction, getEventPosition, getFileExtension, h1, h2, h3, h4, h5, h6, icon, img, input, isMathMLTag, isNull, isSvgTag, isUndefined, kebabToCamelCase, linearInterpolation, link, loadLocalFont, luminance, mod, observe, p, parse, reifect, setupTurboEventManagerBypassing, spacer, span, statefulReifier, stringify, style, stylesheet, textToElement, textarea, trim, turbofy, updateChainingPropertiesInElementPrototype, video };\n","\nimport * as Y from 'yjs' // eslint-disable-line\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\n\nexport const messagePermissionDenied = 0\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {string} reason\n */\nexport const writePermissionDenied = (encoder, reason) => {\n  encoding.writeVarUint(encoder, messagePermissionDenied)\n  encoding.writeVarString(encoder, reason)\n}\n\n/**\n * @callback PermissionDeniedHandler\n * @param {any} y\n * @param {string} reason\n */\n\n/**\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} y\n * @param {PermissionDeniedHandler} permissionDeniedHandler\n */\nexport const readAuthMessage = (decoder, y, permissionDeniedHandler) => {\n  switch (decoding.readVarUint(decoder)) {\n    case messagePermissionDenied: permissionDeniedHandler(y, decoding.readVarString(decoder))\n  }\n}\n","/**\n * @module awareness-protocol\n */\n\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as time from 'lib0/time'\nimport * as math from 'lib0/math'\nimport { Observable } from 'lib0/observable'\nimport * as f from 'lib0/function'\nimport * as Y from 'yjs' // eslint-disable-line\n\nexport const outdatedTimeout = 30000\n\n/**\n * @typedef {Object} MetaClientState\n * @property {number} MetaClientState.clock\n * @property {number} MetaClientState.lastUpdated unix timestamp\n */\n\n/**\n * The Awareness class implements a simple shared state protocol that can be used for non-persistent data like awareness information\n * (cursor, username, status, ..). Each client can update its own local state and listen to state changes of\n * remote clients. Every client may set a state of a remote peer to `null` to mark the client as offline.\n *\n * Each client is identified by a unique client id (something we borrow from `doc.clientID`). A client can override\n * its own state by propagating a message with an increasing timestamp (`clock`). If such a message is received, it is\n * applied if the known state of that client is older than the new state (`clock < newClock`). If a client thinks that\n * a remote client is offline, it may propagate a message with\n * `{ clock: currentClientClock, state: null, client: remoteClient }`. If such a\n * message is received, and the known clock of that client equals the received clock, it will override the state with `null`.\n *\n * Before a client disconnects, it should propagate a `null` state with an updated clock.\n *\n * Awareness states must be updated every 30 seconds. Otherwise the Awareness instance will delete the client state.\n *\n * @extends {Observable<string>}\n */\nexport class Awareness extends Observable {\n  /**\n   * @param {Y.Doc} doc\n   */\n  constructor (doc) {\n    super()\n    this.doc = doc\n    /**\n     * @type {number}\n     */\n    this.clientID = doc.clientID\n    /**\n     * Maps from client id to client state\n     * @type {Map<number, Object<string, any>>}\n     */\n    this.states = new Map()\n    /**\n     * @type {Map<number, MetaClientState>}\n     */\n    this.meta = new Map()\n    this._checkInterval = /** @type {any} */ (setInterval(() => {\n      const now = time.getUnixTime()\n      if (this.getLocalState() !== null && (outdatedTimeout / 2 <= now - /** @type {{lastUpdated:number}} */ (this.meta.get(this.clientID)).lastUpdated)) {\n        // renew local clock\n        this.setLocalState(this.getLocalState())\n      }\n      /**\n       * @type {Array<number>}\n       */\n      const remove = []\n      this.meta.forEach((meta, clientid) => {\n        if (clientid !== this.clientID && outdatedTimeout <= now - meta.lastUpdated && this.states.has(clientid)) {\n          remove.push(clientid)\n        }\n      })\n      if (remove.length > 0) {\n        removeAwarenessStates(this, remove, 'timeout')\n      }\n    }, math.floor(outdatedTimeout / 10)))\n    doc.on('destroy', () => {\n      this.destroy()\n    })\n    this.setLocalState({})\n  }\n\n  destroy () {\n    this.emit('destroy', [this])\n    this.setLocalState(null)\n    super.destroy()\n    clearInterval(this._checkInterval)\n  }\n\n  /**\n   * @return {Object<string,any>|null}\n   */\n  getLocalState () {\n    return this.states.get(this.clientID) || null\n  }\n\n  /**\n   * @param {Object<string,any>|null} state\n   */\n  setLocalState (state) {\n    const clientID = this.clientID\n    const currLocalMeta = this.meta.get(clientID)\n    const clock = currLocalMeta === undefined ? 0 : currLocalMeta.clock + 1\n    const prevState = this.states.get(clientID)\n    if (state === null) {\n      this.states.delete(clientID)\n    } else {\n      this.states.set(clientID, state)\n    }\n    this.meta.set(clientID, {\n      clock,\n      lastUpdated: time.getUnixTime()\n    })\n    const added = []\n    const updated = []\n    const filteredUpdated = []\n    const removed = []\n    if (state === null) {\n      removed.push(clientID)\n    } else if (prevState == null) {\n      if (state != null) {\n        added.push(clientID)\n      }\n    } else {\n      updated.push(clientID)\n      if (!f.equalityDeep(prevState, state)) {\n        filteredUpdated.push(clientID)\n      }\n    }\n    if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n      this.emit('change', [{ added, updated: filteredUpdated, removed }, 'local'])\n    }\n    this.emit('update', [{ added, updated, removed }, 'local'])\n  }\n\n  /**\n   * @param {string} field\n   * @param {any} value\n   */\n  setLocalStateField (field, value) {\n    const state = this.getLocalState()\n    if (state !== null) {\n      this.setLocalState({\n        ...state,\n        [field]: value\n      })\n    }\n  }\n\n  /**\n   * @return {Map<number,Object<string,any>>}\n   */\n  getStates () {\n    return this.states\n  }\n}\n\n/**\n * Mark (remote) clients as inactive and remove them from the list of active peers.\n * This change will be propagated to remote clients.\n *\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @param {any} origin\n */\nexport const removeAwarenessStates = (awareness, clients, origin) => {\n  const removed = []\n  for (let i = 0; i < clients.length; i++) {\n    const clientID = clients[i]\n    if (awareness.states.has(clientID)) {\n      awareness.states.delete(clientID)\n      if (clientID === awareness.clientID) {\n        const curMeta = /** @type {MetaClientState} */ (awareness.meta.get(clientID))\n        awareness.meta.set(clientID, {\n          clock: curMeta.clock + 1,\n          lastUpdated: time.getUnixTime()\n        })\n      }\n      removed.push(clientID)\n    }\n  }\n  if (removed.length > 0) {\n    awareness.emit('change', [{ added: [], updated: [], removed }, origin])\n    awareness.emit('update', [{ added: [], updated: [], removed }, origin])\n  }\n}\n\n/**\n * @param {Awareness} awareness\n * @param {Array<number>} clients\n * @return {Uint8Array}\n */\nexport const encodeAwarenessUpdate = (awareness, clients, states = awareness.states) => {\n  const len = clients.length\n  const encoder = encoding.createEncoder()\n  encoding.writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    const clientID = clients[i]\n    const state = states.get(clientID) || null\n    const clock = /** @type {MetaClientState} */ (awareness.meta.get(clientID)).clock\n    encoding.writeVarUint(encoder, clientID)\n    encoding.writeVarUint(encoder, clock)\n    encoding.writeVarString(encoder, JSON.stringify(state))\n  }\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * Modify the content of an awareness update before re-encoding it to an awareness update.\n *\n * This might be useful when you have a central server that wants to ensure that clients\n * cant hijack somebody elses identity.\n *\n * @param {Uint8Array} update\n * @param {function(any):any} modify\n * @return {Uint8Array}\n */\nexport const modifyAwarenessUpdate = (update, modify) => {\n  const decoder = decoding.createDecoder(update)\n  const encoder = encoding.createEncoder()\n  const len = decoding.readVarUint(decoder)\n  encoding.writeVarUint(encoder, len)\n  for (let i = 0; i < len; i++) {\n    const clientID = decoding.readVarUint(decoder)\n    const clock = decoding.readVarUint(decoder)\n    const state = JSON.parse(decoding.readVarString(decoder))\n    const modifiedState = modify(state)\n    encoding.writeVarUint(encoder, clientID)\n    encoding.writeVarUint(encoder, clock)\n    encoding.writeVarString(encoder, JSON.stringify(modifiedState))\n  }\n  return encoding.toUint8Array(encoder)\n}\n\n/**\n * @param {Awareness} awareness\n * @param {Uint8Array} update\n * @param {any} origin This will be added to the emitted change event\n */\nexport const applyAwarenessUpdate = (awareness, update, origin) => {\n  const decoder = decoding.createDecoder(update)\n  const timestamp = time.getUnixTime()\n  const added = []\n  const updated = []\n  const filteredUpdated = []\n  const removed = []\n  const len = decoding.readVarUint(decoder)\n  for (let i = 0; i < len; i++) {\n    const clientID = decoding.readVarUint(decoder)\n    let clock = decoding.readVarUint(decoder)\n    const state = JSON.parse(decoding.readVarString(decoder))\n    const clientMeta = awareness.meta.get(clientID)\n    const prevState = awareness.states.get(clientID)\n    const currClock = clientMeta === undefined ? 0 : clientMeta.clock\n    if (currClock < clock || (currClock === clock && state === null && awareness.states.has(clientID))) {\n      if (state === null) {\n        // never let a remote client remove this local state\n        if (clientID === awareness.clientID && awareness.getLocalState() != null) {\n          // remote client removed the local state. Do not remote state. Broadcast a message indicating\n          // that this client still exists by increasing the clock\n          clock++\n        } else {\n          awareness.states.delete(clientID)\n        }\n      } else {\n        awareness.states.set(clientID, state)\n      }\n      awareness.meta.set(clientID, {\n        clock,\n        lastUpdated: timestamp\n      })\n      if (clientMeta === undefined && state !== null) {\n        added.push(clientID)\n      } else if (clientMeta !== undefined && state === null) {\n        removed.push(clientID)\n      } else if (state !== null) {\n        if (!f.equalityDeep(state, prevState)) {\n          filteredUpdated.push(clientID)\n        }\n        updated.push(clientID)\n      }\n    }\n  }\n  if (added.length > 0 || filteredUpdated.length > 0 || removed.length > 0) {\n    awareness.emit('change', [{\n      added, updated: filteredUpdated, removed\n    }, origin])\n  }\n  if (added.length > 0 || updated.length > 0 || removed.length > 0) {\n    awareness.emit('update', [{\n      added, updated, removed\n    }, origin])\n  }\n}\n","/**\n * @module sync-protocol\n */\n\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as Y from 'yjs'\n\n/**\n * @typedef {Map<number, number>} StateMap\n */\n\n/**\n * Core Yjs defines two message types:\n * • YjsSyncStep1: Includes the State Set of the sending client. When received, the client should reply with YjsSyncStep2.\n * • YjsSyncStep2: Includes all missing structs and the complete delete set. When received, the client is assured that it\n *   received all information from the remote client.\n *\n * In a peer-to-peer network, you may want to introduce a SyncDone message type. Both parties should initiate the connection\n * with SyncStep1. When a client received SyncStep2, it should reply with SyncDone. When the local client received both\n * SyncStep2 and SyncDone, it is assured that it is synced to the remote client.\n *\n * In a client-server model, you want to handle this differently: The client should initiate the connection with SyncStep1.\n * When the server receives SyncStep1, it should reply with SyncStep2 immediately followed by SyncStep1. The client replies\n * with SyncStep2 when it receives SyncStep1. Optionally the server may send a SyncDone after it received SyncStep2, so the\n * client knows that the sync is finished.  There are two reasons for this more elaborated sync model: 1. This protocol can\n * easily be implemented on top of http and websockets. 2. The server should only reply to requests, and not initiate them.\n * Therefore it is necessary that the client initiates the sync.\n *\n * Construction of a message:\n * [messageType : varUint, message definition..]\n *\n * Note: A message does not include information about the room name. This must to be handled by the upper layer protocol!\n *\n * stringify[messageType] stringifies a message definition (messageType is already read from the bufffer)\n */\n\nexport const messageYjsSyncStep1 = 0\nexport const messageYjsSyncStep2 = 1\nexport const messageYjsUpdate = 2\n\n/**\n * Create a sync step 1 message based on the state of the current shared document.\n *\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n */\nexport const writeSyncStep1 = (encoder, doc) => {\n  encoding.writeVarUint(encoder, messageYjsSyncStep1)\n  const sv = Y.encodeStateVector(doc)\n  encoding.writeVarUint8Array(encoder, sv)\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {Y.Doc} doc\n * @param {Uint8Array} [encodedStateVector]\n */\nexport const writeSyncStep2 = (encoder, doc, encodedStateVector) => {\n  encoding.writeVarUint(encoder, messageYjsSyncStep2)\n  encoding.writeVarUint8Array(encoder, Y.encodeStateAsUpdate(doc, encodedStateVector))\n}\n\n/**\n * Read SyncStep1 message and reply with SyncStep2.\n *\n * @param {decoding.Decoder} decoder The reply to the received message\n * @param {encoding.Encoder} encoder The received message\n * @param {Y.Doc} doc\n */\nexport const readSyncStep1 = (decoder, encoder, doc) =>\n  writeSyncStep2(encoder, doc, decoding.readVarUint8Array(decoder))\n\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nexport const readSyncStep2 = (decoder, doc, transactionOrigin) => {\n  try {\n    Y.applyUpdate(doc, decoding.readVarUint8Array(decoder), transactionOrigin)\n  } catch (error) {\n    // This catches errors that are thrown by event handlers\n    console.error('Caught error while handling a Yjs update', error)\n  }\n}\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {Uint8Array} update\n */\nexport const writeUpdate = (encoder, update) => {\n  encoding.writeVarUint(encoder, messageYjsUpdate)\n  encoding.writeVarUint8Array(encoder, update)\n}\n\n/**\n * Read and apply Structs and then DeleteStore to a y instance.\n *\n * @param {decoding.Decoder} decoder\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nexport const readUpdate = readSyncStep2\n\n/**\n * @param {decoding.Decoder} decoder A message received from another client\n * @param {encoding.Encoder} encoder The reply message. Does not need to be sent if empty.\n * @param {Y.Doc} doc\n * @param {any} transactionOrigin\n */\nexport const readSyncMessage = (decoder, encoder, doc, transactionOrigin) => {\n  const messageType = decoding.readVarUint(decoder)\n  switch (messageType) {\n    case messageYjsSyncStep1:\n      readSyncStep1(decoder, encoder, doc)\n      break\n    case messageYjsSyncStep2:\n      readSyncStep2(decoder, doc, transactionOrigin)\n      break\n    case messageYjsUpdate:\n      readUpdate(decoder, doc, transactionOrigin)\n      break\n    default:\n      throw new Error('Unknown message type')\n  }\n  return messageType\n}\n","/**\n * @module provider/websocket\n */\n\n/* eslint-env browser */\n\nimport * as Y from 'yjs' // eslint-disable-line\nimport * as bc from 'lib0/broadcastchannel'\nimport * as time from 'lib0/time'\nimport * as encoding from 'lib0/encoding'\nimport * as decoding from 'lib0/decoding'\nimport * as syncProtocol from 'y-protocols/sync'\nimport * as authProtocol from 'y-protocols/auth'\nimport * as awarenessProtocol from 'y-protocols/awareness'\nimport { ObservableV2 } from 'lib0/observable'\nimport * as math from 'lib0/math'\nimport * as url from 'lib0/url'\nimport * as env from 'lib0/environment'\n\nexport const messageSync = 0\nexport const messageQueryAwareness = 3\nexport const messageAwareness = 1\nexport const messageAuth = 2\n\n/**\n *                       encoder,          decoder,          provider,          emitSynced, messageType\n * @type {Array<function(encoding.Encoder, decoding.Decoder, WebsocketProvider, boolean,    number):void>}\n */\nconst messageHandlers = []\n\nmessageHandlers[messageSync] = (\n  encoder,\n  decoder,\n  provider,\n  emitSynced,\n  _messageType\n) => {\n  encoding.writeVarUint(encoder, messageSync)\n  const syncMessageType = syncProtocol.readSyncMessage(\n    decoder,\n    encoder,\n    provider.doc,\n    provider\n  )\n  if (\n    emitSynced && syncMessageType === syncProtocol.messageYjsSyncStep2 &&\n    !provider.synced\n  ) {\n    provider.synced = true\n  }\n}\n\nmessageHandlers[messageQueryAwareness] = (\n  encoder,\n  _decoder,\n  provider,\n  _emitSynced,\n  _messageType\n) => {\n  encoding.writeVarUint(encoder, messageAwareness)\n  encoding.writeVarUint8Array(\n    encoder,\n    awarenessProtocol.encodeAwarenessUpdate(\n      provider.awareness,\n      Array.from(provider.awareness.getStates().keys())\n    )\n  )\n}\n\nmessageHandlers[messageAwareness] = (\n  _encoder,\n  decoder,\n  provider,\n  _emitSynced,\n  _messageType\n) => {\n  awarenessProtocol.applyAwarenessUpdate(\n    provider.awareness,\n    decoding.readVarUint8Array(decoder),\n    provider\n  )\n}\n\nmessageHandlers[messageAuth] = (\n  _encoder,\n  decoder,\n  provider,\n  _emitSynced,\n  _messageType\n) => {\n  authProtocol.readAuthMessage(\n    decoder,\n    provider.doc,\n    (_ydoc, reason) => permissionDeniedHandler(provider, reason)\n  )\n}\n\n// @todo - this should depend on awareness.outdatedTime\nconst messageReconnectTimeout = 30000\n\n/**\n * @param {WebsocketProvider} provider\n * @param {string} reason\n */\nconst permissionDeniedHandler = (provider, reason) =>\n  console.warn(`Permission denied to access ${provider.url}.\\n${reason}`)\n\n/**\n * @param {WebsocketProvider} provider\n * @param {Uint8Array} buf\n * @param {boolean} emitSynced\n * @return {encoding.Encoder}\n */\nconst readMessage = (provider, buf, emitSynced) => {\n  const decoder = decoding.createDecoder(buf)\n  const encoder = encoding.createEncoder()\n  const messageType = decoding.readVarUint(decoder)\n  const messageHandler = provider.messageHandlers[messageType]\n  if (/** @type {any} */ (messageHandler)) {\n    messageHandler(encoder, decoder, provider, emitSynced, messageType)\n  } else {\n    console.error('Unable to compute message')\n  }\n  return encoder\n}\n\n/**\n * Outsource this function so that a new websocket connection is created immediately.\n * I suspect that the `ws.onclose` event is not always fired if there are network issues.\n *\n * @param {WebsocketProvider} provider\n * @param {WebSocket} ws\n * @param {CloseEvent | null} event\n */\nconst closeWebsocketConnection = (provider, ws, event) => {\n  if (ws === provider.ws) {\n    provider.emit('connection-close', [event, provider])\n    provider.ws = null\n    ws.close()\n    provider.wsconnecting = false\n    if (provider.wsconnected) {\n      provider.wsconnected = false\n      provider.synced = false\n      // update awareness (all users except local left)\n      awarenessProtocol.removeAwarenessStates(\n        provider.awareness,\n        Array.from(provider.awareness.getStates().keys()).filter((client) =>\n          client !== provider.doc.clientID\n        ),\n        provider\n      )\n      provider.emit('status', [{\n        status: 'disconnected'\n      }])\n    } else {\n      provider.wsUnsuccessfulReconnects++\n    }\n    // Start with no reconnect timeout and increase timeout by\n    // using exponential backoff starting with 100ms\n    setTimeout(\n      setupWS,\n      math.min(\n        math.pow(2, provider.wsUnsuccessfulReconnects) * 100,\n        provider.maxBackoffTime\n      ),\n      provider\n    )\n  }\n}\n\n/**\n * @param {WebsocketProvider} provider\n */\nconst setupWS = (provider) => {\n  if (provider.shouldConnect && provider.ws === null) {\n    const websocket = new provider._WS(provider.url, provider.protocols)\n    websocket.binaryType = 'arraybuffer'\n    provider.ws = websocket\n    provider.wsconnecting = true\n    provider.wsconnected = false\n    provider.synced = false\n\n    websocket.onmessage = (event) => {\n      provider.wsLastMessageReceived = time.getUnixTime()\n      const encoder = readMessage(provider, new Uint8Array(event.data), true)\n      if (encoding.length(encoder) > 1) {\n        websocket.send(encoding.toUint8Array(encoder))\n      }\n    }\n    websocket.onerror = (event) => {\n      provider.emit('connection-error', [event, provider])\n    }\n    websocket.onclose = (event) => {\n      closeWebsocketConnection(provider, websocket, event)\n    }\n    websocket.onopen = () => {\n      provider.wsLastMessageReceived = time.getUnixTime()\n      provider.wsconnecting = false\n      provider.wsconnected = true\n      provider.wsUnsuccessfulReconnects = 0\n      provider.emit('status', [{\n        status: 'connected'\n      }])\n      // always send sync step 1 when connected\n      const encoder = encoding.createEncoder()\n      encoding.writeVarUint(encoder, messageSync)\n      syncProtocol.writeSyncStep1(encoder, provider.doc)\n      websocket.send(encoding.toUint8Array(encoder))\n      // broadcast local awareness state\n      if (provider.awareness.getLocalState() !== null) {\n        const encoderAwarenessState = encoding.createEncoder()\n        encoding.writeVarUint(encoderAwarenessState, messageAwareness)\n        encoding.writeVarUint8Array(\n          encoderAwarenessState,\n          awarenessProtocol.encodeAwarenessUpdate(provider.awareness, [\n            provider.doc.clientID\n          ])\n        )\n        websocket.send(encoding.toUint8Array(encoderAwarenessState))\n      }\n    }\n    provider.emit('status', [{\n      status: 'connecting'\n    }])\n  }\n}\n\n/**\n * @param {WebsocketProvider} provider\n * @param {ArrayBuffer} buf\n */\nconst broadcastMessage = (provider, buf) => {\n  const ws = provider.ws\n  if (provider.wsconnected && ws && ws.readyState === ws.OPEN) {\n    ws.send(buf)\n  }\n  if (provider.bcconnected) {\n    bc.publish(provider.bcChannel, buf, provider)\n  }\n}\n\n/**\n * Websocket Provider for Yjs. Creates a websocket connection to sync the shared document.\n * The document name is attached to the provided url. I.e. the following example\n * creates a websocket connection to http://localhost:1234/my-document-name\n *\n * @example\n *   import * as Y from 'yjs'\n *   import { WebsocketProvider } from 'y-websocket'\n *   const doc = new Y.Doc()\n *   const provider = new WebsocketProvider('http://localhost:1234', 'my-document-name', doc)\n *\n * @extends {ObservableV2<{ 'connection-close': (event: CloseEvent | null,  provider: WebsocketProvider) => any, 'status': (event: { status: 'connected' | 'disconnected' | 'connecting' }) => any, 'connection-error': (event: Event, provider: WebsocketProvider) => any, 'sync': (state: boolean) => any }>}\n */\nexport class WebsocketProvider extends ObservableV2 {\n  /**\n   * @param {string} serverUrl\n   * @param {string} roomname\n   * @param {Y.Doc} doc\n   * @param {object} opts\n   * @param {boolean} [opts.connect]\n   * @param {awarenessProtocol.Awareness} [opts.awareness]\n   * @param {Object<string,string>} [opts.params] specify url parameters\n   * @param {Array<string>} [opts.protocols] specify websocket protocols\n   * @param {typeof WebSocket} [opts.WebSocketPolyfill] Optionall provide a WebSocket polyfill\n   * @param {number} [opts.resyncInterval] Request server state every `resyncInterval` milliseconds\n   * @param {number} [opts.maxBackoffTime] Maximum amount of time to wait before trying to reconnect (we try to reconnect using exponential backoff)\n   * @param {boolean} [opts.disableBc] Disable cross-tab BroadcastChannel communication\n   */\n  constructor (serverUrl, roomname, doc, {\n    connect = true,\n    awareness = new awarenessProtocol.Awareness(doc),\n    params = {},\n    protocols = [],\n    WebSocketPolyfill = WebSocket,\n    resyncInterval = -1,\n    maxBackoffTime = 2500,\n    disableBc = false\n  } = {}) {\n    super()\n    // ensure that serverUrl does not end with /\n    while (serverUrl[serverUrl.length - 1] === '/') {\n      serverUrl = serverUrl.slice(0, serverUrl.length - 1)\n    }\n    this.serverUrl = serverUrl\n    this.bcChannel = serverUrl + '/' + roomname\n    this.maxBackoffTime = maxBackoffTime\n    /**\n     * The specified url parameters. This can be safely updated. The changed parameters will be used\n     * when a new connection is established.\n     * @type {Object<string,string>}\n     */\n    this.params = params\n    this.protocols = protocols\n    this.roomname = roomname\n    this.doc = doc\n    this._WS = WebSocketPolyfill\n    this.awareness = awareness\n    this.wsconnected = false\n    this.wsconnecting = false\n    this.bcconnected = false\n    this.disableBc = disableBc\n    this.wsUnsuccessfulReconnects = 0\n    this.messageHandlers = messageHandlers.slice()\n    /**\n     * @type {boolean}\n     */\n    this._synced = false\n    /**\n     * @type {WebSocket?}\n     */\n    this.ws = null\n    this.wsLastMessageReceived = 0\n    /**\n     * Whether to connect to other peers or not\n     * @type {boolean}\n     */\n    this.shouldConnect = connect\n\n    /**\n     * @type {number}\n     */\n    this._resyncInterval = 0\n    if (resyncInterval > 0) {\n      this._resyncInterval = /** @type {any} */ (setInterval(() => {\n        if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n          // resend sync step 1\n          const encoder = encoding.createEncoder()\n          encoding.writeVarUint(encoder, messageSync)\n          syncProtocol.writeSyncStep1(encoder, doc)\n          this.ws.send(encoding.toUint8Array(encoder))\n        }\n      }, resyncInterval))\n    }\n\n    /**\n     * @param {ArrayBuffer} data\n     * @param {any} origin\n     */\n    this._bcSubscriber = (data, origin) => {\n      if (origin !== this) {\n        const encoder = readMessage(this, new Uint8Array(data), false)\n        if (encoding.length(encoder) > 1) {\n          bc.publish(this.bcChannel, encoding.toUint8Array(encoder), this)\n        }\n      }\n    }\n    /**\n     * Listens to Yjs updates and sends them to remote peers (ws and broadcastchannel)\n     * @param {Uint8Array} update\n     * @param {any} origin\n     */\n    this._updateHandler = (update, origin) => {\n      if (origin !== this) {\n        const encoder = encoding.createEncoder()\n        encoding.writeVarUint(encoder, messageSync)\n        syncProtocol.writeUpdate(encoder, update)\n        broadcastMessage(this, encoding.toUint8Array(encoder))\n      }\n    }\n    this.doc.on('update', this._updateHandler)\n    /**\n     * @param {any} changed\n     * @param {any} _origin\n     */\n    this._awarenessUpdateHandler = ({ added, updated, removed }, _origin) => {\n      const changedClients = added.concat(updated).concat(removed)\n      const encoder = encoding.createEncoder()\n      encoding.writeVarUint(encoder, messageAwareness)\n      encoding.writeVarUint8Array(\n        encoder,\n        awarenessProtocol.encodeAwarenessUpdate(awareness, changedClients)\n      )\n      broadcastMessage(this, encoding.toUint8Array(encoder))\n    }\n    this._exitHandler = () => {\n      awarenessProtocol.removeAwarenessStates(\n        this.awareness,\n        [doc.clientID],\n        'app closed'\n      )\n    }\n    if (env.isNode && typeof process !== 'undefined') {\n      process.on('exit', this._exitHandler)\n    }\n    awareness.on('update', this._awarenessUpdateHandler)\n    this._checkInterval = /** @type {any} */ (setInterval(() => {\n      if (\n        this.wsconnected &&\n        messageReconnectTimeout <\n          time.getUnixTime() - this.wsLastMessageReceived\n      ) {\n        // no message received in a long time - not even your own awareness\n        // updates (which are updated every 15 seconds)\n        closeWebsocketConnection(this, /** @type {WebSocket} */ (this.ws), null)\n      }\n    }, messageReconnectTimeout / 10))\n    if (connect) {\n      this.connect()\n    }\n  }\n\n  get url () {\n    const encodedParams = url.encodeQueryParams(this.params)\n    return this.serverUrl + '/' + this.roomname +\n      (encodedParams.length === 0 ? '' : '?' + encodedParams)\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get synced () {\n    return this._synced\n  }\n\n  set synced (state) {\n    if (this._synced !== state) {\n      this._synced = state\n      // @ts-ignore\n      this.emit('synced', [state])\n      this.emit('sync', [state])\n    }\n  }\n\n  destroy () {\n    if (this._resyncInterval !== 0) {\n      clearInterval(this._resyncInterval)\n    }\n    clearInterval(this._checkInterval)\n    this.disconnect()\n    if (env.isNode && typeof process !== 'undefined') {\n      process.off('exit', this._exitHandler)\n    }\n    this.awareness.off('update', this._awarenessUpdateHandler)\n    this.doc.off('update', this._updateHandler)\n    super.destroy()\n  }\n\n  connectBc () {\n    if (this.disableBc) {\n      return\n    }\n    if (!this.bcconnected) {\n      bc.subscribe(this.bcChannel, this._bcSubscriber)\n      this.bcconnected = true\n    }\n    // send sync step1 to bc\n    // write sync step 1\n    const encoderSync = encoding.createEncoder()\n    encoding.writeVarUint(encoderSync, messageSync)\n    syncProtocol.writeSyncStep1(encoderSync, this.doc)\n    bc.publish(this.bcChannel, encoding.toUint8Array(encoderSync), this)\n    // broadcast local state\n    const encoderState = encoding.createEncoder()\n    encoding.writeVarUint(encoderState, messageSync)\n    syncProtocol.writeSyncStep2(encoderState, this.doc)\n    bc.publish(this.bcChannel, encoding.toUint8Array(encoderState), this)\n    // write queryAwareness\n    const encoderAwarenessQuery = encoding.createEncoder()\n    encoding.writeVarUint(encoderAwarenessQuery, messageQueryAwareness)\n    bc.publish(\n      this.bcChannel,\n      encoding.toUint8Array(encoderAwarenessQuery),\n      this\n    )\n    // broadcast local awareness state\n    const encoderAwarenessState = encoding.createEncoder()\n    encoding.writeVarUint(encoderAwarenessState, messageAwareness)\n    encoding.writeVarUint8Array(\n      encoderAwarenessState,\n      awarenessProtocol.encodeAwarenessUpdate(this.awareness, [\n        this.doc.clientID\n      ])\n    )\n    bc.publish(\n      this.bcChannel,\n      encoding.toUint8Array(encoderAwarenessState),\n      this\n    )\n  }\n\n  disconnectBc () {\n    // broadcast message with local awareness state set to null (indicating disconnect)\n    const encoder = encoding.createEncoder()\n    encoding.writeVarUint(encoder, messageAwareness)\n    encoding.writeVarUint8Array(\n      encoder,\n      awarenessProtocol.encodeAwarenessUpdate(this.awareness, [\n        this.doc.clientID\n      ], new Map())\n    )\n    broadcastMessage(this, encoding.toUint8Array(encoder))\n    if (this.bcconnected) {\n      bc.unsubscribe(this.bcChannel, this._bcSubscriber)\n      this.bcconnected = false\n    }\n  }\n\n  disconnect () {\n    this.shouldConnect = false\n    this.disconnectBc()\n    if (this.ws !== null) {\n      closeWebsocketConnection(this, this.ws, null)\n    }\n  }\n\n  connect () {\n    this.shouldConnect = true\n    if (!this.wsconnected && this.ws === null) {\n      setupWS(this)\n      this.connectBc()\n    }\n  }\n}\n","import { ObservableV2 } from 'lib0/observable';\nimport * as array from 'lib0/array';\nimport * as math from 'lib0/math';\nimport * as map from 'lib0/map';\nimport * as encoding from 'lib0/encoding';\nimport * as decoding from 'lib0/decoding';\nimport * as random from 'lib0/random';\nimport * as promise from 'lib0/promise';\nimport * as buffer from 'lib0/buffer';\nimport * as error from 'lib0/error';\nimport * as binary from 'lib0/binary';\nimport * as f from 'lib0/function';\nimport { callAll } from 'lib0/function';\nimport * as set from 'lib0/set';\nimport * as logging from 'lib0/logging';\nimport * as time from 'lib0/time';\nimport * as string from 'lib0/string';\nimport * as iterator from 'lib0/iterator';\nimport * as object from 'lib0/object';\nimport * as env from 'lib0/environment';\n\n/**\n * This is an abstract interface that all Connectors should implement to keep them interchangeable.\n *\n * @note This interface is experimental and it is not advised to actually inherit this class.\n *       It just serves as typing information.\n *\n * @extends {ObservableV2<any>}\n */\nclass AbstractConnector extends ObservableV2 {\n  /**\n   * @param {Doc} ydoc\n   * @param {any} awareness\n   */\n  constructor (ydoc, awareness) {\n    super();\n    this.doc = ydoc;\n    this.awareness = awareness;\n  }\n}\n\nclass DeleteItem {\n  /**\n   * @param {number} clock\n   * @param {number} len\n   */\n  constructor (clock, len) {\n    /**\n     * @type {number}\n     */\n    this.clock = clock;\n    /**\n     * @type {number}\n     */\n    this.len = len;\n  }\n}\n\n/**\n * We no longer maintain a DeleteStore. DeleteSet is a temporary object that is created when needed.\n * - When created in a transaction, it must only be accessed after sorting, and merging\n *   - This DeleteSet is send to other clients\n * - We do not create a DeleteSet when we send a sync message. The DeleteSet message is created directly from StructStore\n * - We read a DeleteSet as part of a sync/update message. In this case the DeleteSet is already sorted and merged.\n */\nclass DeleteSet {\n  constructor () {\n    /**\n     * @type {Map<number,Array<DeleteItem>>}\n     */\n    this.clients = new Map();\n  }\n}\n\n/**\n * Iterate over all structs that the DeleteSet gc's.\n *\n * @param {Transaction} transaction\n * @param {DeleteSet} ds\n * @param {function(GC|Item):void} f\n *\n * @function\n */\nconst iterateDeletedStructs = (transaction, ds, f) =>\n  ds.clients.forEach((deletes, clientid) => {\n    const structs = /** @type {Array<GC|Item>} */ (transaction.doc.store.clients.get(clientid));\n    if (structs != null) {\n      const lastStruct = structs[structs.length - 1];\n      const clockState = lastStruct.id.clock + lastStruct.length;\n      for (let i = 0, del = deletes[i]; i < deletes.length && del.clock < clockState; del = deletes[++i]) {\n        iterateStructs(transaction, structs, del.clock, del.len, f);\n      }\n    }\n  });\n\n/**\n * @param {Array<DeleteItem>} dis\n * @param {number} clock\n * @return {number|null}\n *\n * @private\n * @function\n */\nconst findIndexDS = (dis, clock) => {\n  let left = 0;\n  let right = dis.length - 1;\n  while (left <= right) {\n    const midindex = math.floor((left + right) / 2);\n    const mid = dis[midindex];\n    const midclock = mid.clock;\n    if (midclock <= clock) {\n      if (clock < midclock + mid.len) {\n        return midindex\n      }\n      left = midindex + 1;\n    } else {\n      right = midindex - 1;\n    }\n  }\n  return null\n};\n\n/**\n * @param {DeleteSet} ds\n * @param {ID} id\n * @return {boolean}\n *\n * @private\n * @function\n */\nconst isDeleted = (ds, id) => {\n  const dis = ds.clients.get(id.client);\n  return dis !== undefined && findIndexDS(dis, id.clock) !== null\n};\n\n/**\n * @param {DeleteSet} ds\n *\n * @private\n * @function\n */\nconst sortAndMergeDeleteSet = ds => {\n  ds.clients.forEach(dels => {\n    dels.sort((a, b) => a.clock - b.clock);\n    // merge items without filtering or splicing the array\n    // i is the current pointer\n    // j refers to the current insert position for the pointed item\n    // try to merge dels[i] into dels[j-1] or set dels[j]=dels[i]\n    let i, j;\n    for (i = 1, j = 1; i < dels.length; i++) {\n      const left = dels[j - 1];\n      const right = dels[i];\n      if (left.clock + left.len >= right.clock) {\n        left.len = math.max(left.len, right.clock + right.len - left.clock);\n      } else {\n        if (j < i) {\n          dels[j] = right;\n        }\n        j++;\n      }\n    }\n    dels.length = j;\n  });\n};\n\n/**\n * @param {Array<DeleteSet>} dss\n * @return {DeleteSet} A fresh DeleteSet\n */\nconst mergeDeleteSets = dss => {\n  const merged = new DeleteSet();\n  for (let dssI = 0; dssI < dss.length; dssI++) {\n    dss[dssI].clients.forEach((delsLeft, client) => {\n      if (!merged.clients.has(client)) {\n        // Write all missing keys from current ds and all following.\n        // If merged already contains `client` current ds has already been added.\n        /**\n         * @type {Array<DeleteItem>}\n         */\n        const dels = delsLeft.slice();\n        for (let i = dssI + 1; i < dss.length; i++) {\n          array.appendTo(dels, dss[i].clients.get(client) || []);\n        }\n        merged.clients.set(client, dels);\n      }\n    });\n  }\n  sortAndMergeDeleteSet(merged);\n  return merged\n};\n\n/**\n * @param {DeleteSet} ds\n * @param {number} client\n * @param {number} clock\n * @param {number} length\n *\n * @private\n * @function\n */\nconst addToDeleteSet = (ds, client, clock, length) => {\n  map.setIfUndefined(ds.clients, client, () => /** @type {Array<DeleteItem>} */ ([])).push(new DeleteItem(clock, length));\n};\n\nconst createDeleteSet = () => new DeleteSet();\n\n/**\n * @param {StructStore} ss\n * @return {DeleteSet} Merged and sorted DeleteSet\n *\n * @private\n * @function\n */\nconst createDeleteSetFromStructStore = ss => {\n  const ds = createDeleteSet();\n  ss.clients.forEach((structs, client) => {\n    /**\n     * @type {Array<DeleteItem>}\n     */\n    const dsitems = [];\n    for (let i = 0; i < structs.length; i++) {\n      const struct = structs[i];\n      if (struct.deleted) {\n        const clock = struct.id.clock;\n        let len = struct.length;\n        if (i + 1 < structs.length) {\n          for (let next = structs[i + 1]; i + 1 < structs.length && next.deleted; next = structs[++i + 1]) {\n            len += next.length;\n          }\n        }\n        dsitems.push(new DeleteItem(clock, len));\n      }\n    }\n    if (dsitems.length > 0) {\n      ds.clients.set(client, dsitems);\n    }\n  });\n  return ds\n};\n\n/**\n * @param {DSEncoderV1 | DSEncoderV2} encoder\n * @param {DeleteSet} ds\n *\n * @private\n * @function\n */\nconst writeDeleteSet = (encoder, ds) => {\n  encoding.writeVarUint(encoder.restEncoder, ds.clients.size);\n\n  // Ensure that the delete set is written in a deterministic order\n  array.from(ds.clients.entries())\n    .sort((a, b) => b[0] - a[0])\n    .forEach(([client, dsitems]) => {\n      encoder.resetDsCurVal();\n      encoding.writeVarUint(encoder.restEncoder, client);\n      const len = dsitems.length;\n      encoding.writeVarUint(encoder.restEncoder, len);\n      for (let i = 0; i < len; i++) {\n        const item = dsitems[i];\n        encoder.writeDsClock(item.clock);\n        encoder.writeDsLen(item.len);\n      }\n    });\n};\n\n/**\n * @param {DSDecoderV1 | DSDecoderV2} decoder\n * @return {DeleteSet}\n *\n * @private\n * @function\n */\nconst readDeleteSet = decoder => {\n  const ds = new DeleteSet();\n  const numClients = decoding.readVarUint(decoder.restDecoder);\n  for (let i = 0; i < numClients; i++) {\n    decoder.resetDsCurVal();\n    const client = decoding.readVarUint(decoder.restDecoder);\n    const numberOfDeletes = decoding.readVarUint(decoder.restDecoder);\n    if (numberOfDeletes > 0) {\n      const dsField = map.setIfUndefined(ds.clients, client, () => /** @type {Array<DeleteItem>} */ ([]));\n      for (let i = 0; i < numberOfDeletes; i++) {\n        dsField.push(new DeleteItem(decoder.readDsClock(), decoder.readDsLen()));\n      }\n    }\n  }\n  return ds\n};\n\n/**\n * @todo YDecoder also contains references to String and other Decoders. Would make sense to exchange YDecoder.toUint8Array for YDecoder.DsToUint8Array()..\n */\n\n/**\n * @param {DSDecoderV1 | DSDecoderV2} decoder\n * @param {Transaction} transaction\n * @param {StructStore} store\n * @return {Uint8Array|null} Returns a v2 update containing all deletes that couldn't be applied yet; or null if all deletes were applied successfully.\n *\n * @private\n * @function\n */\nconst readAndApplyDeleteSet = (decoder, transaction, store) => {\n  const unappliedDS = new DeleteSet();\n  const numClients = decoding.readVarUint(decoder.restDecoder);\n  for (let i = 0; i < numClients; i++) {\n    decoder.resetDsCurVal();\n    const client = decoding.readVarUint(decoder.restDecoder);\n    const numberOfDeletes = decoding.readVarUint(decoder.restDecoder);\n    const structs = store.clients.get(client) || [];\n    const state = getState(store, client);\n    for (let i = 0; i < numberOfDeletes; i++) {\n      const clock = decoder.readDsClock();\n      const clockEnd = clock + decoder.readDsLen();\n      if (clock < state) {\n        if (state < clockEnd) {\n          addToDeleteSet(unappliedDS, client, state, clockEnd - state);\n        }\n        let index = findIndexSS(structs, clock);\n        /**\n         * We can ignore the case of GC and Delete structs, because we are going to skip them\n         * @type {Item}\n         */\n        // @ts-ignore\n        let struct = structs[index];\n        // split the first item if necessary\n        if (!struct.deleted && struct.id.clock < clock) {\n          structs.splice(index + 1, 0, splitItem(transaction, struct, clock - struct.id.clock));\n          index++; // increase we now want to use the next struct\n        }\n        while (index < structs.length) {\n          // @ts-ignore\n          struct = structs[index++];\n          if (struct.id.clock < clockEnd) {\n            if (!struct.deleted) {\n              if (clockEnd < struct.id.clock + struct.length) {\n                structs.splice(index, 0, splitItem(transaction, struct, clockEnd - struct.id.clock));\n              }\n              struct.delete(transaction);\n            }\n          } else {\n            break\n          }\n        }\n      } else {\n        addToDeleteSet(unappliedDS, client, clock, clockEnd - clock);\n      }\n    }\n  }\n  if (unappliedDS.clients.size > 0) {\n    const ds = new UpdateEncoderV2();\n    encoding.writeVarUint(ds.restEncoder, 0); // encode 0 structs\n    writeDeleteSet(ds, unappliedDS);\n    return ds.toUint8Array()\n  }\n  return null\n};\n\n/**\n * @param {DeleteSet} ds1\n * @param {DeleteSet} ds2\n */\nconst equalDeleteSets = (ds1, ds2) => {\n  if (ds1.clients.size !== ds2.clients.size) return false\n  for (const [client, deleteItems1] of ds1.clients.entries()) {\n    const deleteItems2 = /** @type {Array<import('../internals.js').DeleteItem>} */ (ds2.clients.get(client));\n    if (deleteItems2 === undefined || deleteItems1.length !== deleteItems2.length) return false\n    for (let i = 0; i < deleteItems1.length; i++) {\n      const di1 = deleteItems1[i];\n      const di2 = deleteItems2[i];\n      if (di1.clock !== di2.clock || di1.len !== di2.len) {\n        return false\n      }\n    }\n  }\n  return true\n};\n\n/**\n * @module Y\n */\n\n\nconst generateNewClientId = random.uint32;\n\n/**\n * @typedef {Object} DocOpts\n * @property {boolean} [DocOpts.gc=true] Disable garbage collection (default: gc=true)\n * @property {function(Item):boolean} [DocOpts.gcFilter] Will be called before an Item is garbage collected. Return false to keep the Item.\n * @property {string} [DocOpts.guid] Define a globally unique identifier for this document\n * @property {string | null} [DocOpts.collectionid] Associate this document with a collection. This only plays a role if your provider has a concept of collection.\n * @property {any} [DocOpts.meta] Any kind of meta information you want to associate with this document. If this is a subdocument, remote peers will store the meta information as well.\n * @property {boolean} [DocOpts.autoLoad] If a subdocument, automatically load document. If this is a subdocument, remote peers will load the document as well automatically.\n * @property {boolean} [DocOpts.shouldLoad] Whether the document should be synced by the provider now. This is toggled to true when you call ydoc.load()\n */\n\n/**\n * @typedef {Object} DocEvents\n * @property {function(Doc):void} DocEvents.destroy\n * @property {function(Doc):void} DocEvents.load\n * @property {function(boolean, Doc):void} DocEvents.sync\n * @property {function(Uint8Array, any, Doc, Transaction):void} DocEvents.update\n * @property {function(Uint8Array, any, Doc, Transaction):void} DocEvents.updateV2\n * @property {function(Doc):void} DocEvents.beforeAllTransactions\n * @property {function(Transaction, Doc):void} DocEvents.beforeTransaction\n * @property {function(Transaction, Doc):void} DocEvents.beforeObserverCalls\n * @property {function(Transaction, Doc):void} DocEvents.afterTransaction\n * @property {function(Transaction, Doc):void} DocEvents.afterTransactionCleanup\n * @property {function(Doc, Array<Transaction>):void} DocEvents.afterAllTransactions\n * @property {function({ loaded: Set<Doc>, added: Set<Doc>, removed: Set<Doc> }, Doc, Transaction):void} DocEvents.subdocs\n */\n\n/**\n * A Yjs instance handles the state of shared data.\n * @extends ObservableV2<DocEvents>\n */\nclass Doc extends ObservableV2 {\n  /**\n   * @param {DocOpts} opts configuration\n   */\n  constructor ({ guid = random.uuidv4(), collectionid = null, gc = true, gcFilter = () => true, meta = null, autoLoad = false, shouldLoad = true } = {}) {\n    super();\n    this.gc = gc;\n    this.gcFilter = gcFilter;\n    this.clientID = generateNewClientId();\n    this.guid = guid;\n    this.collectionid = collectionid;\n    /**\n     * @type {Map<string, AbstractType<YEvent<any>>>}\n     */\n    this.share = new Map();\n    this.store = new StructStore();\n    /**\n     * @type {Transaction | null}\n     */\n    this._transaction = null;\n    /**\n     * @type {Array<Transaction>}\n     */\n    this._transactionCleanups = [];\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocs = new Set();\n    /**\n     * If this document is a subdocument - a document integrated into another document - then _item is defined.\n     * @type {Item?}\n     */\n    this._item = null;\n    this.shouldLoad = shouldLoad;\n    this.autoLoad = autoLoad;\n    this.meta = meta;\n    /**\n     * This is set to true when the persistence provider loaded the document from the database or when the `sync` event fires.\n     * Note that not all providers implement this feature. Provider authors are encouraged to fire the `load` event when the doc content is loaded from the database.\n     *\n     * @type {boolean}\n     */\n    this.isLoaded = false;\n    /**\n     * This is set to true when the connection provider has successfully synced with a backend.\n     * Note that when using peer-to-peer providers this event may not provide very useful.\n     * Also note that not all providers implement this feature. Provider authors are encouraged to fire\n     * the `sync` event when the doc has been synced (with `true` as a parameter) or if connection is\n     * lost (with false as a parameter).\n     */\n    this.isSynced = false;\n    this.isDestroyed = false;\n    /**\n     * Promise that resolves once the document has been loaded from a persistence provider.\n     */\n    this.whenLoaded = promise.create(resolve => {\n      this.on('load', () => {\n        this.isLoaded = true;\n        resolve(this);\n      });\n    });\n    const provideSyncedPromise = () => promise.create(resolve => {\n      /**\n       * @param {boolean} isSynced\n       */\n      const eventHandler = (isSynced) => {\n        if (isSynced === undefined || isSynced === true) {\n          this.off('sync', eventHandler);\n          resolve();\n        }\n      };\n      this.on('sync', eventHandler);\n    });\n    this.on('sync', isSynced => {\n      if (isSynced === false && this.isSynced) {\n        this.whenSynced = provideSyncedPromise();\n      }\n      this.isSynced = isSynced === undefined || isSynced === true;\n      if (this.isSynced && !this.isLoaded) {\n        this.emit('load', [this]);\n      }\n    });\n    /**\n     * Promise that resolves once the document has been synced with a backend.\n     * This promise is recreated when the connection is lost.\n     * Note the documentation about the `isSynced` property.\n     */\n    this.whenSynced = provideSyncedPromise();\n  }\n\n  /**\n   * Notify the parent document that you request to load data into this subdocument (if it is a subdocument).\n   *\n   * `load()` might be used in the future to request any provider to load the most current data.\n   *\n   * It is safe to call `load()` multiple times.\n   */\n  load () {\n    const item = this._item;\n    if (item !== null && !this.shouldLoad) {\n      transact(/** @type {any} */ (item.parent).doc, transaction => {\n        transaction.subdocsLoaded.add(this);\n      }, null, true);\n    }\n    this.shouldLoad = true;\n  }\n\n  getSubdocs () {\n    return this.subdocs\n  }\n\n  getSubdocGuids () {\n    return new Set(array.from(this.subdocs).map(doc => doc.guid))\n  }\n\n  /**\n   * Changes that happen inside of a transaction are bundled. This means that\n   * the observer fires _after_ the transaction is finished and that all changes\n   * that happened inside of the transaction are sent as one message to the\n   * other peers.\n   *\n   * @template T\n   * @param {function(Transaction):T} f The function that should be executed as a transaction\n   * @param {any} [origin] Origin of who started the transaction. Will be stored on transaction.origin\n   * @return T\n   *\n   * @public\n   */\n  transact (f, origin = null) {\n    return transact(this, f, origin)\n  }\n\n  /**\n   * Define a shared data type.\n   *\n   * Multiple calls of `ydoc.get(name, TypeConstructor)` yield the same result\n   * and do not overwrite each other. I.e.\n   * `ydoc.get(name, Y.Array) === ydoc.get(name, Y.Array)`\n   *\n   * After this method is called, the type is also available on `ydoc.share.get(name)`.\n   *\n   * *Best Practices:*\n   * Define all types right after the Y.Doc instance is created and store them in a separate object.\n   * Also use the typed methods `getText(name)`, `getArray(name)`, ..\n   *\n   * @template {typeof AbstractType<any>} Type\n   * @example\n   *   const ydoc = new Y.Doc(..)\n   *   const appState = {\n   *     document: ydoc.getText('document')\n   *     comments: ydoc.getArray('comments')\n   *   }\n   *\n   * @param {string} name\n   * @param {Type} TypeConstructor The constructor of the type definition. E.g. Y.Text, Y.Array, Y.Map, ...\n   * @return {InstanceType<Type>} The created type. Constructed with TypeConstructor\n   *\n   * @public\n   */\n  get (name, TypeConstructor = /** @type {any} */ (AbstractType)) {\n    const type = map.setIfUndefined(this.share, name, () => {\n      // @ts-ignore\n      const t = new TypeConstructor();\n      t._integrate(this, null);\n      return t\n    });\n    const Constr = type.constructor;\n    if (TypeConstructor !== AbstractType && Constr !== TypeConstructor) {\n      if (Constr === AbstractType) {\n        // @ts-ignore\n        const t = new TypeConstructor();\n        t._map = type._map;\n        type._map.forEach(/** @param {Item?} n */ n => {\n          for (; n !== null; n = n.left) {\n            // @ts-ignore\n            n.parent = t;\n          }\n        });\n        t._start = type._start;\n        for (let n = t._start; n !== null; n = n.right) {\n          n.parent = t;\n        }\n        t._length = type._length;\n        this.share.set(name, t);\n        t._integrate(this, null);\n        return /** @type {InstanceType<Type>} */ (t)\n      } else {\n        throw new Error(`Type with the name ${name} has already been defined with a different constructor`)\n      }\n    }\n    return /** @type {InstanceType<Type>} */ (type)\n  }\n\n  /**\n   * @template T\n   * @param {string} [name]\n   * @return {YArray<T>}\n   *\n   * @public\n   */\n  getArray (name = '') {\n    return /** @type {YArray<T>} */ (this.get(name, YArray))\n  }\n\n  /**\n   * @param {string} [name]\n   * @return {YText}\n   *\n   * @public\n   */\n  getText (name = '') {\n    return this.get(name, YText)\n  }\n\n  /**\n   * @template T\n   * @param {string} [name]\n   * @return {YMap<T>}\n   *\n   * @public\n   */\n  getMap (name = '') {\n    return /** @type {YMap<T>} */ (this.get(name, YMap))\n  }\n\n  /**\n   * @param {string} [name]\n   * @return {YXmlElement}\n   *\n   * @public\n   */\n  getXmlElement (name = '') {\n    return /** @type {YXmlElement<{[key:string]:string}>} */ (this.get(name, YXmlElement))\n  }\n\n  /**\n   * @param {string} [name]\n   * @return {YXmlFragment}\n   *\n   * @public\n   */\n  getXmlFragment (name = '') {\n    return this.get(name, YXmlFragment)\n  }\n\n  /**\n   * Converts the entire document into a js object, recursively traversing each yjs type\n   * Doesn't log types that have not been defined (using ydoc.getType(..)).\n   *\n   * @deprecated Do not use this method and rather call toJSON directly on the shared types.\n   *\n   * @return {Object<string, any>}\n   */\n  toJSON () {\n    /**\n     * @type {Object<string, any>}\n     */\n    const doc = {};\n\n    this.share.forEach((value, key) => {\n      doc[key] = value.toJSON();\n    });\n\n    return doc\n  }\n\n  /**\n   * Emit `destroy` event and unregister all event handlers.\n   */\n  destroy () {\n    this.isDestroyed = true;\n    array.from(this.subdocs).forEach(subdoc => subdoc.destroy());\n    const item = this._item;\n    if (item !== null) {\n      this._item = null;\n      const content = /** @type {ContentDoc} */ (item.content);\n      content.doc = new Doc({ guid: this.guid, ...content.opts, shouldLoad: false });\n      content.doc._item = item;\n      transact(/** @type {any} */ (item).parent.doc, transaction => {\n        const doc = content.doc;\n        if (!item.deleted) {\n          transaction.subdocsAdded.add(doc);\n        }\n        transaction.subdocsRemoved.add(this);\n      }, null, true);\n    }\n    // @ts-ignore\n    this.emit('destroyed', [true]); // DEPRECATED!\n    this.emit('destroy', [this]);\n    super.destroy();\n  }\n}\n\nclass DSDecoderV1 {\n  /**\n   * @param {decoding.Decoder} decoder\n   */\n  constructor (decoder) {\n    this.restDecoder = decoder;\n  }\n\n  resetDsCurVal () {\n    // nop\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsClock () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsLen () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n}\n\nclass UpdateDecoderV1 extends DSDecoderV1 {\n  /**\n   * @return {ID}\n   */\n  readLeftID () {\n    return createID(decoding.readVarUint(this.restDecoder), decoding.readVarUint(this.restDecoder))\n  }\n\n  /**\n   * @return {ID}\n   */\n  readRightID () {\n    return createID(decoding.readVarUint(this.restDecoder), decoding.readVarUint(this.restDecoder))\n  }\n\n  /**\n   * Read the next client id.\n   * Use this in favor of readID whenever possible to reduce the number of objects created.\n   */\n  readClient () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * @return {number} info An unsigned 8-bit integer\n   */\n  readInfo () {\n    return decoding.readUint8(this.restDecoder)\n  }\n\n  /**\n   * @return {string}\n   */\n  readString () {\n    return decoding.readVarString(this.restDecoder)\n  }\n\n  /**\n   * @return {boolean} isKey\n   */\n  readParentInfo () {\n    return decoding.readVarUint(this.restDecoder) === 1\n  }\n\n  /**\n   * @return {number} info An unsigned 8-bit integer\n   */\n  readTypeRef () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @return {number} len\n   */\n  readLen () {\n    return decoding.readVarUint(this.restDecoder)\n  }\n\n  /**\n   * @return {any}\n   */\n  readAny () {\n    return decoding.readAny(this.restDecoder)\n  }\n\n  /**\n   * @return {Uint8Array}\n   */\n  readBuf () {\n    return buffer.copyUint8Array(decoding.readVarUint8Array(this.restDecoder))\n  }\n\n  /**\n   * Legacy implementation uses JSON parse. We use any-decoding in v2.\n   *\n   * @return {any}\n   */\n  readJSON () {\n    return JSON.parse(decoding.readVarString(this.restDecoder))\n  }\n\n  /**\n   * @return {string}\n   */\n  readKey () {\n    return decoding.readVarString(this.restDecoder)\n  }\n}\n\nclass DSDecoderV2 {\n  /**\n   * @param {decoding.Decoder} decoder\n   */\n  constructor (decoder) {\n    /**\n     * @private\n     */\n    this.dsCurrVal = 0;\n    this.restDecoder = decoder;\n  }\n\n  resetDsCurVal () {\n    this.dsCurrVal = 0;\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsClock () {\n    this.dsCurrVal += decoding.readVarUint(this.restDecoder);\n    return this.dsCurrVal\n  }\n\n  /**\n   * @return {number}\n   */\n  readDsLen () {\n    const diff = decoding.readVarUint(this.restDecoder) + 1;\n    this.dsCurrVal += diff;\n    return diff\n  }\n}\n\nclass UpdateDecoderV2 extends DSDecoderV2 {\n  /**\n   * @param {decoding.Decoder} decoder\n   */\n  constructor (decoder) {\n    super(decoder);\n    /**\n     * List of cached keys. If the keys[id] does not exist, we read a new key\n     * from stringEncoder and push it to keys.\n     *\n     * @type {Array<string>}\n     */\n    this.keys = [];\n    decoding.readVarUint(decoder); // read feature flag - currently unused\n    this.keyClockDecoder = new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(decoder));\n    this.clientDecoder = new decoding.UintOptRleDecoder(decoding.readVarUint8Array(decoder));\n    this.leftClockDecoder = new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(decoder));\n    this.rightClockDecoder = new decoding.IntDiffOptRleDecoder(decoding.readVarUint8Array(decoder));\n    this.infoDecoder = new decoding.RleDecoder(decoding.readVarUint8Array(decoder), decoding.readUint8);\n    this.stringDecoder = new decoding.StringDecoder(decoding.readVarUint8Array(decoder));\n    this.parentInfoDecoder = new decoding.RleDecoder(decoding.readVarUint8Array(decoder), decoding.readUint8);\n    this.typeRefDecoder = new decoding.UintOptRleDecoder(decoding.readVarUint8Array(decoder));\n    this.lenDecoder = new decoding.UintOptRleDecoder(decoding.readVarUint8Array(decoder));\n  }\n\n  /**\n   * @return {ID}\n   */\n  readLeftID () {\n    return new ID(this.clientDecoder.read(), this.leftClockDecoder.read())\n  }\n\n  /**\n   * @return {ID}\n   */\n  readRightID () {\n    return new ID(this.clientDecoder.read(), this.rightClockDecoder.read())\n  }\n\n  /**\n   * Read the next client id.\n   * Use this in favor of readID whenever possible to reduce the number of objects created.\n   */\n  readClient () {\n    return this.clientDecoder.read()\n  }\n\n  /**\n   * @return {number} info An unsigned 8-bit integer\n   */\n  readInfo () {\n    return /** @type {number} */ (this.infoDecoder.read())\n  }\n\n  /**\n   * @return {string}\n   */\n  readString () {\n    return this.stringDecoder.read()\n  }\n\n  /**\n   * @return {boolean}\n   */\n  readParentInfo () {\n    return this.parentInfoDecoder.read() === 1\n  }\n\n  /**\n   * @return {number} An unsigned 8-bit integer\n   */\n  readTypeRef () {\n    return this.typeRefDecoder.read()\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @return {number}\n   */\n  readLen () {\n    return this.lenDecoder.read()\n  }\n\n  /**\n   * @return {any}\n   */\n  readAny () {\n    return decoding.readAny(this.restDecoder)\n  }\n\n  /**\n   * @return {Uint8Array}\n   */\n  readBuf () {\n    return decoding.readVarUint8Array(this.restDecoder)\n  }\n\n  /**\n   * This is mainly here for legacy purposes.\n   *\n   * Initial we incoded objects using JSON. Now we use the much faster lib0/any-encoder. This method mainly exists for legacy purposes for the v1 encoder.\n   *\n   * @return {any}\n   */\n  readJSON () {\n    return decoding.readAny(this.restDecoder)\n  }\n\n  /**\n   * @return {string}\n   */\n  readKey () {\n    const keyClock = this.keyClockDecoder.read();\n    if (keyClock < this.keys.length) {\n      return this.keys[keyClock]\n    } else {\n      const key = this.stringDecoder.read();\n      this.keys.push(key);\n      return key\n    }\n  }\n}\n\nclass DSEncoderV1 {\n  constructor () {\n    this.restEncoder = encoding.createEncoder();\n  }\n\n  toUint8Array () {\n    return encoding.toUint8Array(this.restEncoder)\n  }\n\n  resetDsCurVal () {\n    // nop\n  }\n\n  /**\n   * @param {number} clock\n   */\n  writeDsClock (clock) {\n    encoding.writeVarUint(this.restEncoder, clock);\n  }\n\n  /**\n   * @param {number} len\n   */\n  writeDsLen (len) {\n    encoding.writeVarUint(this.restEncoder, len);\n  }\n}\n\nclass UpdateEncoderV1 extends DSEncoderV1 {\n  /**\n   * @param {ID} id\n   */\n  writeLeftID (id) {\n    encoding.writeVarUint(this.restEncoder, id.client);\n    encoding.writeVarUint(this.restEncoder, id.clock);\n  }\n\n  /**\n   * @param {ID} id\n   */\n  writeRightID (id) {\n    encoding.writeVarUint(this.restEncoder, id.client);\n    encoding.writeVarUint(this.restEncoder, id.clock);\n  }\n\n  /**\n   * Use writeClient and writeClock instead of writeID if possible.\n   * @param {number} client\n   */\n  writeClient (client) {\n    encoding.writeVarUint(this.restEncoder, client);\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeInfo (info) {\n    encoding.writeUint8(this.restEncoder, info);\n  }\n\n  /**\n   * @param {string} s\n   */\n  writeString (s) {\n    encoding.writeVarString(this.restEncoder, s);\n  }\n\n  /**\n   * @param {boolean} isYKey\n   */\n  writeParentInfo (isYKey) {\n    encoding.writeVarUint(this.restEncoder, isYKey ? 1 : 0);\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeTypeRef (info) {\n    encoding.writeVarUint(this.restEncoder, info);\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @param {number} len\n   */\n  writeLen (len) {\n    encoding.writeVarUint(this.restEncoder, len);\n  }\n\n  /**\n   * @param {any} any\n   */\n  writeAny (any) {\n    encoding.writeAny(this.restEncoder, any);\n  }\n\n  /**\n   * @param {Uint8Array} buf\n   */\n  writeBuf (buf) {\n    encoding.writeVarUint8Array(this.restEncoder, buf);\n  }\n\n  /**\n   * @param {any} embed\n   */\n  writeJSON (embed) {\n    encoding.writeVarString(this.restEncoder, JSON.stringify(embed));\n  }\n\n  /**\n   * @param {string} key\n   */\n  writeKey (key) {\n    encoding.writeVarString(this.restEncoder, key);\n  }\n}\n\nclass DSEncoderV2 {\n  constructor () {\n    this.restEncoder = encoding.createEncoder(); // encodes all the rest / non-optimized\n    this.dsCurrVal = 0;\n  }\n\n  toUint8Array () {\n    return encoding.toUint8Array(this.restEncoder)\n  }\n\n  resetDsCurVal () {\n    this.dsCurrVal = 0;\n  }\n\n  /**\n   * @param {number} clock\n   */\n  writeDsClock (clock) {\n    const diff = clock - this.dsCurrVal;\n    this.dsCurrVal = clock;\n    encoding.writeVarUint(this.restEncoder, diff);\n  }\n\n  /**\n   * @param {number} len\n   */\n  writeDsLen (len) {\n    if (len === 0) {\n      error.unexpectedCase();\n    }\n    encoding.writeVarUint(this.restEncoder, len - 1);\n    this.dsCurrVal += len;\n  }\n}\n\nclass UpdateEncoderV2 extends DSEncoderV2 {\n  constructor () {\n    super();\n    /**\n     * @type {Map<string,number>}\n     */\n    this.keyMap = new Map();\n    /**\n     * Refers to the next unique key-identifier to me used.\n     * See writeKey method for more information.\n     *\n     * @type {number}\n     */\n    this.keyClock = 0;\n    this.keyClockEncoder = new encoding.IntDiffOptRleEncoder();\n    this.clientEncoder = new encoding.UintOptRleEncoder();\n    this.leftClockEncoder = new encoding.IntDiffOptRleEncoder();\n    this.rightClockEncoder = new encoding.IntDiffOptRleEncoder();\n    this.infoEncoder = new encoding.RleEncoder(encoding.writeUint8);\n    this.stringEncoder = new encoding.StringEncoder();\n    this.parentInfoEncoder = new encoding.RleEncoder(encoding.writeUint8);\n    this.typeRefEncoder = new encoding.UintOptRleEncoder();\n    this.lenEncoder = new encoding.UintOptRleEncoder();\n  }\n\n  toUint8Array () {\n    const encoder = encoding.createEncoder();\n    encoding.writeVarUint(encoder, 0); // this is a feature flag that we might use in the future\n    encoding.writeVarUint8Array(encoder, this.keyClockEncoder.toUint8Array());\n    encoding.writeVarUint8Array(encoder, this.clientEncoder.toUint8Array());\n    encoding.writeVarUint8Array(encoder, this.leftClockEncoder.toUint8Array());\n    encoding.writeVarUint8Array(encoder, this.rightClockEncoder.toUint8Array());\n    encoding.writeVarUint8Array(encoder, encoding.toUint8Array(this.infoEncoder));\n    encoding.writeVarUint8Array(encoder, this.stringEncoder.toUint8Array());\n    encoding.writeVarUint8Array(encoder, encoding.toUint8Array(this.parentInfoEncoder));\n    encoding.writeVarUint8Array(encoder, this.typeRefEncoder.toUint8Array());\n    encoding.writeVarUint8Array(encoder, this.lenEncoder.toUint8Array());\n    // @note The rest encoder is appended! (note the missing var)\n    encoding.writeUint8Array(encoder, encoding.toUint8Array(this.restEncoder));\n    return encoding.toUint8Array(encoder)\n  }\n\n  /**\n   * @param {ID} id\n   */\n  writeLeftID (id) {\n    this.clientEncoder.write(id.client);\n    this.leftClockEncoder.write(id.clock);\n  }\n\n  /**\n   * @param {ID} id\n   */\n  writeRightID (id) {\n    this.clientEncoder.write(id.client);\n    this.rightClockEncoder.write(id.clock);\n  }\n\n  /**\n   * @param {number} client\n   */\n  writeClient (client) {\n    this.clientEncoder.write(client);\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeInfo (info) {\n    this.infoEncoder.write(info);\n  }\n\n  /**\n   * @param {string} s\n   */\n  writeString (s) {\n    this.stringEncoder.write(s);\n  }\n\n  /**\n   * @param {boolean} isYKey\n   */\n  writeParentInfo (isYKey) {\n    this.parentInfoEncoder.write(isYKey ? 1 : 0);\n  }\n\n  /**\n   * @param {number} info An unsigned 8-bit integer\n   */\n  writeTypeRef (info) {\n    this.typeRefEncoder.write(info);\n  }\n\n  /**\n   * Write len of a struct - well suited for Opt RLE encoder.\n   *\n   * @param {number} len\n   */\n  writeLen (len) {\n    this.lenEncoder.write(len);\n  }\n\n  /**\n   * @param {any} any\n   */\n  writeAny (any) {\n    encoding.writeAny(this.restEncoder, any);\n  }\n\n  /**\n   * @param {Uint8Array} buf\n   */\n  writeBuf (buf) {\n    encoding.writeVarUint8Array(this.restEncoder, buf);\n  }\n\n  /**\n   * This is mainly here for legacy purposes.\n   *\n   * Initial we incoded objects using JSON. Now we use the much faster lib0/any-encoder. This method mainly exists for legacy purposes for the v1 encoder.\n   *\n   * @param {any} embed\n   */\n  writeJSON (embed) {\n    encoding.writeAny(this.restEncoder, embed);\n  }\n\n  /**\n   * Property keys are often reused. For example, in y-prosemirror the key `bold` might\n   * occur very often. For a 3d application, the key `position` might occur very often.\n   *\n   * We cache these keys in a Map and refer to them via a unique number.\n   *\n   * @param {string} key\n   */\n  writeKey (key) {\n    const clock = this.keyMap.get(key);\n    if (clock === undefined) {\n      /**\n       * @todo uncomment to introduce this feature finally\n       *\n       * Background. The ContentFormat object was always encoded using writeKey, but the decoder used to use readString.\n       * Furthermore, I forgot to set the keyclock. So everything was working fine.\n       *\n       * However, this feature here is basically useless as it is not being used (it actually only consumes extra memory).\n       *\n       * I don't know yet how to reintroduce this feature..\n       *\n       * Older clients won't be able to read updates when we reintroduce this feature. So this should probably be done using a flag.\n       *\n       */\n      // this.keyMap.set(key, this.keyClock)\n      this.keyClockEncoder.write(this.keyClock++);\n      this.stringEncoder.write(key);\n    } else {\n      this.keyClockEncoder.write(clock);\n    }\n  }\n}\n\n/**\n * @module encoding\n */\n/*\n * We use the first five bits in the info flag for determining the type of the struct.\n *\n * 0: GC\n * 1: Item with Deleted content\n * 2: Item with JSON content\n * 3: Item with Binary content\n * 4: Item with String content\n * 5: Item with Embed content (for richtext content)\n * 6: Item with Format content (a formatting marker for richtext content)\n * 7: Item with Type\n */\n\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Array<GC|Item>} structs All structs by `client`\n * @param {number} client\n * @param {number} clock write structs starting with `ID(client,clock)`\n *\n * @function\n */\nconst writeStructs = (encoder, structs, client, clock) => {\n  // write first id\n  clock = math.max(clock, structs[0].id.clock); // make sure the first id exists\n  const startNewStructs = findIndexSS(structs, clock);\n  // write # encoded structs\n  encoding.writeVarUint(encoder.restEncoder, structs.length - startNewStructs);\n  encoder.writeClient(client);\n  encoding.writeVarUint(encoder.restEncoder, clock);\n  const firstStruct = structs[startNewStructs];\n  // write first struct with an offset\n  firstStruct.write(encoder, clock - firstStruct.id.clock);\n  for (let i = startNewStructs + 1; i < structs.length; i++) {\n    structs[i].write(encoder, 0);\n  }\n};\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {StructStore} store\n * @param {Map<number,number>} _sm\n *\n * @private\n * @function\n */\nconst writeClientsStructs = (encoder, store, _sm) => {\n  // we filter all valid _sm entries into sm\n  const sm = new Map();\n  _sm.forEach((clock, client) => {\n    // only write if new structs are available\n    if (getState(store, client) > clock) {\n      sm.set(client, clock);\n    }\n  });\n  getStateVector(store).forEach((_clock, client) => {\n    if (!_sm.has(client)) {\n      sm.set(client, 0);\n    }\n  });\n  // write # states that were updated\n  encoding.writeVarUint(encoder.restEncoder, sm.size);\n  // Write items with higher client ids first\n  // This heavily improves the conflict algorithm.\n  array.from(sm.entries()).sort((a, b) => b[0] - a[0]).forEach(([client, clock]) => {\n    writeStructs(encoder, /** @type {Array<GC|Item>} */ (store.clients.get(client)), client, clock);\n  });\n};\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder The decoder object to read data from.\n * @param {Doc} doc\n * @return {Map<number, { i: number, refs: Array<Item | GC> }>}\n *\n * @private\n * @function\n */\nconst readClientsStructRefs = (decoder, doc) => {\n  /**\n   * @type {Map<number, { i: number, refs: Array<Item | GC> }>}\n   */\n  const clientRefs = map.create();\n  const numOfStateUpdates = decoding.readVarUint(decoder.restDecoder);\n  for (let i = 0; i < numOfStateUpdates; i++) {\n    const numberOfStructs = decoding.readVarUint(decoder.restDecoder);\n    /**\n     * @type {Array<GC|Item>}\n     */\n    const refs = new Array(numberOfStructs);\n    const client = decoder.readClient();\n    let clock = decoding.readVarUint(decoder.restDecoder);\n    // const start = performance.now()\n    clientRefs.set(client, { i: 0, refs });\n    for (let i = 0; i < numberOfStructs; i++) {\n      const info = decoder.readInfo();\n      switch (binary.BITS5 & info) {\n        case 0: { // GC\n          const len = decoder.readLen();\n          refs[i] = new GC(createID(client, clock), len);\n          clock += len;\n          break\n        }\n        case 10: { // Skip Struct (nothing to apply)\n          // @todo we could reduce the amount of checks by adding Skip struct to clientRefs so we know that something is missing.\n          const len = decoding.readVarUint(decoder.restDecoder);\n          refs[i] = new Skip(createID(client, clock), len);\n          clock += len;\n          break\n        }\n        default: { // Item with content\n          /**\n           * The optimized implementation doesn't use any variables because inlining variables is faster.\n           * Below a non-optimized version is shown that implements the basic algorithm with\n           * a few comments\n           */\n          const cantCopyParentInfo = (info & (binary.BIT7 | binary.BIT8)) === 0;\n          // If parent = null and neither left nor right are defined, then we know that `parent` is child of `y`\n          // and we read the next string as parentYKey.\n          // It indicates how we store/retrieve parent from `y.share`\n          // @type {string|null}\n          const struct = new Item(\n            createID(client, clock),\n            null, // left\n            (info & binary.BIT8) === binary.BIT8 ? decoder.readLeftID() : null, // origin\n            null, // right\n            (info & binary.BIT7) === binary.BIT7 ? decoder.readRightID() : null, // right origin\n            cantCopyParentInfo ? (decoder.readParentInfo() ? doc.get(decoder.readString()) : decoder.readLeftID()) : null, // parent\n            cantCopyParentInfo && (info & binary.BIT6) === binary.BIT6 ? decoder.readString() : null, // parentSub\n            readItemContent(decoder, info) // item content\n          );\n          /* A non-optimized implementation of the above algorithm:\n\n          // The item that was originally to the left of this item.\n          const origin = (info & binary.BIT8) === binary.BIT8 ? decoder.readLeftID() : null\n          // The item that was originally to the right of this item.\n          const rightOrigin = (info & binary.BIT7) === binary.BIT7 ? decoder.readRightID() : null\n          const cantCopyParentInfo = (info & (binary.BIT7 | binary.BIT8)) === 0\n          const hasParentYKey = cantCopyParentInfo ? decoder.readParentInfo() : false\n          // If parent = null and neither left nor right are defined, then we know that `parent` is child of `y`\n          // and we read the next string as parentYKey.\n          // It indicates how we store/retrieve parent from `y.share`\n          // @type {string|null}\n          const parentYKey = cantCopyParentInfo && hasParentYKey ? decoder.readString() : null\n\n          const struct = new Item(\n            createID(client, clock),\n            null, // left\n            origin, // origin\n            null, // right\n            rightOrigin, // right origin\n            cantCopyParentInfo && !hasParentYKey ? decoder.readLeftID() : (parentYKey !== null ? doc.get(parentYKey) : null), // parent\n            cantCopyParentInfo && (info & binary.BIT6) === binary.BIT6 ? decoder.readString() : null, // parentSub\n            readItemContent(decoder, info) // item content\n          )\n          */\n          refs[i] = struct;\n          clock += struct.length;\n        }\n      }\n    }\n    // console.log('time to read: ', performance.now() - start) // @todo remove\n  }\n  return clientRefs\n};\n\n/**\n * Resume computing structs generated by struct readers.\n *\n * While there is something to do, we integrate structs in this order\n * 1. top element on stack, if stack is not empty\n * 2. next element from current struct reader (if empty, use next struct reader)\n *\n * If struct causally depends on another struct (ref.missing), we put next reader of\n * `ref.id.client` on top of stack.\n *\n * At some point we find a struct that has no causal dependencies,\n * then we start emptying the stack.\n *\n * It is not possible to have circles: i.e. struct1 (from client1) depends on struct2 (from client2)\n * depends on struct3 (from client1). Therefore the max stack size is equal to `structReaders.length`.\n *\n * This method is implemented in a way so that we can resume computation if this update\n * causally depends on another update.\n *\n * @param {Transaction} transaction\n * @param {StructStore} store\n * @param {Map<number, { i: number, refs: (GC | Item)[] }>} clientsStructRefs\n * @return { null | { update: Uint8Array, missing: Map<number,number> } }\n *\n * @private\n * @function\n */\nconst integrateStructs = (transaction, store, clientsStructRefs) => {\n  /**\n   * @type {Array<Item | GC>}\n   */\n  const stack = [];\n  // sort them so that we take the higher id first, in case of conflicts the lower id will probably not conflict with the id from the higher user.\n  let clientsStructRefsIds = array.from(clientsStructRefs.keys()).sort((a, b) => a - b);\n  if (clientsStructRefsIds.length === 0) {\n    return null\n  }\n  const getNextStructTarget = () => {\n    if (clientsStructRefsIds.length === 0) {\n      return null\n    }\n    let nextStructsTarget = /** @type {{i:number,refs:Array<GC|Item>}} */ (clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length - 1]));\n    while (nextStructsTarget.refs.length === nextStructsTarget.i) {\n      clientsStructRefsIds.pop();\n      if (clientsStructRefsIds.length > 0) {\n        nextStructsTarget = /** @type {{i:number,refs:Array<GC|Item>}} */ (clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length - 1]));\n      } else {\n        return null\n      }\n    }\n    return nextStructsTarget\n  };\n  let curStructsTarget = getNextStructTarget();\n  if (curStructsTarget === null) {\n    return null\n  }\n\n  /**\n   * @type {StructStore}\n   */\n  const restStructs = new StructStore();\n  const missingSV = new Map();\n  /**\n   * @param {number} client\n   * @param {number} clock\n   */\n  const updateMissingSv = (client, clock) => {\n    const mclock = missingSV.get(client);\n    if (mclock == null || mclock > clock) {\n      missingSV.set(client, clock);\n    }\n  };\n  /**\n   * @type {GC|Item}\n   */\n  let stackHead = /** @type {any} */ (curStructsTarget).refs[/** @type {any} */ (curStructsTarget).i++];\n  // caching the state because it is used very often\n  const state = new Map();\n\n  const addStackToRestSS = () => {\n    for (const item of stack) {\n      const client = item.id.client;\n      const inapplicableItems = clientsStructRefs.get(client);\n      if (inapplicableItems) {\n        // decrement because we weren't able to apply previous operation\n        inapplicableItems.i--;\n        restStructs.clients.set(client, inapplicableItems.refs.slice(inapplicableItems.i));\n        clientsStructRefs.delete(client);\n        inapplicableItems.i = 0;\n        inapplicableItems.refs = [];\n      } else {\n        // item was the last item on clientsStructRefs and the field was already cleared. Add item to restStructs and continue\n        restStructs.clients.set(client, [item]);\n      }\n      // remove client from clientsStructRefsIds to prevent users from applying the same update again\n      clientsStructRefsIds = clientsStructRefsIds.filter(c => c !== client);\n    }\n    stack.length = 0;\n  };\n\n  // iterate over all struct readers until we are done\n  while (true) {\n    if (stackHead.constructor !== Skip) {\n      const localClock = map.setIfUndefined(state, stackHead.id.client, () => getState(store, stackHead.id.client));\n      const offset = localClock - stackHead.id.clock;\n      if (offset < 0) {\n        // update from the same client is missing\n        stack.push(stackHead);\n        updateMissingSv(stackHead.id.client, stackHead.id.clock - 1);\n        // hid a dead wall, add all items from stack to restSS\n        addStackToRestSS();\n      } else {\n        const missing = stackHead.getMissing(transaction, store);\n        if (missing !== null) {\n          stack.push(stackHead);\n          // get the struct reader that has the missing struct\n          /**\n           * @type {{ refs: Array<GC|Item>, i: number }}\n           */\n          const structRefs = clientsStructRefs.get(/** @type {number} */ (missing)) || { refs: [], i: 0 };\n          if (structRefs.refs.length === structRefs.i) {\n            // This update message causally depends on another update message that doesn't exist yet\n            updateMissingSv(/** @type {number} */ (missing), getState(store, missing));\n            addStackToRestSS();\n          } else {\n            stackHead = structRefs.refs[structRefs.i++];\n            continue\n          }\n        } else if (offset === 0 || offset < stackHead.length) {\n          // all fine, apply the stackhead\n          stackHead.integrate(transaction, offset);\n          state.set(stackHead.id.client, stackHead.id.clock + stackHead.length);\n        }\n      }\n    }\n    // iterate to next stackHead\n    if (stack.length > 0) {\n      stackHead = /** @type {GC|Item} */ (stack.pop());\n    } else if (curStructsTarget !== null && curStructsTarget.i < curStructsTarget.refs.length) {\n      stackHead = /** @type {GC|Item} */ (curStructsTarget.refs[curStructsTarget.i++]);\n    } else {\n      curStructsTarget = getNextStructTarget();\n      if (curStructsTarget === null) {\n        // we are done!\n        break\n      } else {\n        stackHead = /** @type {GC|Item} */ (curStructsTarget.refs[curStructsTarget.i++]);\n      }\n    }\n  }\n  if (restStructs.clients.size > 0) {\n    const encoder = new UpdateEncoderV2();\n    writeClientsStructs(encoder, restStructs, new Map());\n    // write empty deleteset\n    // writeDeleteSet(encoder, new DeleteSet())\n    encoding.writeVarUint(encoder.restEncoder, 0); // => no need for an extra function call, just write 0 deletes\n    return { missing: missingSV, update: encoder.toUint8Array() }\n  }\n  return null\n};\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Transaction} transaction\n *\n * @private\n * @function\n */\nconst writeStructsFromTransaction = (encoder, transaction) => writeClientsStructs(encoder, transaction.doc.store, transaction.beforeState);\n\n/**\n * Read and apply a document update.\n *\n * This function has the same effect as `applyUpdate` but accepts a decoder.\n *\n * @param {decoding.Decoder} decoder\n * @param {Doc} ydoc\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n * @param {UpdateDecoderV1 | UpdateDecoderV2} [structDecoder]\n *\n * @function\n */\nconst readUpdateV2 = (decoder, ydoc, transactionOrigin, structDecoder = new UpdateDecoderV2(decoder)) =>\n  transact(ydoc, transaction => {\n    // force that transaction.local is set to non-local\n    transaction.local = false;\n    let retry = false;\n    const doc = transaction.doc;\n    const store = doc.store;\n    // let start = performance.now()\n    const ss = readClientsStructRefs(structDecoder, doc);\n    // console.log('time to read structs: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    // console.log('time to merge: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    const restStructs = integrateStructs(transaction, store, ss);\n    const pending = store.pendingStructs;\n    if (pending) {\n      // check if we can apply something\n      for (const [client, clock] of pending.missing) {\n        if (clock < getState(store, client)) {\n          retry = true;\n          break\n        }\n      }\n      if (restStructs) {\n        // merge restStructs into store.pending\n        for (const [client, clock] of restStructs.missing) {\n          const mclock = pending.missing.get(client);\n          if (mclock == null || mclock > clock) {\n            pending.missing.set(client, clock);\n          }\n        }\n        pending.update = mergeUpdatesV2([pending.update, restStructs.update]);\n      }\n    } else {\n      store.pendingStructs = restStructs;\n    }\n    // console.log('time to integrate: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    const dsRest = readAndApplyDeleteSet(structDecoder, transaction, store);\n    if (store.pendingDs) {\n      // @todo we could make a lower-bound state-vector check as we do above\n      const pendingDSUpdate = new UpdateDecoderV2(decoding.createDecoder(store.pendingDs));\n      decoding.readVarUint(pendingDSUpdate.restDecoder); // read 0 structs, because we only encode deletes in pendingdsupdate\n      const dsRest2 = readAndApplyDeleteSet(pendingDSUpdate, transaction, store);\n      if (dsRest && dsRest2) {\n        // case 1: ds1 != null && ds2 != null\n        store.pendingDs = mergeUpdatesV2([dsRest, dsRest2]);\n      } else {\n        // case 2: ds1 != null\n        // case 3: ds2 != null\n        // case 4: ds1 == null && ds2 == null\n        store.pendingDs = dsRest || dsRest2;\n      }\n    } else {\n      // Either dsRest == null && pendingDs == null OR dsRest != null\n      store.pendingDs = dsRest;\n    }\n    // console.log('time to cleanup: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n\n    // console.log('time to resume delete readers: ', performance.now() - start) // @todo remove\n    // start = performance.now()\n    if (retry) {\n      const update = /** @type {{update: Uint8Array}} */ (store.pendingStructs).update;\n      store.pendingStructs = null;\n      applyUpdateV2(transaction.doc, update);\n    }\n  }, transactionOrigin, false);\n\n/**\n * Read and apply a document update.\n *\n * This function has the same effect as `applyUpdate` but accepts a decoder.\n *\n * @param {decoding.Decoder} decoder\n * @param {Doc} ydoc\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n *\n * @function\n */\nconst readUpdate = (decoder, ydoc, transactionOrigin) => readUpdateV2(decoder, ydoc, transactionOrigin, new UpdateDecoderV1(decoder));\n\n/**\n * Apply a document update created by, for example, `y.on('update', update => ..)` or `update = encodeStateAsUpdate()`.\n *\n * This function has the same effect as `readUpdate` but accepts an Uint8Array instead of a Decoder.\n *\n * @param {Doc} ydoc\n * @param {Uint8Array} update\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} [YDecoder]\n *\n * @function\n */\nconst applyUpdateV2 = (ydoc, update, transactionOrigin, YDecoder = UpdateDecoderV2) => {\n  const decoder = decoding.createDecoder(update);\n  readUpdateV2(decoder, ydoc, transactionOrigin, new YDecoder(decoder));\n};\n\n/**\n * Apply a document update created by, for example, `y.on('update', update => ..)` or `update = encodeStateAsUpdate()`.\n *\n * This function has the same effect as `readUpdate` but accepts an Uint8Array instead of a Decoder.\n *\n * @param {Doc} ydoc\n * @param {Uint8Array} update\n * @param {any} [transactionOrigin] This will be stored on `transaction.origin` and `.on('update', (update, origin))`\n *\n * @function\n */\nconst applyUpdate = (ydoc, update, transactionOrigin) => applyUpdateV2(ydoc, update, transactionOrigin, UpdateDecoderV1);\n\n/**\n * Write all the document as a single update message. If you specify the state of the remote client (`targetStateVector`) it will\n * only write the operations that are missing.\n *\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Doc} doc\n * @param {Map<number,number>} [targetStateVector] The state of the target that receives the update. Leave empty to write all known structs\n *\n * @function\n */\nconst writeStateAsUpdate = (encoder, doc, targetStateVector = new Map()) => {\n  writeClientsStructs(encoder, doc.store, targetStateVector);\n  writeDeleteSet(encoder, createDeleteSetFromStructStore(doc.store));\n};\n\n/**\n * Write all the document as a single update message that can be applied on the remote document. If you specify the state of the remote client (`targetState`) it will\n * only write the operations that are missing.\n *\n * Use `writeStateAsUpdate` instead if you are working with lib0/encoding.js#Encoder\n *\n * @param {Doc} doc\n * @param {Uint8Array} [encodedTargetStateVector] The state of the target that receives the update. Leave empty to write all known structs\n * @param {UpdateEncoderV1 | UpdateEncoderV2} [encoder]\n * @return {Uint8Array}\n *\n * @function\n */\nconst encodeStateAsUpdateV2 = (doc, encodedTargetStateVector = new Uint8Array([0]), encoder = new UpdateEncoderV2()) => {\n  const targetStateVector = decodeStateVector(encodedTargetStateVector);\n  writeStateAsUpdate(encoder, doc, targetStateVector);\n  const updates = [encoder.toUint8Array()];\n  // also add the pending updates (if there are any)\n  if (doc.store.pendingDs) {\n    updates.push(doc.store.pendingDs);\n  }\n  if (doc.store.pendingStructs) {\n    updates.push(diffUpdateV2(doc.store.pendingStructs.update, encodedTargetStateVector));\n  }\n  if (updates.length > 1) {\n    if (encoder.constructor === UpdateEncoderV1) {\n      return mergeUpdates(updates.map((update, i) => i === 0 ? update : convertUpdateFormatV2ToV1(update)))\n    } else if (encoder.constructor === UpdateEncoderV2) {\n      return mergeUpdatesV2(updates)\n    }\n  }\n  return updates[0]\n};\n\n/**\n * Write all the document as a single update message that can be applied on the remote document. If you specify the state of the remote client (`targetState`) it will\n * only write the operations that are missing.\n *\n * Use `writeStateAsUpdate` instead if you are working with lib0/encoding.js#Encoder\n *\n * @param {Doc} doc\n * @param {Uint8Array} [encodedTargetStateVector] The state of the target that receives the update. Leave empty to write all known structs\n * @return {Uint8Array}\n *\n * @function\n */\nconst encodeStateAsUpdate = (doc, encodedTargetStateVector) => encodeStateAsUpdateV2(doc, encodedTargetStateVector, new UpdateEncoderV1());\n\n/**\n * Read state vector from Decoder and return as Map\n *\n * @param {DSDecoderV1 | DSDecoderV2} decoder\n * @return {Map<number,number>} Maps `client` to the number next expected `clock` from that client.\n *\n * @function\n */\nconst readStateVector = decoder => {\n  const ss = new Map();\n  const ssLength = decoding.readVarUint(decoder.restDecoder);\n  for (let i = 0; i < ssLength; i++) {\n    const client = decoding.readVarUint(decoder.restDecoder);\n    const clock = decoding.readVarUint(decoder.restDecoder);\n    ss.set(client, clock);\n  }\n  return ss\n};\n\n/**\n * Read decodedState and return State as Map.\n *\n * @param {Uint8Array} decodedState\n * @return {Map<number,number>} Maps `client` to the number next expected `clock` from that client.\n *\n * @function\n */\n// export const decodeStateVectorV2 = decodedState => readStateVector(new DSDecoderV2(decoding.createDecoder(decodedState)))\n\n/**\n * Read decodedState and return State as Map.\n *\n * @param {Uint8Array} decodedState\n * @return {Map<number,number>} Maps `client` to the number next expected `clock` from that client.\n *\n * @function\n */\nconst decodeStateVector = decodedState => readStateVector(new DSDecoderV1(decoding.createDecoder(decodedState)));\n\n/**\n * @param {DSEncoderV1 | DSEncoderV2} encoder\n * @param {Map<number,number>} sv\n * @function\n */\nconst writeStateVector = (encoder, sv) => {\n  encoding.writeVarUint(encoder.restEncoder, sv.size);\n  array.from(sv.entries()).sort((a, b) => b[0] - a[0]).forEach(([client, clock]) => {\n    encoding.writeVarUint(encoder.restEncoder, client); // @todo use a special client decoder that is based on mapping\n    encoding.writeVarUint(encoder.restEncoder, clock);\n  });\n  return encoder\n};\n\n/**\n * @param {DSEncoderV1 | DSEncoderV2} encoder\n * @param {Doc} doc\n *\n * @function\n */\nconst writeDocumentStateVector = (encoder, doc) => writeStateVector(encoder, getStateVector(doc.store));\n\n/**\n * Encode State as Uint8Array.\n *\n * @param {Doc|Map<number,number>} doc\n * @param {DSEncoderV1 | DSEncoderV2} [encoder]\n * @return {Uint8Array}\n *\n * @function\n */\nconst encodeStateVectorV2 = (doc, encoder = new DSEncoderV2()) => {\n  if (doc instanceof Map) {\n    writeStateVector(encoder, doc);\n  } else {\n    writeDocumentStateVector(encoder, doc);\n  }\n  return encoder.toUint8Array()\n};\n\n/**\n * Encode State as Uint8Array.\n *\n * @param {Doc|Map<number,number>} doc\n * @return {Uint8Array}\n *\n * @function\n */\nconst encodeStateVector = doc => encodeStateVectorV2(doc, new DSEncoderV1());\n\n/**\n * General event handler implementation.\n *\n * @template ARG0, ARG1\n *\n * @private\n */\nclass EventHandler {\n  constructor () {\n    /**\n     * @type {Array<function(ARG0, ARG1):void>}\n     */\n    this.l = [];\n  }\n}\n\n/**\n * @template ARG0,ARG1\n * @returns {EventHandler<ARG0,ARG1>}\n *\n * @private\n * @function\n */\nconst createEventHandler = () => new EventHandler();\n\n/**\n * Adds an event listener that is called when\n * {@link EventHandler#callEventListeners} is called.\n *\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n * @param {function(ARG0,ARG1):void} f The event handler.\n *\n * @private\n * @function\n */\nconst addEventHandlerListener = (eventHandler, f) =>\n  eventHandler.l.push(f);\n\n/**\n * Removes an event listener.\n *\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n * @param {function(ARG0,ARG1):void} f The event handler that was added with\n *                     {@link EventHandler#addEventListener}\n *\n * @private\n * @function\n */\nconst removeEventHandlerListener = (eventHandler, f) => {\n  const l = eventHandler.l;\n  const len = l.length;\n  eventHandler.l = l.filter(g => f !== g);\n  if (len === eventHandler.l.length) {\n    console.error('[yjs] Tried to remove event handler that doesn\\'t exist.');\n  }\n};\n\n/**\n * Call all event listeners that were added via\n * {@link EventHandler#addEventListener}.\n *\n * @template ARG0,ARG1\n * @param {EventHandler<ARG0,ARG1>} eventHandler\n * @param {ARG0} arg0\n * @param {ARG1} arg1\n *\n * @private\n * @function\n */\nconst callEventHandlerListeners = (eventHandler, arg0, arg1) =>\n  f.callAll(eventHandler.l, [arg0, arg1]);\n\nclass ID {\n  /**\n   * @param {number} client client id\n   * @param {number} clock unique per client id, continuous number\n   */\n  constructor (client, clock) {\n    /**\n     * Client id\n     * @type {number}\n     */\n    this.client = client;\n    /**\n     * unique per client id, continuous number\n     * @type {number}\n     */\n    this.clock = clock;\n  }\n}\n\n/**\n * @param {ID | null} a\n * @param {ID | null} b\n * @return {boolean}\n *\n * @function\n */\nconst compareIDs = (a, b) => a === b || (a !== null && b !== null && a.client === b.client && a.clock === b.clock);\n\n/**\n * @param {number} client\n * @param {number} clock\n *\n * @private\n * @function\n */\nconst createID = (client, clock) => new ID(client, clock);\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {ID} id\n *\n * @private\n * @function\n */\nconst writeID = (encoder, id) => {\n  encoding.writeVarUint(encoder, id.client);\n  encoding.writeVarUint(encoder, id.clock);\n};\n\n/**\n * Read ID.\n * * If first varUint read is 0xFFFFFF a RootID is returned.\n * * Otherwise an ID is returned\n *\n * @param {decoding.Decoder} decoder\n * @return {ID}\n *\n * @private\n * @function\n */\nconst readID = decoder =>\n  createID(decoding.readVarUint(decoder), decoding.readVarUint(decoder));\n\n/**\n * The top types are mapped from y.share.get(keyname) => type.\n * `type` does not store any information about the `keyname`.\n * This function finds the correct `keyname` for `type` and throws otherwise.\n *\n * @param {AbstractType<any>} type\n * @return {string}\n *\n * @private\n * @function\n */\nconst findRootTypeKey = type => {\n  // @ts-ignore _y must be defined, otherwise unexpected case\n  for (const [key, value] of type.doc.share.entries()) {\n    if (value === type) {\n      return key\n    }\n  }\n  throw error.unexpectedCase()\n};\n\n/**\n * Check if `parent` is a parent of `child`.\n *\n * @param {AbstractType<any>} parent\n * @param {Item|null} child\n * @return {Boolean} Whether `parent` is a parent of `child`.\n *\n * @private\n * @function\n */\nconst isParentOf = (parent, child) => {\n  while (child !== null) {\n    if (child.parent === parent) {\n      return true\n    }\n    child = /** @type {AbstractType<any>} */ (child.parent)._item;\n  }\n  return false\n};\n\n/**\n * Convenient helper to log type information.\n *\n * Do not use in productive systems as the output can be immense!\n *\n * @param {AbstractType<any>} type\n */\nconst logType = type => {\n  const res = [];\n  let n = type._start;\n  while (n) {\n    res.push(n);\n    n = n.right;\n  }\n  console.log('Children: ', res);\n  console.log('Children content: ', res.filter(m => !m.deleted).map(m => m.content));\n};\n\nclass PermanentUserData {\n  /**\n   * @param {Doc} doc\n   * @param {YMap<any>} [storeType]\n   */\n  constructor (doc, storeType = doc.getMap('users')) {\n    /**\n     * @type {Map<string,DeleteSet>}\n     */\n    const dss = new Map();\n    this.yusers = storeType;\n    this.doc = doc;\n    /**\n     * Maps from clientid to userDescription\n     *\n     * @type {Map<number,string>}\n     */\n    this.clients = new Map();\n    this.dss = dss;\n    /**\n     * @param {YMap<any>} user\n     * @param {string} userDescription\n     */\n    const initUser = (user, userDescription) => {\n      /**\n       * @type {YArray<Uint8Array>}\n       */\n      const ds = user.get('ds');\n      const ids = user.get('ids');\n      const addClientId = /** @param {number} clientid */ clientid => this.clients.set(clientid, userDescription);\n      ds.observe(/** @param {YArrayEvent<any>} event */ event => {\n        event.changes.added.forEach(item => {\n          item.content.getContent().forEach(encodedDs => {\n            if (encodedDs instanceof Uint8Array) {\n              this.dss.set(userDescription, mergeDeleteSets([this.dss.get(userDescription) || createDeleteSet(), readDeleteSet(new DSDecoderV1(decoding.createDecoder(encodedDs)))]));\n            }\n          });\n        });\n      });\n      this.dss.set(userDescription, mergeDeleteSets(ds.map(encodedDs => readDeleteSet(new DSDecoderV1(decoding.createDecoder(encodedDs))))));\n      ids.observe(/** @param {YArrayEvent<any>} event */ event =>\n        event.changes.added.forEach(item => item.content.getContent().forEach(addClientId))\n      );\n      ids.forEach(addClientId);\n    };\n    // observe users\n    storeType.observe(event => {\n      event.keysChanged.forEach(userDescription =>\n        initUser(storeType.get(userDescription), userDescription)\n      );\n    });\n    // add initial data\n    storeType.forEach(initUser);\n  }\n\n  /**\n   * @param {Doc} doc\n   * @param {number} clientid\n   * @param {string} userDescription\n   * @param {Object} conf\n   * @param {function(Transaction, DeleteSet):boolean} [conf.filter]\n   */\n  setUserMapping (doc, clientid, userDescription, { filter = () => true } = {}) {\n    const users = this.yusers;\n    let user = users.get(userDescription);\n    if (!user) {\n      user = new YMap();\n      user.set('ids', new YArray());\n      user.set('ds', new YArray());\n      users.set(userDescription, user);\n    }\n    user.get('ids').push([clientid]);\n    users.observe(_event => {\n      setTimeout(() => {\n        const userOverwrite = users.get(userDescription);\n        if (userOverwrite !== user) {\n          // user was overwritten, port all data over to the next user object\n          // @todo Experiment with Y.Sets here\n          user = userOverwrite;\n          // @todo iterate over old type\n          this.clients.forEach((_userDescription, clientid) => {\n            if (userDescription === _userDescription) {\n              user.get('ids').push([clientid]);\n            }\n          });\n          const encoder = new DSEncoderV1();\n          const ds = this.dss.get(userDescription);\n          if (ds) {\n            writeDeleteSet(encoder, ds);\n            user.get('ds').push([encoder.toUint8Array()]);\n          }\n        }\n      }, 0);\n    });\n    doc.on('afterTransaction', /** @param {Transaction} transaction */ transaction => {\n      setTimeout(() => {\n        const yds = user.get('ds');\n        const ds = transaction.deleteSet;\n        if (transaction.local && ds.clients.size > 0 && filter(transaction, ds)) {\n          const encoder = new DSEncoderV1();\n          writeDeleteSet(encoder, ds);\n          yds.push([encoder.toUint8Array()]);\n        }\n      });\n    });\n  }\n\n  /**\n   * @param {number} clientid\n   * @return {any}\n   */\n  getUserByClientId (clientid) {\n    return this.clients.get(clientid) || null\n  }\n\n  /**\n   * @param {ID} id\n   * @return {string | null}\n   */\n  getUserByDeletedId (id) {\n    for (const [userDescription, ds] of this.dss.entries()) {\n      if (isDeleted(ds, id)) {\n        return userDescription\n      }\n    }\n    return null\n  }\n}\n\n/**\n * A relative position is based on the Yjs model and is not affected by document changes.\n * E.g. If you place a relative position before a certain character, it will always point to this character.\n * If you place a relative position at the end of a type, it will always point to the end of the type.\n *\n * A numeric position is often unsuited for user selections, because it does not change when content is inserted\n * before or after.\n *\n * ```Insert(0, 'x')('a|bc') = 'xa|bc'``` Where | is the relative position.\n *\n * One of the properties must be defined.\n *\n * @example\n *   // Current cursor position is at position 10\n *   const relativePosition = createRelativePositionFromIndex(yText, 10)\n *   // modify yText\n *   yText.insert(0, 'abc')\n *   yText.delete(3, 10)\n *   // Compute the cursor position\n *   const absolutePosition = createAbsolutePositionFromRelativePosition(y, relativePosition)\n *   absolutePosition.type === yText // => true\n *   console.log('cursor location is ' + absolutePosition.index) // => cursor location is 3\n *\n */\nclass RelativePosition {\n  /**\n   * @param {ID|null} type\n   * @param {string|null} tname\n   * @param {ID|null} item\n   * @param {number} assoc\n   */\n  constructor (type, tname, item, assoc = 0) {\n    /**\n     * @type {ID|null}\n     */\n    this.type = type;\n    /**\n     * @type {string|null}\n     */\n    this.tname = tname;\n    /**\n     * @type {ID | null}\n     */\n    this.item = item;\n    /**\n     * A relative position is associated to a specific character. By default\n     * assoc >= 0, the relative position is associated to the character\n     * after the meant position.\n     * I.e. position 1 in 'ab' is associated to character 'b'.\n     *\n     * If assoc < 0, then the relative position is associated to the character\n     * before the meant position.\n     *\n     * @type {number}\n     */\n    this.assoc = assoc;\n  }\n}\n\n/**\n * @param {RelativePosition} rpos\n * @return {any}\n */\nconst relativePositionToJSON = rpos => {\n  const json = {};\n  if (rpos.type) {\n    json.type = rpos.type;\n  }\n  if (rpos.tname) {\n    json.tname = rpos.tname;\n  }\n  if (rpos.item) {\n    json.item = rpos.item;\n  }\n  if (rpos.assoc != null) {\n    json.assoc = rpos.assoc;\n  }\n  return json\n};\n\n/**\n * @param {any} json\n * @return {RelativePosition}\n *\n * @function\n */\nconst createRelativePositionFromJSON = json => new RelativePosition(json.type == null ? null : createID(json.type.client, json.type.clock), json.tname ?? null, json.item == null ? null : createID(json.item.client, json.item.clock), json.assoc == null ? 0 : json.assoc);\n\nclass AbsolutePosition {\n  /**\n   * @param {AbstractType<any>} type\n   * @param {number} index\n   * @param {number} [assoc]\n   */\n  constructor (type, index, assoc = 0) {\n    /**\n     * @type {AbstractType<any>}\n     */\n    this.type = type;\n    /**\n     * @type {number}\n     */\n    this.index = index;\n    this.assoc = assoc;\n  }\n}\n\n/**\n * @param {AbstractType<any>} type\n * @param {number} index\n * @param {number} [assoc]\n *\n * @function\n */\nconst createAbsolutePosition = (type, index, assoc = 0) => new AbsolutePosition(type, index, assoc);\n\n/**\n * @param {AbstractType<any>} type\n * @param {ID|null} item\n * @param {number} [assoc]\n *\n * @function\n */\nconst createRelativePosition = (type, item, assoc) => {\n  let typeid = null;\n  let tname = null;\n  if (type._item === null) {\n    tname = findRootTypeKey(type);\n  } else {\n    typeid = createID(type._item.id.client, type._item.id.clock);\n  }\n  return new RelativePosition(typeid, tname, item, assoc)\n};\n\n/**\n * Create a relativePosition based on a absolute position.\n *\n * @param {AbstractType<any>} type The base type (e.g. YText or YArray).\n * @param {number} index The absolute position.\n * @param {number} [assoc]\n * @return {RelativePosition}\n *\n * @function\n */\nconst createRelativePositionFromTypeIndex = (type, index, assoc = 0) => {\n  let t = type._start;\n  if (assoc < 0) {\n    // associated to the left character or the beginning of a type, increment index if possible.\n    if (index === 0) {\n      return createRelativePosition(type, null, assoc)\n    }\n    index--;\n  }\n  while (t !== null) {\n    if (!t.deleted && t.countable) {\n      if (t.length > index) {\n        // case 1: found position somewhere in the linked list\n        return createRelativePosition(type, createID(t.id.client, t.id.clock + index), assoc)\n      }\n      index -= t.length;\n    }\n    if (t.right === null && assoc < 0) {\n      // left-associated position, return last available id\n      return createRelativePosition(type, t.lastId, assoc)\n    }\n    t = t.right;\n  }\n  return createRelativePosition(type, null, assoc)\n};\n\n/**\n * @param {encoding.Encoder} encoder\n * @param {RelativePosition} rpos\n *\n * @function\n */\nconst writeRelativePosition = (encoder, rpos) => {\n  const { type, tname, item, assoc } = rpos;\n  if (item !== null) {\n    encoding.writeVarUint(encoder, 0);\n    writeID(encoder, item);\n  } else if (tname !== null) {\n    // case 2: found position at the end of the list and type is stored in y.share\n    encoding.writeUint8(encoder, 1);\n    encoding.writeVarString(encoder, tname);\n  } else if (type !== null) {\n    // case 3: found position at the end of the list and type is attached to an item\n    encoding.writeUint8(encoder, 2);\n    writeID(encoder, type);\n  } else {\n    throw error.unexpectedCase()\n  }\n  encoding.writeVarInt(encoder, assoc);\n  return encoder\n};\n\n/**\n * @param {RelativePosition} rpos\n * @return {Uint8Array}\n */\nconst encodeRelativePosition = rpos => {\n  const encoder = encoding.createEncoder();\n  writeRelativePosition(encoder, rpos);\n  return encoding.toUint8Array(encoder)\n};\n\n/**\n * @param {decoding.Decoder} decoder\n * @return {RelativePosition}\n *\n * @function\n */\nconst readRelativePosition = decoder => {\n  let type = null;\n  let tname = null;\n  let itemID = null;\n  switch (decoding.readVarUint(decoder)) {\n    case 0:\n      // case 1: found position somewhere in the linked list\n      itemID = readID(decoder);\n      break\n    case 1:\n      // case 2: found position at the end of the list and type is stored in y.share\n      tname = decoding.readVarString(decoder);\n      break\n    case 2: {\n      // case 3: found position at the end of the list and type is attached to an item\n      type = readID(decoder);\n    }\n  }\n  const assoc = decoding.hasContent(decoder) ? decoding.readVarInt(decoder) : 0;\n  return new RelativePosition(type, tname, itemID, assoc)\n};\n\n/**\n * @param {Uint8Array} uint8Array\n * @return {RelativePosition}\n */\nconst decodeRelativePosition = uint8Array => readRelativePosition(decoding.createDecoder(uint8Array));\n\n/**\n * @param {StructStore} store\n * @param {ID} id\n */\nconst getItemWithOffset = (store, id) => {\n  const item = getItem(store, id);\n  const diff = id.clock - item.id.clock;\n  return {\n    item, diff\n  }\n};\n\n/**\n * Transform a relative position to an absolute position.\n *\n * If you want to share the relative position with other users, you should set\n * `followUndoneDeletions` to false to get consistent results across all clients.\n *\n * When calculating the absolute position, we try to follow the \"undone deletions\". This yields\n * better results for the user who performed undo. However, only the user who performed the undo\n * will get the better results, the other users don't know which operations recreated a deleted\n * range of content. There is more information in this ticket: https://github.com/yjs/yjs/issues/638\n *\n * @param {RelativePosition} rpos\n * @param {Doc} doc\n * @param {boolean} followUndoneDeletions - whether to follow undone deletions - see https://github.com/yjs/yjs/issues/638\n * @return {AbsolutePosition|null}\n *\n * @function\n */\nconst createAbsolutePositionFromRelativePosition = (rpos, doc, followUndoneDeletions = true) => {\n  const store = doc.store;\n  const rightID = rpos.item;\n  const typeID = rpos.type;\n  const tname = rpos.tname;\n  const assoc = rpos.assoc;\n  let type = null;\n  let index = 0;\n  if (rightID !== null) {\n    if (getState(store, rightID.client) <= rightID.clock) {\n      return null\n    }\n    const res = followUndoneDeletions ? followRedone(store, rightID) : getItemWithOffset(store, rightID);\n    const right = res.item;\n    if (!(right instanceof Item)) {\n      return null\n    }\n    type = /** @type {AbstractType<any>} */ (right.parent);\n    if (type._item === null || !type._item.deleted) {\n      index = (right.deleted || !right.countable) ? 0 : (res.diff + (assoc >= 0 ? 0 : 1)); // adjust position based on left association if necessary\n      let n = right.left;\n      while (n !== null) {\n        if (!n.deleted && n.countable) {\n          index += n.length;\n        }\n        n = n.left;\n      }\n    }\n  } else {\n    if (tname !== null) {\n      type = doc.get(tname);\n    } else if (typeID !== null) {\n      if (getState(store, typeID.client) <= typeID.clock) {\n        // type does not exist yet\n        return null\n      }\n      const { item } = followUndoneDeletions ? followRedone(store, typeID) : { item: getItem(store, typeID) };\n      if (item instanceof Item && item.content instanceof ContentType) {\n        type = item.content.type;\n      } else {\n        // struct is garbage collected\n        return null\n      }\n    } else {\n      throw error.unexpectedCase()\n    }\n    if (assoc >= 0) {\n      index = type._length;\n    } else {\n      index = 0;\n    }\n  }\n  return createAbsolutePosition(type, index, rpos.assoc)\n};\n\n/**\n * @param {RelativePosition|null} a\n * @param {RelativePosition|null} b\n * @return {boolean}\n *\n * @function\n */\nconst compareRelativePositions = (a, b) => a === b || (\n  a !== null && b !== null && a.tname === b.tname && compareIDs(a.item, b.item) && compareIDs(a.type, b.type) && a.assoc === b.assoc\n);\n\nclass Snapshot {\n  /**\n   * @param {DeleteSet} ds\n   * @param {Map<number,number>} sv state map\n   */\n  constructor (ds, sv) {\n    /**\n     * @type {DeleteSet}\n     */\n    this.ds = ds;\n    /**\n     * State Map\n     * @type {Map<number,number>}\n     */\n    this.sv = sv;\n  }\n}\n\n/**\n * @param {Snapshot} snap1\n * @param {Snapshot} snap2\n * @return {boolean}\n */\nconst equalSnapshots = (snap1, snap2) => {\n  const ds1 = snap1.ds.clients;\n  const ds2 = snap2.ds.clients;\n  const sv1 = snap1.sv;\n  const sv2 = snap2.sv;\n  if (sv1.size !== sv2.size || ds1.size !== ds2.size) {\n    return false\n  }\n  for (const [key, value] of sv1.entries()) {\n    if (sv2.get(key) !== value) {\n      return false\n    }\n  }\n  for (const [client, dsitems1] of ds1.entries()) {\n    const dsitems2 = ds2.get(client) || [];\n    if (dsitems1.length !== dsitems2.length) {\n      return false\n    }\n    for (let i = 0; i < dsitems1.length; i++) {\n      const dsitem1 = dsitems1[i];\n      const dsitem2 = dsitems2[i];\n      if (dsitem1.clock !== dsitem2.clock || dsitem1.len !== dsitem2.len) {\n        return false\n      }\n    }\n  }\n  return true\n};\n\n/**\n * @param {Snapshot} snapshot\n * @param {DSEncoderV1 | DSEncoderV2} [encoder]\n * @return {Uint8Array}\n */\nconst encodeSnapshotV2 = (snapshot, encoder = new DSEncoderV2()) => {\n  writeDeleteSet(encoder, snapshot.ds);\n  writeStateVector(encoder, snapshot.sv);\n  return encoder.toUint8Array()\n};\n\n/**\n * @param {Snapshot} snapshot\n * @return {Uint8Array}\n */\nconst encodeSnapshot = snapshot => encodeSnapshotV2(snapshot, new DSEncoderV1());\n\n/**\n * @param {Uint8Array} buf\n * @param {DSDecoderV1 | DSDecoderV2} [decoder]\n * @return {Snapshot}\n */\nconst decodeSnapshotV2 = (buf, decoder = new DSDecoderV2(decoding.createDecoder(buf))) => {\n  return new Snapshot(readDeleteSet(decoder), readStateVector(decoder))\n};\n\n/**\n * @param {Uint8Array} buf\n * @return {Snapshot}\n */\nconst decodeSnapshot = buf => decodeSnapshotV2(buf, new DSDecoderV1(decoding.createDecoder(buf)));\n\n/**\n * @param {DeleteSet} ds\n * @param {Map<number,number>} sm\n * @return {Snapshot}\n */\nconst createSnapshot = (ds, sm) => new Snapshot(ds, sm);\n\nconst emptySnapshot = createSnapshot(createDeleteSet(), new Map());\n\n/**\n * @param {Doc} doc\n * @return {Snapshot}\n */\nconst snapshot = doc => createSnapshot(createDeleteSetFromStructStore(doc.store), getStateVector(doc.store));\n\n/**\n * @param {Item} item\n * @param {Snapshot|undefined} snapshot\n *\n * @protected\n * @function\n */\nconst isVisible = (item, snapshot) => snapshot === undefined\n  ? !item.deleted\n  : snapshot.sv.has(item.id.client) && (snapshot.sv.get(item.id.client) || 0) > item.id.clock && !isDeleted(snapshot.ds, item.id);\n\n/**\n * @param {Transaction} transaction\n * @param {Snapshot} snapshot\n */\nconst splitSnapshotAffectedStructs = (transaction, snapshot) => {\n  const meta = map.setIfUndefined(transaction.meta, splitSnapshotAffectedStructs, set.create);\n  const store = transaction.doc.store;\n  // check if we already split for this snapshot\n  if (!meta.has(snapshot)) {\n    snapshot.sv.forEach((clock, client) => {\n      if (clock < getState(store, client)) {\n        getItemCleanStart(transaction, createID(client, clock));\n      }\n    });\n    iterateDeletedStructs(transaction, snapshot.ds, _item => {});\n    meta.add(snapshot);\n  }\n};\n\n/**\n * @example\n *  const ydoc = new Y.Doc({ gc: false })\n *  ydoc.getText().insert(0, 'world!')\n *  const snapshot = Y.snapshot(ydoc)\n *  ydoc.getText().insert(0, 'hello ')\n *  const restored = Y.createDocFromSnapshot(ydoc, snapshot)\n *  assert(restored.getText().toString() === 'world!')\n *\n * @param {Doc} originDoc\n * @param {Snapshot} snapshot\n * @param {Doc} [newDoc] Optionally, you may define the Yjs document that receives the data from originDoc\n * @return {Doc}\n */\nconst createDocFromSnapshot = (originDoc, snapshot, newDoc = new Doc()) => {\n  if (originDoc.gc) {\n    // we should not try to restore a GC-ed document, because some of the restored items might have their content deleted\n    throw new Error('Garbage-collection must be disabled in `originDoc`!')\n  }\n  const { sv, ds } = snapshot;\n\n  const encoder = new UpdateEncoderV2();\n  originDoc.transact(transaction => {\n    let size = 0;\n    sv.forEach(clock => {\n      if (clock > 0) {\n        size++;\n      }\n    });\n    encoding.writeVarUint(encoder.restEncoder, size);\n    // splitting the structs before writing them to the encoder\n    for (const [client, clock] of sv) {\n      if (clock === 0) {\n        continue\n      }\n      if (clock < getState(originDoc.store, client)) {\n        getItemCleanStart(transaction, createID(client, clock));\n      }\n      const structs = originDoc.store.clients.get(client) || [];\n      const lastStructIndex = findIndexSS(structs, clock - 1);\n      // write # encoded structs\n      encoding.writeVarUint(encoder.restEncoder, lastStructIndex + 1);\n      encoder.writeClient(client);\n      // first clock written is 0\n      encoding.writeVarUint(encoder.restEncoder, 0);\n      for (let i = 0; i <= lastStructIndex; i++) {\n        structs[i].write(encoder, 0);\n      }\n    }\n    writeDeleteSet(encoder, ds);\n  });\n\n  applyUpdateV2(newDoc, encoder.toUint8Array(), 'snapshot');\n  return newDoc\n};\n\n/**\n * @param {Snapshot} snapshot\n * @param {Uint8Array} update\n * @param {typeof UpdateDecoderV2 | typeof UpdateDecoderV1} [YDecoder]\n */\nconst snapshotContainsUpdateV2 = (snapshot, update, YDecoder = UpdateDecoderV2) => {\n  const updateDecoder = new YDecoder(decoding.createDecoder(update));\n  const lazyDecoder = new LazyStructReader(updateDecoder, false);\n  for (let curr = lazyDecoder.curr; curr !== null; curr = lazyDecoder.next()) {\n    if ((snapshot.sv.get(curr.id.client) || 0) < curr.id.clock + curr.length) {\n      return false\n    }\n  }\n  const mergedDS = mergeDeleteSets([snapshot.ds, readDeleteSet(updateDecoder)]);\n  return equalDeleteSets(snapshot.ds, mergedDS)\n};\n\n/**\n * @param {Snapshot} snapshot\n * @param {Uint8Array} update\n */\nconst snapshotContainsUpdate = (snapshot, update) => snapshotContainsUpdateV2(snapshot, update, UpdateDecoderV1);\n\nclass StructStore {\n  constructor () {\n    /**\n     * @type {Map<number,Array<GC|Item>>}\n     */\n    this.clients = new Map();\n    /**\n     * @type {null | { missing: Map<number, number>, update: Uint8Array }}\n     */\n    this.pendingStructs = null;\n    /**\n     * @type {null | Uint8Array}\n     */\n    this.pendingDs = null;\n  }\n}\n\n/**\n * Return the states as a Map<client,clock>.\n * Note that clock refers to the next expected clock id.\n *\n * @param {StructStore} store\n * @return {Map<number,number>}\n *\n * @public\n * @function\n */\nconst getStateVector = store => {\n  const sm = new Map();\n  store.clients.forEach((structs, client) => {\n    const struct = structs[structs.length - 1];\n    sm.set(client, struct.id.clock + struct.length);\n  });\n  return sm\n};\n\n/**\n * @param {StructStore} store\n * @param {number} client\n * @return {number}\n *\n * @public\n * @function\n */\nconst getState = (store, client) => {\n  const structs = store.clients.get(client);\n  if (structs === undefined) {\n    return 0\n  }\n  const lastStruct = structs[structs.length - 1];\n  return lastStruct.id.clock + lastStruct.length\n};\n\n/**\n * @param {StructStore} store\n * @param {GC|Item} struct\n *\n * @private\n * @function\n */\nconst addStruct = (store, struct) => {\n  let structs = store.clients.get(struct.id.client);\n  if (structs === undefined) {\n    structs = [];\n    store.clients.set(struct.id.client, structs);\n  } else {\n    const lastStruct = structs[structs.length - 1];\n    if (lastStruct.id.clock + lastStruct.length !== struct.id.clock) {\n      throw error.unexpectedCase()\n    }\n  }\n  structs.push(struct);\n};\n\n/**\n * Perform a binary search on a sorted array\n * @param {Array<Item|GC>} structs\n * @param {number} clock\n * @return {number}\n *\n * @private\n * @function\n */\nconst findIndexSS = (structs, clock) => {\n  let left = 0;\n  let right = structs.length - 1;\n  let mid = structs[right];\n  let midclock = mid.id.clock;\n  if (midclock === clock) {\n    return right\n  }\n  // @todo does it even make sense to pivot the search?\n  // If a good split misses, it might actually increase the time to find the correct item.\n  // Currently, the only advantage is that search with pivoting might find the item on the first try.\n  let midindex = math.floor((clock / (midclock + mid.length - 1)) * right); // pivoting the search\n  while (left <= right) {\n    mid = structs[midindex];\n    midclock = mid.id.clock;\n    if (midclock <= clock) {\n      if (clock < midclock + mid.length) {\n        return midindex\n      }\n      left = midindex + 1;\n    } else {\n      right = midindex - 1;\n    }\n    midindex = math.floor((left + right) / 2);\n  }\n  // Always check state before looking for a struct in StructStore\n  // Therefore the case of not finding a struct is unexpected\n  throw error.unexpectedCase()\n};\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n *\n * @param {StructStore} store\n * @param {ID} id\n * @return {GC|Item}\n *\n * @private\n * @function\n */\nconst find = (store, id) => {\n  /**\n   * @type {Array<GC|Item>}\n   */\n  // @ts-ignore\n  const structs = store.clients.get(id.client);\n  return structs[findIndexSS(structs, id.clock)]\n};\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n * @private\n * @function\n */\nconst getItem = /** @type {function(StructStore,ID):Item} */ (find);\n\n/**\n * @param {Transaction} transaction\n * @param {Array<Item|GC>} structs\n * @param {number} clock\n */\nconst findIndexCleanStart = (transaction, structs, clock) => {\n  const index = findIndexSS(structs, clock);\n  const struct = structs[index];\n  if (struct.id.clock < clock && struct instanceof Item) {\n    structs.splice(index + 1, 0, splitItem(transaction, struct, clock - struct.id.clock));\n    return index + 1\n  }\n  return index\n};\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n *\n * @param {Transaction} transaction\n * @param {ID} id\n * @return {Item}\n *\n * @private\n * @function\n */\nconst getItemCleanStart = (transaction, id) => {\n  const structs = /** @type {Array<Item>} */ (transaction.doc.store.clients.get(id.client));\n  return structs[findIndexCleanStart(transaction, structs, id.clock)]\n};\n\n/**\n * Expects that id is actually in store. This function throws or is an infinite loop otherwise.\n *\n * @param {Transaction} transaction\n * @param {StructStore} store\n * @param {ID} id\n * @return {Item}\n *\n * @private\n * @function\n */\nconst getItemCleanEnd = (transaction, store, id) => {\n  /**\n   * @type {Array<Item>}\n   */\n  // @ts-ignore\n  const structs = store.clients.get(id.client);\n  const index = findIndexSS(structs, id.clock);\n  const struct = structs[index];\n  if (id.clock !== struct.id.clock + struct.length - 1 && struct.constructor !== GC) {\n    structs.splice(index + 1, 0, splitItem(transaction, struct, id.clock - struct.id.clock + 1));\n  }\n  return struct\n};\n\n/**\n * Replace `item` with `newitem` in store\n * @param {StructStore} store\n * @param {GC|Item} struct\n * @param {GC|Item} newStruct\n *\n * @private\n * @function\n */\nconst replaceStruct = (store, struct, newStruct) => {\n  const structs = /** @type {Array<GC|Item>} */ (store.clients.get(struct.id.client));\n  structs[findIndexSS(structs, struct.id.clock)] = newStruct;\n};\n\n/**\n * Iterate over a range of structs\n *\n * @param {Transaction} transaction\n * @param {Array<Item|GC>} structs\n * @param {number} clockStart Inclusive start\n * @param {number} len\n * @param {function(GC|Item):void} f\n *\n * @function\n */\nconst iterateStructs = (transaction, structs, clockStart, len, f) => {\n  if (len === 0) {\n    return\n  }\n  const clockEnd = clockStart + len;\n  let index = findIndexCleanStart(transaction, structs, clockStart);\n  let struct;\n  do {\n    struct = structs[index++];\n    if (clockEnd < struct.id.clock + struct.length) {\n      findIndexCleanStart(transaction, structs, clockEnd);\n    }\n    f(struct);\n  } while (index < structs.length && structs[index].id.clock < clockEnd)\n};\n\n/**\n * A transaction is created for every change on the Yjs model. It is possible\n * to bundle changes on the Yjs model in a single transaction to\n * minimize the number on messages sent and the number of observer calls.\n * If possible the user of this library should bundle as many changes as\n * possible. Here is an example to illustrate the advantages of bundling:\n *\n * @example\n * const ydoc = new Y.Doc()\n * const map = ydoc.getMap('map')\n * // Log content when change is triggered\n * map.observe(() => {\n *   console.log('change triggered')\n * })\n * // Each change on the map type triggers a log message:\n * map.set('a', 0) // => \"change triggered\"\n * map.set('b', 0) // => \"change triggered\"\n * // When put in a transaction, it will trigger the log after the transaction:\n * ydoc.transact(() => {\n *   map.set('a', 1)\n *   map.set('b', 1)\n * }) // => \"change triggered\"\n *\n * @public\n */\nclass Transaction {\n  /**\n   * @param {Doc} doc\n   * @param {any} origin\n   * @param {boolean} local\n   */\n  constructor (doc, origin, local) {\n    /**\n     * The Yjs instance.\n     * @type {Doc}\n     */\n    this.doc = doc;\n    /**\n     * Describes the set of deleted items by ids\n     * @type {DeleteSet}\n     */\n    this.deleteSet = new DeleteSet();\n    /**\n     * Holds the state before the transaction started.\n     * @type {Map<Number,Number>}\n     */\n    this.beforeState = getStateVector(doc.store);\n    /**\n     * Holds the state after the transaction.\n     * @type {Map<Number,Number>}\n     */\n    this.afterState = new Map();\n    /**\n     * All types that were directly modified (property added or child\n     * inserted/deleted). New types are not included in this Set.\n     * Maps from type to parentSubs (`item.parentSub = null` for YArray)\n     * @type {Map<AbstractType<YEvent<any>>,Set<String|null>>}\n     */\n    this.changed = new Map();\n    /**\n     * Stores the events for the types that observe also child elements.\n     * It is mainly used by `observeDeep`.\n     * @type {Map<AbstractType<YEvent<any>>,Array<YEvent<any>>>}\n     */\n    this.changedParentTypes = new Map();\n    /**\n     * @type {Array<AbstractStruct>}\n     */\n    this._mergeStructs = [];\n    /**\n     * @type {any}\n     */\n    this.origin = origin;\n    /**\n     * Stores meta information on the transaction\n     * @type {Map<any,any>}\n     */\n    this.meta = new Map();\n    /**\n     * Whether this change originates from this doc.\n     * @type {boolean}\n     */\n    this.local = local;\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocsAdded = new Set();\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocsRemoved = new Set();\n    /**\n     * @type {Set<Doc>}\n     */\n    this.subdocsLoaded = new Set();\n    /**\n     * @type {boolean}\n     */\n    this._needFormattingCleanup = false;\n  }\n}\n\n/**\n * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n * @param {Transaction} transaction\n * @return {boolean} Whether data was written.\n */\nconst writeUpdateMessageFromTransaction = (encoder, transaction) => {\n  if (transaction.deleteSet.clients.size === 0 && !map.any(transaction.afterState, (clock, client) => transaction.beforeState.get(client) !== clock)) {\n    return false\n  }\n  sortAndMergeDeleteSet(transaction.deleteSet);\n  writeStructsFromTransaction(encoder, transaction);\n  writeDeleteSet(encoder, transaction.deleteSet);\n  return true\n};\n\n/**\n * If `type.parent` was added in current transaction, `type` technically\n * did not change, it was just added and we should not fire events for `type`.\n *\n * @param {Transaction} transaction\n * @param {AbstractType<YEvent<any>>} type\n * @param {string|null} parentSub\n */\nconst addChangedTypeToTransaction = (transaction, type, parentSub) => {\n  const item = type._item;\n  if (item === null || (item.id.clock < (transaction.beforeState.get(item.id.client) || 0) && !item.deleted)) {\n    map.setIfUndefined(transaction.changed, type, set.create).add(parentSub);\n  }\n};\n\n/**\n * @param {Array<AbstractStruct>} structs\n * @param {number} pos\n * @return {number} # of merged structs\n */\nconst tryToMergeWithLefts = (structs, pos) => {\n  let right = structs[pos];\n  let left = structs[pos - 1];\n  let i = pos;\n  for (; i > 0; right = left, left = structs[--i - 1]) {\n    if (left.deleted === right.deleted && left.constructor === right.constructor) {\n      if (left.mergeWith(right)) {\n        if (right instanceof Item && right.parentSub !== null && /** @type {AbstractType<any>} */ (right.parent)._map.get(right.parentSub) === right) {\n          /** @type {AbstractType<any>} */ (right.parent)._map.set(right.parentSub, /** @type {Item} */ (left));\n        }\n        continue\n      }\n    }\n    break\n  }\n  const merged = pos - i;\n  if (merged) {\n    // remove all merged structs from the array\n    structs.splice(pos + 1 - merged, merged);\n  }\n  return merged\n};\n\n/**\n * @param {DeleteSet} ds\n * @param {StructStore} store\n * @param {function(Item):boolean} gcFilter\n */\nconst tryGcDeleteSet = (ds, store, gcFilter) => {\n  for (const [client, deleteItems] of ds.clients.entries()) {\n    const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client));\n    for (let di = deleteItems.length - 1; di >= 0; di--) {\n      const deleteItem = deleteItems[di];\n      const endDeleteItemClock = deleteItem.clock + deleteItem.len;\n      for (\n        let si = findIndexSS(structs, deleteItem.clock), struct = structs[si];\n        si < structs.length && struct.id.clock < endDeleteItemClock;\n        struct = structs[++si]\n      ) {\n        const struct = structs[si];\n        if (deleteItem.clock + deleteItem.len <= struct.id.clock) {\n          break\n        }\n        if (struct instanceof Item && struct.deleted && !struct.keep && gcFilter(struct)) {\n          struct.gc(store, false);\n        }\n      }\n    }\n  }\n};\n\n/**\n * @param {DeleteSet} ds\n * @param {StructStore} store\n */\nconst tryMergeDeleteSet = (ds, store) => {\n  // try to merge deleted / gc'd items\n  // merge from right to left for better efficiency and so we don't miss any merge targets\n  ds.clients.forEach((deleteItems, client) => {\n    const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client));\n    for (let di = deleteItems.length - 1; di >= 0; di--) {\n      const deleteItem = deleteItems[di];\n      // start with merging the item next to the last deleted item\n      const mostRightIndexToCheck = math.min(structs.length - 1, 1 + findIndexSS(structs, deleteItem.clock + deleteItem.len - 1));\n      for (\n        let si = mostRightIndexToCheck, struct = structs[si];\n        si > 0 && struct.id.clock >= deleteItem.clock;\n        struct = structs[si]\n      ) {\n        si -= 1 + tryToMergeWithLefts(structs, si);\n      }\n    }\n  });\n};\n\n/**\n * @param {DeleteSet} ds\n * @param {StructStore} store\n * @param {function(Item):boolean} gcFilter\n */\nconst tryGc = (ds, store, gcFilter) => {\n  tryGcDeleteSet(ds, store, gcFilter);\n  tryMergeDeleteSet(ds, store);\n};\n\n/**\n * @param {Array<Transaction>} transactionCleanups\n * @param {number} i\n */\nconst cleanupTransactions = (transactionCleanups, i) => {\n  if (i < transactionCleanups.length) {\n    const transaction = transactionCleanups[i];\n    const doc = transaction.doc;\n    const store = doc.store;\n    const ds = transaction.deleteSet;\n    const mergeStructs = transaction._mergeStructs;\n    try {\n      sortAndMergeDeleteSet(ds);\n      transaction.afterState = getStateVector(transaction.doc.store);\n      doc.emit('beforeObserverCalls', [transaction, doc]);\n      /**\n       * An array of event callbacks.\n       *\n       * Each callback is called even if the other ones throw errors.\n       *\n       * @type {Array<function():void>}\n       */\n      const fs = [];\n      // observe events on changed types\n      transaction.changed.forEach((subs, itemtype) =>\n        fs.push(() => {\n          if (itemtype._item === null || !itemtype._item.deleted) {\n            itemtype._callObserver(transaction, subs);\n          }\n        })\n      );\n      fs.push(() => {\n        // deep observe events\n        transaction.changedParentTypes.forEach((events, type) => {\n          // We need to think about the possibility that the user transforms the\n          // Y.Doc in the event.\n          if (type._dEH.l.length > 0 && (type._item === null || !type._item.deleted)) {\n            events = events\n              .filter(event =>\n                event.target._item === null || !event.target._item.deleted\n              );\n            events\n              .forEach(event => {\n                event.currentTarget = type;\n                // path is relative to the current target\n                event._path = null;\n              });\n            // sort events by path length so that top-level events are fired first.\n            events\n              .sort((event1, event2) => event1.path.length - event2.path.length);\n            // We don't need to check for events.length\n            // because we know it has at least one element\n            callEventHandlerListeners(type._dEH, events, transaction);\n          }\n        });\n      });\n      fs.push(() => doc.emit('afterTransaction', [transaction, doc]));\n      callAll(fs, []);\n      if (transaction._needFormattingCleanup) {\n        cleanupYTextAfterTransaction(transaction);\n      }\n    } finally {\n      // Replace deleted items with ItemDeleted / GC.\n      // This is where content is actually remove from the Yjs Doc.\n      if (doc.gc) {\n        tryGcDeleteSet(ds, store, doc.gcFilter);\n      }\n      tryMergeDeleteSet(ds, store);\n\n      // on all affected store.clients props, try to merge\n      transaction.afterState.forEach((clock, client) => {\n        const beforeClock = transaction.beforeState.get(client) || 0;\n        if (beforeClock !== clock) {\n          const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client));\n          // we iterate from right to left so we can safely remove entries\n          const firstChangePos = math.max(findIndexSS(structs, beforeClock), 1);\n          for (let i = structs.length - 1; i >= firstChangePos;) {\n            i -= 1 + tryToMergeWithLefts(structs, i);\n          }\n        }\n      });\n      // try to merge mergeStructs\n      // @todo: it makes more sense to transform mergeStructs to a DS, sort it, and merge from right to left\n      //        but at the moment DS does not handle duplicates\n      for (let i = mergeStructs.length - 1; i >= 0; i--) {\n        const { client, clock } = mergeStructs[i].id;\n        const structs = /** @type {Array<GC|Item>} */ (store.clients.get(client));\n        const replacedStructPos = findIndexSS(structs, clock);\n        if (replacedStructPos + 1 < structs.length) {\n          if (tryToMergeWithLefts(structs, replacedStructPos + 1) > 1) {\n            continue // no need to perform next check, both are already merged\n          }\n        }\n        if (replacedStructPos > 0) {\n          tryToMergeWithLefts(structs, replacedStructPos);\n        }\n      }\n      if (!transaction.local && transaction.afterState.get(doc.clientID) !== transaction.beforeState.get(doc.clientID)) {\n        logging.print(logging.ORANGE, logging.BOLD, '[yjs] ', logging.UNBOLD, logging.RED, 'Changed the client-id because another client seems to be using it.');\n        doc.clientID = generateNewClientId();\n      }\n      // @todo Merge all the transactions into one and provide send the data as a single update message\n      doc.emit('afterTransactionCleanup', [transaction, doc]);\n      if (doc._observers.has('update')) {\n        const encoder = new UpdateEncoderV1();\n        const hasContent = writeUpdateMessageFromTransaction(encoder, transaction);\n        if (hasContent) {\n          doc.emit('update', [encoder.toUint8Array(), transaction.origin, doc, transaction]);\n        }\n      }\n      if (doc._observers.has('updateV2')) {\n        const encoder = new UpdateEncoderV2();\n        const hasContent = writeUpdateMessageFromTransaction(encoder, transaction);\n        if (hasContent) {\n          doc.emit('updateV2', [encoder.toUint8Array(), transaction.origin, doc, transaction]);\n        }\n      }\n      const { subdocsAdded, subdocsLoaded, subdocsRemoved } = transaction;\n      if (subdocsAdded.size > 0 || subdocsRemoved.size > 0 || subdocsLoaded.size > 0) {\n        subdocsAdded.forEach(subdoc => {\n          subdoc.clientID = doc.clientID;\n          if (subdoc.collectionid == null) {\n            subdoc.collectionid = doc.collectionid;\n          }\n          doc.subdocs.add(subdoc);\n        });\n        subdocsRemoved.forEach(subdoc => doc.subdocs.delete(subdoc));\n        doc.emit('subdocs', [{ loaded: subdocsLoaded, added: subdocsAdded, removed: subdocsRemoved }, doc, transaction]);\n        subdocsRemoved.forEach(subdoc => subdoc.destroy());\n      }\n\n      if (transactionCleanups.length <= i + 1) {\n        doc._transactionCleanups = [];\n        doc.emit('afterAllTransactions', [doc, transactionCleanups]);\n      } else {\n        cleanupTransactions(transactionCleanups, i + 1);\n      }\n    }\n  }\n};\n\n/**\n * Implements the functionality of `y.transact(()=>{..})`\n *\n * @template T\n * @param {Doc} doc\n * @param {function(Transaction):T} f\n * @param {any} [origin=true]\n * @return {T}\n *\n * @function\n */\nconst transact = (doc, f, origin = null, local = true) => {\n  const transactionCleanups = doc._transactionCleanups;\n  let initialCall = false;\n  /**\n   * @type {any}\n   */\n  let result = null;\n  if (doc._transaction === null) {\n    initialCall = true;\n    doc._transaction = new Transaction(doc, origin, local);\n    transactionCleanups.push(doc._transaction);\n    if (transactionCleanups.length === 1) {\n      doc.emit('beforeAllTransactions', [doc]);\n    }\n    doc.emit('beforeTransaction', [doc._transaction, doc]);\n  }\n  try {\n    result = f(doc._transaction);\n  } finally {\n    if (initialCall) {\n      const finishCleanup = doc._transaction === transactionCleanups[0];\n      doc._transaction = null;\n      if (finishCleanup) {\n        // The first transaction ended, now process observer calls.\n        // Observer call may create new transactions for which we need to call the observers and do cleanup.\n        // We don't want to nest these calls, so we execute these calls one after\n        // another.\n        // Also we need to ensure that all cleanups are called, even if the\n        // observes throw errors.\n        // This file is full of hacky try {} finally {} blocks to ensure that an\n        // event can throw errors and also that the cleanup is called.\n        cleanupTransactions(transactionCleanups, 0);\n      }\n    }\n  }\n  return result\n};\n\nclass StackItem {\n  /**\n   * @param {DeleteSet} deletions\n   * @param {DeleteSet} insertions\n   */\n  constructor (deletions, insertions) {\n    this.insertions = insertions;\n    this.deletions = deletions;\n    /**\n     * Use this to save and restore metadata like selection range\n     */\n    this.meta = new Map();\n  }\n}\n/**\n * @param {Transaction} tr\n * @param {UndoManager} um\n * @param {StackItem} stackItem\n */\nconst clearUndoManagerStackItem = (tr, um, stackItem) => {\n  iterateDeletedStructs(tr, stackItem.deletions, item => {\n    if (item instanceof Item && um.scope.some(type => type === tr.doc || isParentOf(/** @type {AbstractType<any>} */ (type), item))) {\n      keepItem(item, false);\n    }\n  });\n};\n\n/**\n * @param {UndoManager} undoManager\n * @param {Array<StackItem>} stack\n * @param {'undo'|'redo'} eventType\n * @return {StackItem?}\n */\nconst popStackItem = (undoManager, stack, eventType) => {\n  /**\n   * Keep a reference to the transaction so we can fire the event with the changedParentTypes\n   * @type {any}\n   */\n  let _tr = null;\n  const doc = undoManager.doc;\n  const scope = undoManager.scope;\n  transact(doc, transaction => {\n    while (stack.length > 0 && undoManager.currStackItem === null) {\n      const store = doc.store;\n      const stackItem = /** @type {StackItem} */ (stack.pop());\n      /**\n       * @type {Set<Item>}\n       */\n      const itemsToRedo = new Set();\n      /**\n       * @type {Array<Item>}\n       */\n      const itemsToDelete = [];\n      let performedChange = false;\n      iterateDeletedStructs(transaction, stackItem.insertions, struct => {\n        if (struct instanceof Item) {\n          if (struct.redone !== null) {\n            let { item, diff } = followRedone(store, struct.id);\n            if (diff > 0) {\n              item = getItemCleanStart(transaction, createID(item.id.client, item.id.clock + diff));\n            }\n            struct = item;\n          }\n          if (!struct.deleted && scope.some(type => type === transaction.doc || isParentOf(/** @type {AbstractType<any>} */ (type), /** @type {Item} */ (struct)))) {\n            itemsToDelete.push(struct);\n          }\n        }\n      });\n      iterateDeletedStructs(transaction, stackItem.deletions, struct => {\n        if (\n          struct instanceof Item &&\n          scope.some(type => type === transaction.doc || isParentOf(/** @type {AbstractType<any>} */ (type), struct)) &&\n          // Never redo structs in stackItem.insertions because they were created and deleted in the same capture interval.\n          !isDeleted(stackItem.insertions, struct.id)\n        ) {\n          itemsToRedo.add(struct);\n        }\n      });\n      itemsToRedo.forEach(struct => {\n        performedChange = redoItem(transaction, struct, itemsToRedo, stackItem.insertions, undoManager.ignoreRemoteMapChanges, undoManager) !== null || performedChange;\n      });\n      // We want to delete in reverse order so that children are deleted before\n      // parents, so we have more information available when items are filtered.\n      for (let i = itemsToDelete.length - 1; i >= 0; i--) {\n        const item = itemsToDelete[i];\n        if (undoManager.deleteFilter(item)) {\n          item.delete(transaction);\n          performedChange = true;\n        }\n      }\n      undoManager.currStackItem = performedChange ? stackItem : null;\n    }\n    transaction.changed.forEach((subProps, type) => {\n      // destroy search marker if necessary\n      if (subProps.has(null) && type._searchMarker) {\n        type._searchMarker.length = 0;\n      }\n    });\n    _tr = transaction;\n  }, undoManager);\n  const res = undoManager.currStackItem;\n  if (res != null) {\n    const changedParentTypes = _tr.changedParentTypes;\n    undoManager.emit('stack-item-popped', [{ stackItem: res, type: eventType, changedParentTypes, origin: undoManager }, undoManager]);\n    undoManager.currStackItem = null;\n  }\n  return res\n};\n\n/**\n * @typedef {Object} UndoManagerOptions\n * @property {number} [UndoManagerOptions.captureTimeout=500]\n * @property {function(Transaction):boolean} [UndoManagerOptions.captureTransaction] Do not capture changes of a Transaction if result false.\n * @property {function(Item):boolean} [UndoManagerOptions.deleteFilter=()=>true] Sometimes\n * it is necessary to filter what an Undo/Redo operation can delete. If this\n * filter returns false, the type/item won't be deleted even it is in the\n * undo/redo scope.\n * @property {Set<any>} [UndoManagerOptions.trackedOrigins=new Set([null])]\n * @property {boolean} [ignoreRemoteMapChanges] Experimental. By default, the UndoManager will never overwrite remote changes. Enable this property to enable overwriting remote changes on key-value changes (Y.Map, properties on Y.Xml, etc..).\n * @property {Doc} [doc] The document that this UndoManager operates on. Only needed if typeScope is empty.\n */\n\n/**\n * @typedef {Object} StackItemEvent\n * @property {StackItem} StackItemEvent.stackItem\n * @property {any} StackItemEvent.origin\n * @property {'undo'|'redo'} StackItemEvent.type\n * @property {Map<AbstractType<YEvent<any>>,Array<YEvent<any>>>} StackItemEvent.changedParentTypes\n */\n\n/**\n * Fires 'stack-item-added' event when a stack item was added to either the undo- or\n * the redo-stack. You may store additional stack information via the\n * metadata property on `event.stackItem.meta` (it is a `Map` of metadata properties).\n * Fires 'stack-item-popped' event when a stack item was popped from either the\n * undo- or the redo-stack. You may restore the saved stack information from `event.stackItem.meta`.\n *\n * @extends {ObservableV2<{'stack-item-added':function(StackItemEvent, UndoManager):void, 'stack-item-popped': function(StackItemEvent, UndoManager):void, 'stack-cleared': function({ undoStackCleared: boolean, redoStackCleared: boolean }):void, 'stack-item-updated': function(StackItemEvent, UndoManager):void }>}\n */\nclass UndoManager extends ObservableV2 {\n  /**\n   * @param {Doc|AbstractType<any>|Array<AbstractType<any>>} typeScope Limits the scope of the UndoManager. If this is set to a ydoc instance, all changes on that ydoc will be undone. If set to a specific type, only changes on that type or its children will be undone. Also accepts an array of types.\n   * @param {UndoManagerOptions} options\n   */\n  constructor (typeScope, {\n    captureTimeout = 500,\n    captureTransaction = _tr => true,\n    deleteFilter = () => true,\n    trackedOrigins = new Set([null]),\n    ignoreRemoteMapChanges = false,\n    doc = /** @type {Doc} */ (array.isArray(typeScope) ? typeScope[0].doc : typeScope instanceof Doc ? typeScope : typeScope.doc)\n  } = {}) {\n    super();\n    /**\n     * @type {Array<AbstractType<any> | Doc>}\n     */\n    this.scope = [];\n    this.doc = doc;\n    this.addToScope(typeScope);\n    this.deleteFilter = deleteFilter;\n    trackedOrigins.add(this);\n    this.trackedOrigins = trackedOrigins;\n    this.captureTransaction = captureTransaction;\n    /**\n     * @type {Array<StackItem>}\n     */\n    this.undoStack = [];\n    /**\n     * @type {Array<StackItem>}\n     */\n    this.redoStack = [];\n    /**\n     * Whether the client is currently undoing (calling UndoManager.undo)\n     *\n     * @type {boolean}\n     */\n    this.undoing = false;\n    this.redoing = false;\n    /**\n     * The currently popped stack item if UndoManager.undoing or UndoManager.redoing\n     *\n     * @type {StackItem|null}\n     */\n    this.currStackItem = null;\n    this.lastChange = 0;\n    this.ignoreRemoteMapChanges = ignoreRemoteMapChanges;\n    this.captureTimeout = captureTimeout;\n    /**\n     * @param {Transaction} transaction\n     */\n    this.afterTransactionHandler = transaction => {\n      // Only track certain transactions\n      if (\n        !this.captureTransaction(transaction) ||\n        !this.scope.some(type => transaction.changedParentTypes.has(/** @type {AbstractType<any>} */ (type)) || type === this.doc) ||\n        (!this.trackedOrigins.has(transaction.origin) && (!transaction.origin || !this.trackedOrigins.has(transaction.origin.constructor)))\n      ) {\n        return\n      }\n      const undoing = this.undoing;\n      const redoing = this.redoing;\n      const stack = undoing ? this.redoStack : this.undoStack;\n      if (undoing) {\n        this.stopCapturing(); // next undo should not be appended to last stack item\n      } else if (!redoing) {\n        // neither undoing nor redoing: delete redoStack\n        this.clear(false, true);\n      }\n      const insertions = new DeleteSet();\n      transaction.afterState.forEach((endClock, client) => {\n        const startClock = transaction.beforeState.get(client) || 0;\n        const len = endClock - startClock;\n        if (len > 0) {\n          addToDeleteSet(insertions, client, startClock, len);\n        }\n      });\n      const now = time.getUnixTime();\n      let didAdd = false;\n      if (this.lastChange > 0 && now - this.lastChange < this.captureTimeout && stack.length > 0 && !undoing && !redoing) {\n        // append change to last stack op\n        const lastOp = stack[stack.length - 1];\n        lastOp.deletions = mergeDeleteSets([lastOp.deletions, transaction.deleteSet]);\n        lastOp.insertions = mergeDeleteSets([lastOp.insertions, insertions]);\n      } else {\n        // create a new stack op\n        stack.push(new StackItem(transaction.deleteSet, insertions));\n        didAdd = true;\n      }\n      if (!undoing && !redoing) {\n        this.lastChange = now;\n      }\n      // make sure that deleted structs are not gc'd\n      iterateDeletedStructs(transaction, transaction.deleteSet, /** @param {Item|GC} item */ item => {\n        if (item instanceof Item && this.scope.some(type => type === transaction.doc || isParentOf(/** @type {AbstractType<any>} */ (type), item))) {\n          keepItem(item, true);\n        }\n      });\n      /**\n       * @type {[StackItemEvent, UndoManager]}\n       */\n      const changeEvent = [{ stackItem: stack[stack.length - 1], origin: transaction.origin, type: undoing ? 'redo' : 'undo', changedParentTypes: transaction.changedParentTypes }, this];\n      if (didAdd) {\n        this.emit('stack-item-added', changeEvent);\n      } else {\n        this.emit('stack-item-updated', changeEvent);\n      }\n    };\n    this.doc.on('afterTransaction', this.afterTransactionHandler);\n    this.doc.on('destroy', () => {\n      this.destroy();\n    });\n  }\n\n  /**\n   * Extend the scope.\n   *\n   * @param {Array<AbstractType<any> | Doc> | AbstractType<any> | Doc} ytypes\n   */\n  addToScope (ytypes) {\n    const tmpSet = new Set(this.scope);\n    ytypes = array.isArray(ytypes) ? ytypes : [ytypes];\n    ytypes.forEach(ytype => {\n      if (!tmpSet.has(ytype)) {\n        tmpSet.add(ytype);\n        if (ytype instanceof AbstractType ? ytype.doc !== this.doc : ytype !== this.doc) logging.warn('[yjs#509] Not same Y.Doc'); // use MultiDocUndoManager instead. also see https://github.com/yjs/yjs/issues/509\n        this.scope.push(ytype);\n      }\n    });\n  }\n\n  /**\n   * @param {any} origin\n   */\n  addTrackedOrigin (origin) {\n    this.trackedOrigins.add(origin);\n  }\n\n  /**\n   * @param {any} origin\n   */\n  removeTrackedOrigin (origin) {\n    this.trackedOrigins.delete(origin);\n  }\n\n  clear (clearUndoStack = true, clearRedoStack = true) {\n    if ((clearUndoStack && this.canUndo()) || (clearRedoStack && this.canRedo())) {\n      this.doc.transact(tr => {\n        if (clearUndoStack) {\n          this.undoStack.forEach(item => clearUndoManagerStackItem(tr, this, item));\n          this.undoStack = [];\n        }\n        if (clearRedoStack) {\n          this.redoStack.forEach(item => clearUndoManagerStackItem(tr, this, item));\n          this.redoStack = [];\n        }\n        this.emit('stack-cleared', [{ undoStackCleared: clearUndoStack, redoStackCleared: clearRedoStack }]);\n      });\n    }\n  }\n\n  /**\n   * UndoManager merges Undo-StackItem if they are created within time-gap\n   * smaller than `options.captureTimeout`. Call `um.stopCapturing()` so that the next\n   * StackItem won't be merged.\n   *\n   *\n   * @example\n   *     // without stopCapturing\n   *     ytext.insert(0, 'a')\n   *     ytext.insert(1, 'b')\n   *     um.undo()\n   *     ytext.toString() // => '' (note that 'ab' was removed)\n   *     // with stopCapturing\n   *     ytext.insert(0, 'a')\n   *     um.stopCapturing()\n   *     ytext.insert(0, 'b')\n   *     um.undo()\n   *     ytext.toString() // => 'a' (note that only 'b' was removed)\n   *\n   */\n  stopCapturing () {\n    this.lastChange = 0;\n  }\n\n  /**\n   * Undo last changes on type.\n   *\n   * @return {StackItem?} Returns StackItem if a change was applied\n   */\n  undo () {\n    this.undoing = true;\n    let res;\n    try {\n      res = popStackItem(this, this.undoStack, 'undo');\n    } finally {\n      this.undoing = false;\n    }\n    return res\n  }\n\n  /**\n   * Redo last undo operation.\n   *\n   * @return {StackItem?} Returns StackItem if a change was applied\n   */\n  redo () {\n    this.redoing = true;\n    let res;\n    try {\n      res = popStackItem(this, this.redoStack, 'redo');\n    } finally {\n      this.redoing = false;\n    }\n    return res\n  }\n\n  /**\n   * Are undo steps available?\n   *\n   * @return {boolean} `true` if undo is possible\n   */\n  canUndo () {\n    return this.undoStack.length > 0\n  }\n\n  /**\n   * Are redo steps available?\n   *\n   * @return {boolean} `true` if redo is possible\n   */\n  canRedo () {\n    return this.redoStack.length > 0\n  }\n\n  destroy () {\n    this.trackedOrigins.delete(this);\n    this.doc.off('afterTransaction', this.afterTransactionHandler);\n    super.destroy();\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n */\nfunction * lazyStructReaderGenerator (decoder) {\n  const numOfStateUpdates = decoding.readVarUint(decoder.restDecoder);\n  for (let i = 0; i < numOfStateUpdates; i++) {\n    const numberOfStructs = decoding.readVarUint(decoder.restDecoder);\n    const client = decoder.readClient();\n    let clock = decoding.readVarUint(decoder.restDecoder);\n    for (let i = 0; i < numberOfStructs; i++) {\n      const info = decoder.readInfo();\n      // @todo use switch instead of ifs\n      if (info === 10) {\n        const len = decoding.readVarUint(decoder.restDecoder);\n        yield new Skip(createID(client, clock), len);\n        clock += len;\n      } else if ((binary.BITS5 & info) !== 0) {\n        const cantCopyParentInfo = (info & (binary.BIT7 | binary.BIT8)) === 0;\n        // If parent = null and neither left nor right are defined, then we know that `parent` is child of `y`\n        // and we read the next string as parentYKey.\n        // It indicates how we store/retrieve parent from `y.share`\n        // @type {string|null}\n        const struct = new Item(\n          createID(client, clock),\n          null, // left\n          (info & binary.BIT8) === binary.BIT8 ? decoder.readLeftID() : null, // origin\n          null, // right\n          (info & binary.BIT7) === binary.BIT7 ? decoder.readRightID() : null, // right origin\n          // @ts-ignore Force writing a string here.\n          cantCopyParentInfo ? (decoder.readParentInfo() ? decoder.readString() : decoder.readLeftID()) : null, // parent\n          cantCopyParentInfo && (info & binary.BIT6) === binary.BIT6 ? decoder.readString() : null, // parentSub\n          readItemContent(decoder, info) // item content\n        );\n        yield struct;\n        clock += struct.length;\n      } else {\n        const len = decoder.readLen();\n        yield new GC(createID(client, clock), len);\n        clock += len;\n      }\n    }\n  }\n}\n\nclass LazyStructReader {\n  /**\n   * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n   * @param {boolean} filterSkips\n   */\n  constructor (decoder, filterSkips) {\n    this.gen = lazyStructReaderGenerator(decoder);\n    /**\n     * @type {null | Item | Skip | GC}\n     */\n    this.curr = null;\n    this.done = false;\n    this.filterSkips = filterSkips;\n    this.next();\n  }\n\n  /**\n   * @return {Item | GC | Skip |null}\n   */\n  next () {\n    // ignore \"Skip\" structs\n    do {\n      this.curr = this.gen.next().value || null;\n    } while (this.filterSkips && this.curr !== null && this.curr.constructor === Skip)\n    return this.curr\n  }\n}\n\n/**\n * @param {Uint8Array} update\n *\n */\nconst logUpdate = update => logUpdateV2(update, UpdateDecoderV1);\n\n/**\n * @param {Uint8Array} update\n * @param {typeof UpdateDecoderV2 | typeof UpdateDecoderV1} [YDecoder]\n *\n */\nconst logUpdateV2 = (update, YDecoder = UpdateDecoderV2) => {\n  const structs = [];\n  const updateDecoder = new YDecoder(decoding.createDecoder(update));\n  const lazyDecoder = new LazyStructReader(updateDecoder, false);\n  for (let curr = lazyDecoder.curr; curr !== null; curr = lazyDecoder.next()) {\n    structs.push(curr);\n  }\n  logging.print('Structs: ', structs);\n  const ds = readDeleteSet(updateDecoder);\n  logging.print('DeleteSet: ', ds);\n};\n\n/**\n * @param {Uint8Array} update\n *\n */\nconst decodeUpdate = (update) => decodeUpdateV2(update, UpdateDecoderV1);\n\n/**\n * @param {Uint8Array} update\n * @param {typeof UpdateDecoderV2 | typeof UpdateDecoderV1} [YDecoder]\n *\n */\nconst decodeUpdateV2 = (update, YDecoder = UpdateDecoderV2) => {\n  const structs = [];\n  const updateDecoder = new YDecoder(decoding.createDecoder(update));\n  const lazyDecoder = new LazyStructReader(updateDecoder, false);\n  for (let curr = lazyDecoder.curr; curr !== null; curr = lazyDecoder.next()) {\n    structs.push(curr);\n  }\n  return {\n    structs,\n    ds: readDeleteSet(updateDecoder)\n  }\n};\n\nclass LazyStructWriter {\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  constructor (encoder) {\n    this.currClient = 0;\n    this.startClock = 0;\n    this.written = 0;\n    this.encoder = encoder;\n    /**\n     * We want to write operations lazily, but also we need to know beforehand how many operations we want to write for each client.\n     *\n     * This kind of meta-information (#clients, #structs-per-client-written) is written to the restEncoder.\n     *\n     * We fragment the restEncoder and store a slice of it per-client until we know how many clients there are.\n     * When we flush (toUint8Array) we write the restEncoder using the fragments and the meta-information.\n     *\n     * @type {Array<{ written: number, restEncoder: Uint8Array }>}\n     */\n    this.clientStructs = [];\n  }\n}\n\n/**\n * @param {Array<Uint8Array>} updates\n * @return {Uint8Array}\n */\nconst mergeUpdates = updates => mergeUpdatesV2(updates, UpdateDecoderV1, UpdateEncoderV1);\n\n/**\n * @param {Uint8Array} update\n * @param {typeof DSEncoderV1 | typeof DSEncoderV2} YEncoder\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} YDecoder\n * @return {Uint8Array}\n */\nconst encodeStateVectorFromUpdateV2 = (update, YEncoder = DSEncoderV2, YDecoder = UpdateDecoderV2) => {\n  const encoder = new YEncoder();\n  const updateDecoder = new LazyStructReader(new YDecoder(decoding.createDecoder(update)), false);\n  let curr = updateDecoder.curr;\n  if (curr !== null) {\n    let size = 0;\n    let currClient = curr.id.client;\n    let stopCounting = curr.id.clock !== 0; // must start at 0\n    let currClock = stopCounting ? 0 : curr.id.clock + curr.length;\n    for (; curr !== null; curr = updateDecoder.next()) {\n      if (currClient !== curr.id.client) {\n        if (currClock !== 0) {\n          size++;\n          // We found a new client\n          // write what we have to the encoder\n          encoding.writeVarUint(encoder.restEncoder, currClient);\n          encoding.writeVarUint(encoder.restEncoder, currClock);\n        }\n        currClient = curr.id.client;\n        currClock = 0;\n        stopCounting = curr.id.clock !== 0;\n      }\n      // we ignore skips\n      if (curr.constructor === Skip) {\n        stopCounting = true;\n      }\n      if (!stopCounting) {\n        currClock = curr.id.clock + curr.length;\n      }\n    }\n    // write what we have\n    if (currClock !== 0) {\n      size++;\n      encoding.writeVarUint(encoder.restEncoder, currClient);\n      encoding.writeVarUint(encoder.restEncoder, currClock);\n    }\n    // prepend the size of the state vector\n    const enc = encoding.createEncoder();\n    encoding.writeVarUint(enc, size);\n    encoding.writeBinaryEncoder(enc, encoder.restEncoder);\n    encoder.restEncoder = enc;\n    return encoder.toUint8Array()\n  } else {\n    encoding.writeVarUint(encoder.restEncoder, 0);\n    return encoder.toUint8Array()\n  }\n};\n\n/**\n * @param {Uint8Array} update\n * @return {Uint8Array}\n */\nconst encodeStateVectorFromUpdate = update => encodeStateVectorFromUpdateV2(update, DSEncoderV1, UpdateDecoderV1);\n\n/**\n * @param {Uint8Array} update\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} YDecoder\n * @return {{ from: Map<number,number>, to: Map<number,number> }}\n */\nconst parseUpdateMetaV2 = (update, YDecoder = UpdateDecoderV2) => {\n  /**\n   * @type {Map<number, number>}\n   */\n  const from = new Map();\n  /**\n   * @type {Map<number, number>}\n   */\n  const to = new Map();\n  const updateDecoder = new LazyStructReader(new YDecoder(decoding.createDecoder(update)), false);\n  let curr = updateDecoder.curr;\n  if (curr !== null) {\n    let currClient = curr.id.client;\n    let currClock = curr.id.clock;\n    // write the beginning to `from`\n    from.set(currClient, currClock);\n    for (; curr !== null; curr = updateDecoder.next()) {\n      if (currClient !== curr.id.client) {\n        // We found a new client\n        // write the end to `to`\n        to.set(currClient, currClock);\n        // write the beginning to `from`\n        from.set(curr.id.client, curr.id.clock);\n        // update currClient\n        currClient = curr.id.client;\n      }\n      currClock = curr.id.clock + curr.length;\n    }\n    // write the end to `to`\n    to.set(currClient, currClock);\n  }\n  return { from, to }\n};\n\n/**\n * @param {Uint8Array} update\n * @return {{ from: Map<number,number>, to: Map<number,number> }}\n */\nconst parseUpdateMeta = update => parseUpdateMetaV2(update, UpdateDecoderV1);\n\n/**\n * This method is intended to slice any kind of struct and retrieve the right part.\n * It does not handle side-effects, so it should only be used by the lazy-encoder.\n *\n * @param {Item | GC | Skip} left\n * @param {number} diff\n * @return {Item | GC}\n */\nconst sliceStruct = (left, diff) => {\n  if (left.constructor === GC) {\n    const { client, clock } = left.id;\n    return new GC(createID(client, clock + diff), left.length - diff)\n  } else if (left.constructor === Skip) {\n    const { client, clock } = left.id;\n    return new Skip(createID(client, clock + diff), left.length - diff)\n  } else {\n    const leftItem = /** @type {Item} */ (left);\n    const { client, clock } = leftItem.id;\n    return new Item(\n      createID(client, clock + diff),\n      null,\n      createID(client, clock + diff - 1),\n      null,\n      leftItem.rightOrigin,\n      leftItem.parent,\n      leftItem.parentSub,\n      leftItem.content.splice(diff)\n    )\n  }\n};\n\n/**\n *\n * This function works similarly to `readUpdateV2`.\n *\n * @param {Array<Uint8Array>} updates\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} [YDecoder]\n * @param {typeof UpdateEncoderV1 | typeof UpdateEncoderV2} [YEncoder]\n * @return {Uint8Array}\n */\nconst mergeUpdatesV2 = (updates, YDecoder = UpdateDecoderV2, YEncoder = UpdateEncoderV2) => {\n  if (updates.length === 1) {\n    return updates[0]\n  }\n  const updateDecoders = updates.map(update => new YDecoder(decoding.createDecoder(update)));\n  let lazyStructDecoders = updateDecoders.map(decoder => new LazyStructReader(decoder, true));\n\n  /**\n   * @todo we don't need offset because we always slice before\n   * @type {null | { struct: Item | GC | Skip, offset: number }}\n   */\n  let currWrite = null;\n\n  const updateEncoder = new YEncoder();\n  // write structs lazily\n  const lazyStructEncoder = new LazyStructWriter(updateEncoder);\n\n  // Note: We need to ensure that all lazyStructDecoders are fully consumed\n  // Note: Should merge document updates whenever possible - even from different updates\n  // Note: Should handle that some operations cannot be applied yet ()\n\n  while (true) {\n    // Write higher clients first ⇒ sort by clientID & clock and remove decoders without content\n    lazyStructDecoders = lazyStructDecoders.filter(dec => dec.curr !== null);\n    lazyStructDecoders.sort(\n      /** @type {function(any,any):number} */ (dec1, dec2) => {\n        if (dec1.curr.id.client === dec2.curr.id.client) {\n          const clockDiff = dec1.curr.id.clock - dec2.curr.id.clock;\n          if (clockDiff === 0) {\n            // @todo remove references to skip since the structDecoders must filter Skips.\n            return dec1.curr.constructor === dec2.curr.constructor\n              ? 0\n              : dec1.curr.constructor === Skip ? 1 : -1 // we are filtering skips anyway.\n          } else {\n            return clockDiff\n          }\n        } else {\n          return dec2.curr.id.client - dec1.curr.id.client\n        }\n      }\n    );\n    if (lazyStructDecoders.length === 0) {\n      break\n    }\n    const currDecoder = lazyStructDecoders[0];\n    // write from currDecoder until the next operation is from another client or if filler-struct\n    // then we need to reorder the decoders and find the next operation to write\n    const firstClient = /** @type {Item | GC} */ (currDecoder.curr).id.client;\n\n    if (currWrite !== null) {\n      let curr = /** @type {Item | GC | null} */ (currDecoder.curr);\n      let iterated = false;\n\n      // iterate until we find something that we haven't written already\n      // remember: first the high client-ids are written\n      while (curr !== null && curr.id.clock + curr.length <= currWrite.struct.id.clock + currWrite.struct.length && curr.id.client >= currWrite.struct.id.client) {\n        curr = currDecoder.next();\n        iterated = true;\n      }\n      if (\n        curr === null || // current decoder is empty\n        curr.id.client !== firstClient || // check whether there is another decoder that has has updates from `firstClient`\n        (iterated && curr.id.clock > currWrite.struct.id.clock + currWrite.struct.length) // the above while loop was used and we are potentially missing updates\n      ) {\n        continue\n      }\n\n      if (firstClient !== currWrite.struct.id.client) {\n        writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset);\n        currWrite = { struct: curr, offset: 0 };\n        currDecoder.next();\n      } else {\n        if (currWrite.struct.id.clock + currWrite.struct.length < curr.id.clock) {\n          // @todo write currStruct & set currStruct = Skip(clock = currStruct.id.clock + currStruct.length, length = curr.id.clock - self.clock)\n          if (currWrite.struct.constructor === Skip) {\n            // extend existing skip\n            currWrite.struct.length = curr.id.clock + curr.length - currWrite.struct.id.clock;\n          } else {\n            writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset);\n            const diff = curr.id.clock - currWrite.struct.id.clock - currWrite.struct.length;\n            /**\n             * @type {Skip}\n             */\n            const struct = new Skip(createID(firstClient, currWrite.struct.id.clock + currWrite.struct.length), diff);\n            currWrite = { struct, offset: 0 };\n          }\n        } else { // if (currWrite.struct.id.clock + currWrite.struct.length >= curr.id.clock) {\n          const diff = currWrite.struct.id.clock + currWrite.struct.length - curr.id.clock;\n          if (diff > 0) {\n            if (currWrite.struct.constructor === Skip) {\n              // prefer to slice Skip because the other struct might contain more information\n              currWrite.struct.length -= diff;\n            } else {\n              curr = sliceStruct(curr, diff);\n            }\n          }\n          if (!currWrite.struct.mergeWith(/** @type {any} */ (curr))) {\n            writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset);\n            currWrite = { struct: curr, offset: 0 };\n            currDecoder.next();\n          }\n        }\n      }\n    } else {\n      currWrite = { struct: /** @type {Item | GC} */ (currDecoder.curr), offset: 0 };\n      currDecoder.next();\n    }\n    for (\n      let next = currDecoder.curr;\n      next !== null && next.id.client === firstClient && next.id.clock === currWrite.struct.id.clock + currWrite.struct.length && next.constructor !== Skip;\n      next = currDecoder.next()\n    ) {\n      writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset);\n      currWrite = { struct: next, offset: 0 };\n    }\n  }\n  if (currWrite !== null) {\n    writeStructToLazyStructWriter(lazyStructEncoder, currWrite.struct, currWrite.offset);\n    currWrite = null;\n  }\n  finishLazyStructWriting(lazyStructEncoder);\n\n  const dss = updateDecoders.map(decoder => readDeleteSet(decoder));\n  const ds = mergeDeleteSets(dss);\n  writeDeleteSet(updateEncoder, ds);\n  return updateEncoder.toUint8Array()\n};\n\n/**\n * @param {Uint8Array} update\n * @param {Uint8Array} sv\n * @param {typeof UpdateDecoderV1 | typeof UpdateDecoderV2} [YDecoder]\n * @param {typeof UpdateEncoderV1 | typeof UpdateEncoderV2} [YEncoder]\n */\nconst diffUpdateV2 = (update, sv, YDecoder = UpdateDecoderV2, YEncoder = UpdateEncoderV2) => {\n  const state = decodeStateVector(sv);\n  const encoder = new YEncoder();\n  const lazyStructWriter = new LazyStructWriter(encoder);\n  const decoder = new YDecoder(decoding.createDecoder(update));\n  const reader = new LazyStructReader(decoder, false);\n  while (reader.curr) {\n    const curr = reader.curr;\n    const currClient = curr.id.client;\n    const svClock = state.get(currClient) || 0;\n    if (reader.curr.constructor === Skip) {\n      // the first written struct shouldn't be a skip\n      reader.next();\n      continue\n    }\n    if (curr.id.clock + curr.length > svClock) {\n      writeStructToLazyStructWriter(lazyStructWriter, curr, math.max(svClock - curr.id.clock, 0));\n      reader.next();\n      while (reader.curr && reader.curr.id.client === currClient) {\n        writeStructToLazyStructWriter(lazyStructWriter, reader.curr, 0);\n        reader.next();\n      }\n    } else {\n      // read until something new comes up\n      while (reader.curr && reader.curr.id.client === currClient && reader.curr.id.clock + reader.curr.length <= svClock) {\n        reader.next();\n      }\n    }\n  }\n  finishLazyStructWriting(lazyStructWriter);\n  // write ds\n  const ds = readDeleteSet(decoder);\n  writeDeleteSet(encoder, ds);\n  return encoder.toUint8Array()\n};\n\n/**\n * @param {Uint8Array} update\n * @param {Uint8Array} sv\n */\nconst diffUpdate = (update, sv) => diffUpdateV2(update, sv, UpdateDecoderV1, UpdateEncoderV1);\n\n/**\n * @param {LazyStructWriter} lazyWriter\n */\nconst flushLazyStructWriter = lazyWriter => {\n  if (lazyWriter.written > 0) {\n    lazyWriter.clientStructs.push({ written: lazyWriter.written, restEncoder: encoding.toUint8Array(lazyWriter.encoder.restEncoder) });\n    lazyWriter.encoder.restEncoder = encoding.createEncoder();\n    lazyWriter.written = 0;\n  }\n};\n\n/**\n * @param {LazyStructWriter} lazyWriter\n * @param {Item | GC} struct\n * @param {number} offset\n */\nconst writeStructToLazyStructWriter = (lazyWriter, struct, offset) => {\n  // flush curr if we start another client\n  if (lazyWriter.written > 0 && lazyWriter.currClient !== struct.id.client) {\n    flushLazyStructWriter(lazyWriter);\n  }\n  if (lazyWriter.written === 0) {\n    lazyWriter.currClient = struct.id.client;\n    // write next client\n    lazyWriter.encoder.writeClient(struct.id.client);\n    // write startClock\n    encoding.writeVarUint(lazyWriter.encoder.restEncoder, struct.id.clock + offset);\n  }\n  struct.write(lazyWriter.encoder, offset);\n  lazyWriter.written++;\n};\n/**\n * Call this function when we collected all parts and want to\n * put all the parts together. After calling this method,\n * you can continue using the UpdateEncoder.\n *\n * @param {LazyStructWriter} lazyWriter\n */\nconst finishLazyStructWriting = (lazyWriter) => {\n  flushLazyStructWriter(lazyWriter);\n\n  // this is a fresh encoder because we called flushCurr\n  const restEncoder = lazyWriter.encoder.restEncoder;\n\n  /**\n   * Now we put all the fragments together.\n   * This works similarly to `writeClientsStructs`\n   */\n\n  // write # states that were updated - i.e. the clients\n  encoding.writeVarUint(restEncoder, lazyWriter.clientStructs.length);\n\n  for (let i = 0; i < lazyWriter.clientStructs.length; i++) {\n    const partStructs = lazyWriter.clientStructs[i];\n    /**\n     * Works similarly to `writeStructs`\n     */\n    // write # encoded structs\n    encoding.writeVarUint(restEncoder, partStructs.written);\n    // write the rest of the fragment\n    encoding.writeUint8Array(restEncoder, partStructs.restEncoder);\n  }\n};\n\n/**\n * @param {Uint8Array} update\n * @param {function(Item|GC|Skip):Item|GC|Skip} blockTransformer\n * @param {typeof UpdateDecoderV2 | typeof UpdateDecoderV1} YDecoder\n * @param {typeof UpdateEncoderV2 | typeof UpdateEncoderV1 } YEncoder\n */\nconst convertUpdateFormat = (update, blockTransformer, YDecoder, YEncoder) => {\n  const updateDecoder = new YDecoder(decoding.createDecoder(update));\n  const lazyDecoder = new LazyStructReader(updateDecoder, false);\n  const updateEncoder = new YEncoder();\n  const lazyWriter = new LazyStructWriter(updateEncoder);\n  for (let curr = lazyDecoder.curr; curr !== null; curr = lazyDecoder.next()) {\n    writeStructToLazyStructWriter(lazyWriter, blockTransformer(curr), 0);\n  }\n  finishLazyStructWriting(lazyWriter);\n  const ds = readDeleteSet(updateDecoder);\n  writeDeleteSet(updateEncoder, ds);\n  return updateEncoder.toUint8Array()\n};\n\n/**\n * @typedef {Object} ObfuscatorOptions\n * @property {boolean} [ObfuscatorOptions.formatting=true]\n * @property {boolean} [ObfuscatorOptions.subdocs=true]\n * @property {boolean} [ObfuscatorOptions.yxml=true] Whether to obfuscate nodeName / hookName\n */\n\n/**\n * @param {ObfuscatorOptions} obfuscator\n */\nconst createObfuscator = ({ formatting = true, subdocs = true, yxml = true } = {}) => {\n  let i = 0;\n  const mapKeyCache = map.create();\n  const nodeNameCache = map.create();\n  const formattingKeyCache = map.create();\n  const formattingValueCache = map.create();\n  formattingValueCache.set(null, null); // end of a formatting range should always be the end of a formatting range\n  /**\n   * @param {Item|GC|Skip} block\n   * @return {Item|GC|Skip}\n   */\n  return block => {\n    switch (block.constructor) {\n      case GC:\n      case Skip:\n        return block\n      case Item: {\n        const item = /** @type {Item} */ (block);\n        const content = item.content;\n        switch (content.constructor) {\n          case ContentDeleted:\n            break\n          case ContentType: {\n            if (yxml) {\n              const type = /** @type {ContentType} */ (content).type;\n              if (type instanceof YXmlElement) {\n                type.nodeName = map.setIfUndefined(nodeNameCache, type.nodeName, () => 'node-' + i);\n              }\n              if (type instanceof YXmlHook) {\n                type.hookName = map.setIfUndefined(nodeNameCache, type.hookName, () => 'hook-' + i);\n              }\n            }\n            break\n          }\n          case ContentAny: {\n            const c = /** @type {ContentAny} */ (content);\n            c.arr = c.arr.map(() => i);\n            break\n          }\n          case ContentBinary: {\n            const c = /** @type {ContentBinary} */ (content);\n            c.content = new Uint8Array([i]);\n            break\n          }\n          case ContentDoc: {\n            const c = /** @type {ContentDoc} */ (content);\n            if (subdocs) {\n              c.opts = {};\n              c.doc.guid = i + '';\n            }\n            break\n          }\n          case ContentEmbed: {\n            const c = /** @type {ContentEmbed} */ (content);\n            c.embed = {};\n            break\n          }\n          case ContentFormat: {\n            const c = /** @type {ContentFormat} */ (content);\n            if (formatting) {\n              c.key = map.setIfUndefined(formattingKeyCache, c.key, () => i + '');\n              c.value = map.setIfUndefined(formattingValueCache, c.value, () => ({ i }));\n            }\n            break\n          }\n          case ContentJSON: {\n            const c = /** @type {ContentJSON} */ (content);\n            c.arr = c.arr.map(() => i);\n            break\n          }\n          case ContentString: {\n            const c = /** @type {ContentString} */ (content);\n            c.str = string.repeat((i % 10) + '', c.str.length);\n            break\n          }\n          default:\n            // unknown content type\n            error.unexpectedCase();\n        }\n        if (item.parentSub) {\n          item.parentSub = map.setIfUndefined(mapKeyCache, item.parentSub, () => i + '');\n        }\n        i++;\n        return block\n      }\n      default:\n        // unknown block-type\n        error.unexpectedCase();\n    }\n  }\n};\n\n/**\n * This function obfuscates the content of a Yjs update. This is useful to share\n * buggy Yjs documents while significantly limiting the possibility that a\n * developer can on the user. Note that it might still be possible to deduce\n * some information by analyzing the \"structure\" of the document or by analyzing\n * the typing behavior using the CRDT-related metadata that is still kept fully\n * intact.\n *\n * @param {Uint8Array} update\n * @param {ObfuscatorOptions} [opts]\n */\nconst obfuscateUpdate = (update, opts) => convertUpdateFormat(update, createObfuscator(opts), UpdateDecoderV1, UpdateEncoderV1);\n\n/**\n * @param {Uint8Array} update\n * @param {ObfuscatorOptions} [opts]\n */\nconst obfuscateUpdateV2 = (update, opts) => convertUpdateFormat(update, createObfuscator(opts), UpdateDecoderV2, UpdateEncoderV2);\n\n/**\n * @param {Uint8Array} update\n */\nconst convertUpdateFormatV1ToV2 = update => convertUpdateFormat(update, f.id, UpdateDecoderV1, UpdateEncoderV2);\n\n/**\n * @param {Uint8Array} update\n */\nconst convertUpdateFormatV2ToV1 = update => convertUpdateFormat(update, f.id, UpdateDecoderV2, UpdateEncoderV1);\n\nconst errorComputeChanges = 'You must not compute changes after the event-handler fired.';\n\n/**\n * @template {AbstractType<any>} T\n * YEvent describes the changes on a YType.\n */\nclass YEvent {\n  /**\n   * @param {T} target The changed type.\n   * @param {Transaction} transaction\n   */\n  constructor (target, transaction) {\n    /**\n     * The type on which this event was created on.\n     * @type {T}\n     */\n    this.target = target;\n    /**\n     * The current target on which the observe callback is called.\n     * @type {AbstractType<any>}\n     */\n    this.currentTarget = target;\n    /**\n     * The transaction that triggered this event.\n     * @type {Transaction}\n     */\n    this.transaction = transaction;\n    /**\n     * @type {Object|null}\n     */\n    this._changes = null;\n    /**\n     * @type {null | Map<string, { action: 'add' | 'update' | 'delete', oldValue: any, newValue: any }>}\n     */\n    this._keys = null;\n    /**\n     * @type {null | Array<{ insert?: string | Array<any> | object | AbstractType<any>, retain?: number, delete?: number, attributes?: Object<string, any> }>}\n     */\n    this._delta = null;\n    /**\n     * @type {Array<string|number>|null}\n     */\n    this._path = null;\n  }\n\n  /**\n   * Computes the path from `y` to the changed type.\n   *\n   * @todo v14 should standardize on path: Array<{parent, index}> because that is easier to work with.\n   *\n   * The following property holds:\n   * @example\n   *   let type = y\n   *   event.path.forEach(dir => {\n   *     type = type.get(dir)\n   *   })\n   *   type === event.target // => true\n   */\n  get path () {\n    return this._path || (this._path = getPathTo(this.currentTarget, this.target))\n  }\n\n  /**\n   * Check if a struct is deleted by this event.\n   *\n   * In contrast to change.deleted, this method also returns true if the struct was added and then deleted.\n   *\n   * @param {AbstractStruct} struct\n   * @return {boolean}\n   */\n  deletes (struct) {\n    return isDeleted(this.transaction.deleteSet, struct.id)\n  }\n\n  /**\n   * @type {Map<string, { action: 'add' | 'update' | 'delete', oldValue: any, newValue: any }>}\n   */\n  get keys () {\n    if (this._keys === null) {\n      if (this.transaction.doc._transactionCleanups.length === 0) {\n        throw error.create(errorComputeChanges)\n      }\n      const keys = new Map();\n      const target = this.target;\n      const changed = /** @type Set<string|null> */ (this.transaction.changed.get(target));\n      changed.forEach(key => {\n        if (key !== null) {\n          const item = /** @type {Item} */ (target._map.get(key));\n          /**\n           * @type {'delete' | 'add' | 'update'}\n           */\n          let action;\n          let oldValue;\n          if (this.adds(item)) {\n            let prev = item.left;\n            while (prev !== null && this.adds(prev)) {\n              prev = prev.left;\n            }\n            if (this.deletes(item)) {\n              if (prev !== null && this.deletes(prev)) {\n                action = 'delete';\n                oldValue = array.last(prev.content.getContent());\n              } else {\n                return\n              }\n            } else {\n              if (prev !== null && this.deletes(prev)) {\n                action = 'update';\n                oldValue = array.last(prev.content.getContent());\n              } else {\n                action = 'add';\n                oldValue = undefined;\n              }\n            }\n          } else {\n            if (this.deletes(item)) {\n              action = 'delete';\n              oldValue = array.last(/** @type {Item} */ item.content.getContent());\n            } else {\n              return // nop\n            }\n          }\n          keys.set(key, { action, oldValue });\n        }\n      });\n      this._keys = keys;\n    }\n    return this._keys\n  }\n\n  /**\n   * This is a computed property. Note that this can only be safely computed during the\n   * event call. Computing this property after other changes happened might result in\n   * unexpected behavior (incorrect computation of deltas). A safe way to collect changes\n   * is to store the `changes` or the `delta` object. Avoid storing the `transaction` object.\n   *\n   * @type {Array<{insert?: string | Array<any> | object | AbstractType<any>, retain?: number, delete?: number, attributes?: Object<string, any>}>}\n   */\n  get delta () {\n    return this.changes.delta\n  }\n\n  /**\n   * Check if a struct is added by this event.\n   *\n   * In contrast to change.deleted, this method also returns true if the struct was added and then deleted.\n   *\n   * @param {AbstractStruct} struct\n   * @return {boolean}\n   */\n  adds (struct) {\n    return struct.id.clock >= (this.transaction.beforeState.get(struct.id.client) || 0)\n  }\n\n  /**\n   * This is a computed property. Note that this can only be safely computed during the\n   * event call. Computing this property after other changes happened might result in\n   * unexpected behavior (incorrect computation of deltas). A safe way to collect changes\n   * is to store the `changes` or the `delta` object. Avoid storing the `transaction` object.\n   *\n   * @type {{added:Set<Item>,deleted:Set<Item>,keys:Map<string,{action:'add'|'update'|'delete',oldValue:any}>,delta:Array<{insert?:Array<any>|string, delete?:number, retain?:number}>}}\n   */\n  get changes () {\n    let changes = this._changes;\n    if (changes === null) {\n      if (this.transaction.doc._transactionCleanups.length === 0) {\n        throw error.create(errorComputeChanges)\n      }\n      const target = this.target;\n      const added = set.create();\n      const deleted = set.create();\n      /**\n       * @type {Array<{insert:Array<any>}|{delete:number}|{retain:number}>}\n       */\n      const delta = [];\n      changes = {\n        added,\n        deleted,\n        delta,\n        keys: this.keys\n      };\n      const changed = /** @type Set<string|null> */ (this.transaction.changed.get(target));\n      if (changed.has(null)) {\n        /**\n         * @type {any}\n         */\n        let lastOp = null;\n        const packOp = () => {\n          if (lastOp) {\n            delta.push(lastOp);\n          }\n        };\n        for (let item = target._start; item !== null; item = item.right) {\n          if (item.deleted) {\n            if (this.deletes(item) && !this.adds(item)) {\n              if (lastOp === null || lastOp.delete === undefined) {\n                packOp();\n                lastOp = { delete: 0 };\n              }\n              lastOp.delete += item.length;\n              deleted.add(item);\n            } // else nop\n          } else {\n            if (this.adds(item)) {\n              if (lastOp === null || lastOp.insert === undefined) {\n                packOp();\n                lastOp = { insert: [] };\n              }\n              lastOp.insert = lastOp.insert.concat(item.content.getContent());\n              added.add(item);\n            } else {\n              if (lastOp === null || lastOp.retain === undefined) {\n                packOp();\n                lastOp = { retain: 0 };\n              }\n              lastOp.retain += item.length;\n            }\n          }\n        }\n        if (lastOp !== null && lastOp.retain === undefined) {\n          packOp();\n        }\n      }\n      this._changes = changes;\n    }\n    return /** @type {any} */ (changes)\n  }\n}\n\n/**\n * Compute the path from this type to the specified target.\n *\n * @example\n *   // `child` should be accessible via `type.get(path[0]).get(path[1])..`\n *   const path = type.getPathTo(child)\n *   // assuming `type instanceof YArray`\n *   console.log(path) // might look like => [2, 'key1']\n *   child === type.get(path[0]).get(path[1])\n *\n * @param {AbstractType<any>} parent\n * @param {AbstractType<any>} child target\n * @return {Array<string|number>} Path to the target\n *\n * @private\n * @function\n */\nconst getPathTo = (parent, child) => {\n  const path = [];\n  while (child._item !== null && child !== parent) {\n    if (child._item.parentSub !== null) {\n      // parent is map-ish\n      path.unshift(child._item.parentSub);\n    } else {\n      // parent is array-ish\n      let i = 0;\n      let c = /** @type {AbstractType<any>} */ (child._item.parent)._start;\n      while (c !== child._item && c !== null) {\n        if (!c.deleted && c.countable) {\n          i += c.length;\n        }\n        c = c.right;\n      }\n      path.unshift(i);\n    }\n    child = /** @type {AbstractType<any>} */ (child._item.parent);\n  }\n  return path\n};\n\n/**\n * https://docs.yjs.dev/getting-started/working-with-shared-types#caveats\n */\nconst warnPrematureAccess = () => { logging.warn('Invalid access: Add Yjs type to a document before reading data.'); };\n\nconst maxSearchMarker = 80;\n\n/**\n * A unique timestamp that identifies each marker.\n *\n * Time is relative,.. this is more like an ever-increasing clock.\n *\n * @type {number}\n */\nlet globalSearchMarkerTimestamp = 0;\n\nclass ArraySearchMarker {\n  /**\n   * @param {Item} p\n   * @param {number} index\n   */\n  constructor (p, index) {\n    p.marker = true;\n    this.p = p;\n    this.index = index;\n    this.timestamp = globalSearchMarkerTimestamp++;\n  }\n}\n\n/**\n * @param {ArraySearchMarker} marker\n */\nconst refreshMarkerTimestamp = marker => { marker.timestamp = globalSearchMarkerTimestamp++; };\n\n/**\n * This is rather complex so this function is the only thing that should overwrite a marker\n *\n * @param {ArraySearchMarker} marker\n * @param {Item} p\n * @param {number} index\n */\nconst overwriteMarker = (marker, p, index) => {\n  marker.p.marker = false;\n  marker.p = p;\n  p.marker = true;\n  marker.index = index;\n  marker.timestamp = globalSearchMarkerTimestamp++;\n};\n\n/**\n * @param {Array<ArraySearchMarker>} searchMarker\n * @param {Item} p\n * @param {number} index\n */\nconst markPosition = (searchMarker, p, index) => {\n  if (searchMarker.length >= maxSearchMarker) {\n    // override oldest marker (we don't want to create more objects)\n    const marker = searchMarker.reduce((a, b) => a.timestamp < b.timestamp ? a : b);\n    overwriteMarker(marker, p, index);\n    return marker\n  } else {\n    // create new marker\n    const pm = new ArraySearchMarker(p, index);\n    searchMarker.push(pm);\n    return pm\n  }\n};\n\n/**\n * Search marker help us to find positions in the associative array faster.\n *\n * They speed up the process of finding a position without much bookkeeping.\n *\n * A maximum of `maxSearchMarker` objects are created.\n *\n * This function always returns a refreshed marker (updated timestamp)\n *\n * @param {AbstractType<any>} yarray\n * @param {number} index\n */\nconst findMarker = (yarray, index) => {\n  if (yarray._start === null || index === 0 || yarray._searchMarker === null) {\n    return null\n  }\n  const marker = yarray._searchMarker.length === 0 ? null : yarray._searchMarker.reduce((a, b) => math.abs(index - a.index) < math.abs(index - b.index) ? a : b);\n  let p = yarray._start;\n  let pindex = 0;\n  if (marker !== null) {\n    p = marker.p;\n    pindex = marker.index;\n    refreshMarkerTimestamp(marker); // we used it, we might need to use it again\n  }\n  // iterate to right if possible\n  while (p.right !== null && pindex < index) {\n    if (!p.deleted && p.countable) {\n      if (index < pindex + p.length) {\n        break\n      }\n      pindex += p.length;\n    }\n    p = p.right;\n  }\n  // iterate to left if necessary (might be that pindex > index)\n  while (p.left !== null && pindex > index) {\n    p = p.left;\n    if (!p.deleted && p.countable) {\n      pindex -= p.length;\n    }\n  }\n  // we want to make sure that p can't be merged with left, because that would screw up everything\n  // in that cas just return what we have (it is most likely the best marker anyway)\n  // iterate to left until p can't be merged with left\n  while (p.left !== null && p.left.id.client === p.id.client && p.left.id.clock + p.left.length === p.id.clock) {\n    p = p.left;\n    if (!p.deleted && p.countable) {\n      pindex -= p.length;\n    }\n  }\n\n  // @todo remove!\n  // assure position\n  // {\n  //   let start = yarray._start\n  //   let pos = 0\n  //   while (start !== p) {\n  //     if (!start.deleted && start.countable) {\n  //       pos += start.length\n  //     }\n  //     start = /** @type {Item} */ (start.right)\n  //   }\n  //   if (pos !== pindex) {\n  //     debugger\n  //     throw new Error('Gotcha position fail!')\n  //   }\n  // }\n  // if (marker) {\n  //   if (window.lengths == null) {\n  //     window.lengths = []\n  //     window.getLengths = () => window.lengths.sort((a, b) => a - b)\n  //   }\n  //   window.lengths.push(marker.index - pindex)\n  //   console.log('distance', marker.index - pindex, 'len', p && p.parent.length)\n  // }\n  if (marker !== null && math.abs(marker.index - pindex) < /** @type {YText|YArray<any>} */ (p.parent).length / maxSearchMarker) {\n    // adjust existing marker\n    overwriteMarker(marker, p, pindex);\n    return marker\n  } else {\n    // create new marker\n    return markPosition(yarray._searchMarker, p, pindex)\n  }\n};\n\n/**\n * Update markers when a change happened.\n *\n * This should be called before doing a deletion!\n *\n * @param {Array<ArraySearchMarker>} searchMarker\n * @param {number} index\n * @param {number} len If insertion, len is positive. If deletion, len is negative.\n */\nconst updateMarkerChanges = (searchMarker, index, len) => {\n  for (let i = searchMarker.length - 1; i >= 0; i--) {\n    const m = searchMarker[i];\n    if (len > 0) {\n      /**\n       * @type {Item|null}\n       */\n      let p = m.p;\n      p.marker = false;\n      // Ideally we just want to do a simple position comparison, but this will only work if\n      // search markers don't point to deleted items for formats.\n      // Iterate marker to prev undeleted countable position so we know what to do when updating a position\n      while (p && (p.deleted || !p.countable)) {\n        p = p.left;\n        if (p && !p.deleted && p.countable) {\n          // adjust position. the loop should break now\n          m.index -= p.length;\n        }\n      }\n      if (p === null || p.marker === true) {\n        // remove search marker if updated position is null or if position is already marked\n        searchMarker.splice(i, 1);\n        continue\n      }\n      m.p = p;\n      p.marker = true;\n    }\n    if (index < m.index || (len > 0 && index === m.index)) { // a simple index <= m.index check would actually suffice\n      m.index = math.max(index, m.index + len);\n    }\n  }\n};\n\n/**\n * Accumulate all (list) children of a type and return them as an Array.\n *\n * @param {AbstractType<any>} t\n * @return {Array<Item>}\n */\nconst getTypeChildren = t => {\n  t.doc ?? warnPrematureAccess();\n  let s = t._start;\n  const arr = [];\n  while (s) {\n    arr.push(s);\n    s = s.right;\n  }\n  return arr\n};\n\n/**\n * Call event listeners with an event. This will also add an event to all\n * parents (for `.observeDeep` handlers).\n *\n * @template EventType\n * @param {AbstractType<EventType>} type\n * @param {Transaction} transaction\n * @param {EventType} event\n */\nconst callTypeObservers = (type, transaction, event) => {\n  const changedType = type;\n  const changedParentTypes = transaction.changedParentTypes;\n  while (true) {\n    // @ts-ignore\n    map.setIfUndefined(changedParentTypes, type, () => []).push(event);\n    if (type._item === null) {\n      break\n    }\n    type = /** @type {AbstractType<any>} */ (type._item.parent);\n  }\n  callEventHandlerListeners(changedType._eH, event, transaction);\n};\n\n/**\n * @template EventType\n * Abstract Yjs Type class\n */\nclass AbstractType {\n  constructor () {\n    /**\n     * @type {Item|null}\n     */\n    this._item = null;\n    /**\n     * @type {Map<string,Item>}\n     */\n    this._map = new Map();\n    /**\n     * @type {Item|null}\n     */\n    this._start = null;\n    /**\n     * @type {Doc|null}\n     */\n    this.doc = null;\n    this._length = 0;\n    /**\n     * Event handlers\n     * @type {EventHandler<EventType,Transaction>}\n     */\n    this._eH = createEventHandler();\n    /**\n     * Deep event handlers\n     * @type {EventHandler<Array<YEvent<any>>,Transaction>}\n     */\n    this._dEH = createEventHandler();\n    /**\n     * @type {null | Array<ArraySearchMarker>}\n     */\n    this._searchMarker = null;\n  }\n\n  /**\n   * @return {AbstractType<any>|null}\n   */\n  get parent () {\n    return this._item ? /** @type {AbstractType<any>} */ (this._item.parent) : null\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item|null} item\n   */\n  _integrate (y, item) {\n    this.doc = y;\n    this._item = item;\n  }\n\n  /**\n   * @return {AbstractType<EventType>}\n   */\n  _copy () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {AbstractType<EventType>}\n   */\n  clone () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} _encoder\n   */\n  _write (_encoder) { }\n\n  /**\n   * The first non-deleted item\n   */\n  get _first () {\n    let n = this._start;\n    while (n !== null && n.deleted) {\n      n = n.right;\n    }\n    return n\n  }\n\n  /**\n   * Creates YEvent and calls all type observers.\n   * Must be implemented by each type.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} _parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, _parentSubs) {\n    if (!transaction.local && this._searchMarker) {\n      this._searchMarker.length = 0;\n    }\n  }\n\n  /**\n   * Observe all events that are created on this type.\n   *\n   * @param {function(EventType, Transaction):void} f Observer function\n   */\n  observe (f) {\n    addEventHandlerListener(this._eH, f);\n  }\n\n  /**\n   * Observe all events that are created by this type and its children.\n   *\n   * @param {function(Array<YEvent<any>>,Transaction):void} f Observer function\n   */\n  observeDeep (f) {\n    addEventHandlerListener(this._dEH, f);\n  }\n\n  /**\n   * Unregister an observer function.\n   *\n   * @param {function(EventType,Transaction):void} f Observer function\n   */\n  unobserve (f) {\n    removeEventHandlerListener(this._eH, f);\n  }\n\n  /**\n   * Unregister an observer function.\n   *\n   * @param {function(Array<YEvent<any>>,Transaction):void} f Observer function\n   */\n  unobserveDeep (f) {\n    removeEventHandlerListener(this._dEH, f);\n  }\n\n  /**\n   * @abstract\n   * @return {any}\n   */\n  toJSON () {}\n}\n\n/**\n * @param {AbstractType<any>} type\n * @param {number} start\n * @param {number} end\n * @return {Array<any>}\n *\n * @private\n * @function\n */\nconst typeListSlice = (type, start, end) => {\n  type.doc ?? warnPrematureAccess();\n  if (start < 0) {\n    start = type._length + start;\n  }\n  if (end < 0) {\n    end = type._length + end;\n  }\n  let len = end - start;\n  const cs = [];\n  let n = type._start;\n  while (n !== null && len > 0) {\n    if (n.countable && !n.deleted) {\n      const c = n.content.getContent();\n      if (c.length <= start) {\n        start -= c.length;\n      } else {\n        for (let i = start; i < c.length && len > 0; i++) {\n          cs.push(c[i]);\n          len--;\n        }\n        start = 0;\n      }\n    }\n    n = n.right;\n  }\n  return cs\n};\n\n/**\n * @param {AbstractType<any>} type\n * @return {Array<any>}\n *\n * @private\n * @function\n */\nconst typeListToArray = type => {\n  type.doc ?? warnPrematureAccess();\n  const cs = [];\n  let n = type._start;\n  while (n !== null) {\n    if (n.countable && !n.deleted) {\n      const c = n.content.getContent();\n      for (let i = 0; i < c.length; i++) {\n        cs.push(c[i]);\n      }\n    }\n    n = n.right;\n  }\n  return cs\n};\n\n/**\n * @param {AbstractType<any>} type\n * @param {Snapshot} snapshot\n * @return {Array<any>}\n *\n * @private\n * @function\n */\nconst typeListToArraySnapshot = (type, snapshot) => {\n  const cs = [];\n  let n = type._start;\n  while (n !== null) {\n    if (n.countable && isVisible(n, snapshot)) {\n      const c = n.content.getContent();\n      for (let i = 0; i < c.length; i++) {\n        cs.push(c[i]);\n      }\n    }\n    n = n.right;\n  }\n  return cs\n};\n\n/**\n * Executes a provided function on once on every element of this YArray.\n *\n * @param {AbstractType<any>} type\n * @param {function(any,number,any):void} f A function to execute on every element of this YArray.\n *\n * @private\n * @function\n */\nconst typeListForEach = (type, f) => {\n  let index = 0;\n  let n = type._start;\n  type.doc ?? warnPrematureAccess();\n  while (n !== null) {\n    if (n.countable && !n.deleted) {\n      const c = n.content.getContent();\n      for (let i = 0; i < c.length; i++) {\n        f(c[i], index++, type);\n      }\n    }\n    n = n.right;\n  }\n};\n\n/**\n * @template C,R\n * @param {AbstractType<any>} type\n * @param {function(C,number,AbstractType<any>):R} f\n * @return {Array<R>}\n *\n * @private\n * @function\n */\nconst typeListMap = (type, f) => {\n  /**\n   * @type {Array<any>}\n   */\n  const result = [];\n  typeListForEach(type, (c, i) => {\n    result.push(f(c, i, type));\n  });\n  return result\n};\n\n/**\n * @param {AbstractType<any>} type\n * @return {IterableIterator<any>}\n *\n * @private\n * @function\n */\nconst typeListCreateIterator = type => {\n  let n = type._start;\n  /**\n   * @type {Array<any>|null}\n   */\n  let currentContent = null;\n  let currentContentIndex = 0;\n  return {\n    [Symbol.iterator] () {\n      return this\n    },\n    next: () => {\n      // find some content\n      if (currentContent === null) {\n        while (n !== null && n.deleted) {\n          n = n.right;\n        }\n        // check if we reached the end, no need to check currentContent, because it does not exist\n        if (n === null) {\n          return {\n            done: true,\n            value: undefined\n          }\n        }\n        // we found n, so we can set currentContent\n        currentContent = n.content.getContent();\n        currentContentIndex = 0;\n        n = n.right; // we used the content of n, now iterate to next\n      }\n      const value = currentContent[currentContentIndex++];\n      // check if we need to empty currentContent\n      if (currentContent.length <= currentContentIndex) {\n        currentContent = null;\n      }\n      return {\n        done: false,\n        value\n      }\n    }\n  }\n};\n\n/**\n * @param {AbstractType<any>} type\n * @param {number} index\n * @return {any}\n *\n * @private\n * @function\n */\nconst typeListGet = (type, index) => {\n  type.doc ?? warnPrematureAccess();\n  const marker = findMarker(type, index);\n  let n = type._start;\n  if (marker !== null) {\n    n = marker.p;\n    index -= marker.index;\n  }\n  for (; n !== null; n = n.right) {\n    if (!n.deleted && n.countable) {\n      if (index < n.length) {\n        return n.content.getContent()[index]\n      }\n      index -= n.length;\n    }\n  }\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {Item?} referenceItem\n * @param {Array<Object<string,any>|Array<any>|boolean|number|null|string|Uint8Array>} content\n *\n * @private\n * @function\n */\nconst typeListInsertGenericsAfter = (transaction, parent, referenceItem, content) => {\n  let left = referenceItem;\n  const doc = transaction.doc;\n  const ownClientId = doc.clientID;\n  const store = doc.store;\n  const right = referenceItem === null ? parent._start : referenceItem.right;\n  /**\n   * @type {Array<Object|Array<any>|number|null>}\n   */\n  let jsonContent = [];\n  const packJsonContent = () => {\n    if (jsonContent.length > 0) {\n      left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentAny(jsonContent));\n      left.integrate(transaction, 0);\n      jsonContent = [];\n    }\n  };\n  content.forEach(c => {\n    if (c === null) {\n      jsonContent.push(c);\n    } else {\n      switch (c.constructor) {\n        case Number:\n        case Object:\n        case Boolean:\n        case Array:\n        case String:\n          jsonContent.push(c);\n          break\n        default:\n          packJsonContent();\n          switch (c.constructor) {\n            case Uint8Array:\n            case ArrayBuffer:\n              left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentBinary(new Uint8Array(/** @type {Uint8Array} */ (c))));\n              left.integrate(transaction, 0);\n              break\n            case Doc:\n              left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentDoc(/** @type {Doc} */ (c)));\n              left.integrate(transaction, 0);\n              break\n            default:\n              if (c instanceof AbstractType) {\n                left = new Item(createID(ownClientId, getState(store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentType(c));\n                left.integrate(transaction, 0);\n              } else {\n                throw new Error('Unexpected content type in insert operation')\n              }\n          }\n      }\n    }\n  });\n  packJsonContent();\n};\n\nconst lengthExceeded = () => error.create('Length exceeded!');\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {number} index\n * @param {Array<Object<string,any>|Array<any>|number|null|string|Uint8Array>} content\n *\n * @private\n * @function\n */\nconst typeListInsertGenerics = (transaction, parent, index, content) => {\n  if (index > parent._length) {\n    throw lengthExceeded()\n  }\n  if (index === 0) {\n    if (parent._searchMarker) {\n      updateMarkerChanges(parent._searchMarker, index, content.length);\n    }\n    return typeListInsertGenericsAfter(transaction, parent, null, content)\n  }\n  const startIndex = index;\n  const marker = findMarker(parent, index);\n  let n = parent._start;\n  if (marker !== null) {\n    n = marker.p;\n    index -= marker.index;\n    // we need to iterate one to the left so that the algorithm works\n    if (index === 0) {\n      // @todo refactor this as it actually doesn't consider formats\n      n = n.prev; // important! get the left undeleted item so that we can actually decrease index\n      index += (n && n.countable && !n.deleted) ? n.length : 0;\n    }\n  }\n  for (; n !== null; n = n.right) {\n    if (!n.deleted && n.countable) {\n      if (index <= n.length) {\n        if (index < n.length) {\n          // insert in-between\n          getItemCleanStart(transaction, createID(n.id.client, n.id.clock + index));\n        }\n        break\n      }\n      index -= n.length;\n    }\n  }\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, startIndex, content.length);\n  }\n  return typeListInsertGenericsAfter(transaction, parent, n, content)\n};\n\n/**\n * Pushing content is special as we generally want to push after the last item. So we don't have to update\n * the search marker.\n *\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {Array<Object<string,any>|Array<any>|number|null|string|Uint8Array>} content\n *\n * @private\n * @function\n */\nconst typeListPushGenerics = (transaction, parent, content) => {\n  // Use the marker with the highest index and iterate to the right.\n  const marker = (parent._searchMarker || []).reduce((maxMarker, currMarker) => currMarker.index > maxMarker.index ? currMarker : maxMarker, { index: 0, p: parent._start });\n  let n = marker.p;\n  if (n) {\n    while (n.right) {\n      n = n.right;\n    }\n  }\n  return typeListInsertGenericsAfter(transaction, parent, n, content)\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {number} index\n * @param {number} length\n *\n * @private\n * @function\n */\nconst typeListDelete = (transaction, parent, index, length) => {\n  if (length === 0) { return }\n  const startIndex = index;\n  const startLength = length;\n  const marker = findMarker(parent, index);\n  let n = parent._start;\n  if (marker !== null) {\n    n = marker.p;\n    index -= marker.index;\n  }\n  // compute the first item to be deleted\n  for (; n !== null && index > 0; n = n.right) {\n    if (!n.deleted && n.countable) {\n      if (index < n.length) {\n        getItemCleanStart(transaction, createID(n.id.client, n.id.clock + index));\n      }\n      index -= n.length;\n    }\n  }\n  // delete all items until done\n  while (length > 0 && n !== null) {\n    if (!n.deleted) {\n      if (length < n.length) {\n        getItemCleanStart(transaction, createID(n.id.client, n.id.clock + length));\n      }\n      n.delete(transaction);\n      length -= n.length;\n    }\n    n = n.right;\n  }\n  if (length > 0) {\n    throw lengthExceeded()\n  }\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, startIndex, -startLength + length /* in case we remove the above exception */);\n  }\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {string} key\n *\n * @private\n * @function\n */\nconst typeMapDelete = (transaction, parent, key) => {\n  const c = parent._map.get(key);\n  if (c !== undefined) {\n    c.delete(transaction);\n  }\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @param {Object|number|null|Array<any>|string|Uint8Array|AbstractType<any>} value\n *\n * @private\n * @function\n */\nconst typeMapSet = (transaction, parent, key, value) => {\n  const left = parent._map.get(key) || null;\n  const doc = transaction.doc;\n  const ownClientId = doc.clientID;\n  let content;\n  if (value == null) {\n    content = new ContentAny([value]);\n  } else {\n    switch (value.constructor) {\n      case Number:\n      case Object:\n      case Boolean:\n      case Array:\n      case String:\n        content = new ContentAny([value]);\n        break\n      case Uint8Array:\n        content = new ContentBinary(/** @type {Uint8Array} */ (value));\n        break\n      case Doc:\n        content = new ContentDoc(/** @type {Doc} */ (value));\n        break\n      default:\n        if (value instanceof AbstractType) {\n          content = new ContentType(value);\n        } else {\n          throw new Error('Unexpected content type')\n        }\n    }\n  }\n  new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, null, null, parent, key, content).integrate(transaction, 0);\n};\n\n/**\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @return {Object<string,any>|number|null|Array<any>|string|Uint8Array|AbstractType<any>|undefined}\n *\n * @private\n * @function\n */\nconst typeMapGet = (parent, key) => {\n  parent.doc ?? warnPrematureAccess();\n  const val = parent._map.get(key);\n  return val !== undefined && !val.deleted ? val.content.getContent()[val.length - 1] : undefined\n};\n\n/**\n * @param {AbstractType<any>} parent\n * @return {Object<string,Object<string,any>|number|null|Array<any>|string|Uint8Array|AbstractType<any>|undefined>}\n *\n * @private\n * @function\n */\nconst typeMapGetAll = (parent) => {\n  /**\n   * @type {Object<string,any>}\n   */\n  const res = {};\n  parent.doc ?? warnPrematureAccess();\n  parent._map.forEach((value, key) => {\n    if (!value.deleted) {\n      res[key] = value.content.getContent()[value.length - 1];\n    }\n  });\n  return res\n};\n\n/**\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @return {boolean}\n *\n * @private\n * @function\n */\nconst typeMapHas = (parent, key) => {\n  parent.doc ?? warnPrematureAccess();\n  const val = parent._map.get(key);\n  return val !== undefined && !val.deleted\n};\n\n/**\n * @param {AbstractType<any>} parent\n * @param {string} key\n * @param {Snapshot} snapshot\n * @return {Object<string,any>|number|null|Array<any>|string|Uint8Array|AbstractType<any>|undefined}\n *\n * @private\n * @function\n */\nconst typeMapGetSnapshot = (parent, key, snapshot) => {\n  let v = parent._map.get(key) || null;\n  while (v !== null && (!snapshot.sv.has(v.id.client) || v.id.clock >= (snapshot.sv.get(v.id.client) || 0))) {\n    v = v.left;\n  }\n  return v !== null && isVisible(v, snapshot) ? v.content.getContent()[v.length - 1] : undefined\n};\n\n/**\n * @param {AbstractType<any>} parent\n * @param {Snapshot} snapshot\n * @return {Object<string,Object<string,any>|number|null|Array<any>|string|Uint8Array|AbstractType<any>|undefined>}\n *\n * @private\n * @function\n */\nconst typeMapGetAllSnapshot = (parent, snapshot) => {\n  /**\n   * @type {Object<string,any>}\n   */\n  const res = {};\n  parent._map.forEach((value, key) => {\n    /**\n     * @type {Item|null}\n     */\n    let v = value;\n    while (v !== null && (!snapshot.sv.has(v.id.client) || v.id.clock >= (snapshot.sv.get(v.id.client) || 0))) {\n      v = v.left;\n    }\n    if (v !== null && isVisible(v, snapshot)) {\n      res[key] = v.content.getContent()[v.length - 1];\n    }\n  });\n  return res\n};\n\n/**\n * @param {AbstractType<any> & { _map: Map<string, Item> }} type\n * @return {IterableIterator<Array<any>>}\n *\n * @private\n * @function\n */\nconst createMapIterator = type => {\n  type.doc ?? warnPrematureAccess();\n  return iterator.iteratorFilter(type._map.entries(), /** @param {any} entry */ entry => !entry[1].deleted)\n};\n\n/**\n * @module YArray\n */\n\n\n/**\n * Event that describes the changes on a YArray\n * @template T\n * @extends YEvent<YArray<T>>\n */\nclass YArrayEvent extends YEvent {}\n\n/**\n * A shared Array implementation.\n * @template T\n * @extends AbstractType<YArrayEvent<T>>\n * @implements {Iterable<T>}\n */\nclass YArray extends AbstractType {\n  constructor () {\n    super();\n    /**\n     * @type {Array<any>?}\n     * @private\n     */\n    this._prelimContent = [];\n    /**\n     * @type {Array<ArraySearchMarker>}\n     */\n    this._searchMarker = [];\n  }\n\n  /**\n   * Construct a new YArray containing the specified items.\n   * @template {Object<string,any>|Array<any>|number|null|string|Uint8Array} T\n   * @param {Array<T>} items\n   * @return {YArray<T>}\n   */\n  static from (items) {\n    /**\n     * @type {YArray<T>}\n     */\n    const a = new YArray();\n    a.push(items);\n    return a\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item);\n    this.insert(0, /** @type {Array<any>} */ (this._prelimContent));\n    this._prelimContent = null;\n  }\n\n  /**\n   * @return {YArray<T>}\n   */\n  _copy () {\n    return new YArray()\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YArray<T>}\n   */\n  clone () {\n    /**\n     * @type {YArray<T>}\n     */\n    const arr = new YArray();\n    arr.insert(0, this.toArray().map(el =>\n      el instanceof AbstractType ? /** @type {typeof el} */ (el.clone()) : el\n    ));\n    return arr\n  }\n\n  get length () {\n    this.doc ?? warnPrematureAccess();\n    return this._length\n  }\n\n  /**\n   * Creates YArrayEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    super._callObserver(transaction, parentSubs);\n    callTypeObservers(this, transaction, new YArrayEvent(this, transaction));\n  }\n\n  /**\n   * Inserts new content at an index.\n   *\n   * Important: This function expects an array of content. Not just a content\n   * object. The reason for this \"weirdness\" is that inserting several elements\n   * is very efficient when it is done as a single operation.\n   *\n   * @example\n   *  // Insert character 'a' at position 0\n   *  yarray.insert(0, ['a'])\n   *  // Insert numbers 1, 2 at position 1\n   *  yarray.insert(1, [1, 2])\n   *\n   * @param {number} index The index to insert content at.\n   * @param {Array<T>} content The array of content\n   */\n  insert (index, content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListInsertGenerics(transaction, this, index, /** @type {any} */ (content));\n      });\n    } else {\n      /** @type {Array<any>} */ (this._prelimContent).splice(index, 0, ...content);\n    }\n  }\n\n  /**\n   * Appends content to this YArray.\n   *\n   * @param {Array<T>} content Array of content to append.\n   *\n   * @todo Use the following implementation in all types.\n   */\n  push (content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListPushGenerics(transaction, this, /** @type {any} */ (content));\n      });\n    } else {\n      /** @type {Array<any>} */ (this._prelimContent).push(...content);\n    }\n  }\n\n  /**\n   * Prepends content to this YArray.\n   *\n   * @param {Array<T>} content Array of content to prepend.\n   */\n  unshift (content) {\n    this.insert(0, content);\n  }\n\n  /**\n   * Deletes elements starting from an index.\n   *\n   * @param {number} index Index at which to start deleting elements\n   * @param {number} length The number of elements to remove. Defaults to 1.\n   */\n  delete (index, length = 1) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListDelete(transaction, this, index, length);\n      });\n    } else {\n      /** @type {Array<any>} */ (this._prelimContent).splice(index, length);\n    }\n  }\n\n  /**\n   * Returns the i-th element from a YArray.\n   *\n   * @param {number} index The index of the element to return from the YArray\n   * @return {T}\n   */\n  get (index) {\n    return typeListGet(this, index)\n  }\n\n  /**\n   * Transforms this YArray to a JavaScript Array.\n   *\n   * @return {Array<T>}\n   */\n  toArray () {\n    return typeListToArray(this)\n  }\n\n  /**\n   * Returns a portion of this YArray into a JavaScript Array selected\n   * from start to end (end not included).\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @return {Array<T>}\n   */\n  slice (start = 0, end = this.length) {\n    return typeListSlice(this, start, end)\n  }\n\n  /**\n   * Transforms this Shared Type to a JSON object.\n   *\n   * @return {Array<any>}\n   */\n  toJSON () {\n    return this.map(c => c instanceof AbstractType ? c.toJSON() : c)\n  }\n\n  /**\n   * Returns an Array with the result of calling a provided function on every\n   * element of this YArray.\n   *\n   * @template M\n   * @param {function(T,number,YArray<T>):M} f Function that produces an element of the new Array\n   * @return {Array<M>} A new array with each element being the result of the\n   *                 callback function\n   */\n  map (f) {\n    return typeListMap(this, /** @type {any} */ (f))\n  }\n\n  /**\n   * Executes a provided function once on every element of this YArray.\n   *\n   * @param {function(T,number,YArray<T>):void} f A function to execute on every element of this YArray.\n   */\n  forEach (f) {\n    typeListForEach(this, f);\n  }\n\n  /**\n   * @return {IterableIterator<T>}\n   */\n  [Symbol.iterator] () {\n    return typeListCreateIterator(this)\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YArrayRefID);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} _decoder\n *\n * @private\n * @function\n */\nconst readYArray = _decoder => new YArray();\n\n/**\n * @module YMap\n */\n\n\n/**\n * @template T\n * @extends YEvent<YMap<T>>\n * Event that describes the changes on a YMap.\n */\nclass YMapEvent extends YEvent {\n  /**\n   * @param {YMap<T>} ymap The YArray that changed.\n   * @param {Transaction} transaction\n   * @param {Set<any>} subs The keys that changed.\n   */\n  constructor (ymap, transaction, subs) {\n    super(ymap, transaction);\n    this.keysChanged = subs;\n  }\n}\n\n/**\n * @template MapType\n * A shared Map implementation.\n *\n * @extends AbstractType<YMapEvent<MapType>>\n * @implements {Iterable<[string, MapType]>}\n */\nclass YMap extends AbstractType {\n  /**\n   *\n   * @param {Iterable<readonly [string, any]>=} entries - an optional iterable to initialize the YMap\n   */\n  constructor (entries) {\n    super();\n    /**\n     * @type {Map<string,any>?}\n     * @private\n     */\n    this._prelimContent = null;\n\n    if (entries === undefined) {\n      this._prelimContent = new Map();\n    } else {\n      this._prelimContent = new Map(entries);\n    }\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    ;/** @type {Map<string, any>} */ (this._prelimContent).forEach((value, key) => {\n      this.set(key, value);\n    });\n    this._prelimContent = null;\n  }\n\n  /**\n   * @return {YMap<MapType>}\n   */\n  _copy () {\n    return new YMap()\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YMap<MapType>}\n   */\n  clone () {\n    /**\n     * @type {YMap<MapType>}\n     */\n    const map = new YMap();\n    this.forEach((value, key) => {\n      map.set(key, value instanceof AbstractType ? /** @type {typeof value} */ (value.clone()) : value);\n    });\n    return map\n  }\n\n  /**\n   * Creates YMapEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    callTypeObservers(this, transaction, new YMapEvent(this, transaction, parentSubs));\n  }\n\n  /**\n   * Transforms this Shared Type to a JSON object.\n   *\n   * @return {Object<string,any>}\n   */\n  toJSON () {\n    this.doc ?? warnPrematureAccess();\n    /**\n     * @type {Object<string,MapType>}\n     */\n    const map = {};\n    this._map.forEach((item, key) => {\n      if (!item.deleted) {\n        const v = item.content.getContent()[item.length - 1];\n        map[key] = v instanceof AbstractType ? v.toJSON() : v;\n      }\n    });\n    return map\n  }\n\n  /**\n   * Returns the size of the YMap (count of key/value pairs)\n   *\n   * @return {number}\n   */\n  get size () {\n    return [...createMapIterator(this)].length\n  }\n\n  /**\n   * Returns the keys for each element in the YMap Type.\n   *\n   * @return {IterableIterator<string>}\n   */\n  keys () {\n    return iterator.iteratorMap(createMapIterator(this), /** @param {any} v */ v => v[0])\n  }\n\n  /**\n   * Returns the values for each element in the YMap Type.\n   *\n   * @return {IterableIterator<MapType>}\n   */\n  values () {\n    return iterator.iteratorMap(createMapIterator(this), /** @param {any} v */ v => v[1].content.getContent()[v[1].length - 1])\n  }\n\n  /**\n   * Returns an Iterator of [key, value] pairs\n   *\n   * @return {IterableIterator<[string, MapType]>}\n   */\n  entries () {\n    return iterator.iteratorMap(createMapIterator(this), /** @param {any} v */ v => /** @type {any} */ ([v[0], v[1].content.getContent()[v[1].length - 1]]))\n  }\n\n  /**\n   * Executes a provided function on once on every key-value pair.\n   *\n   * @param {function(MapType,string,YMap<MapType>):void} f A function to execute on every element of this YArray.\n   */\n  forEach (f) {\n    this.doc ?? warnPrematureAccess();\n    this._map.forEach((item, key) => {\n      if (!item.deleted) {\n        f(item.content.getContent()[item.length - 1], key, this);\n      }\n    });\n  }\n\n  /**\n   * Returns an Iterator of [key, value] pairs\n   *\n   * @return {IterableIterator<[string, MapType]>}\n   */\n  [Symbol.iterator] () {\n    return this.entries()\n  }\n\n  /**\n   * Remove a specified element from this YMap.\n   *\n   * @param {string} key The key of the element to remove.\n   */\n  delete (key) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapDelete(transaction, this, key);\n      });\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimContent).delete(key);\n    }\n  }\n\n  /**\n   * Adds or updates an element with a specified key and value.\n   * @template {MapType} VAL\n   *\n   * @param {string} key The key of the element to add to this YMap\n   * @param {VAL} value The value of the element to add\n   * @return {VAL}\n   */\n  set (key, value) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapSet(transaction, this, key, /** @type {any} */ (value));\n      });\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimContent).set(key, value);\n    }\n    return value\n  }\n\n  /**\n   * Returns a specified element from this YMap.\n   *\n   * @param {string} key\n   * @return {MapType|undefined}\n   */\n  get (key) {\n    return /** @type {any} */ (typeMapGet(this, key))\n  }\n\n  /**\n   * Returns a boolean indicating whether the specified key exists or not.\n   *\n   * @param {string} key The key to test.\n   * @return {boolean}\n   */\n  has (key) {\n    return typeMapHas(this, key)\n  }\n\n  /**\n   * Removes all elements from this YMap.\n   */\n  clear () {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        this.forEach(function (_value, key, map) {\n          typeMapDelete(transaction, map, key);\n        });\n      });\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimContent).clear();\n    }\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YMapRefID);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} _decoder\n *\n * @private\n * @function\n */\nconst readYMap = _decoder => new YMap();\n\n/**\n * @module YText\n */\n\n\n/**\n * @param {any} a\n * @param {any} b\n * @return {boolean}\n */\nconst equalAttrs = (a, b) => a === b || (typeof a === 'object' && typeof b === 'object' && a && b && object.equalFlat(a, b));\n\nclass ItemTextListPosition {\n  /**\n   * @param {Item|null} left\n   * @param {Item|null} right\n   * @param {number} index\n   * @param {Map<string,any>} currentAttributes\n   */\n  constructor (left, right, index, currentAttributes) {\n    this.left = left;\n    this.right = right;\n    this.index = index;\n    this.currentAttributes = currentAttributes;\n  }\n\n  /**\n   * Only call this if you know that this.right is defined\n   */\n  forward () {\n    if (this.right === null) {\n      error.unexpectedCase();\n    }\n    switch (this.right.content.constructor) {\n      case ContentFormat:\n        if (!this.right.deleted) {\n          updateCurrentAttributes(this.currentAttributes, /** @type {ContentFormat} */ (this.right.content));\n        }\n        break\n      default:\n        if (!this.right.deleted) {\n          this.index += this.right.length;\n        }\n        break\n    }\n    this.left = this.right;\n    this.right = this.right.right;\n  }\n}\n\n/**\n * @param {Transaction} transaction\n * @param {ItemTextListPosition} pos\n * @param {number} count steps to move forward\n * @return {ItemTextListPosition}\n *\n * @private\n * @function\n */\nconst findNextPosition = (transaction, pos, count) => {\n  while (pos.right !== null && count > 0) {\n    switch (pos.right.content.constructor) {\n      case ContentFormat:\n        if (!pos.right.deleted) {\n          updateCurrentAttributes(pos.currentAttributes, /** @type {ContentFormat} */ (pos.right.content));\n        }\n        break\n      default:\n        if (!pos.right.deleted) {\n          if (count < pos.right.length) {\n            // split right\n            getItemCleanStart(transaction, createID(pos.right.id.client, pos.right.id.clock + count));\n          }\n          pos.index += pos.right.length;\n          count -= pos.right.length;\n        }\n        break\n    }\n    pos.left = pos.right;\n    pos.right = pos.right.right;\n    // pos.forward() - we don't forward because that would halve the performance because we already do the checks above\n  }\n  return pos\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {number} index\n * @param {boolean} useSearchMarker\n * @return {ItemTextListPosition}\n *\n * @private\n * @function\n */\nconst findPosition = (transaction, parent, index, useSearchMarker) => {\n  const currentAttributes = new Map();\n  const marker = useSearchMarker ? findMarker(parent, index) : null;\n  if (marker) {\n    const pos = new ItemTextListPosition(marker.p.left, marker.p, marker.index, currentAttributes);\n    return findNextPosition(transaction, pos, index - marker.index)\n  } else {\n    const pos = new ItemTextListPosition(null, parent._start, 0, currentAttributes);\n    return findNextPosition(transaction, pos, index)\n  }\n};\n\n/**\n * Negate applied formats\n *\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {Map<string,any>} negatedAttributes\n *\n * @private\n * @function\n */\nconst insertNegatedAttributes = (transaction, parent, currPos, negatedAttributes) => {\n  // check if we really need to remove attributes\n  while (\n    currPos.right !== null && (\n      currPos.right.deleted === true || (\n        currPos.right.content.constructor === ContentFormat &&\n        equalAttrs(negatedAttributes.get(/** @type {ContentFormat} */ (currPos.right.content).key), /** @type {ContentFormat} */ (currPos.right.content).value)\n      )\n    )\n  ) {\n    if (!currPos.right.deleted) {\n      negatedAttributes.delete(/** @type {ContentFormat} */ (currPos.right.content).key);\n    }\n    currPos.forward();\n  }\n  const doc = transaction.doc;\n  const ownClientId = doc.clientID;\n  negatedAttributes.forEach((val, key) => {\n    const left = currPos.left;\n    const right = currPos.right;\n    const nextFormat = new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentFormat(key, val));\n    nextFormat.integrate(transaction, 0);\n    currPos.right = nextFormat;\n    currPos.forward();\n  });\n};\n\n/**\n * @param {Map<string,any>} currentAttributes\n * @param {ContentFormat} format\n *\n * @private\n * @function\n */\nconst updateCurrentAttributes = (currentAttributes, format) => {\n  const { key, value } = format;\n  if (value === null) {\n    currentAttributes.delete(key);\n  } else {\n    currentAttributes.set(key, value);\n  }\n};\n\n/**\n * @param {ItemTextListPosition} currPos\n * @param {Object<string,any>} attributes\n *\n * @private\n * @function\n */\nconst minimizeAttributeChanges = (currPos, attributes) => {\n  // go right while attributes[right.key] === right.value (or right is deleted)\n  while (true) {\n    if (currPos.right === null) {\n      break\n    } else if (currPos.right.deleted || (currPos.right.content.constructor === ContentFormat && equalAttrs(attributes[(/** @type {ContentFormat} */ (currPos.right.content)).key] ?? null, /** @type {ContentFormat} */ (currPos.right.content).value))) ; else {\n      break\n    }\n    currPos.forward();\n  }\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {Object<string,any>} attributes\n * @return {Map<string,any>}\n *\n * @private\n * @function\n **/\nconst insertAttributes = (transaction, parent, currPos, attributes) => {\n  const doc = transaction.doc;\n  const ownClientId = doc.clientID;\n  const negatedAttributes = new Map();\n  // insert format-start items\n  for (const key in attributes) {\n    const val = attributes[key];\n    const currentVal = currPos.currentAttributes.get(key) ?? null;\n    if (!equalAttrs(currentVal, val)) {\n      // save negated attribute (set null if currentVal undefined)\n      negatedAttributes.set(key, currentVal);\n      const { left, right } = currPos;\n      currPos.right = new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, new ContentFormat(key, val));\n      currPos.right.integrate(transaction, 0);\n      currPos.forward();\n    }\n  }\n  return negatedAttributes\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {string|object|AbstractType<any>} text\n * @param {Object<string,any>} attributes\n *\n * @private\n * @function\n **/\nconst insertText = (transaction, parent, currPos, text, attributes) => {\n  currPos.currentAttributes.forEach((_val, key) => {\n    if (attributes[key] === undefined) {\n      attributes[key] = null;\n    }\n  });\n  const doc = transaction.doc;\n  const ownClientId = doc.clientID;\n  minimizeAttributeChanges(currPos, attributes);\n  const negatedAttributes = insertAttributes(transaction, parent, currPos, attributes);\n  // insert content\n  const content = text.constructor === String ? new ContentString(/** @type {string} */ (text)) : (text instanceof AbstractType ? new ContentType(text) : new ContentEmbed(text));\n  let { left, right, index } = currPos;\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, currPos.index, content.getLength());\n  }\n  right = new Item(createID(ownClientId, getState(doc.store, ownClientId)), left, left && left.lastId, right, right && right.id, parent, null, content);\n  right.integrate(transaction, 0);\n  currPos.right = right;\n  currPos.index = index;\n  currPos.forward();\n  insertNegatedAttributes(transaction, parent, currPos, negatedAttributes);\n};\n\n/**\n * @param {Transaction} transaction\n * @param {AbstractType<any>} parent\n * @param {ItemTextListPosition} currPos\n * @param {number} length\n * @param {Object<string,any>} attributes\n *\n * @private\n * @function\n */\nconst formatText = (transaction, parent, currPos, length, attributes) => {\n  const doc = transaction.doc;\n  const ownClientId = doc.clientID;\n  minimizeAttributeChanges(currPos, attributes);\n  const negatedAttributes = insertAttributes(transaction, parent, currPos, attributes);\n  // iterate until first non-format or null is found\n  // delete all formats with attributes[format.key] != null\n  // also check the attributes after the first non-format as we do not want to insert redundant negated attributes there\n  // eslint-disable-next-line no-labels\n  iterationLoop: while (\n    currPos.right !== null &&\n    (length > 0 ||\n      (\n        negatedAttributes.size > 0 &&\n        (currPos.right.deleted || currPos.right.content.constructor === ContentFormat)\n      )\n    )\n  ) {\n    if (!currPos.right.deleted) {\n      switch (currPos.right.content.constructor) {\n        case ContentFormat: {\n          const { key, value } = /** @type {ContentFormat} */ (currPos.right.content);\n          const attr = attributes[key];\n          if (attr !== undefined) {\n            if (equalAttrs(attr, value)) {\n              negatedAttributes.delete(key);\n            } else {\n              if (length === 0) {\n                // no need to further extend negatedAttributes\n                // eslint-disable-next-line no-labels\n                break iterationLoop\n              }\n              negatedAttributes.set(key, value);\n            }\n            currPos.right.delete(transaction);\n          } else {\n            currPos.currentAttributes.set(key, value);\n          }\n          break\n        }\n        default:\n          if (length < currPos.right.length) {\n            getItemCleanStart(transaction, createID(currPos.right.id.client, currPos.right.id.clock + length));\n          }\n          length -= currPos.right.length;\n          break\n      }\n    }\n    currPos.forward();\n  }\n  // Quill just assumes that the editor starts with a newline and that it always\n  // ends with a newline. We only insert that newline when a new newline is\n  // inserted - i.e when length is bigger than type.length\n  if (length > 0) {\n    let newlines = '';\n    for (; length > 0; length--) {\n      newlines += '\\n';\n    }\n    currPos.right = new Item(createID(ownClientId, getState(doc.store, ownClientId)), currPos.left, currPos.left && currPos.left.lastId, currPos.right, currPos.right && currPos.right.id, parent, null, new ContentString(newlines));\n    currPos.right.integrate(transaction, 0);\n    currPos.forward();\n  }\n  insertNegatedAttributes(transaction, parent, currPos, negatedAttributes);\n};\n\n/**\n * Call this function after string content has been deleted in order to\n * clean up formatting Items.\n *\n * @param {Transaction} transaction\n * @param {Item} start\n * @param {Item|null} curr exclusive end, automatically iterates to the next Content Item\n * @param {Map<string,any>} startAttributes\n * @param {Map<string,any>} currAttributes\n * @return {number} The amount of formatting Items deleted.\n *\n * @function\n */\nconst cleanupFormattingGap = (transaction, start, curr, startAttributes, currAttributes) => {\n  /**\n   * @type {Item|null}\n   */\n  let end = start;\n  /**\n   * @type {Map<string,ContentFormat>}\n   */\n  const endFormats = map.create();\n  while (end && (!end.countable || end.deleted)) {\n    if (!end.deleted && end.content.constructor === ContentFormat) {\n      const cf = /** @type {ContentFormat} */ (end.content);\n      endFormats.set(cf.key, cf);\n    }\n    end = end.right;\n  }\n  let cleanups = 0;\n  let reachedCurr = false;\n  while (start !== end) {\n    if (curr === start) {\n      reachedCurr = true;\n    }\n    if (!start.deleted) {\n      const content = start.content;\n      switch (content.constructor) {\n        case ContentFormat: {\n          const { key, value } = /** @type {ContentFormat} */ (content);\n          const startAttrValue = startAttributes.get(key) ?? null;\n          if (endFormats.get(key) !== content || startAttrValue === value) {\n            // Either this format is overwritten or it is not necessary because the attribute already existed.\n            start.delete(transaction);\n            cleanups++;\n            if (!reachedCurr && (currAttributes.get(key) ?? null) === value && startAttrValue !== value) {\n              if (startAttrValue === null) {\n                currAttributes.delete(key);\n              } else {\n                currAttributes.set(key, startAttrValue);\n              }\n            }\n          }\n          if (!reachedCurr && !start.deleted) {\n            updateCurrentAttributes(currAttributes, /** @type {ContentFormat} */ (content));\n          }\n          break\n        }\n      }\n    }\n    start = /** @type {Item} */ (start.right);\n  }\n  return cleanups\n};\n\n/**\n * @param {Transaction} transaction\n * @param {Item | null} item\n */\nconst cleanupContextlessFormattingGap = (transaction, item) => {\n  // iterate until item.right is null or content\n  while (item && item.right && (item.right.deleted || !item.right.countable)) {\n    item = item.right;\n  }\n  const attrs = new Set();\n  // iterate back until a content item is found\n  while (item && (item.deleted || !item.countable)) {\n    if (!item.deleted && item.content.constructor === ContentFormat) {\n      const key = /** @type {ContentFormat} */ (item.content).key;\n      if (attrs.has(key)) {\n        item.delete(transaction);\n      } else {\n        attrs.add(key);\n      }\n    }\n    item = item.left;\n  }\n};\n\n/**\n * This function is experimental and subject to change / be removed.\n *\n * Ideally, we don't need this function at all. Formatting attributes should be cleaned up\n * automatically after each change. This function iterates twice over the complete YText type\n * and removes unnecessary formatting attributes. This is also helpful for testing.\n *\n * This function won't be exported anymore as soon as there is confidence that the YText type works as intended.\n *\n * @param {YText} type\n * @return {number} How many formatting attributes have been cleaned up.\n */\nconst cleanupYTextFormatting = type => {\n  let res = 0;\n  transact(/** @type {Doc} */ (type.doc), transaction => {\n    let start = /** @type {Item} */ (type._start);\n    let end = type._start;\n    let startAttributes = map.create();\n    const currentAttributes = map.copy(startAttributes);\n    while (end) {\n      if (end.deleted === false) {\n        switch (end.content.constructor) {\n          case ContentFormat:\n            updateCurrentAttributes(currentAttributes, /** @type {ContentFormat} */ (end.content));\n            break\n          default:\n            res += cleanupFormattingGap(transaction, start, end, startAttributes, currentAttributes);\n            startAttributes = map.copy(currentAttributes);\n            start = end;\n            break\n        }\n      }\n      end = end.right;\n    }\n  });\n  return res\n};\n\n/**\n * This will be called by the transaction once the event handlers are called to potentially cleanup\n * formatting attributes.\n *\n * @param {Transaction} transaction\n */\nconst cleanupYTextAfterTransaction = transaction => {\n  /**\n   * @type {Set<YText>}\n   */\n  const needFullCleanup = new Set();\n  // check if another formatting item was inserted\n  const doc = transaction.doc;\n  for (const [client, afterClock] of transaction.afterState.entries()) {\n    const clock = transaction.beforeState.get(client) || 0;\n    if (afterClock === clock) {\n      continue\n    }\n    iterateStructs(transaction, /** @type {Array<Item|GC>} */ (doc.store.clients.get(client)), clock, afterClock, item => {\n      if (\n        !item.deleted && /** @type {Item} */ (item).content.constructor === ContentFormat && item.constructor !== GC\n      ) {\n        needFullCleanup.add(/** @type {any} */ (item).parent);\n      }\n    });\n  }\n  // cleanup in a new transaction\n  transact(doc, (t) => {\n    iterateDeletedStructs(transaction, transaction.deleteSet, item => {\n      if (item instanceof GC || !(/** @type {YText} */ (item.parent)._hasFormatting) || needFullCleanup.has(/** @type {YText} */ (item.parent))) {\n        return\n      }\n      const parent = /** @type {YText} */ (item.parent);\n      if (item.content.constructor === ContentFormat) {\n        needFullCleanup.add(parent);\n      } else {\n        // If no formatting attribute was inserted or deleted, we can make due with contextless\n        // formatting cleanups.\n        // Contextless: it is not necessary to compute currentAttributes for the affected position.\n        cleanupContextlessFormattingGap(t, item);\n      }\n    });\n    // If a formatting item was inserted, we simply clean the whole type.\n    // We need to compute currentAttributes for the current position anyway.\n    for (const yText of needFullCleanup) {\n      cleanupYTextFormatting(yText);\n    }\n  });\n};\n\n/**\n * @param {Transaction} transaction\n * @param {ItemTextListPosition} currPos\n * @param {number} length\n * @return {ItemTextListPosition}\n *\n * @private\n * @function\n */\nconst deleteText = (transaction, currPos, length) => {\n  const startLength = length;\n  const startAttrs = map.copy(currPos.currentAttributes);\n  const start = currPos.right;\n  while (length > 0 && currPos.right !== null) {\n    if (currPos.right.deleted === false) {\n      switch (currPos.right.content.constructor) {\n        case ContentType:\n        case ContentEmbed:\n        case ContentString:\n          if (length < currPos.right.length) {\n            getItemCleanStart(transaction, createID(currPos.right.id.client, currPos.right.id.clock + length));\n          }\n          length -= currPos.right.length;\n          currPos.right.delete(transaction);\n          break\n      }\n    }\n    currPos.forward();\n  }\n  if (start) {\n    cleanupFormattingGap(transaction, start, currPos.right, startAttrs, currPos.currentAttributes);\n  }\n  const parent = /** @type {AbstractType<any>} */ (/** @type {Item} */ (currPos.left || currPos.right).parent);\n  if (parent._searchMarker) {\n    updateMarkerChanges(parent._searchMarker, currPos.index, -startLength + length);\n  }\n  return currPos\n};\n\n/**\n * The Quill Delta format represents changes on a text document with\n * formatting information. For more information visit {@link https://quilljs.com/docs/delta/|Quill Delta}\n *\n * @example\n *   {\n *     ops: [\n *       { insert: 'Gandalf', attributes: { bold: true } },\n *       { insert: ' the ' },\n *       { insert: 'Grey', attributes: { color: '#cccccc' } }\n *     ]\n *   }\n *\n */\n\n/**\n  * Attributes that can be assigned to a selection of text.\n  *\n  * @example\n  *   {\n  *     bold: true,\n  *     font-size: '40px'\n  *   }\n  *\n  * @typedef {Object} TextAttributes\n  */\n\n/**\n * @extends YEvent<YText>\n * Event that describes the changes on a YText type.\n */\nclass YTextEvent extends YEvent {\n  /**\n   * @param {YText} ytext\n   * @param {Transaction} transaction\n   * @param {Set<any>} subs The keys that changed\n   */\n  constructor (ytext, transaction, subs) {\n    super(ytext, transaction);\n    /**\n     * Whether the children changed.\n     * @type {Boolean}\n     * @private\n     */\n    this.childListChanged = false;\n    /**\n     * Set of all changed attributes.\n     * @type {Set<string>}\n     */\n    this.keysChanged = new Set();\n    subs.forEach((sub) => {\n      if (sub === null) {\n        this.childListChanged = true;\n      } else {\n        this.keysChanged.add(sub);\n      }\n    });\n  }\n\n  /**\n   * @type {{added:Set<Item>,deleted:Set<Item>,keys:Map<string,{action:'add'|'update'|'delete',oldValue:any}>,delta:Array<{insert?:Array<any>|string, delete?:number, retain?:number}>}}\n   */\n  get changes () {\n    if (this._changes === null) {\n      /**\n       * @type {{added:Set<Item>,deleted:Set<Item>,keys:Map<string,{action:'add'|'update'|'delete',oldValue:any}>,delta:Array<{insert?:Array<any>|string|AbstractType<any>|object, delete?:number, retain?:number}>}}\n       */\n      const changes = {\n        keys: this.keys,\n        delta: this.delta,\n        added: new Set(),\n        deleted: new Set()\n      };\n      this._changes = changes;\n    }\n    return /** @type {any} */ (this._changes)\n  }\n\n  /**\n   * Compute the changes in the delta format.\n   * A {@link https://quilljs.com/docs/delta/|Quill Delta}) that represents the changes on the document.\n   *\n   * @type {Array<{insert?:string|object|AbstractType<any>, delete?:number, retain?:number, attributes?: Object<string,any>}>}\n   *\n   * @public\n   */\n  get delta () {\n    if (this._delta === null) {\n      const y = /** @type {Doc} */ (this.target.doc);\n      /**\n       * @type {Array<{insert?:string|object|AbstractType<any>, delete?:number, retain?:number, attributes?: Object<string,any>}>}\n       */\n      const delta = [];\n      transact(y, transaction => {\n        const currentAttributes = new Map(); // saves all current attributes for insert\n        const oldAttributes = new Map();\n        let item = this.target._start;\n        /**\n         * @type {string?}\n         */\n        let action = null;\n        /**\n         * @type {Object<string,any>}\n         */\n        const attributes = {}; // counts added or removed new attributes for retain\n        /**\n         * @type {string|object}\n         */\n        let insert = '';\n        let retain = 0;\n        let deleteLen = 0;\n        const addOp = () => {\n          if (action !== null) {\n            /**\n             * @type {any}\n             */\n            let op = null;\n            switch (action) {\n              case 'delete':\n                if (deleteLen > 0) {\n                  op = { delete: deleteLen };\n                }\n                deleteLen = 0;\n                break\n              case 'insert':\n                if (typeof insert === 'object' || insert.length > 0) {\n                  op = { insert };\n                  if (currentAttributes.size > 0) {\n                    op.attributes = {};\n                    currentAttributes.forEach((value, key) => {\n                      if (value !== null) {\n                        op.attributes[key] = value;\n                      }\n                    });\n                  }\n                }\n                insert = '';\n                break\n              case 'retain':\n                if (retain > 0) {\n                  op = { retain };\n                  if (!object.isEmpty(attributes)) {\n                    op.attributes = object.assign({}, attributes);\n                  }\n                }\n                retain = 0;\n                break\n            }\n            if (op) delta.push(op);\n            action = null;\n          }\n        };\n        while (item !== null) {\n          switch (item.content.constructor) {\n            case ContentType:\n            case ContentEmbed:\n              if (this.adds(item)) {\n                if (!this.deletes(item)) {\n                  addOp();\n                  action = 'insert';\n                  insert = item.content.getContent()[0];\n                  addOp();\n                }\n              } else if (this.deletes(item)) {\n                if (action !== 'delete') {\n                  addOp();\n                  action = 'delete';\n                }\n                deleteLen += 1;\n              } else if (!item.deleted) {\n                if (action !== 'retain') {\n                  addOp();\n                  action = 'retain';\n                }\n                retain += 1;\n              }\n              break\n            case ContentString:\n              if (this.adds(item)) {\n                if (!this.deletes(item)) {\n                  if (action !== 'insert') {\n                    addOp();\n                    action = 'insert';\n                  }\n                  insert += /** @type {ContentString} */ (item.content).str;\n                }\n              } else if (this.deletes(item)) {\n                if (action !== 'delete') {\n                  addOp();\n                  action = 'delete';\n                }\n                deleteLen += item.length;\n              } else if (!item.deleted) {\n                if (action !== 'retain') {\n                  addOp();\n                  action = 'retain';\n                }\n                retain += item.length;\n              }\n              break\n            case ContentFormat: {\n              const { key, value } = /** @type {ContentFormat} */ (item.content);\n              if (this.adds(item)) {\n                if (!this.deletes(item)) {\n                  const curVal = currentAttributes.get(key) ?? null;\n                  if (!equalAttrs(curVal, value)) {\n                    if (action === 'retain') {\n                      addOp();\n                    }\n                    if (equalAttrs(value, (oldAttributes.get(key) ?? null))) {\n                      delete attributes[key];\n                    } else {\n                      attributes[key] = value;\n                    }\n                  } else if (value !== null) {\n                    item.delete(transaction);\n                  }\n                }\n              } else if (this.deletes(item)) {\n                oldAttributes.set(key, value);\n                const curVal = currentAttributes.get(key) ?? null;\n                if (!equalAttrs(curVal, value)) {\n                  if (action === 'retain') {\n                    addOp();\n                  }\n                  attributes[key] = curVal;\n                }\n              } else if (!item.deleted) {\n                oldAttributes.set(key, value);\n                const attr = attributes[key];\n                if (attr !== undefined) {\n                  if (!equalAttrs(attr, value)) {\n                    if (action === 'retain') {\n                      addOp();\n                    }\n                    if (value === null) {\n                      delete attributes[key];\n                    } else {\n                      attributes[key] = value;\n                    }\n                  } else if (attr !== null) { // this will be cleaned up automatically by the contextless cleanup function\n                    item.delete(transaction);\n                  }\n                }\n              }\n              if (!item.deleted) {\n                if (action === 'insert') {\n                  addOp();\n                }\n                updateCurrentAttributes(currentAttributes, /** @type {ContentFormat} */ (item.content));\n              }\n              break\n            }\n          }\n          item = item.right;\n        }\n        addOp();\n        while (delta.length > 0) {\n          const lastOp = delta[delta.length - 1];\n          if (lastOp.retain !== undefined && lastOp.attributes === undefined) {\n            // retain delta's if they don't assign attributes\n            delta.pop();\n          } else {\n            break\n          }\n        }\n      });\n      this._delta = delta;\n    }\n    return /** @type {any} */ (this._delta)\n  }\n}\n\n/**\n * Type that represents text with formatting information.\n *\n * This type replaces y-richtext as this implementation is able to handle\n * block formats (format information on a paragraph), embeds (complex elements\n * like pictures and videos), and text formats (**bold**, *italic*).\n *\n * @extends AbstractType<YTextEvent>\n */\nclass YText extends AbstractType {\n  /**\n   * @param {String} [string] The initial value of the YText.\n   */\n  constructor (string) {\n    super();\n    /**\n     * Array of pending operations on this type\n     * @type {Array<function():void>?}\n     */\n    this._pending = string !== undefined ? [() => this.insert(0, string)] : [];\n    /**\n     * @type {Array<ArraySearchMarker>|null}\n     */\n    this._searchMarker = [];\n    /**\n     * Whether this YText contains formatting attributes.\n     * This flag is updated when a formatting item is integrated (see ContentFormat.integrate)\n     */\n    this._hasFormatting = false;\n  }\n\n  /**\n   * Number of characters of this text type.\n   *\n   * @type {number}\n   */\n  get length () {\n    this.doc ?? warnPrematureAccess();\n    return this._length\n  }\n\n  /**\n   * @param {Doc} y\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item);\n    try {\n      /** @type {Array<function>} */ (this._pending).forEach(f => f());\n    } catch (e) {\n      console.error(e);\n    }\n    this._pending = null;\n  }\n\n  _copy () {\n    return new YText()\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YText}\n   */\n  clone () {\n    const text = new YText();\n    text.applyDelta(this.toDelta());\n    return text\n  }\n\n  /**\n   * Creates YTextEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    super._callObserver(transaction, parentSubs);\n    const event = new YTextEvent(this, transaction, parentSubs);\n    callTypeObservers(this, transaction, event);\n    // If a remote change happened, we try to cleanup potential formatting duplicates.\n    if (!transaction.local && this._hasFormatting) {\n      transaction._needFormattingCleanup = true;\n    }\n  }\n\n  /**\n   * Returns the unformatted string representation of this YText type.\n   *\n   * @public\n   */\n  toString () {\n    this.doc ?? warnPrematureAccess();\n    let str = '';\n    /**\n     * @type {Item|null}\n     */\n    let n = this._start;\n    while (n !== null) {\n      if (!n.deleted && n.countable && n.content.constructor === ContentString) {\n        str += /** @type {ContentString} */ (n.content).str;\n      }\n      n = n.right;\n    }\n    return str\n  }\n\n  /**\n   * Returns the unformatted string representation of this YText type.\n   *\n   * @return {string}\n   * @public\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * Apply a {@link Delta} on this shared YText type.\n   *\n   * @param {Array<any>} delta The changes to apply on this element.\n   * @param {object}  opts\n   * @param {boolean} [opts.sanitize] Sanitize input delta. Removes ending newlines if set to true.\n   *\n   *\n   * @public\n   */\n  applyDelta (delta, { sanitize = true } = {}) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        const currPos = new ItemTextListPosition(null, this._start, 0, new Map());\n        for (let i = 0; i < delta.length; i++) {\n          const op = delta[i];\n          if (op.insert !== undefined) {\n            // Quill assumes that the content starts with an empty paragraph.\n            // Yjs/Y.Text assumes that it starts empty. We always hide that\n            // there is a newline at the end of the content.\n            // If we omit this step, clients will see a different number of\n            // paragraphs, but nothing bad will happen.\n            const ins = (!sanitize && typeof op.insert === 'string' && i === delta.length - 1 && currPos.right === null && op.insert.slice(-1) === '\\n') ? op.insert.slice(0, -1) : op.insert;\n            if (typeof ins !== 'string' || ins.length > 0) {\n              insertText(transaction, this, currPos, ins, op.attributes || {});\n            }\n          } else if (op.retain !== undefined) {\n            formatText(transaction, this, currPos, op.retain, op.attributes || {});\n          } else if (op.delete !== undefined) {\n            deleteText(transaction, currPos, op.delete);\n          }\n        }\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.applyDelta(delta));\n    }\n  }\n\n  /**\n   * Returns the Delta representation of this YText type.\n   *\n   * @param {Snapshot} [snapshot]\n   * @param {Snapshot} [prevSnapshot]\n   * @param {function('removed' | 'added', ID):any} [computeYChange]\n   * @return {any} The Delta representation of this type.\n   *\n   * @public\n   */\n  toDelta (snapshot, prevSnapshot, computeYChange) {\n    this.doc ?? warnPrematureAccess();\n    /**\n     * @type{Array<any>}\n     */\n    const ops = [];\n    const currentAttributes = new Map();\n    const doc = /** @type {Doc} */ (this.doc);\n    let str = '';\n    let n = this._start;\n    function packStr () {\n      if (str.length > 0) {\n        // pack str with attributes to ops\n        /**\n         * @type {Object<string,any>}\n         */\n        const attributes = {};\n        let addAttributes = false;\n        currentAttributes.forEach((value, key) => {\n          addAttributes = true;\n          attributes[key] = value;\n        });\n        /**\n         * @type {Object<string,any>}\n         */\n        const op = { insert: str };\n        if (addAttributes) {\n          op.attributes = attributes;\n        }\n        ops.push(op);\n        str = '';\n      }\n    }\n    const computeDelta = () => {\n      while (n !== null) {\n        if (isVisible(n, snapshot) || (prevSnapshot !== undefined && isVisible(n, prevSnapshot))) {\n          switch (n.content.constructor) {\n            case ContentString: {\n              const cur = currentAttributes.get('ychange');\n              if (snapshot !== undefined && !isVisible(n, snapshot)) {\n                if (cur === undefined || cur.user !== n.id.client || cur.type !== 'removed') {\n                  packStr();\n                  currentAttributes.set('ychange', computeYChange ? computeYChange('removed', n.id) : { type: 'removed' });\n                }\n              } else if (prevSnapshot !== undefined && !isVisible(n, prevSnapshot)) {\n                if (cur === undefined || cur.user !== n.id.client || cur.type !== 'added') {\n                  packStr();\n                  currentAttributes.set('ychange', computeYChange ? computeYChange('added', n.id) : { type: 'added' });\n                }\n              } else if (cur !== undefined) {\n                packStr();\n                currentAttributes.delete('ychange');\n              }\n              str += /** @type {ContentString} */ (n.content).str;\n              break\n            }\n            case ContentType:\n            case ContentEmbed: {\n              packStr();\n              /**\n               * @type {Object<string,any>}\n               */\n              const op = {\n                insert: n.content.getContent()[0]\n              };\n              if (currentAttributes.size > 0) {\n                const attrs = /** @type {Object<string,any>} */ ({});\n                op.attributes = attrs;\n                currentAttributes.forEach((value, key) => {\n                  attrs[key] = value;\n                });\n              }\n              ops.push(op);\n              break\n            }\n            case ContentFormat:\n              if (isVisible(n, snapshot)) {\n                packStr();\n                updateCurrentAttributes(currentAttributes, /** @type {ContentFormat} */ (n.content));\n              }\n              break\n          }\n        }\n        n = n.right;\n      }\n      packStr();\n    };\n    if (snapshot || prevSnapshot) {\n      // snapshots are merged again after the transaction, so we need to keep the\n      // transaction alive until we are done\n      transact(doc, transaction => {\n        if (snapshot) {\n          splitSnapshotAffectedStructs(transaction, snapshot);\n        }\n        if (prevSnapshot) {\n          splitSnapshotAffectedStructs(transaction, prevSnapshot);\n        }\n        computeDelta();\n      }, 'cleanup');\n    } else {\n      computeDelta();\n    }\n    return ops\n  }\n\n  /**\n   * Insert text at a given index.\n   *\n   * @param {number} index The index at which to start inserting.\n   * @param {String} text The text to insert at the specified position.\n   * @param {TextAttributes} [attributes] Optionally define some formatting\n   *                                    information to apply on the inserted\n   *                                    Text.\n   * @public\n   */\n  insert (index, text, attributes) {\n    if (text.length <= 0) {\n      return\n    }\n    const y = this.doc;\n    if (y !== null) {\n      transact(y, transaction => {\n        const pos = findPosition(transaction, this, index, !attributes);\n        if (!attributes) {\n          attributes = {};\n          // @ts-ignore\n          pos.currentAttributes.forEach((v, k) => { attributes[k] = v; });\n        }\n        insertText(transaction, this, pos, text, attributes);\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.insert(index, text, attributes));\n    }\n  }\n\n  /**\n   * Inserts an embed at a index.\n   *\n   * @param {number} index The index to insert the embed at.\n   * @param {Object | AbstractType<any>} embed The Object that represents the embed.\n   * @param {TextAttributes} [attributes] Attribute information to apply on the\n   *                                    embed\n   *\n   * @public\n   */\n  insertEmbed (index, embed, attributes) {\n    const y = this.doc;\n    if (y !== null) {\n      transact(y, transaction => {\n        const pos = findPosition(transaction, this, index, !attributes);\n        insertText(transaction, this, pos, embed, attributes || {});\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.insertEmbed(index, embed, attributes || {}));\n    }\n  }\n\n  /**\n   * Deletes text starting from an index.\n   *\n   * @param {number} index Index at which to start deleting.\n   * @param {number} length The number of characters to remove. Defaults to 1.\n   *\n   * @public\n   */\n  delete (index, length) {\n    if (length === 0) {\n      return\n    }\n    const y = this.doc;\n    if (y !== null) {\n      transact(y, transaction => {\n        deleteText(transaction, findPosition(transaction, this, index, true), length);\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.delete(index, length));\n    }\n  }\n\n  /**\n   * Assigns properties to a range of text.\n   *\n   * @param {number} index The position where to start formatting.\n   * @param {number} length The amount of characters to assign properties to.\n   * @param {TextAttributes} attributes Attribute information to apply on the\n   *                                    text.\n   *\n   * @public\n   */\n  format (index, length, attributes) {\n    if (length === 0) {\n      return\n    }\n    const y = this.doc;\n    if (y !== null) {\n      transact(y, transaction => {\n        const pos = findPosition(transaction, this, index, false);\n        if (pos.right === null) {\n          return\n        }\n        formatText(transaction, this, pos, length, attributes);\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.format(index, length, attributes));\n    }\n  }\n\n  /**\n   * Removes an attribute.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {String} attributeName The attribute name that is to be removed.\n   *\n   * @public\n   */\n  removeAttribute (attributeName) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapDelete(transaction, this, attributeName);\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.removeAttribute(attributeName));\n    }\n  }\n\n  /**\n   * Sets or updates an attribute.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {String} attributeName The attribute name that is to be set.\n   * @param {any} attributeValue The attribute value that is to be set.\n   *\n   * @public\n   */\n  setAttribute (attributeName, attributeValue) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapSet(transaction, this, attributeName, attributeValue);\n      });\n    } else {\n      /** @type {Array<function>} */ (this._pending).push(() => this.setAttribute(attributeName, attributeValue));\n    }\n  }\n\n  /**\n   * Returns an attribute value that belongs to the attribute name.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @param {String} attributeName The attribute name that identifies the\n   *                               queried value.\n   * @return {any} The queried attribute value.\n   *\n   * @public\n   */\n  getAttribute (attributeName) {\n    return /** @type {any} */ (typeMapGet(this, attributeName))\n  }\n\n  /**\n   * Returns all attribute name/value pairs in a JSON Object.\n   *\n   * @note Xml-Text nodes don't have attributes. You can use this feature to assign properties to complete text-blocks.\n   *\n   * @return {Object<string, any>} A JSON Object that describes the attributes.\n   *\n   * @public\n   */\n  getAttributes () {\n    return typeMapGetAll(this)\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YTextRefID);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} _decoder\n * @return {YText}\n *\n * @private\n * @function\n */\nconst readYText = _decoder => new YText();\n\n/**\n * @module YXml\n */\n\n\n/**\n * Define the elements to which a set of CSS queries apply.\n * {@link https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors|CSS_Selectors}\n *\n * @example\n *   query = '.classSelector'\n *   query = 'nodeSelector'\n *   query = '#idSelector'\n *\n * @typedef {string} CSS_Selector\n */\n\n/**\n * Dom filter function.\n *\n * @callback domFilter\n * @param {string} nodeName The nodeName of the element\n * @param {Map} attributes The map of attributes.\n * @return {boolean} Whether to include the Dom node in the YXmlElement.\n */\n\n/**\n * Represents a subset of the nodes of a YXmlElement / YXmlFragment and a\n * position within them.\n *\n * Can be created with {@link YXmlFragment#createTreeWalker}\n *\n * @public\n * @implements {Iterable<YXmlElement|YXmlText|YXmlElement|YXmlHook>}\n */\nclass YXmlTreeWalker {\n  /**\n   * @param {YXmlFragment | YXmlElement} root\n   * @param {function(AbstractType<any>):boolean} [f]\n   */\n  constructor (root, f = () => true) {\n    this._filter = f;\n    this._root = root;\n    /**\n     * @type {Item}\n     */\n    this._currentNode = /** @type {Item} */ (root._start);\n    this._firstCall = true;\n    root.doc ?? warnPrematureAccess();\n  }\n\n  [Symbol.iterator] () {\n    return this\n  }\n\n  /**\n   * Get the next node.\n   *\n   * @return {IteratorResult<YXmlElement|YXmlText|YXmlHook>} The next node.\n   *\n   * @public\n   */\n  next () {\n    /**\n     * @type {Item|null}\n     */\n    let n = this._currentNode;\n    let type = n && n.content && /** @type {any} */ (n.content).type;\n    if (n !== null && (!this._firstCall || n.deleted || !this._filter(type))) { // if first call, we check if we can use the first item\n      do {\n        type = /** @type {any} */ (n.content).type;\n        if (!n.deleted && (type.constructor === YXmlElement || type.constructor === YXmlFragment) && type._start !== null) {\n          // walk down in the tree\n          n = type._start;\n        } else {\n          // walk right or up in the tree\n          while (n !== null) {\n            /**\n             * @type {Item | null}\n             */\n            const nxt = n.next;\n            if (nxt !== null) {\n              n = nxt;\n              break\n            } else if (n.parent === this._root) {\n              n = null;\n            } else {\n              n = /** @type {AbstractType<any>} */ (n.parent)._item;\n            }\n          }\n        }\n      } while (n !== null && (n.deleted || !this._filter(/** @type {ContentType} */ (n.content).type)))\n    }\n    this._firstCall = false;\n    if (n === null) {\n      // @ts-ignore\n      return { value: undefined, done: true }\n    }\n    this._currentNode = n;\n    return { value: /** @type {any} */ (n.content).type, done: false }\n  }\n}\n\n/**\n * Represents a list of {@link YXmlElement}.and {@link YXmlText} types.\n * A YxmlFragment is similar to a {@link YXmlElement}, but it does not have a\n * nodeName and it does not have attributes. Though it can be bound to a DOM\n * element - in this case the attributes and the nodeName are not shared.\n *\n * @public\n * @extends AbstractType<YXmlEvent>\n */\nclass YXmlFragment extends AbstractType {\n  constructor () {\n    super();\n    /**\n     * @type {Array<any>|null}\n     */\n    this._prelimContent = [];\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get firstChild () {\n    const first = this._first;\n    return first ? first.content.getContent()[0] : null\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item);\n    this.insert(0, /** @type {Array<any>} */ (this._prelimContent));\n    this._prelimContent = null;\n  }\n\n  _copy () {\n    return new YXmlFragment()\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YXmlFragment}\n   */\n  clone () {\n    const el = new YXmlFragment();\n    // @ts-ignore\n    el.insert(0, this.toArray().map(item => item instanceof AbstractType ? item.clone() : item));\n    return el\n  }\n\n  get length () {\n    this.doc ?? warnPrematureAccess();\n    return this._prelimContent === null ? this._length : this._prelimContent.length\n  }\n\n  /**\n   * Create a subtree of childNodes.\n   *\n   * @example\n   * const walker = elem.createTreeWalker(dom => dom.nodeName === 'div')\n   * for (let node in walker) {\n   *   // `node` is a div node\n   *   nop(node)\n   * }\n   *\n   * @param {function(AbstractType<any>):boolean} filter Function that is called on each child element and\n   *                          returns a Boolean indicating whether the child\n   *                          is to be included in the subtree.\n   * @return {YXmlTreeWalker} A subtree and a position within it.\n   *\n   * @public\n   */\n  createTreeWalker (filter) {\n    return new YXmlTreeWalker(this, filter)\n  }\n\n  /**\n   * Returns the first YXmlElement that matches the query.\n   * Similar to DOM's {@link querySelector}.\n   *\n   * Query support:\n   *   - tagname\n   * TODO:\n   *   - id\n   *   - attribute\n   *\n   * @param {CSS_Selector} query The query on the children.\n   * @return {YXmlElement|YXmlText|YXmlHook|null} The first element that matches the query or null.\n   *\n   * @public\n   */\n  querySelector (query) {\n    query = query.toUpperCase();\n    // @ts-ignore\n    const iterator = new YXmlTreeWalker(this, element => element.nodeName && element.nodeName.toUpperCase() === query);\n    const next = iterator.next();\n    if (next.done) {\n      return null\n    } else {\n      return next.value\n    }\n  }\n\n  /**\n   * Returns all YXmlElements that match the query.\n   * Similar to Dom's {@link querySelectorAll}.\n   *\n   * @todo Does not yet support all queries. Currently only query by tagName.\n   *\n   * @param {CSS_Selector} query The query on the children\n   * @return {Array<YXmlElement|YXmlText|YXmlHook|null>} The elements that match this query.\n   *\n   * @public\n   */\n  querySelectorAll (query) {\n    query = query.toUpperCase();\n    // @ts-ignore\n    return array.from(new YXmlTreeWalker(this, element => element.nodeName && element.nodeName.toUpperCase() === query))\n  }\n\n  /**\n   * Creates YXmlEvent and calls observers.\n   *\n   * @param {Transaction} transaction\n   * @param {Set<null|string>} parentSubs Keys changed on this type. `null` if list was modified.\n   */\n  _callObserver (transaction, parentSubs) {\n    callTypeObservers(this, transaction, new YXmlEvent(this, parentSubs, transaction));\n  }\n\n  /**\n   * Get the string representation of all the children of this YXmlFragment.\n   *\n   * @return {string} The string representation of all children.\n   */\n  toString () {\n    return typeListMap(this, xml => xml.toString()).join('')\n  }\n\n  /**\n   * @return {string}\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlElement.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object<string, any>} [hooks={}] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type.\n   * @return {Node} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks = {}, binding) {\n    const fragment = _document.createDocumentFragment();\n    if (binding !== undefined) {\n      binding._createAssociation(fragment, this);\n    }\n    typeListForEach(this, xmlType => {\n      fragment.insertBefore(xmlType.toDOM(_document, hooks, binding), null);\n    });\n    return fragment\n  }\n\n  /**\n   * Inserts new content at an index.\n   *\n   * @example\n   *  // Insert character 'a' at position 0\n   *  xml.insert(0, [new Y.XmlText('text')])\n   *\n   * @param {number} index The index to insert content at\n   * @param {Array<YXmlElement|YXmlText>} content The array of content\n   */\n  insert (index, content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListInsertGenerics(transaction, this, index, content);\n      });\n    } else {\n      // @ts-ignore _prelimContent is defined because this is not yet integrated\n      this._prelimContent.splice(index, 0, ...content);\n    }\n  }\n\n  /**\n   * Inserts new content at an index.\n   *\n   * @example\n   *  // Insert character 'a' at position 0\n   *  xml.insert(0, [new Y.XmlText('text')])\n   *\n   * @param {null|Item|YXmlElement|YXmlText} ref The index to insert content at\n   * @param {Array<YXmlElement|YXmlText>} content The array of content\n   */\n  insertAfter (ref, content) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        const refItem = (ref && ref instanceof AbstractType) ? ref._item : ref;\n        typeListInsertGenericsAfter(transaction, this, refItem, content);\n      });\n    } else {\n      const pc = /** @type {Array<any>} */ (this._prelimContent);\n      const index = ref === null ? 0 : pc.findIndex(el => el === ref) + 1;\n      if (index === 0 && ref !== null) {\n        throw error.create('Reference item not found')\n      }\n      pc.splice(index, 0, ...content);\n    }\n  }\n\n  /**\n   * Deletes elements starting from an index.\n   *\n   * @param {number} index Index at which to start deleting elements\n   * @param {number} [length=1] The number of elements to remove. Defaults to 1.\n   */\n  delete (index, length = 1) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeListDelete(transaction, this, index, length);\n      });\n    } else {\n      // @ts-ignore _prelimContent is defined because this is not yet integrated\n      this._prelimContent.splice(index, length);\n    }\n  }\n\n  /**\n   * Transforms this YArray to a JavaScript Array.\n   *\n   * @return {Array<YXmlElement|YXmlText|YXmlHook>}\n   */\n  toArray () {\n    return typeListToArray(this)\n  }\n\n  /**\n   * Appends content to this YArray.\n   *\n   * @param {Array<YXmlElement|YXmlText>} content Array of content to append.\n   */\n  push (content) {\n    this.insert(this.length, content);\n  }\n\n  /**\n   * Prepends content to this YArray.\n   *\n   * @param {Array<YXmlElement|YXmlText>} content Array of content to prepend.\n   */\n  unshift (content) {\n    this.insert(0, content);\n  }\n\n  /**\n   * Returns the i-th element from a YArray.\n   *\n   * @param {number} index The index of the element to return from the YArray\n   * @return {YXmlElement|YXmlText}\n   */\n  get (index) {\n    return typeListGet(this, index)\n  }\n\n  /**\n   * Returns a portion of this YXmlFragment into a JavaScript Array selected\n   * from start to end (end not included).\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @return {Array<YXmlElement|YXmlText>}\n   */\n  slice (start = 0, end = this.length) {\n    return typeListSlice(this, start, end)\n  }\n\n  /**\n   * Executes a provided function on once on every child element.\n   *\n   * @param {function(YXmlElement|YXmlText,number, typeof self):void} f A function to execute on every element of this YArray.\n   */\n  forEach (f) {\n    typeListForEach(this, f);\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlFragmentRefID);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} _decoder\n * @return {YXmlFragment}\n *\n * @private\n * @function\n */\nconst readYXmlFragment = _decoder => new YXmlFragment();\n\n/**\n * @typedef {Object|number|null|Array<any>|string|Uint8Array|AbstractType<any>} ValueTypes\n */\n\n/**\n * An YXmlElement imitates the behavior of a\n * https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element\n *\n * * An YXmlElement has attributes (key value pairs)\n * * An YXmlElement has childElements that must inherit from YXmlElement\n *\n * @template {{ [key: string]: ValueTypes }} [KV={ [key: string]: string }]\n */\nclass YXmlElement extends YXmlFragment {\n  constructor (nodeName = 'UNDEFINED') {\n    super();\n    this.nodeName = nodeName;\n    /**\n     * @type {Map<string, any>|null}\n     */\n    this._prelimAttrs = new Map();\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get nextSibling () {\n    const n = this._item ? this._item.next : null;\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get prevSibling () {\n    const n = this._item ? this._item.prev : null;\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  /**\n   * Integrate this type into the Yjs instance.\n   *\n   * * Save this struct in the os\n   * * This type is sent to other client\n   * * Observer functions are fired\n   *\n   * @param {Doc} y The Yjs instance\n   * @param {Item} item\n   */\n  _integrate (y, item) {\n    super._integrate(y, item)\n    ;(/** @type {Map<string, any>} */ (this._prelimAttrs)).forEach((value, key) => {\n      this.setAttribute(key, value);\n    });\n    this._prelimAttrs = null;\n  }\n\n  /**\n   * Creates an Item with the same effect as this Item (without position effect)\n   *\n   * @return {YXmlElement}\n   */\n  _copy () {\n    return new YXmlElement(this.nodeName)\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YXmlElement<KV>}\n   */\n  clone () {\n    /**\n     * @type {YXmlElement<KV>}\n     */\n    const el = new YXmlElement(this.nodeName);\n    const attrs = this.getAttributes();\n    object.forEach(attrs, (value, key) => {\n      if (typeof value === 'string') {\n        el.setAttribute(key, value);\n      }\n    });\n    // @ts-ignore\n    el.insert(0, this.toArray().map(item => item instanceof AbstractType ? item.clone() : item));\n    return el\n  }\n\n  /**\n   * Returns the XML serialization of this YXmlElement.\n   * The attributes are ordered by attribute-name, so you can easily use this\n   * method to compare YXmlElements\n   *\n   * @return {string} The string representation of this type.\n   *\n   * @public\n   */\n  toString () {\n    const attrs = this.getAttributes();\n    const stringBuilder = [];\n    const keys = [];\n    for (const key in attrs) {\n      keys.push(key);\n    }\n    keys.sort();\n    const keysLen = keys.length;\n    for (let i = 0; i < keysLen; i++) {\n      const key = keys[i];\n      stringBuilder.push(key + '=\"' + attrs[key] + '\"');\n    }\n    const nodeName = this.nodeName.toLocaleLowerCase();\n    const attrsString = stringBuilder.length > 0 ? ' ' + stringBuilder.join(' ') : '';\n    return `<${nodeName}${attrsString}>${super.toString()}</${nodeName}>`\n  }\n\n  /**\n   * Removes an attribute from this YXmlElement.\n   *\n   * @param {string} attributeName The attribute name that is to be removed.\n   *\n   * @public\n   */\n  removeAttribute (attributeName) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapDelete(transaction, this, attributeName);\n      });\n    } else {\n      /** @type {Map<string,any>} */ (this._prelimAttrs).delete(attributeName);\n    }\n  }\n\n  /**\n   * Sets or updates an attribute.\n   *\n   * @template {keyof KV & string} KEY\n   *\n   * @param {KEY} attributeName The attribute name that is to be set.\n   * @param {KV[KEY]} attributeValue The attribute value that is to be set.\n   *\n   * @public\n   */\n  setAttribute (attributeName, attributeValue) {\n    if (this.doc !== null) {\n      transact(this.doc, transaction => {\n        typeMapSet(transaction, this, attributeName, attributeValue);\n      });\n    } else {\n      /** @type {Map<string, any>} */ (this._prelimAttrs).set(attributeName, attributeValue);\n    }\n  }\n\n  /**\n   * Returns an attribute value that belongs to the attribute name.\n   *\n   * @template {keyof KV & string} KEY\n   *\n   * @param {KEY} attributeName The attribute name that identifies the\n   *                               queried value.\n   * @return {KV[KEY]|undefined} The queried attribute value.\n   *\n   * @public\n   */\n  getAttribute (attributeName) {\n    return /** @type {any} */ (typeMapGet(this, attributeName))\n  }\n\n  /**\n   * Returns whether an attribute exists\n   *\n   * @param {string} attributeName The attribute name to check for existence.\n   * @return {boolean} whether the attribute exists.\n   *\n   * @public\n   */\n  hasAttribute (attributeName) {\n    return /** @type {any} */ (typeMapHas(this, attributeName))\n  }\n\n  /**\n   * Returns all attribute name/value pairs in a JSON Object.\n   *\n   * @param {Snapshot} [snapshot]\n   * @return {{ [Key in Extract<keyof KV,string>]?: KV[Key]}} A JSON Object that describes the attributes.\n   *\n   * @public\n   */\n  getAttributes (snapshot) {\n    return /** @type {any} */ (snapshot ? typeMapGetAllSnapshot(this, snapshot) : typeMapGetAll(this))\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlElement.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object<string, any>} [hooks={}] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type.\n   * @return {Node} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks = {}, binding) {\n    const dom = _document.createElement(this.nodeName);\n    const attrs = this.getAttributes();\n    for (const key in attrs) {\n      const value = attrs[key];\n      if (typeof value === 'string') {\n        dom.setAttribute(key, value);\n      }\n    }\n    typeListForEach(this, yxml => {\n      dom.appendChild(yxml.toDOM(_document, hooks, binding));\n    });\n    if (binding !== undefined) {\n      binding._createAssociation(dom, this);\n    }\n    return dom\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlElementRefID);\n    encoder.writeKey(this.nodeName);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlElement}\n *\n * @function\n */\nconst readYXmlElement = decoder => new YXmlElement(decoder.readKey());\n\n/**\n * @extends YEvent<YXmlElement|YXmlText|YXmlFragment>\n * An Event that describes changes on a YXml Element or Yxml Fragment\n */\nclass YXmlEvent extends YEvent {\n  /**\n   * @param {YXmlElement|YXmlText|YXmlFragment} target The target on which the event is created.\n   * @param {Set<string|null>} subs The set of changed attributes. `null` is included if the\n   *                   child list changed.\n   * @param {Transaction} transaction The transaction instance with which the\n   *                                  change was created.\n   */\n  constructor (target, subs, transaction) {\n    super(target, transaction);\n    /**\n     * Whether the children changed.\n     * @type {Boolean}\n     * @private\n     */\n    this.childListChanged = false;\n    /**\n     * Set of all changed attributes.\n     * @type {Set<string>}\n     */\n    this.attributesChanged = new Set();\n    subs.forEach((sub) => {\n      if (sub === null) {\n        this.childListChanged = true;\n      } else {\n        this.attributesChanged.add(sub);\n      }\n    });\n  }\n}\n\n/**\n * You can manage binding to a custom type with YXmlHook.\n *\n * @extends {YMap<any>}\n */\nclass YXmlHook extends YMap {\n  /**\n   * @param {string} hookName nodeName of the Dom Node.\n   */\n  constructor (hookName) {\n    super();\n    /**\n     * @type {string}\n     */\n    this.hookName = hookName;\n  }\n\n  /**\n   * Creates an Item with the same effect as this Item (without position effect)\n   */\n  _copy () {\n    return new YXmlHook(this.hookName)\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YXmlHook}\n   */\n  clone () {\n    const el = new YXmlHook(this.hookName);\n    this.forEach((value, key) => {\n      el.set(key, value);\n    });\n    return el\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlElement.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object.<string, any>} [hooks] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type\n   * @return {Element} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks = {}, binding) {\n    const hook = hooks[this.hookName];\n    let dom;\n    if (hook !== undefined) {\n      dom = hook.createDom(this);\n    } else {\n      dom = document.createElement(this.hookName);\n    }\n    dom.setAttribute('data-yjs-hook', this.hookName);\n    if (binding !== undefined) {\n      binding._createAssociation(dom, this);\n    }\n    return dom\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlHookRefID);\n    encoder.writeKey(this.hookName);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlHook}\n *\n * @private\n * @function\n */\nconst readYXmlHook = decoder =>\n  new YXmlHook(decoder.readKey());\n\n/**\n * Represents text in a Dom Element. In the future this type will also handle\n * simple formatting information like bold and italic.\n */\nclass YXmlText extends YText {\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get nextSibling () {\n    const n = this._item ? this._item.next : null;\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  /**\n   * @type {YXmlElement|YXmlText|null}\n   */\n  get prevSibling () {\n    const n = this._item ? this._item.prev : null;\n    return n ? /** @type {YXmlElement|YXmlText} */ (/** @type {ContentType} */ (n.content).type) : null\n  }\n\n  _copy () {\n    return new YXmlText()\n  }\n\n  /**\n   * Makes a copy of this data type that can be included somewhere else.\n   *\n   * Note that the content is only readable _after_ it has been included somewhere in the Ydoc.\n   *\n   * @return {YXmlText}\n   */\n  clone () {\n    const text = new YXmlText();\n    text.applyDelta(this.toDelta());\n    return text\n  }\n\n  /**\n   * Creates a Dom Element that mirrors this YXmlText.\n   *\n   * @param {Document} [_document=document] The document object (you must define\n   *                                        this when calling this method in\n   *                                        nodejs)\n   * @param {Object<string, any>} [hooks] Optional property to customize how hooks\n   *                                             are presented in the DOM\n   * @param {any} [binding] You should not set this property. This is\n   *                               used if DomBinding wants to create a\n   *                               association to the created DOM type.\n   * @return {Text} The {@link https://developer.mozilla.org/en-US/docs/Web/API/Element|Dom Element}\n   *\n   * @public\n   */\n  toDOM (_document = document, hooks, binding) {\n    const dom = _document.createTextNode(this.toString());\n    if (binding !== undefined) {\n      binding._createAssociation(dom, this);\n    }\n    return dom\n  }\n\n  toString () {\n    // @ts-ignore\n    return this.toDelta().map(delta => {\n      const nestedNodes = [];\n      for (const nodeName in delta.attributes) {\n        const attrs = [];\n        for (const key in delta.attributes[nodeName]) {\n          attrs.push({ key, value: delta.attributes[nodeName][key] });\n        }\n        // sort attributes to get a unique order\n        attrs.sort((a, b) => a.key < b.key ? -1 : 1);\n        nestedNodes.push({ nodeName, attrs });\n      }\n      // sort node order to get a unique order\n      nestedNodes.sort((a, b) => a.nodeName < b.nodeName ? -1 : 1);\n      // now convert to dom string\n      let str = '';\n      for (let i = 0; i < nestedNodes.length; i++) {\n        const node = nestedNodes[i];\n        str += `<${node.nodeName}`;\n        for (let j = 0; j < node.attrs.length; j++) {\n          const attr = node.attrs[j];\n          str += ` ${attr.key}=\"${attr.value}\"`;\n        }\n        str += '>';\n      }\n      str += delta.insert;\n      for (let i = nestedNodes.length - 1; i >= 0; i--) {\n        str += `</${nestedNodes[i].nodeName}>`;\n      }\n      return str\n    }).join('')\n  }\n\n  /**\n   * @return {string}\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   */\n  _write (encoder) {\n    encoder.writeTypeRef(YXmlTextRefID);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {YXmlText}\n *\n * @private\n * @function\n */\nconst readYXmlText = decoder => new YXmlText();\n\nclass AbstractStruct {\n  /**\n   * @param {ID} id\n   * @param {number} length\n   */\n  constructor (id, length) {\n    this.id = id;\n    this.length = length;\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get deleted () {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * Merge this struct with the item to the right.\n   * This method is already assuming that `this.id.clock + this.length === this.id.clock`.\n   * Also this method does *not* remove right from StructStore!\n   * @param {AbstractStruct} right\n   * @return {boolean} whether this merged with right\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   * @param {number} offset\n   * @param {number} encodingRef\n   */\n  write (encoder, offset, encodingRef) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    throw error.methodUnimplemented()\n  }\n}\n\nconst structGCRefNumber = 0;\n\n/**\n * @private\n */\nclass GC extends AbstractStruct {\n  get deleted () {\n    return true\n  }\n\n  delete () {}\n\n  /**\n   * @param {GC} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    if (this.constructor !== right.constructor) {\n      return false\n    }\n    this.length += right.length;\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    if (offset > 0) {\n      this.id.clock += offset;\n      this.length -= offset;\n    }\n    addStruct(transaction.doc.store, this);\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeInfo(structGCRefNumber);\n    encoder.writeLen(this.length - offset);\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {StructStore} store\n   * @return {null | number}\n   */\n  getMissing (transaction, store) {\n    return null\n  }\n}\n\nclass ContentBinary {\n  /**\n   * @param {Uint8Array} content\n   */\n  constructor (content) {\n    this.content = content;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.content]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentBinary}\n   */\n  copy () {\n    return new ContentBinary(this.content)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentBinary}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentBinary} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeBuf(this.content);\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 3\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2 } decoder\n * @return {ContentBinary}\n */\nconst readContentBinary = decoder => new ContentBinary(decoder.readBuf());\n\nclass ContentDeleted {\n  /**\n   * @param {number} len\n   */\n  constructor (len) {\n    this.len = len;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.len\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return []\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return false\n  }\n\n  /**\n   * @return {ContentDeleted}\n   */\n  copy () {\n    return new ContentDeleted(this.len)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentDeleted}\n   */\n  splice (offset) {\n    const right = new ContentDeleted(this.len - offset);\n    this.len = offset;\n    return right\n  }\n\n  /**\n   * @param {ContentDeleted} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.len += right.len;\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    addToDeleteSet(transaction.deleteSet, item.id.client, item.id.clock, this.len);\n    item.markDeleted();\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeLen(this.len - offset);\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 1\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2 } decoder\n * @return {ContentDeleted}\n */\nconst readContentDeleted = decoder => new ContentDeleted(decoder.readLen());\n\n/**\n * @param {string} guid\n * @param {Object<string, any>} opts\n */\nconst createDocFromOpts = (guid, opts) => new Doc({ guid, ...opts, shouldLoad: opts.shouldLoad || opts.autoLoad || false });\n\n/**\n * @private\n */\nclass ContentDoc {\n  /**\n   * @param {Doc} doc\n   */\n  constructor (doc) {\n    if (doc._item) {\n      console.error('This document was already integrated as a sub-document. You should create a second instance instead with the same guid.');\n    }\n    /**\n     * @type {Doc}\n     */\n    this.doc = doc;\n    /**\n     * @type {any}\n     */\n    const opts = {};\n    this.opts = opts;\n    if (!doc.gc) {\n      opts.gc = false;\n    }\n    if (doc.autoLoad) {\n      opts.autoLoad = true;\n    }\n    if (doc.meta !== null) {\n      opts.meta = doc.meta;\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.doc]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentDoc}\n   */\n  copy () {\n    return new ContentDoc(createDocFromOpts(this.doc.guid, this.opts))\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentDoc}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentDoc} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    // this needs to be reflected in doc.destroy as well\n    this.doc._item = item;\n    transaction.subdocsAdded.add(this.doc);\n    if (this.doc.shouldLoad) {\n      transaction.subdocsLoaded.add(this.doc);\n    }\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    if (transaction.subdocsAdded.has(this.doc)) {\n      transaction.subdocsAdded.delete(this.doc);\n    } else {\n      transaction.subdocsRemoved.add(this.doc);\n    }\n  }\n\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) { }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeString(this.doc.guid);\n    encoder.writeAny(this.opts);\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 9\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentDoc}\n */\nconst readContentDoc = decoder => new ContentDoc(createDocFromOpts(decoder.readString(), decoder.readAny()));\n\n/**\n * @private\n */\nclass ContentEmbed {\n  /**\n   * @param {Object} embed\n   */\n  constructor (embed) {\n    this.embed = embed;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.embed]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentEmbed}\n   */\n  copy () {\n    return new ContentEmbed(this.embed)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentEmbed}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentEmbed} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeJSON(this.embed);\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 5\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentEmbed}\n */\nconst readContentEmbed = decoder => new ContentEmbed(decoder.readJSON());\n\n/**\n * @private\n */\nclass ContentFormat {\n  /**\n   * @param {string} key\n   * @param {Object} value\n   */\n  constructor (key, value) {\n    this.key = key;\n    this.value = value;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return []\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return false\n  }\n\n  /**\n   * @return {ContentFormat}\n   */\n  copy () {\n    return new ContentFormat(this.key, this.value)\n  }\n\n  /**\n   * @param {number} _offset\n   * @return {ContentFormat}\n   */\n  splice (_offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentFormat} _right\n   * @return {boolean}\n   */\n  mergeWith (_right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} _transaction\n   * @param {Item} item\n   */\n  integrate (_transaction, item) {\n    // @todo searchmarker are currently unsupported for rich text documents\n    const p = /** @type {YText} */ (item.parent);\n    p._searchMarker = null;\n    p._hasFormatting = true;\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeKey(this.key);\n    encoder.writeJSON(this.value);\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 6\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentFormat}\n */\nconst readContentFormat = decoder => new ContentFormat(decoder.readKey(), decoder.readJSON());\n\n/**\n * @private\n */\nclass ContentJSON {\n  /**\n   * @param {Array<any>} arr\n   */\n  constructor (arr) {\n    /**\n     * @type {Array<any>}\n     */\n    this.arr = arr;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.arr.length\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return this.arr\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentJSON}\n   */\n  copy () {\n    return new ContentJSON(this.arr)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentJSON}\n   */\n  splice (offset) {\n    const right = new ContentJSON(this.arr.slice(offset));\n    this.arr = this.arr.slice(0, offset);\n    return right\n  }\n\n  /**\n   * @param {ContentJSON} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.arr = this.arr.concat(right.arr);\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    const len = this.arr.length;\n    encoder.writeLen(len - offset);\n    for (let i = offset; i < len; i++) {\n      const c = this.arr[i];\n      encoder.writeString(c === undefined ? 'undefined' : JSON.stringify(c));\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 2\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentJSON}\n */\nconst readContentJSON = decoder => {\n  const len = decoder.readLen();\n  const cs = [];\n  for (let i = 0; i < len; i++) {\n    const c = decoder.readString();\n    if (c === 'undefined') {\n      cs.push(undefined);\n    } else {\n      cs.push(JSON.parse(c));\n    }\n  }\n  return new ContentJSON(cs)\n};\n\nconst isDevMode = env.getVariable('node_env') === 'development';\n\nclass ContentAny {\n  /**\n   * @param {Array<any>} arr\n   */\n  constructor (arr) {\n    /**\n     * @type {Array<any>}\n     */\n    this.arr = arr;\n    isDevMode && object.deepFreeze(arr);\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.arr.length\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return this.arr\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentAny}\n   */\n  copy () {\n    return new ContentAny(this.arr)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentAny}\n   */\n  splice (offset) {\n    const right = new ContentAny(this.arr.slice(offset));\n    this.arr = this.arr.slice(0, offset);\n    return right\n  }\n\n  /**\n   * @param {ContentAny} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.arr = this.arr.concat(right.arr);\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    const len = this.arr.length;\n    encoder.writeLen(len - offset);\n    for (let i = offset; i < len; i++) {\n      const c = this.arr[i];\n      encoder.writeAny(c);\n    }\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 8\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentAny}\n */\nconst readContentAny = decoder => {\n  const len = decoder.readLen();\n  const cs = [];\n  for (let i = 0; i < len; i++) {\n    cs.push(decoder.readAny());\n  }\n  return new ContentAny(cs)\n};\n\n/**\n * @private\n */\nclass ContentString {\n  /**\n   * @param {string} str\n   */\n  constructor (str) {\n    /**\n     * @type {string}\n     */\n    this.str = str;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return this.str.length\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return this.str.split('')\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentString}\n   */\n  copy () {\n    return new ContentString(this.str)\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentString}\n   */\n  splice (offset) {\n    const right = new ContentString(this.str.slice(offset));\n    this.str = this.str.slice(0, offset);\n\n    // Prevent encoding invalid documents because of splitting of surrogate pairs: https://github.com/yjs/yjs/issues/248\n    const firstCharCode = this.str.charCodeAt(offset - 1);\n    if (firstCharCode >= 0xD800 && firstCharCode <= 0xDBFF) {\n      // Last character of the left split is the start of a surrogate utf16/ucs2 pair.\n      // We don't support splitting of surrogate pairs because this may lead to invalid documents.\n      // Replace the invalid character with a unicode replacement character (� / U+FFFD)\n      this.str = this.str.slice(0, offset - 1) + '�';\n      // replace right as well\n      right.str = '�' + right.str.slice(1);\n    }\n    return right\n  }\n\n  /**\n   * @param {ContentString} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    this.str += right.str;\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {}\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {}\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {}\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeString(offset === 0 ? this.str : this.str.slice(offset));\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 4\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentString}\n */\nconst readContentString = decoder => new ContentString(decoder.readString());\n\n/**\n * @type {Array<function(UpdateDecoderV1 | UpdateDecoderV2):AbstractType<any>>}\n * @private\n */\nconst typeRefs = [\n  readYArray,\n  readYMap,\n  readYText,\n  readYXmlElement,\n  readYXmlFragment,\n  readYXmlHook,\n  readYXmlText\n];\n\nconst YArrayRefID = 0;\nconst YMapRefID = 1;\nconst YTextRefID = 2;\nconst YXmlElementRefID = 3;\nconst YXmlFragmentRefID = 4;\nconst YXmlHookRefID = 5;\nconst YXmlTextRefID = 6;\n\n/**\n * @private\n */\nclass ContentType {\n  /**\n   * @param {AbstractType<any>} type\n   */\n  constructor (type) {\n    /**\n     * @type {AbstractType<any>}\n     */\n    this.type = type;\n  }\n\n  /**\n   * @return {number}\n   */\n  getLength () {\n    return 1\n  }\n\n  /**\n   * @return {Array<any>}\n   */\n  getContent () {\n    return [this.type]\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isCountable () {\n    return true\n  }\n\n  /**\n   * @return {ContentType}\n   */\n  copy () {\n    return new ContentType(this.type._copy())\n  }\n\n  /**\n   * @param {number} offset\n   * @return {ContentType}\n   */\n  splice (offset) {\n    throw error.methodUnimplemented()\n  }\n\n  /**\n   * @param {ContentType} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    return false\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {Item} item\n   */\n  integrate (transaction, item) {\n    this.type._integrate(transaction.doc, item);\n  }\n\n  /**\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    let item = this.type._start;\n    while (item !== null) {\n      if (!item.deleted) {\n        item.delete(transaction);\n      } else if (item.id.clock < (transaction.beforeState.get(item.id.client) || 0)) {\n        // This will be gc'd later and we want to merge it if possible\n        // We try to merge all deleted items after each transaction,\n        // but we have no knowledge about that this needs to be merged\n        // since it is not in transaction.ds. Hence we add it to transaction._mergeStructs\n        transaction._mergeStructs.push(item);\n      }\n      item = item.right;\n    }\n    this.type._map.forEach(item => {\n      if (!item.deleted) {\n        item.delete(transaction);\n      } else if (item.id.clock < (transaction.beforeState.get(item.id.client) || 0)) {\n        // same as above\n        transaction._mergeStructs.push(item);\n      }\n    });\n    transaction.changed.delete(this.type);\n  }\n\n  /**\n   * @param {StructStore} store\n   */\n  gc (store) {\n    let item = this.type._start;\n    while (item !== null) {\n      item.gc(store, true);\n      item = item.right;\n    }\n    this.type._start = null;\n    this.type._map.forEach(/** @param {Item | null} item */ (item) => {\n      while (item !== null) {\n        item.gc(store, true);\n        item = item.left;\n      }\n    });\n    this.type._map = new Map();\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    this.type._write(encoder);\n  }\n\n  /**\n   * @return {number}\n   */\n  getRef () {\n    return 7\n  }\n}\n\n/**\n * @private\n *\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @return {ContentType}\n */\nconst readContentType = decoder => new ContentType(typeRefs[decoder.readTypeRef()](decoder));\n\n/**\n * @todo This should return several items\n *\n * @param {StructStore} store\n * @param {ID} id\n * @return {{item:Item, diff:number}}\n */\nconst followRedone = (store, id) => {\n  /**\n   * @type {ID|null}\n   */\n  let nextID = id;\n  let diff = 0;\n  let item;\n  do {\n    if (diff > 0) {\n      nextID = createID(nextID.client, nextID.clock + diff);\n    }\n    item = getItem(store, nextID);\n    diff = nextID.clock - item.id.clock;\n    nextID = item.redone;\n  } while (nextID !== null && item instanceof Item)\n  return {\n    item, diff\n  }\n};\n\n/**\n * Make sure that neither item nor any of its parents is ever deleted.\n *\n * This property does not persist when storing it into a database or when\n * sending it to other peers\n *\n * @param {Item|null} item\n * @param {boolean} keep\n */\nconst keepItem = (item, keep) => {\n  while (item !== null && item.keep !== keep) {\n    item.keep = keep;\n    item = /** @type {AbstractType<any>} */ (item.parent)._item;\n  }\n};\n\n/**\n * Split leftItem into two items\n * @param {Transaction} transaction\n * @param {Item} leftItem\n * @param {number} diff\n * @return {Item}\n *\n * @function\n * @private\n */\nconst splitItem = (transaction, leftItem, diff) => {\n  // create rightItem\n  const { client, clock } = leftItem.id;\n  const rightItem = new Item(\n    createID(client, clock + diff),\n    leftItem,\n    createID(client, clock + diff - 1),\n    leftItem.right,\n    leftItem.rightOrigin,\n    leftItem.parent,\n    leftItem.parentSub,\n    leftItem.content.splice(diff)\n  );\n  if (leftItem.deleted) {\n    rightItem.markDeleted();\n  }\n  if (leftItem.keep) {\n    rightItem.keep = true;\n  }\n  if (leftItem.redone !== null) {\n    rightItem.redone = createID(leftItem.redone.client, leftItem.redone.clock + diff);\n  }\n  // update left (do not set leftItem.rightOrigin as it will lead to problems when syncing)\n  leftItem.right = rightItem;\n  // update right\n  if (rightItem.right !== null) {\n    rightItem.right.left = rightItem;\n  }\n  // right is more specific.\n  transaction._mergeStructs.push(rightItem);\n  // update parent._map\n  if (rightItem.parentSub !== null && rightItem.right === null) {\n    /** @type {AbstractType<any>} */ (rightItem.parent)._map.set(rightItem.parentSub, rightItem);\n  }\n  leftItem.length = diff;\n  return rightItem\n};\n\n/**\n * @param {Array<StackItem>} stack\n * @param {ID} id\n */\nconst isDeletedByUndoStack = (stack, id) => array.some(stack, /** @param {StackItem} s */ s => isDeleted(s.deletions, id));\n\n/**\n * Redoes the effect of this operation.\n *\n * @param {Transaction} transaction The Yjs instance.\n * @param {Item} item\n * @param {Set<Item>} redoitems\n * @param {DeleteSet} itemsToDelete\n * @param {boolean} ignoreRemoteMapChanges\n * @param {import('../utils/UndoManager.js').UndoManager} um\n *\n * @return {Item|null}\n *\n * @private\n */\nconst redoItem = (transaction, item, redoitems, itemsToDelete, ignoreRemoteMapChanges, um) => {\n  const doc = transaction.doc;\n  const store = doc.store;\n  const ownClientID = doc.clientID;\n  const redone = item.redone;\n  if (redone !== null) {\n    return getItemCleanStart(transaction, redone)\n  }\n  let parentItem = /** @type {AbstractType<any>} */ (item.parent)._item;\n  /**\n   * @type {Item|null}\n   */\n  let left = null;\n  /**\n   * @type {Item|null}\n   */\n  let right;\n  // make sure that parent is redone\n  if (parentItem !== null && parentItem.deleted === true) {\n    // try to undo parent if it will be undone anyway\n    if (parentItem.redone === null && (!redoitems.has(parentItem) || redoItem(transaction, parentItem, redoitems, itemsToDelete, ignoreRemoteMapChanges, um) === null)) {\n      return null\n    }\n    while (parentItem.redone !== null) {\n      parentItem = getItemCleanStart(transaction, parentItem.redone);\n    }\n  }\n  const parentType = parentItem === null ? /** @type {AbstractType<any>} */ (item.parent) : /** @type {ContentType} */ (parentItem.content).type;\n\n  if (item.parentSub === null) {\n    // Is an array item. Insert at the old position\n    left = item.left;\n    right = item;\n    // find next cloned_redo items\n    while (left !== null) {\n      /**\n       * @type {Item|null}\n       */\n      let leftTrace = left;\n      // trace redone until parent matches\n      while (leftTrace !== null && /** @type {AbstractType<any>} */ (leftTrace.parent)._item !== parentItem) {\n        leftTrace = leftTrace.redone === null ? null : getItemCleanStart(transaction, leftTrace.redone);\n      }\n      if (leftTrace !== null && /** @type {AbstractType<any>} */ (leftTrace.parent)._item === parentItem) {\n        left = leftTrace;\n        break\n      }\n      left = left.left;\n    }\n    while (right !== null) {\n      /**\n       * @type {Item|null}\n       */\n      let rightTrace = right;\n      // trace redone until parent matches\n      while (rightTrace !== null && /** @type {AbstractType<any>} */ (rightTrace.parent)._item !== parentItem) {\n        rightTrace = rightTrace.redone === null ? null : getItemCleanStart(transaction, rightTrace.redone);\n      }\n      if (rightTrace !== null && /** @type {AbstractType<any>} */ (rightTrace.parent)._item === parentItem) {\n        right = rightTrace;\n        break\n      }\n      right = right.right;\n    }\n  } else {\n    right = null;\n    if (item.right && !ignoreRemoteMapChanges) {\n      left = item;\n      // Iterate right while right is in itemsToDelete\n      // If it is intended to delete right while item is redone, we can expect that item should replace right.\n      while (left !== null && left.right !== null && (left.right.redone || isDeleted(itemsToDelete, left.right.id) || isDeletedByUndoStack(um.undoStack, left.right.id) || isDeletedByUndoStack(um.redoStack, left.right.id))) {\n        left = left.right;\n        // follow redone\n        while (left.redone) left = getItemCleanStart(transaction, left.redone);\n      }\n      if (left && left.right !== null) {\n        // It is not possible to redo this item because it conflicts with a\n        // change from another client\n        return null\n      }\n    } else {\n      left = parentType._map.get(item.parentSub) || null;\n    }\n  }\n  const nextClock = getState(store, ownClientID);\n  const nextId = createID(ownClientID, nextClock);\n  const redoneItem = new Item(\n    nextId,\n    left, left && left.lastId,\n    right, right && right.id,\n    parentType,\n    item.parentSub,\n    item.content.copy()\n  );\n  item.redone = nextId;\n  keepItem(redoneItem, true);\n  redoneItem.integrate(transaction, 0);\n  return redoneItem\n};\n\n/**\n * Abstract class that represents any content.\n */\nclass Item extends AbstractStruct {\n  /**\n   * @param {ID} id\n   * @param {Item | null} left\n   * @param {ID | null} origin\n   * @param {Item | null} right\n   * @param {ID | null} rightOrigin\n   * @param {AbstractType<any>|ID|null} parent Is a type if integrated, is null if it is possible to copy parent from left or right, is ID before integration to search for it.\n   * @param {string | null} parentSub\n   * @param {AbstractContent} content\n   */\n  constructor (id, left, origin, right, rightOrigin, parent, parentSub, content) {\n    super(id, content.getLength());\n    /**\n     * The item that was originally to the left of this item.\n     * @type {ID | null}\n     */\n    this.origin = origin;\n    /**\n     * The item that is currently to the left of this item.\n     * @type {Item | null}\n     */\n    this.left = left;\n    /**\n     * The item that is currently to the right of this item.\n     * @type {Item | null}\n     */\n    this.right = right;\n    /**\n     * The item that was originally to the right of this item.\n     * @type {ID | null}\n     */\n    this.rightOrigin = rightOrigin;\n    /**\n     * @type {AbstractType<any>|ID|null}\n     */\n    this.parent = parent;\n    /**\n     * If the parent refers to this item with some kind of key (e.g. YMap, the\n     * key is specified here. The key is then used to refer to the list in which\n     * to insert this item. If `parentSub = null` type._start is the list in\n     * which to insert to. Otherwise it is `parent._map`.\n     * @type {String | null}\n     */\n    this.parentSub = parentSub;\n    /**\n     * If this type's effect is redone this type refers to the type that undid\n     * this operation.\n     * @type {ID | null}\n     */\n    this.redone = null;\n    /**\n     * @type {AbstractContent}\n     */\n    this.content = content;\n    /**\n     * bit1: keep\n     * bit2: countable\n     * bit3: deleted\n     * bit4: mark - mark node as fast-search-marker\n     * @type {number} byte\n     */\n    this.info = this.content.isCountable() ? binary.BIT2 : 0;\n  }\n\n  /**\n   * This is used to mark the item as an indexed fast-search marker\n   *\n   * @type {boolean}\n   */\n  set marker (isMarked) {\n    if (((this.info & binary.BIT4) > 0) !== isMarked) {\n      this.info ^= binary.BIT4;\n    }\n  }\n\n  get marker () {\n    return (this.info & binary.BIT4) > 0\n  }\n\n  /**\n   * If true, do not garbage collect this Item.\n   */\n  get keep () {\n    return (this.info & binary.BIT1) > 0\n  }\n\n  set keep (doKeep) {\n    if (this.keep !== doKeep) {\n      this.info ^= binary.BIT1;\n    }\n  }\n\n  get countable () {\n    return (this.info & binary.BIT2) > 0\n  }\n\n  /**\n   * Whether this item was deleted or not.\n   * @type {Boolean}\n   */\n  get deleted () {\n    return (this.info & binary.BIT3) > 0\n  }\n\n  set deleted (doDelete) {\n    if (this.deleted !== doDelete) {\n      this.info ^= binary.BIT3;\n    }\n  }\n\n  markDeleted () {\n    this.info |= binary.BIT3;\n  }\n\n  /**\n   * Return the creator clientID of the missing op or define missing items and return null.\n   *\n   * @param {Transaction} transaction\n   * @param {StructStore} store\n   * @return {null | number}\n   */\n  getMissing (transaction, store) {\n    if (this.origin && this.origin.client !== this.id.client && this.origin.clock >= getState(store, this.origin.client)) {\n      return this.origin.client\n    }\n    if (this.rightOrigin && this.rightOrigin.client !== this.id.client && this.rightOrigin.clock >= getState(store, this.rightOrigin.client)) {\n      return this.rightOrigin.client\n    }\n    if (this.parent && this.parent.constructor === ID && this.id.client !== this.parent.client && this.parent.clock >= getState(store, this.parent.client)) {\n      return this.parent.client\n    }\n\n    // We have all missing ids, now find the items\n\n    if (this.origin) {\n      this.left = getItemCleanEnd(transaction, store, this.origin);\n      this.origin = this.left.lastId;\n    }\n    if (this.rightOrigin) {\n      this.right = getItemCleanStart(transaction, this.rightOrigin);\n      this.rightOrigin = this.right.id;\n    }\n    if ((this.left && this.left.constructor === GC) || (this.right && this.right.constructor === GC)) {\n      this.parent = null;\n    } else if (!this.parent) {\n      // only set parent if this shouldn't be garbage collected\n      if (this.left && this.left.constructor === Item) {\n        this.parent = this.left.parent;\n        this.parentSub = this.left.parentSub;\n      } else if (this.right && this.right.constructor === Item) {\n        this.parent = this.right.parent;\n        this.parentSub = this.right.parentSub;\n      }\n    } else if (this.parent.constructor === ID) {\n      const parentItem = getItem(store, this.parent);\n      if (parentItem.constructor === GC) {\n        this.parent = null;\n      } else {\n        this.parent = /** @type {ContentType} */ (parentItem.content).type;\n      }\n    }\n    return null\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    if (offset > 0) {\n      this.id.clock += offset;\n      this.left = getItemCleanEnd(transaction, transaction.doc.store, createID(this.id.client, this.id.clock - 1));\n      this.origin = this.left.lastId;\n      this.content = this.content.splice(offset);\n      this.length -= offset;\n    }\n\n    if (this.parent) {\n      if ((!this.left && (!this.right || this.right.left !== null)) || (this.left && this.left.right !== this.right)) {\n        /**\n         * @type {Item|null}\n         */\n        let left = this.left;\n\n        /**\n         * @type {Item|null}\n         */\n        let o;\n        // set o to the first conflicting item\n        if (left !== null) {\n          o = left.right;\n        } else if (this.parentSub !== null) {\n          o = /** @type {AbstractType<any>} */ (this.parent)._map.get(this.parentSub) || null;\n          while (o !== null && o.left !== null) {\n            o = o.left;\n          }\n        } else {\n          o = /** @type {AbstractType<any>} */ (this.parent)._start;\n        }\n        // TODO: use something like DeleteSet here (a tree implementation would be best)\n        // @todo use global set definitions\n        /**\n         * @type {Set<Item>}\n         */\n        const conflictingItems = new Set();\n        /**\n         * @type {Set<Item>}\n         */\n        const itemsBeforeOrigin = new Set();\n        // Let c in conflictingItems, b in itemsBeforeOrigin\n        // ***{origin}bbbb{this}{c,b}{c,b}{o}***\n        // Note that conflictingItems is a subset of itemsBeforeOrigin\n        while (o !== null && o !== this.right) {\n          itemsBeforeOrigin.add(o);\n          conflictingItems.add(o);\n          if (compareIDs(this.origin, o.origin)) {\n            // case 1\n            if (o.id.client < this.id.client) {\n              left = o;\n              conflictingItems.clear();\n            } else if (compareIDs(this.rightOrigin, o.rightOrigin)) {\n              // this and o are conflicting and point to the same integration points. The id decides which item comes first.\n              // Since this is to the left of o, we can break here\n              break\n            } // else, o might be integrated before an item that this conflicts with. If so, we will find it in the next iterations\n          } else if (o.origin !== null && itemsBeforeOrigin.has(getItem(transaction.doc.store, o.origin))) { // use getItem instead of getItemCleanEnd because we don't want / need to split items.\n            // case 2\n            if (!conflictingItems.has(getItem(transaction.doc.store, o.origin))) {\n              left = o;\n              conflictingItems.clear();\n            }\n          } else {\n            break\n          }\n          o = o.right;\n        }\n        this.left = left;\n      }\n      // reconnect left/right + update parent map/start if necessary\n      if (this.left !== null) {\n        const right = this.left.right;\n        this.right = right;\n        this.left.right = this;\n      } else {\n        let r;\n        if (this.parentSub !== null) {\n          r = /** @type {AbstractType<any>} */ (this.parent)._map.get(this.parentSub) || null;\n          while (r !== null && r.left !== null) {\n            r = r.left;\n          }\n        } else {\n          r = /** @type {AbstractType<any>} */ (this.parent)._start\n          ;/** @type {AbstractType<any>} */ (this.parent)._start = this;\n        }\n        this.right = r;\n      }\n      if (this.right !== null) {\n        this.right.left = this;\n      } else if (this.parentSub !== null) {\n        // set as current parent value if right === null and this is parentSub\n        /** @type {AbstractType<any>} */ (this.parent)._map.set(this.parentSub, this);\n        if (this.left !== null) {\n          // this is the current attribute value of parent. delete right\n          this.left.delete(transaction);\n        }\n      }\n      // adjust length of parent\n      if (this.parentSub === null && this.countable && !this.deleted) {\n        /** @type {AbstractType<any>} */ (this.parent)._length += this.length;\n      }\n      addStruct(transaction.doc.store, this);\n      this.content.integrate(transaction, this);\n      // add parent to transaction.changed\n      addChangedTypeToTransaction(transaction, /** @type {AbstractType<any>} */ (this.parent), this.parentSub);\n      if ((/** @type {AbstractType<any>} */ (this.parent)._item !== null && /** @type {AbstractType<any>} */ (this.parent)._item.deleted) || (this.parentSub !== null && this.right !== null)) {\n        // delete if parent is deleted or if this is not the current attribute value of parent\n        this.delete(transaction);\n      }\n    } else {\n      // parent is not defined. Integrate GC struct instead\n      new GC(this.id, this.length).integrate(transaction, 0);\n    }\n  }\n\n  /**\n   * Returns the next non-deleted item\n   */\n  get next () {\n    let n = this.right;\n    while (n !== null && n.deleted) {\n      n = n.right;\n    }\n    return n\n  }\n\n  /**\n   * Returns the previous non-deleted item\n   */\n  get prev () {\n    let n = this.left;\n    while (n !== null && n.deleted) {\n      n = n.left;\n    }\n    return n\n  }\n\n  /**\n   * Computes the last content address of this Item.\n   */\n  get lastId () {\n    // allocating ids is pretty costly because of the amount of ids created, so we try to reuse whenever possible\n    return this.length === 1 ? this.id : createID(this.id.client, this.id.clock + this.length - 1)\n  }\n\n  /**\n   * Try to merge two items\n   *\n   * @param {Item} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    if (\n      this.constructor === right.constructor &&\n      compareIDs(right.origin, this.lastId) &&\n      this.right === right &&\n      compareIDs(this.rightOrigin, right.rightOrigin) &&\n      this.id.client === right.id.client &&\n      this.id.clock + this.length === right.id.clock &&\n      this.deleted === right.deleted &&\n      this.redone === null &&\n      right.redone === null &&\n      this.content.constructor === right.content.constructor &&\n      this.content.mergeWith(right.content)\n    ) {\n      const searchMarker = /** @type {AbstractType<any>} */ (this.parent)._searchMarker;\n      if (searchMarker) {\n        searchMarker.forEach(marker => {\n          if (marker.p === right) {\n            // right is going to be \"forgotten\" so we need to update the marker\n            marker.p = this;\n            // adjust marker index\n            if (!this.deleted && this.countable) {\n              marker.index -= this.length;\n            }\n          }\n        });\n      }\n      if (right.keep) {\n        this.keep = true;\n      }\n      this.right = right.right;\n      if (this.right !== null) {\n        this.right.left = this;\n      }\n      this.length += right.length;\n      return true\n    }\n    return false\n  }\n\n  /**\n   * Mark this Item as deleted.\n   *\n   * @param {Transaction} transaction\n   */\n  delete (transaction) {\n    if (!this.deleted) {\n      const parent = /** @type {AbstractType<any>} */ (this.parent);\n      // adjust the length of parent\n      if (this.countable && this.parentSub === null) {\n        parent._length -= this.length;\n      }\n      this.markDeleted();\n      addToDeleteSet(transaction.deleteSet, this.id.client, this.id.clock, this.length);\n      addChangedTypeToTransaction(transaction, parent, this.parentSub);\n      this.content.delete(transaction);\n    }\n  }\n\n  /**\n   * @param {StructStore} store\n   * @param {boolean} parentGCd\n   */\n  gc (store, parentGCd) {\n    if (!this.deleted) {\n      throw error.unexpectedCase()\n    }\n    this.content.gc(store);\n    if (parentGCd) {\n      replaceStruct(store, this, new GC(this.id, this.length));\n    } else {\n      this.content = new ContentDeleted(this.length);\n    }\n  }\n\n  /**\n   * Transform the properties of this type to binary and write it to an\n   * BinaryEncoder.\n   *\n   * This is called when this Item is sent to a remote peer.\n   *\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder The encoder to write data to.\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    const origin = offset > 0 ? createID(this.id.client, this.id.clock + offset - 1) : this.origin;\n    const rightOrigin = this.rightOrigin;\n    const parentSub = this.parentSub;\n    const info = (this.content.getRef() & binary.BITS5) |\n      (origin === null ? 0 : binary.BIT8) | // origin is defined\n      (rightOrigin === null ? 0 : binary.BIT7) | // right origin is defined\n      (parentSub === null ? 0 : binary.BIT6); // parentSub is non-null\n    encoder.writeInfo(info);\n    if (origin !== null) {\n      encoder.writeLeftID(origin);\n    }\n    if (rightOrigin !== null) {\n      encoder.writeRightID(rightOrigin);\n    }\n    if (origin === null && rightOrigin === null) {\n      const parent = /** @type {AbstractType<any>} */ (this.parent);\n      if (parent._item !== undefined) {\n        const parentItem = parent._item;\n        if (parentItem === null) {\n          // parent type on y._map\n          // find the correct key\n          const ykey = findRootTypeKey(parent);\n          encoder.writeParentInfo(true); // write parentYKey\n          encoder.writeString(ykey);\n        } else {\n          encoder.writeParentInfo(false); // write parent id\n          encoder.writeLeftID(parentItem.id);\n        }\n      } else if (parent.constructor === String) { // this edge case was added by differential updates\n        encoder.writeParentInfo(true); // write parentYKey\n        encoder.writeString(parent);\n      } else if (parent.constructor === ID) {\n        encoder.writeParentInfo(false); // write parent id\n        encoder.writeLeftID(parent);\n      } else {\n        error.unexpectedCase();\n      }\n      if (parentSub !== null) {\n        encoder.writeString(parentSub);\n      }\n    }\n    this.content.write(encoder, offset);\n  }\n}\n\n/**\n * @param {UpdateDecoderV1 | UpdateDecoderV2} decoder\n * @param {number} info\n */\nconst readItemContent = (decoder, info) => contentRefs[info & binary.BITS5](decoder);\n\n/**\n * A lookup map for reading Item content.\n *\n * @type {Array<function(UpdateDecoderV1 | UpdateDecoderV2):AbstractContent>}\n */\nconst contentRefs = [\n  () => { error.unexpectedCase(); }, // GC is not ItemContent\n  readContentDeleted, // 1\n  readContentJSON, // 2\n  readContentBinary, // 3\n  readContentString, // 4\n  readContentEmbed, // 5\n  readContentFormat, // 6\n  readContentType, // 7\n  readContentAny, // 8\n  readContentDoc, // 9\n  () => { error.unexpectedCase(); } // 10 - Skip is not ItemContent\n];\n\nconst structSkipRefNumber = 10;\n\n/**\n * @private\n */\nclass Skip extends AbstractStruct {\n  get deleted () {\n    return true\n  }\n\n  delete () {}\n\n  /**\n   * @param {Skip} right\n   * @return {boolean}\n   */\n  mergeWith (right) {\n    if (this.constructor !== right.constructor) {\n      return false\n    }\n    this.length += right.length;\n    return true\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {number} offset\n   */\n  integrate (transaction, offset) {\n    // skip structs cannot be integrated\n    error.unexpectedCase();\n  }\n\n  /**\n   * @param {UpdateEncoderV1 | UpdateEncoderV2} encoder\n   * @param {number} offset\n   */\n  write (encoder, offset) {\n    encoder.writeInfo(structSkipRefNumber);\n    // write as VarUint because Skips can't make use of predictable length-encoding\n    encoding.writeVarUint(encoder.restEncoder, this.length - offset);\n  }\n\n  /**\n   * @param {Transaction} transaction\n   * @param {StructStore} store\n   * @return {null | number}\n   */\n  getMissing (transaction, store) {\n    return null\n  }\n}\n\n/** eslint-env browser */\n\n\nconst glo = /** @type {any} */ (typeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof window !== 'undefined'\n    ? window\n    // @ts-ignore\n    : typeof global !== 'undefined' ? global : {});\n\nconst importIdentifier = '__ $YJS$ __';\n\nif (glo[importIdentifier] === true) {\n  /**\n   * Dear reader of this message. Please take this seriously.\n   *\n   * If you see this message, make sure that you only import one version of Yjs. In many cases,\n   * your package manager installs two versions of Yjs that are used by different packages within your project.\n   * Another reason for this message is that some parts of your project use the commonjs version of Yjs\n   * and others use the EcmaScript version of Yjs.\n   *\n   * This often leads to issues that are hard to debug. We often need to perform constructor checks,\n   * e.g. `struct instanceof GC`. If you imported different versions of Yjs, it is impossible for us to\n   * do the constructor checks anymore - which might break the CRDT algorithm.\n   *\n   * https://github.com/yjs/yjs/issues/438\n   */\n  console.error('Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438');\n}\nglo[importIdentifier] = true;\n\nexport { AbsolutePosition, AbstractConnector, AbstractStruct, AbstractType, YArray as Array, ContentAny, ContentBinary, ContentDeleted, ContentDoc, ContentEmbed, ContentFormat, ContentJSON, ContentString, ContentType, Doc, GC, ID, Item, YMap as Map, PermanentUserData, RelativePosition, Skip, Snapshot, YText as Text, Transaction, UndoManager, UpdateDecoderV1, UpdateDecoderV2, UpdateEncoderV1, UpdateEncoderV2, YXmlElement as XmlElement, YXmlFragment as XmlFragment, YXmlHook as XmlHook, YXmlText as XmlText, YArrayEvent, YEvent, YMapEvent, YTextEvent, YXmlEvent, applyUpdate, applyUpdateV2, cleanupYTextFormatting, compareIDs, compareRelativePositions, convertUpdateFormatV1ToV2, convertUpdateFormatV2ToV1, createAbsolutePositionFromRelativePosition, createDeleteSet, createDeleteSetFromStructStore, createDocFromSnapshot, createID, createRelativePositionFromJSON, createRelativePositionFromTypeIndex, createSnapshot, decodeRelativePosition, decodeSnapshot, decodeSnapshotV2, decodeStateVector, decodeUpdate, decodeUpdateV2, diffUpdate, diffUpdateV2, emptySnapshot, encodeRelativePosition, encodeSnapshot, encodeSnapshotV2, encodeStateAsUpdate, encodeStateAsUpdateV2, encodeStateVector, encodeStateVectorFromUpdate, encodeStateVectorFromUpdateV2, equalDeleteSets, equalSnapshots, findIndexSS, findRootTypeKey, getItem, getItemCleanEnd, getItemCleanStart, getState, getTypeChildren, isDeleted, isParentOf, iterateDeletedStructs, logType, logUpdate, logUpdateV2, mergeDeleteSets, mergeUpdates, mergeUpdatesV2, obfuscateUpdate, obfuscateUpdateV2, parseUpdateMeta, parseUpdateMetaV2, readUpdate, readUpdateV2, relativePositionToJSON, snapshot, snapshotContainsUpdate, transact, tryGc, typeListToArraySnapshot, typeMapGetAllSnapshot, typeMapGetSnapshot };\n//# sourceMappingURL=yjs.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"app\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","import \"./styles/main.css\";\nimport { App } from \"./directors/app/app\";\nimport { AppScreens } from \"./directors/app/app.types\";\nimport { RootDirector } from \"./directors/rootDirector/rootDirector\";\nRootDirector.initialize();\nconst app = new App({ parent: document.body });\napp.currentType = AppScreens.home;\n"],"names":[],"sourceRoot":""}